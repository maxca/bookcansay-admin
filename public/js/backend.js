(window["webpackJsonp"] = window["webpackJsonp"] || []).push([["/js/backend"],{

/***/ "./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js ***!
  \**************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
 * @license Copyright (c) 2003-2019, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */
!function(t){t.en=Object.assign(t.en||{},{a:"Cannot upload file:",b:"Bold",c:"Italic",d:"Insert image or file",e:"image widget",f:"Block quote",g:"Full size image",h:"Side image",i:"Left aligned image",j:"Centered image",k:"Right aligned image",l:"Choose heading",m:"Heading",n:"Insert image",o:"Numbered List",p:"Bulleted List",q:"Insert table",r:"Header column",s:"Insert column left",t:"Insert column right",u:"Delete column",v:"Column",w:"Header row",x:"Insert row below",y:"Insert row above",z:"Delete row",aa:"Row",ab:"Merge cell up",ac:"Merge cell right",ad:"Merge cell down",ae:"Merge cell left",af:"Split cell vertically",ag:"Split cell horizontally",ah:"Merge cells",ai:"Enter image caption",aj:"Upload failed",ak:"media widget",al:"Insert media",am:"The URL must not be empty.",an:"This media URL is not supported.",ao:"Link",ap:"Could not obtain resized image URL.",aq:"Selecting resized image failed",ar:"Could not insert image at the current position.",as:"Inserting image failed",at:"Upload in progress",au:"Unlink",av:"Edit link",aw:"Open link in new tab",ax:"This link has no URL",ay:"Save",az:"Cancel",ba:"Link URL",bb:"Paste the media URL in the input.",bc:"Tip: Paste the URL into the content to embed faster.",bd:"Media URL",be:"Rich Text Editor",bf:"Rich Text Editor, %0",bg:"Undo",bh:"Redo",bi:"Paragraph",bj:"Heading 1",bk:"Heading 2",bl:"Heading 3",bm:"Heading 4",bn:"Heading 5",bo:"Heading 6",bp:"Change image text alternative",bq:"Text alternative"})}(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(t,e){ true?module.exports=e():undefined}(window,function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=117)}([function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return r});const i="https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html";class o extends Error{constructor(t,e){t=r(t),e&&(t+=" "+JSON.stringify(e)),super(t),this.name="CKEditorError",this.data=e}static isCKEditorError(t){return t instanceof o}}function r(t){const e=t.match(/^([^:]+):/);return e?t+` Read more: ${i}#error-${e[1]}\n`:t}},function(t,e,n){"use strict";var i=n(0);const o={error(t,e){console.error(Object(i.a)(t),e)},warn(t,e){console.warn(Object(i.a)(t),e)}};e.a=o},function(t,e,n){var i={},o=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}(function(){return window&&document&&document.all&&!window.atob}),r=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var i=function(t,e){return e?e.querySelector(t):document.querySelector(t)}.call(this,t,n);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(t){i=null}e[t]=i}return e[t]}}(),s=null,a=0,c=[],l=n(45);function d(t,e){for(var n=0;n<t.length;n++){var o=t[n],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(g(o.parts[s],e))}else{var a=[];for(s=0;s<o.parts.length;s++)a.push(g(o.parts[s],e));i[o.id]={id:o.id,refs:1,parts:a}}}}function u(t,e){for(var n=[],i={},o=0;o<t.length;o++){var r=t[o],s=e.base?r[0]+e.base:r[0],a={css:r[1],media:r[2],sourceMap:r[3]};i[s]?i[s].parts.push(a):n.push(i[s]={id:s,parts:[a]})}return n}function h(t,e){var n=r(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=c[c.length-1];if("top"===t.insertAt)i?i.nextSibling?n.insertBefore(e,i.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),c.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=r(t.insertAt.before,n);n.insertBefore(e,o)}}function f(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=c.indexOf(t);e>=0&&c.splice(e,1)}function m(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var i=function(){0;return n.nc}();i&&(t.attrs.nonce=i)}return p(e,t.attrs),h(t,e),e}function p(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function g(t,e){var n,i,o,r;if(e.transform&&t.css){if(!(r="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=r}if(e.singleton){var c=a++;n=s||(s=m(e)),i=w.bind(null,n,c,!1),o=w.bind(null,n,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",p(e,t.attrs),h(t,e),e}(e),i=function(t,e,n){var i=n.css,o=n.sourceMap,r=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||r)&&(i=l(i));o&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([i],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,e),o=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=m(e),i=function(t,e){var n=e.css,i=e.media;i&&t.setAttribute("media",i);if(t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){f(n)});return i(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;i(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=o()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=u(t,e);return d(n,e),function(t){for(var o=[],r=0;r<n.length;r++){var s=n[r];(a=i[s.id]).refs--,o.push(a)}t&&d(u(t,e),e);for(r=0;r<o.length;r++){var a;if(0===(a=o[r]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function w(t,e,n,i){var o=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=b(e,o);else{var r=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(r,s[e]):t.appendChild(r)}}},,function(t,e,n){"use strict";var i=n(10),o="object"==typeof self&&self&&self.Object===Object&&self,r=i.a||o||Function("return this")();e.a=r},function(t,e,n){"use strict";(function(t){var i=n(10),o= true&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o&&i.a.process,a=function(){try{var t=r&&r.require&&r.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();e.a=a}).call(this,n(12)(t))},function(t,e,n){"use strict";(function(t){var i=n(4),o=n(18),r= true&&exports&&!exports.nodeType&&exports,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===r?i.a.Buffer:void 0,c=(a?a.isBuffer:void 0)||o.a;e.a=c}).call(this,n(12)(t))},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>'},function(t,e,n){"use strict";(function(t){var e=n(1),i=n(20);const o="object"==typeof window?window:t;o.CKEDITOR_VERSION?e.a.error("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated."):o.CKEDITOR_VERSION=i.a}).call(this,n(16))},function(t,e,n){"use strict";(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.a=n}).call(this,n(16))},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>'},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>'},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i=n(94);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e,n){"use strict";e.a=function(){return!1}},function(t,e,n){"use strict";(function(t){var i=n(4),o= true&&exports&&!exports.nodeType&&exports,r=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=r&&r.exports===o?i.a.Buffer:void 0,a=s?s.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var n=t.length,i=a?a(n):new t.constructor(n);return t.copy(i),i}}).call(this,n(12)(t))},function(t){t.exports={a:"12.1.0"}},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>'},function(t,e){t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18.68 2.53c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.08c0-.58-.01-.55.6-.55h17.38zM15.77 14.5v-10H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 6.677a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V6.676z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>'},function(t,e){t.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>'},function(t,e,n){var i=n(44);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none;cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,i=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var o,r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?t:(o=0===r.indexOf("//")?r:0===r.indexOf("/")?n+r:i+r.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(t,e,n){var i=n(47);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border:#47a4f5;--ck-color-focus-shadow:rgba(119,186,248,0.5);--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-upload-infinite-background:rgba(0,0,0,0.1);--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(t,e,n){var i=n(49);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(t,e,n){var i=n(51);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(t,e,n){var i=n(53);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(t,e,n){var i=n(55);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row wrap;align-items:center}.ck.ck-toolbar.ck-toolbar_vertical{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating{flex-wrap:nowrap}.ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar__newline{display:block;width:100%}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>*{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar>:last-child{margin-right:0}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar__separator{align-self:stretch;width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar__newline{margin:0}"},function(t,e,n){var i=n(57);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(t,e,n){var i=n(59);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(t,e,n){var i=n(61);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck-tooltip .ck-tooltip__text{display:inline-block}.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{border-style:solid;left:50%}.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s}'},function(t,e,n){var i=n(63);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button .ck-button__label,.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button .ck-button__label,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;border-color:transparent}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}.ck.ck-button.ck-button_with-text .ck-button__icon,a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(t,e,n){var i=n(65);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;font-style:italic;border-left:5px solid #ccc}"},function(t,e,n){var i=n(67);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck .ck-widget.ck-widget_with-selection-handler{position:relative}.ck .ck-widget.ck-widget_with-selection-handler .ck-widget__selection-handler{visibility:hidden;position:absolute}.ck .ck-widget.ck-widget_with-selection-handler .ck-widget__selection-handler .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handler.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_with-selection-handler:hover .ck-widget__selection-handler{visibility:visible}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck-editor__editable>.ck-widget.ck-widget_with-selection-handler:first-child,.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handler:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}.ck .ck-widget.ck-widget_with-selection-handler .ck-widget__selection-handler{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handler .ck-widget__selection-handler:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handler .ck-widget__selection-handler .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handler .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handler.ck-widget_selected .ck-widget__selection-handler,.ck .ck-widget.ck-widget_with-selection-handler.ck-widget_selected:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handler.ck-widget_selected .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handler.ck-widget_selected:hover .ck-widget__selection-handler .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handler:hover .ck-widget__selection-handler{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected .ck-widget__selection-handler:hover,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler,.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover .ck-widget__selection-handler:hover{background:var(--ck-color-widget-blurred-border)}.ck-editor__editable.ck-read-only .ck-widget{--ck-widget-outline-thickness:0}"},function(t,e,n){var i=n(69);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-labeled-input .ck-labeled-input__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-input .ck-labeled-input__status_error{color:var(--ck-color-base-error)}"},function(t,e,n){var i=n(71);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition-property:box-shadow,border;transition:.2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(t,e,n){var i=n(73);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-input{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-input{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}.ck.ck-text-alternative-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(75);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}'},function(t,e,n){var i=n(77);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .image{clear:both;text-align:center;margin:1em 0}.ck-content .image>img{display:block;margin:0 auto;max-width:100%}"},function(t,e,n){var i=n(79);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .image{position:relative;overflow:hidden}.ck-content .image .ck-progress-bar{position:absolute;top:0;left:0}:root{--ck-image-upload-progress-line-width:30px}.ck-content .image.ck-appear{animation:fadeIn .7s}.ck-content .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(t,e,n){var i=n(81);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(t,e,n){var i=n(83);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(t,e,n){var i=n(85);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block;will-change:transform}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{transform:translate3d(0,100%,0)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);width:var(--ck-dropdown-arrow-size);margin-left:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}"},function(t,e,n){var i=n(87);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;border:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(t,e,n){var i=n(89);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px}.ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto;transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:transform .3s ease}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(1.3846153847em)}"},function(t,e,n){var i=n(91);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-toolbar-dropdown .ck-toolbar{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(t,e,n){var i=n(93);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(t,e){t.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(t,e,n){var i=n(96);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .image>figcaption{color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(t,e,n){var i=n(98);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(t,e,n){var i=n(100);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(t,e,n){var i=n(102);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-link-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-input{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}.ck.ck-link-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(104);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(106);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder){pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJNMjEyLjk4MyAyNDguNDk1bC0zNi45NTIgMzYuOTUzdi44MTJhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwIDAtMi43NjQtMy45IDM3LjU3NSAzNy41NzUgMCAwIDAtLjk4OS0xLjQ0IDM1LjEyNyAzNS4xMjcgMCAwIDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM5LTUuMjM4di0xLjA0NXoiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c8,#b900b4,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(t,e,n){var i=n(108);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-input{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-input{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}.ck.ck-media-form>:not(:first-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-input{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-input .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-input .ck-labeled-input__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);margin-left:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}.ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(t,e,n){var i=n(110);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(t,e,n){var i=n(112);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-color-table-focused-cell-background:#f5fafe}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(t,e,n){var i=n(114);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=":root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px;--ck-insert-table-dropdown-box-border-color:#bfbfbf;--ck-insert-table-dropdown-box-border-active-color:#53a0e4;--ck-insert-table-dropdown-box-active-background:#c7e5ff}.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-insert-table-dropdown-box-border-color);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-insert-table-dropdown-box-border-active-color);background:var(--ck-insert-table-dropdown-box-active-background)}"},function(t,e,n){var i=n(116);"string"==typeof i&&(i=[[t.i,i,""]]);var o={singleton:!0,hmr:!0,transform:void 0,insertInto:void 0};n(2)(i,o);i.locals&&(t.exports=i.locals)},function(t,e){t.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border-color:#d9d9d9}.ck-content .table table th{font-weight:700;background:#fafafa}"},function(t,e,n){"use strict";n.r(e);var i=n(4),o=i.a.Symbol,r=Object.prototype,s=r.hasOwnProperty,a=r.toString,c=o?o.toStringTag:void 0;var l=function(t){var e=s.call(t,c),n=t[c];try{t[c]=void 0;var i=!0}catch(t){}var o=a.call(t);return i&&(e?t[c]=n:delete t[c]),o},d=Object.prototype.toString;var u=function(t){return d.call(t)},h="[object Null]",f="[object Undefined]",m=o?o.toStringTag:void 0;var p=function(t){return null==t?void 0===t?f:h:m&&m in Object(t)?l(t):u(t)};var g=function(t,e){return function(n){return t(e(n))}},b=g(Object.getPrototypeOf,Object);var w=function(t){return null!=t&&"object"==typeof t},_="[object Object]",k=Function.prototype,v=Object.prototype,y=k.toString,x=v.hasOwnProperty,A=y.call(Object);var C=function(t){if(!w(t)||p(t)!=_)return!1;var e=b(t);if(null===e)return!0;var n=x.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&y.call(n)==A};var T=function(){this.__data__=[],this.size=0};var P=function(t,e){return t===e||t!=t&&e!=e};var M=function(t,e){for(var n=t.length;n--;)if(P(t[n][0],e))return n;return-1},E=Array.prototype.splice;var S=function(t){var e=this.__data__,n=M(e,t);return!(n<0||(n==e.length-1?e.pop():E.call(e,n,1),--this.size,0))};var I=function(t){var e=this.__data__,n=M(e,t);return n<0?void 0:e[n][1]};var N=function(t){return M(this.__data__,t)>-1};var O=function(t,e){var n=this.__data__,i=M(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this};function R(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}R.prototype.clear=T,R.prototype.delete=S,R.prototype.get=I,R.prototype.has=N,R.prototype.set=O;var D=R;var L=function(){this.__data__=new D,this.size=0};var j=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n};var V=function(t){return this.__data__.get(t)};var B=function(t){return this.__data__.has(t)};var z=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},F="[object AsyncFunction]",U="[object Function]",H="[object GeneratorFunction]",q="[object Proxy]";var W=function(t){if(!z(t))return!1;var e=p(t);return e==U||e==H||e==F||e==q},Y=i.a["__core-js_shared__"],$=function(){var t=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var G=function(t){return!!$&&$ in t},Q=Function.prototype.toString;var J=function(t){if(null!=t){try{return Q.call(t)}catch(t){}try{return t+""}catch(t){}}return""},K=/^\[object .+?Constructor\]$/,Z=Function.prototype,X=Object.prototype,tt=Z.toString,et=X.hasOwnProperty,nt=RegExp("^"+tt.call(et).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var it=function(t){return!(!z(t)||G(t))&&(W(t)?nt:K).test(J(t))};var ot=function(t,e){return null==t?void 0:t[e]};var rt=function(t,e){var n=ot(t,e);return it(n)?n:void 0},st=rt(i.a,"Map"),at=rt(Object,"create");var ct=function(){this.__data__=at?at(null):{},this.size=0};var lt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},dt="__lodash_hash_undefined__",ut=Object.prototype.hasOwnProperty;var ht=function(t){var e=this.__data__;if(at){var n=e[t];return n===dt?void 0:n}return ut.call(e,t)?e[t]:void 0},ft=Object.prototype.hasOwnProperty;var mt=function(t){var e=this.__data__;return at?void 0!==e[t]:ft.call(e,t)},pt="__lodash_hash_undefined__";var gt=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=at&&void 0===e?pt:e,this};function bt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}bt.prototype.clear=ct,bt.prototype.delete=lt,bt.prototype.get=ht,bt.prototype.has=mt,bt.prototype.set=gt;var wt=bt;var _t=function(){this.size=0,this.__data__={hash:new wt,map:new(st||D),string:new wt}};var kt=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var vt=function(t,e){var n=t.__data__;return kt(e)?n["string"==typeof e?"string":"hash"]:n.map};var yt=function(t){var e=vt(this,t).delete(t);return this.size-=e?1:0,e};var xt=function(t){return vt(this,t).get(t)};var At=function(t){return vt(this,t).has(t)};var Ct=function(t,e){var n=vt(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this};function Tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Tt.prototype.clear=_t,Tt.prototype.delete=yt,Tt.prototype.get=xt,Tt.prototype.has=At,Tt.prototype.set=Ct;var Pt=Tt,Mt=200;var Et=function(t,e){var n=this.__data__;if(n instanceof D){var i=n.__data__;if(!st||i.length<Mt-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Pt(i)}return n.set(t,e),this.size=n.size,this};function St(t){var e=this.__data__=new D(t);this.size=e.size}St.prototype.clear=L,St.prototype.delete=j,St.prototype.get=V,St.prototype.has=B,St.prototype.set=Et;var It=St;var Nt=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t},Ot=function(){try{var t=rt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var Rt=function(t,e,n){"__proto__"==e&&Ot?Ot(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n},Dt=Object.prototype.hasOwnProperty;var Lt=function(t,e,n){var i=t[e];Dt.call(t,e)&&P(i,n)&&(void 0!==n||e in t)||Rt(t,e,n)};var jt=function(t,e,n,i){var o=!n;n||(n={});for(var r=-1,s=e.length;++r<s;){var a=e[r],c=i?i(n[a],t[a],a,n,t):void 0;void 0===c&&(c=t[a]),o?Rt(n,a,c):Lt(n,a,c)}return n};var Vt=function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i},Bt="[object Arguments]";var zt=function(t){return w(t)&&p(t)==Bt},Ft=Object.prototype,Ut=Ft.hasOwnProperty,Ht=Ft.propertyIsEnumerable,qt=zt(function(){return arguments}())?zt:function(t){return w(t)&&Ut.call(t,"callee")&&!Ht.call(t,"callee")},Wt=Array.isArray,Yt=n(6),$t=9007199254740991,Gt=/^(?:0|[1-9]\d*)$/;var Qt=function(t,e){var n=typeof t;return!!(e=null==e?$t:e)&&("number"==n||"symbol"!=n&&Gt.test(t))&&t>-1&&t%1==0&&t<e},Jt=9007199254740991;var Kt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Jt},Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt["[object Arguments]"]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt["[object Function]"]=Zt["[object Map]"]=Zt["[object Number]"]=Zt["[object Object]"]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var Xt=function(t){return w(t)&&Kt(t.length)&&!!Zt[p(t)]};var te=function(t){return function(e){return t(e)}},ee=n(5),ne=ee.a&&ee.a.isTypedArray,ie=ne?te(ne):Xt,oe=Object.prototype.hasOwnProperty;var re=function(t,e){var n=Wt(t),i=!n&&qt(t),o=!n&&!i&&Object(Yt.a)(t),r=!n&&!i&&!o&&ie(t),s=n||i||o||r,a=s?Vt(t.length,String):[],c=a.length;for(var l in t)!e&&!oe.call(t,l)||s&&("length"==l||o&&("offset"==l||"parent"==l)||r&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Qt(l,c))||a.push(l);return a},se=Object.prototype;var ae=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||se)},ce=g(Object.keys,Object),le=Object.prototype.hasOwnProperty;var de=function(t){if(!ae(t))return ce(t);var e=[];for(var n in Object(t))le.call(t,n)&&"constructor"!=n&&e.push(n);return e};var ue=function(t){return null!=t&&Kt(t.length)&&!W(t)};var he=function(t){return ue(t)?re(t):de(t)};var fe=function(t,e){return t&&jt(e,he(e),t)};var me=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e},pe=Object.prototype.hasOwnProperty;var ge=function(t){if(!z(t))return me(t);var e=ae(t),n=[];for(var i in t)("constructor"!=i||!e&&pe.call(t,i))&&n.push(i);return n};var be=function(t){return ue(t)?re(t,!0):ge(t)};var we=function(t,e){return t&&jt(e,be(e),t)},_e=n(19);var ke=function(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e};var ve=function(t,e){for(var n=-1,i=null==t?0:t.length,o=0,r=[];++n<i;){var s=t[n];e(s,n,t)&&(r[o++]=s)}return r};var ye=function(){return[]},xe=Object.prototype.propertyIsEnumerable,Ae=Object.getOwnPropertySymbols,Ce=Ae?function(t){return null==t?[]:(t=Object(t),ve(Ae(t),function(e){return xe.call(t,e)}))}:ye;var Te=function(t,e){return jt(t,Ce(t),e)};var Pe=function(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t},Me=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)Pe(e,Ce(t)),t=b(t);return e}:ye;var Ee=function(t,e){return jt(t,Me(t),e)};var Se=function(t,e,n){var i=e(t);return Wt(t)?i:Pe(i,n(t))};var Ie=function(t){return Se(t,he,Ce)};var Ne=function(t){return Se(t,be,Me)},Oe=rt(i.a,"DataView"),Re=rt(i.a,"Promise"),De=rt(i.a,"Set"),Le=rt(i.a,"WeakMap"),je=J(Oe),Ve=J(st),Be=J(Re),ze=J(De),Fe=J(Le),Ue=p;(Oe&&"[object DataView]"!=Ue(new Oe(new ArrayBuffer(1)))||st&&"[object Map]"!=Ue(new st)||Re&&"[object Promise]"!=Ue(Re.resolve())||De&&"[object Set]"!=Ue(new De)||Le&&"[object WeakMap]"!=Ue(new Le))&&(Ue=function(t){var e=p(t),n="[object Object]"==e?t.constructor:void 0,i=n?J(n):"";if(i)switch(i){case je:return"[object DataView]";case Ve:return"[object Map]";case Be:return"[object Promise]";case ze:return"[object Set]";case Fe:return"[object WeakMap]"}return e});var He=Ue,qe=Object.prototype.hasOwnProperty;var We=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&qe.call(t,"index")&&(n.index=t.index,n.input=t.input),n},Ye=i.a.Uint8Array;var $e=function(t){var e=new t.constructor(t.byteLength);return new Ye(e).set(new Ye(t)),e};var Ge=function(t,e){var n=e?$e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)},Qe=/\w*$/;var Je=function(t){var e=new t.constructor(t.source,Qe.exec(t));return e.lastIndex=t.lastIndex,e},Ke=o?o.prototype:void 0,Ze=Ke?Ke.valueOf:void 0;var Xe=function(t){return Ze?Object(Ze.call(t)):{}};var tn=function(t,e){var n=e?$e(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)},en="[object Boolean]",nn="[object Date]",on="[object Map]",rn="[object Number]",sn="[object RegExp]",an="[object Set]",cn="[object String]",ln="[object Symbol]",dn="[object ArrayBuffer]",un="[object DataView]",hn="[object Float32Array]",fn="[object Float64Array]",mn="[object Int8Array]",pn="[object Int16Array]",gn="[object Int32Array]",bn="[object Uint8Array]",wn="[object Uint8ClampedArray]",_n="[object Uint16Array]",kn="[object Uint32Array]";var vn=function(t,e,n){var i=t.constructor;switch(e){case dn:return $e(t);case en:case nn:return new i(+t);case un:return Ge(t,n);case hn:case fn:case mn:case pn:case gn:case bn:case wn:case _n:case kn:return tn(t,n);case on:return new i;case rn:case cn:return new i(t);case sn:return Je(t);case an:return new i;case ln:return Xe(t)}},yn=Object.create,xn=function(){function t(){}return function(e){if(!z(e))return{};if(yn)return yn(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();var An=function(t){return"function"!=typeof t.constructor||ae(t)?{}:xn(b(t))},Cn="[object Map]";var Tn=function(t){return w(t)&&He(t)==Cn},Pn=ee.a&&ee.a.isMap,Mn=Pn?te(Pn):Tn,En="[object Set]";var Sn=function(t){return w(t)&&He(t)==En},In=ee.a&&ee.a.isSet,Nn=In?te(In):Sn,On=1,Rn=2,Dn=4,Ln="[object Arguments]",jn="[object Function]",Vn="[object GeneratorFunction]",Bn="[object Object]",zn={};zn[Ln]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object DataView]"]=zn["[object Boolean]"]=zn["[object Date]"]=zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Map]"]=zn["[object Number]"]=zn[Bn]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object Symbol]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Error]"]=zn[jn]=zn["[object WeakMap]"]=!1;var Fn=function t(e,n,i,o,r,s){var a,c=n&On,l=n&Rn,d=n&Dn;if(i&&(a=r?i(e,o,r,s):i(e)),void 0!==a)return a;if(!z(e))return e;var u=Wt(e);if(u){if(a=We(e),!c)return ke(e,a)}else{var h=He(e),f=h==jn||h==Vn;if(Object(Yt.a)(e))return Object(_e.a)(e,c);if(h==Bn||h==Ln||f&&!r){if(a=l||f?{}:An(e),!c)return l?Ee(e,we(a,e)):Te(e,fe(a,e))}else{if(!zn[h])return r?e:{};a=vn(e,h,c)}}s||(s=new It);var m=s.get(e);if(m)return m;if(s.set(e,a),Nn(e))return e.forEach(function(o){a.add(t(o,n,i,o,e,s))}),a;if(Mn(e))return e.forEach(function(o,r){a.set(r,t(o,n,i,r,e,s))}),a;var p=d?l?Ne:Ie:l?keysIn:he,g=u?void 0:p(e);return Nt(g||e,function(o,r){g&&(o=e[r=o]),Lt(a,r,t(o,n,i,r,e,s))}),a},Un=1,Hn=4;var qn=function(t,e){return Fn(t,Un|Hn,e="function"==typeof e?e:void 0)};var Wn=function(t){return w(t)&&1===t.nodeType&&!C(t)};class Yn{constructor(t,e){this._config={},e&&this.define(e),t&&this._setObjectToTarget(this._config,t)}set(t,e){this._setToTarget(this._config,t,e)}define(t,e){this._setToTarget(this._config,t,e,!0)}get(t){return this._getFromSource(this._config,t)}_setToTarget(t,e,n,i=!1){if(C(e))return void this._setObjectToTarget(t,e,i);const o=e.split(".");e=o.pop();for(const e of o)C(t[e])||(t[e]={}),t=t[e];if(C(n))return C(t[e])||(t[e]={}),t=t[e],void this._setObjectToTarget(t,n,i);i&&void 0!==t[e]||(t[e]=n)}_getFromSource(t,e){const n=e.split(".");e=n.pop();for(const e of n){if(!C(t[e])){t=null;break}t=t[e]}return t?function(t){return qn(t,$n)}(t[e]):void 0}_setObjectToTarget(t,e,n){Object.keys(e).forEach(i=>{this._setToTarget(t,i,e[i],n)})}}function $n(t){return Wn(t)?t:void 0}var Gn=n(0);var Qn=function(){return function t(){t.called=!0}};class Jn{constructor(t,e){this.source=t,this.name=e,this.path=[],this.stop=Qn(),this.off=Qn()}}function Kn(){let t="e";for(let e=0;e<8;e++)t+=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t}var Zn={get(t){return"number"!=typeof t?this[t]||this.normal:t},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};n(9);const Xn=Symbol("listeningTo"),ti=Symbol("emitterId");var ei={on(t,e,n={}){this.listenTo(this,t,e,n)},once(t,e,n){let i=!1;this.listenTo(this,t,function(t,...n){i||(i=!0,t.off(),e.call(this,t,...n))},n)},off(t,e){this.stopListening(this,t,e)},listenTo(t,e,n,i={}){let o,r;this[Xn]||(this[Xn]={});const s=this[Xn];ii(t)||ni(t);const a=ii(t);(o=s[a])||(o=s[a]={emitter:t,callbacks:{}}),(r=o.callbacks[e])||(r=o.callbacks[e]=[]),r.push(n),function(t,e){const n=oi(t);if(n[e])return;let i=e,o=null;const r=[];for(;""!==i&&!n[i];)n[i]={callbacks:[],childEvents:[]},r.push(n[i]),o&&n[i].childEvents.push(o),o=i,i=i.substr(0,i.lastIndexOf(":"));if(""!==i){for(const t of r)t.callbacks=n[i].callbacks.slice();n[i].childEvents.push(o)}}(t,e);const c=ri(t,e),l=Zn.get(i.priority),d={callback:n,priority:l};for(const t of c){let e=!1;for(let n=0;n<t.length;n++)if(t[n].priority<l){t.splice(n,0,d),e=!0;break}e||t.push(d)}},stopListening(t,e,n){const i=this[Xn];let o=t&&ii(t);const r=i&&o&&i[o],s=r&&e&&r.callbacks[e];if(!(!i||t&&!r||e&&!s))if(n)ai(t,e,n);else if(s){for(;n=s.pop();)ai(t,e,n);delete r.callbacks[e]}else if(r){for(e in r.callbacks)this.stopListening(t,e);delete i[o]}else{for(o in i)this.stopListening(i[o].emitter);delete this[Xn]}},fire(t,...e){const n=t instanceof Jn?t:new Jn(this,t),i=n.name;let o=function t(e,n){let i;if(!e._events||!(i=e._events[n])||!i.callbacks.length)return n.indexOf(":")>-1?t(e,n.substr(0,n.lastIndexOf(":"))):null;return i.callbacks}(this,i);if(n.path.push(this),o){const t=[n,...e];o=Array.from(o);for(let e=0;e<o.length&&(o[e].callback.apply(this,t),n.off.called&&(delete n.off.called,ai(this,i,o[e].callback)),!n.stop.called);e++);}if(this._delegations){const t=this._delegations.get(i),o=this._delegations.get("*");t&&si(t,n,e),o&&si(o,n,e)}return n.return},delegate(...t){return{to:(e,n)=>{this._delegations||(this._delegations=new Map),t.forEach(t=>{const i=this._delegations.get(t);i?i.set(e,n):this._delegations.set(t,new Map([[e,n]]))})}}},stopDelegating(t,e){if(this._delegations)if(t)if(e){const n=this._delegations.get(t);n&&n.delete(e)}else this._delegations.delete(t);else this._delegations.clear()}};function ni(t,e){t[ti]||(t[ti]=e||Kn())}function ii(t){return t[ti]}function oi(t){return t._events||Object.defineProperty(t,"_events",{value:{}}),t._events}function ri(t,e){const n=oi(t)[e];if(!n)return[];let i=[n.callbacks];for(let e=0;e<n.childEvents.length;e++){const o=ri(t,n.childEvents[e]);i=i.concat(o)}return i}function si(t,e,n){for(let[i,o]of t){o?"function"==typeof o&&(o=o(e.name)):o=e.name;const t=new Jn(e.source,o);t.path=[...e.path],i.fire(t,...n)}}function ai(t,e,n){const i=ri(t,e);for(const t of i)for(let e=0;e<t.length;e++)t[e].callback==n&&(t.splice(e,1),e--)}function ci(t,...e){e.forEach(e=>{Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e)).forEach(n=>{if(n in t.prototype)return;const i=Object.getOwnPropertyDescriptor(e,n);i.enumerable=!1,Object.defineProperty(t.prototype,n,i)})})}function li(t,e){const n=Math.min(t.length,e.length);for(let i=0;i<n;i++)if(t[i]!=e[i])return i;return t.length==e.length?"same":t.length<e.length?"prefix":"extension"}var di=4;var ui=function(t){return Fn(t,di)};class hi{constructor(){this.parent=null}get index(){let t;if(!this.parent)return null;if(-1==(t=this.parent.getChildIndex(this)))throw new Gn.b("view-node-not-found-in-parent: The node's parent does not contain this node.");return t}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.parent instanceof hi?this.parent.document:null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.index),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=li(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}_remove(){this.parent._removeChildren(this.index)}_fireChange(t,e){this.fire("change:"+t,e),this.parent&&this.parent._fireChange(t,e)}toJSON(){const t=ui(this);return delete t.parent,t}is(t){return"node"==t}}ci(hi,ei);class fi extends hi{constructor(t){super(),this._textData=t}is(t){return"text"==t||super.is(t)}get data(){return this._textData}get _data(){return this.data}set _data(t){this._fireChange("text",this),this._textData=t}isSimilar(t){return t instanceof fi&&(this===t||this.data===t.data)}_clone(){return new fi(this.data)}}class mi{constructor(t,e,n){if(this.textNode=t,e<0||e>t.data.length)throw new Gn.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.data.length)throw new Gn.b("view-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this.textNode:this.parent;for(;null!==n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}}function pi(t){const e=new Map;for(const n in t)e.set(n,t[n]);return e}function gi(t){return!(!t||!t[Symbol.iterator])}class bi{constructor(...t){this._patterns=[],this.add(...t)}add(...t){for(let e of t)("string"==typeof e||e instanceof RegExp)&&(e={name:e}),e.classes&&("string"==typeof e.classes||e.classes instanceof RegExp)&&(e.classes=[e.classes]),this._patterns.push(e)}match(...t){for(const e of t)for(const t of this._patterns){const n=wi(e,t);if(n)return{element:e,pattern:t,match:n}}return null}matchAll(...t){const e=[];for(const n of t)for(const t of this._patterns){const i=wi(n,t);i&&e.push({element:n,pattern:t,match:i})}return e.length>0?e:null}getElementName(){if(1!==this._patterns.length)return null;const t=this._patterns[0],e=t.name;return"function"==typeof t||!e||e instanceof RegExp?null:e}}function wi(t,e){if("function"==typeof e)return e(t);const n={};return e.name&&(n.name=function(t,e){if(t instanceof RegExp)return t.test(e);return t===e}(e.name,t.name),!n.name)?null:e.attributes&&(n.attributes=function(t,e){const n=[];for(const i in t){const o=t[i];if(!e.hasAttribute(i))return null;{const t=e.getAttribute(i);if(!0===o)n.push(i);else if(o instanceof RegExp){if(!o.test(t))return null;n.push(i)}else{if(t!==o)return null;n.push(i)}}}return n}(e.attributes,t),!n.attributes)?null:!(e.classes&&(n.classes=function(t,e){const n=[];for(const i of t)if(i instanceof RegExp){const t=e.getClassNames();for(const e of t)i.test(e)&&n.push(e);if(0===n.length)return null}else{if(!e.hasClass(i))return null;n.push(i)}return n}(e.classes,t),!n.classes))&&(!(e.styles&&(n.styles=function(t,e){const n=[];for(const i in t){const o=t[i];if(!e.hasStyle(i))return null;{const t=e.getStyle(i);if(o instanceof RegExp){if(!o.test(t))return null;n.push(i)}else{if(t!==o)return null;n.push(i)}}}return n}(e.styles,t),!n.styles))&&n)}class _i extends hi{constructor(t,e,n){if(super(),this.name=t,this._attrs=function(t){t=C(t)?pi(t):new Map(t);for(const[e,n]of t)null===n?t.delete(e):"string"!=typeof n&&t.set(e,String(n));return t}(e),this._children=[],n&&this._insertChild(0,n),this._classes=new Set,this._attrs.has("class")){const t=this._attrs.get("class");vi(this._classes,t),this._attrs.delete("class")}this._styles=new Map,this._attrs.has("style")&&(ki(this._styles,this._attrs.get("style")),this._attrs.delete("style")),this._customProperties=new Map}get childCount(){return this._children.length}get isEmpty(){return 0===this._children.length}is(t,e=null){return e?"element"==t&&e==this.name:"element"==t||t==this.name||super.is(t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.size>0&&(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.size>0&&(yield["style",this.getAttribute("style")])}getAttribute(t){if("class"==t)return this._classes.size>0?[...this._classes].join(" "):void 0;if("style"!=t)return this._attrs.get(t);if(this._styles.size>0){let t="";for(const[e,n]of this._styles)t+=`${e}:${n};`;return t}}hasAttribute(t){return"class"==t?this._classes.size>0:"style"==t?this._styles.size>0:this._attrs.has(t)}isSimilar(t){if(!(t instanceof _i))return!1;if(this===t)return!0;if(this.name!=t.name)return!1;if(this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;for(const[e,n]of this._attrs)if(!t._attrs.has(e)||t._attrs.get(e)!==n)return!1;for(const e of this._classes)if(!t._classes.has(e))return!1;for(const[e,n]of this._styles)if(!t._styles.has(e)||t._styles.get(e)!==n)return!1;return!0}hasClass(...t){for(const e of t)if(!this._classes.has(e))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(t){return this._styles.get(t)}getStyleNames(){return this._styles.keys()}hasStyle(...t){for(const e of t)if(!this._styles.has(e))return!1;return!0}findAncestor(...t){const e=new bi(...t);let n=this.parent;for(;n;){if(e.match(n))return n;n=n.parent}return null}getCustomProperty(t){return this._customProperties.get(t)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const t=Array.from(this._classes).sort().join(","),e=Array.from(this._styles).map(t=>`${t[0]}:${t[1]}`).sort().join(";"),n=Array.from(this._attrs).map(t=>`${t[0]}="${t[1]}"`).sort().join(" ");return this.name+(""==t?"":` class="${t}"`)+(""==e?"":` style="${e}"`)+(""==n?"":` ${n}`)}_clone(t=!1){const e=[];if(t)for(const n of this.getChildren())e.push(n._clone(t));const n=new this.constructor(this.name,this._attrs,e);return n._classes=new Set(this._classes),n._styles=new Map(this._styles),n._customProperties=new Map(this._customProperties),n.getFillerOffset=this.getFillerOffset,n}_appendChild(t){return this._insertChild(this.childCount,t)}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t){if("string"==typeof t)return[new fi(t)];gi(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new fi(t):t instanceof mi?new fi(t.data):t)}(e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_setAttribute(t,e){e=String(e),this._fireChange("attributes",this),"class"==t?vi(this._classes,e):"style"==t?ki(this._styles,e):this._attrs.set(t,e)}_removeAttribute(t){return this._fireChange("attributes",this),"class"==t?this._classes.size>0&&(this._classes.clear(),!0):"style"==t?this._styles.size>0&&(this._styles.clear(),!0):this._attrs.delete(t)}_addClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.add(t))}_removeClass(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._classes.delete(t))}_setStyle(t,e){if(this._fireChange("attributes",this),C(t)){const e=Object.keys(t);for(const n of e)this._styles.set(n,t[n])}else this._styles.set(t,e)}_removeStyle(t){this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(t=>this._styles.delete(t))}_setCustomProperty(t,e){this._customProperties.set(t,e)}_removeCustomProperty(t){return this._customProperties.delete(t)}}function ki(t,e){let n=null,i=0,o=0,r=null;if(t.clear(),""!==e){";"!=e.charAt(e.length-1)&&(e+=";");for(let s=0;s<e.length;s++){const a=e.charAt(s);if(null===n)switch(a){case":":r||(r=e.substr(i,s-i),o=s+1);break;case'"':case"'":n=a;break;case";":{const n=e.substr(o,s-o);r&&t.set(r.trim(),n.trim()),r=null,i=s+1;break}}else a===n&&(n=null)}}}function vi(t,e){const n=e.split(/\s+/);t.clear(),n.forEach(e=>t.add(e))}class yi extends _i{constructor(t,e,n){super(t,e,n),this.getFillerOffset=xi}is(t,e=null){return e?"containerElement"==t&&e==this.name||super.is(t,e):"containerElement"==t||super.is(t)}}function xi(){const t=[...this.getChildren()],e=t[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const e of t)if(!e.is("uiElement"))return null;return this.childCount}var Ai=function(t){return t};var Ci=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)},Ti=Math.max;var Pi=function(t,e,n){return e=Ti(void 0===e?t.length-1:e,0),function(){for(var i=arguments,o=-1,r=Ti(i.length-e,0),s=Array(r);++o<r;)s[o]=i[e+o];o=-1;for(var a=Array(e+1);++o<e;)a[o]=i[o];return a[e]=n(s),Ci(t,this,a)}};var Mi=function(t){return function(){return t}},Ei=Ot?function(t,e){return Ot(t,"toString",{configurable:!0,enumerable:!1,value:Mi(e),writable:!0})}:Ai,Si=800,Ii=16,Ni=Date.now;var Oi=function(t){var e=0,n=0;return function(){var i=Ni(),o=Ii-(i-n);if(n=i,o>0){if(++e>=Si)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(Ei);var Ri=function(t,e){return Oi(Pi(t,e,Ai),t+"")};var Di=function(t,e,n){if(!z(n))return!1;var i=typeof e;return!!("number"==i?ue(n)&&Qt(e,n.length):"string"==i&&e in n)&&P(n[e],t)};var Li=function(t){return Ri(function(e,n){var i=-1,o=n.length,r=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(r=t.length>3&&"function"==typeof r?(o--,r):void 0,s&&Di(n[0],n[1],s)&&(r=o<3?void 0:r,o=1),e=Object(e);++i<o;){var a=n[i];a&&t(e,a,i,r)}return e})}(function(t,e){jt(e,be(e),t)});const ji=Symbol("observableProperties"),Vi=Symbol("boundObservables"),Bi=Symbol("boundProperties"),zi={set(t,e){if(z(t))return void Object.keys(t).forEach(e=>{this.set(e,t[e])},this);Ui(this);const n=this[ji];if(t in this&&!n.has(t))throw new Gn.b("observable-set-cannot-override: Cannot override an existing property.");Object.defineProperty(this,t,{enumerable:!0,configurable:!0,get:()=>n.get(t),set(e){const i=n.get(t);let o=this.fire("set:"+t,t,e,i);void 0===o&&(o=e),i===o&&n.has(t)||(n.set(t,o),this.fire("change:"+t,t,o,i))}}),this[t]=e},bind(...t){if(!t.length||!Wi(t))throw new Gn.b("observable-bind-wrong-properties: All properties must be strings.");if(new Set(t).size!==t.length)throw new Gn.b("observable-bind-duplicate-properties: Properties must be unique.");Ui(this);const e=this[Bi];t.forEach(t=>{if(e.has(t))throw new Gn.b("observable-bind-rebind: Cannot bind the same property more that once.")});const n=new Map;return t.forEach(t=>{const i={property:t,to:[]};e.set(t,i),n.set(t,i)}),{to:Hi,toMany:qi,_observable:this,_bindProperties:t,_to:[],_bindings:n}},unbind(...t){if(!(ji in this))return;const e=this[Bi],n=this[Vi];if(t.length){if(!Wi(t))throw new Gn.b("observable-unbind-wrong-properties: Properties must be strings.");t.forEach(t=>{const i=e.get(t);if(!i)return;let o,r,s,a;i.to.forEach(t=>{o=t[0],r=t[1],s=n.get(o),(a=s[r]).delete(i),a.size||delete s[r],Object.keys(s).length||(n.delete(o),this.stopListening(o,"change"))}),e.delete(t)})}else n.forEach((t,e)=>{this.stopListening(e,"change")}),n.clear(),e.clear()},decorate(t){const e=this[t];if(!e)throw new Gn.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",{object:this,methodName:t});this.on(t,(t,n)=>{t.return=e.apply(this,n)}),this[t]=function(...e){return this.fire(t,e)}}};Li(zi,ei);var Fi=zi;function Ui(t){ji in t||(Object.defineProperty(t,ji,{value:new Map}),Object.defineProperty(t,Vi,{value:new Map}),Object.defineProperty(t,Bi,{value:new Map}))}function Hi(...t){const e=function(...t){if(!t.length)throw new Gn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");const e={to:[]};let n;"function"==typeof t[t.length-1]&&(e.callback=t.pop());return t.forEach(t=>{if("string"==typeof t)n.properties.push(t);else{if("object"!=typeof t)throw new Gn.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.");n={observable:t,properties:[]},e.to.push(n)}}),e}(...t),n=Array.from(this._bindings.keys()),i=n.length;if(!e.callback&&e.to.length>1)throw new Gn.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.");if(i>1&&e.callback)throw new Gn.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.");e.to.forEach(t=>{if(t.properties.length&&t.properties.length!==i)throw new Gn.b("observable-bind-to-properties-length: The number of properties must match.");t.properties.length||(t.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(n[0]).callback=e.callback),function(t,e){e.forEach(e=>{const n=t[Vi];let i;n.get(e.observable)||t.listenTo(e.observable,"change",(o,r)=>{(i=n.get(e.observable)[r])&&i.forEach(e=>{Yi(t,e.property)})})})}(this._observable,this._to),function(t){let e;t._bindings.forEach((n,i)=>{t._to.forEach(o=>{e=o.properties[n.callback?0:t._bindProperties.indexOf(i)],n.to.push([o.observable,e]),function(t,e,n,i){const o=t[Vi],r=o.get(n),s=r||{};s[i]||(s[i]=new Set);s[i].add(e),r||o.set(n,s)}(t._observable,n,o.observable,e)})})}(this),this._bindProperties.forEach(t=>{Yi(this._observable,t)})}function qi(t,e,n){if(this._bindings.size>1)throw new Gn.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().");this.to(...function(t,e){const n=t.map(t=>[t,e]);return Array.prototype.concat.apply([],n)}(t,e),n)}function Wi(t){return t.every(t=>"string"==typeof t)}function Yi(t,e){const n=t[Bi].get(e);let i;i=n.callback?n.callback.apply(t,n.to.map(t=>t[0][t[1]])):(i=n.to[0])[0][i[1]],t.hasOwnProperty(e)?t[e]=i:t.set(e,i)}const $i=Symbol("document");class Gi extends yi{constructor(t,e,n){super(t,e,n),this.set("isReadOnly",!1),this.set("isFocused",!1)}is(t,e=null){return e?"editableElement"==t&&e==this.name||super.is(t,e):"editableElement"==t||super.is(t)}destroy(){this.stopListening()}get document(){return this.getCustomProperty($i)}set _document(t){if(this.getCustomProperty($i))throw new Gn.b("view-editableelement-document-already-set: View document is already set.");this._setCustomProperty($i,t),this.bind("isReadOnly").to(t),this.bind("isFocused").to(t,"isFocused",e=>e&&t.selection.editableElement==this),this.listenTo(t.selection,"change",()=>{this.isFocused=t.isFocused&&t.selection.editableElement==this})}}ci(Gi,Fi);const Qi=Symbol("rootName");class Ji extends Gi{constructor(t){super(t),this.rootName="main"}is(t,e=null){return e?"rootElement"==t&&e==this.name||super.is(t,e):"rootElement"==t||super.is(t)}get rootName(){return this.getCustomProperty(Qi)}set rootName(t){this._setCustomProperty(Qi,t)}set _name(t){this.name=t}}class Ki{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new Gn.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");if(t.direction&&"forward"!=t.direction&&"backward"!=t.direction)throw new Gn.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:t.direction});this.boundaries=t.boundaries||null,t.startPosition?this.position=Zi._createAt(t.startPosition):this.position=Zi._createAt(t.boundaries["backward"==t.direction?"end":"start"]),this.direction=t.direction||"forward",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}skip(t){let e,n,i;do{i=this.position,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&t.offset===n.childCount)return{done:!0};if(n===this._boundaryEndParent&&t.offset==this.boundaries.end.offset)return{done:!0};let i;if(n instanceof fi){if(t.isAtEnd)return this.position=Zi._createAfter(n),this._next();i=n.data[t.offset]}else i=n.getChild(t.offset);if(i instanceof _i)return this.shallow?t.offset++:t=new Zi(i,0),this.position=t,this._formatReturnValue("elementStart",i,e,t,1);if(i instanceof fi){if(this.singleCharacters)return t=new Zi(i,0),this.position=t,this._next();{let n,o=i.data.length;return i==this._boundaryEndParent?(o=this.boundaries.end.offset,n=new mi(i,0,o),t=Zi._createAfter(n)):(n=new mi(i,0,i.data.length),t.offset++),this.position=t,this._formatReturnValue("text",n,e,t,o)}}if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{i=(n===this._boundaryEndParent?this.boundaries.end.offset:n.data.length)-t.offset}const o=new mi(n,t.offset,i);return t.offset+=i,this.position=t,this._formatReturnValue("text",o,e,t,i)}return t=Zi._createAfter(n),this.position=t,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",n,e,t)}_previous(){let t=this.position.clone();const e=this.position,n=t.parent;if(null===n.parent&&0===t.offset)return{done:!0};if(n==this._boundaryStartParent&&t.offset==this.boundaries.start.offset)return{done:!0};let i;if(n instanceof fi){if(t.isAtStart)return this.position=Zi._createBefore(n),this._previous();i=n.data[t.offset-1]}else i=n.getChild(t.offset-1);if(i instanceof _i)return this.shallow?(t.offset--,this.position=t,this._formatReturnValue("elementStart",i,e,t,1)):(t=new Zi(i,i.childCount),this.position=t,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,e,t));if(i instanceof fi){if(this.singleCharacters)return t=new Zi(i,i.data.length),this.position=t,this._previous();{let n,o=i.data.length;if(i==this._boundaryStartParent){const e=this.boundaries.start.offset;o=(n=new mi(i,e,i.data.length-e)).data.length,t=Zi._createBefore(n)}else n=new mi(i,0,i.data.length),t.offset--;return this.position=t,this._formatReturnValue("text",n,e,t,o)}}if("string"==typeof i){let i;if(this.singleCharacters)i=1;else{const e=n===this._boundaryStartParent?this.boundaries.start.offset:0;i=t.offset-e}t.offset-=i;const o=new mi(n,t.offset,i);return this.position=t,this._formatReturnValue("text",o,e,t,i)}return t=Zi._createBefore(n),this.position=t,this._formatReturnValue("elementStart",n,e,t,1)}_formatReturnValue(t,e,n,i,o){return e instanceof mi&&(e.offsetInText+e.data.length==e.textNode.data.length&&("forward"!=this.direction||this.boundaries&&this.boundaries.end.isEqual(this.position)?n=Zi._createAfter(e.textNode):(i=Zi._createAfter(e.textNode),this.position=i)),0===e.offsetInText&&("backward"!=this.direction||this.boundaries&&this.boundaries.start.isEqual(this.position)?n=Zi._createBefore(e.textNode):(i=Zi._createBefore(e.textNode),this.position=i))),{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}}}}class Zi{constructor(t,e){this.parent=t,this.offset=e}get nodeAfter(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return 0===this.offset}get isAtEnd(){const t=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===t}get root(){return this.parent.root}get editableElement(){let t=this.parent;for(;!(t instanceof Gi);){if(!t.parent)return null;t=t.parent}return t}getShiftedBy(t){const e=Zi._createAt(this),n=e.offset+t;return e.offset=n<0?0:n,e}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new Ki(e);return n.skip(t),n.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}isEqual(t){return this.parent==t.parent&&this.offset==t.offset}isBefore(t){return"before"==this.compareWith(t)}isAfter(t){return"after"==this.compareWith(t)}compareWith(t){if(this.root!==t.root)return"different";if(this.isEqual(t))return"same";const e=this.parent.is("node")?this.parent.getPath():[],n=t.parent.is("node")?t.parent.getPath():[];e.push(this.offset),n.push(t.offset);const i=li(e,n);switch(i){case"prefix":return"before";case"extension":return"after";default:return e[i]<n[i]?"before":"after"}}getWalker(t={}){return t.startPosition=this,new Ki(t)}clone(){return new Zi(this.parent,this.offset)}static _createAt(t,e){if(t instanceof Zi)return new this(t.parent,t.offset);{const n=t;if("end"==e)e=n.is("text")?n.data.length:n.childCount;else{if("before"==e)return this._createBefore(n);if("after"==e)return this._createAfter(n);if(0!==e&&!e)throw new Gn.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.")}return new Zi(n,e)}}static _createAfter(t){if(t.is("textProxy"))return new Zi(t.textNode,t.offsetInText+t.data.length);if(!t.parent)throw new Gn.b("view-position-after-root: You can not make position after root.",{root:t});return new Zi(t.parent,t.index+1)}static _createBefore(t){if(t.is("textProxy"))return new Zi(t.textNode,t.offsetInText);if(!t.parent)throw new Gn.b("view-position-before-root: You can not make position before root.",{root:t});return new Zi(t.parent,t.index)}}class Xi{constructor(t,e=null){this.start=t.clone(),this.end=e?e.clone():t.clone()}*[Symbol.iterator](){yield*new Ki({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let t=this.start.getLastMatchingPosition(to,{direction:"backward"}),e=this.end.getLastMatchingPosition(to);return t.parent.is("text")&&t.isAtStart&&(t=Zi._createBefore(t.parent)),e.parent.is("text")&&e.isAtEnd&&(e=Zi._createAfter(e.parent)),new Xi(t,e)}getTrimmed(){let t=this.start.getLastMatchingPosition(to);if(t.isAfter(this.end)||t.isEqual(this.end))return new Xi(t,t);let e=this.end.getLastMatchingPosition(to,{direction:"backward"});const n=t.nodeAfter,i=e.nodeBefore;return n&&n.is("text")&&(t=new Zi(n,0)),i&&i.is("text")&&(e=new Zi(i,i.data.length)),new Xi(t,e)}isEqual(t){return this==t||this.start.isEqual(t.start)&&this.end.isEqual(t.end)}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Xi(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Xi(t.end,this.end))):e.push(this.clone()),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Xi(e,n)}return null}getWalker(t={}){return t.boundaries=this,new Ki(t)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}clone(){return new Xi(this.start,this.end)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new Ki(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new Ki(t);yield e.position;for(const t of e)yield t.nextPosition}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}static _createFromParentsAndOffsets(t,e,n,i){return new this(new Zi(t,e),new Zi(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return this._createFromParentsAndOffsets(t,0,t,t.childCount)}static _createOn(t){const e=t.is("textProxy")?t.offsetSize:1;return this._createFromPositionAndShift(Zi._createBefore(t),e)}}function to(t){return!(!t.item.is("attributeElement")&&!t.item.is("uiElement"))}function eo(t){let e=0;for(const n of t)e++;return e}class no{constructor(t=null,e,n){this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(t,e,n)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.end:t.start).clone()}get focus(){if(!this._ranges.length)return null;const t=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?t.start:t.end).clone()}get isCollapsed(){return 1===this.rangeCount&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const t of this._ranges)yield t.clone()}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?t.clone():null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?t.clone():null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}isEqual(t){if(this.isFake!=t.isFake)return!1;if(this.isFake&&this.fakeSelectionLabel!=t.fakeSelectionLabel)return!1;if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}isSimilar(t){if(this.isBackward!=t.isBackward)return!1;const e=eo(this.getRanges());if(e!=eo(t.getRanges()))return!1;if(0==e)return!0;for(let e of this.getRanges()){e=e.getTrimmed();let n=!1;for(let i of t.getRanges())if(i=i.getTrimmed(),e.start.isEqual(i.start)&&e.end.isEqual(i.end)){n=!0;break}if(!n)return!1}return!0}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange();let e=t.start.nodeAfter,n=t.end.nodeBefore;return t.start.parent.is("text")&&t.start.isAtEnd&&t.start.parent.nextSibling&&(e=t.start.parent.nextSibling),t.end.parent.is("text")&&t.end.isAtStart&&t.end.parent.previousSibling&&(n=t.end.parent.previousSibling),e instanceof _i&&e==n?e:null}setTo(t,e,n){if(null===t)this._setRanges([]),this._setFakeOptions(e);else if(t instanceof no||t instanceof io)this._setRanges(t.getRanges(),t.isBackward),this._setFakeOptions({fake:t.isFake,label:t.fakeSelectionLabel});else if(t instanceof Xi)this._setRanges([t],e&&e.backward),this._setFakeOptions(e);else if(t instanceof Zi)this._setRanges([new Xi(t)]),this._setFakeOptions(e);else if(t instanceof hi){const i=!!n&&!!n.backward;let o;if(void 0===e)throw new Gn.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");o="in"==e?Xi._createIn(t):"on"==e?Xi._createOn(t):new Xi(Zi._createAt(t,e)),this._setRanges([o],i),this._setFakeOptions(n)}else{if(!gi(t))throw new Gn.b("view-selection-setTo-not-selectable: Cannot set selection to given place.");this._setRanges(t,e&&e.backward),this._setFakeOptions(e)}this.fire("change")}setFocus(t,e){if(null===this.anchor)throw new Gn.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");const n=Zi._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.pop(),"before"==n.compareWith(i)?this._addRange(new Xi(n,i),!0):this._addRange(new Xi(i,n)),this.fire("change")}is(t){return"selection"==t}_setRanges(t,e=!1){t=Array.from(t),this._ranges=[];for(const e of t)this._addRange(e);this._lastRangeBackward=!!e}_setFakeOptions(t={}){this._isFake=!!t.fake,this._fakeSelectionLabel=t.fake&&t.label||""}_addRange(t,e=!1){if(!(t instanceof Xi))throw new Gn.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range");this._pushRange(t),this._lastRangeBackward=!!e}_pushRange(t){for(const e of this._ranges)if(t.isIntersecting(e))throw new Gn.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",{addedRange:t,intersectingRange:e});this._ranges.push(new Xi(t.start,t.end))}}ci(no,ei);class io{constructor(t=null,e,n){this._selection=new no,this._selection.delegate("change").to(this),this._selection.setTo(t,e,n)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(t){return this._selection.isEqual(t)}isSimilar(t){return this._selection.isSimilar(t)}is(t){return"selection"==t||"documentSelection"==t}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setFocus(t,e){this._selection.setFocus(t,e)}}ci(io,ei);class oo{constructor(t={}){this._items=[],this._itemMap=new Map,this._idProperty=t.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[]}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(t,e){let n;const i=this._idProperty;if(i in t){if("string"!=typeof(n=t[i]))throw new Gn.b("collection-add-invalid-id");if(this.get(n))throw new Gn.b("collection-add-item-already-exists")}else t[i]=n=Kn();if(void 0===e)e=this._items.length;else if(e>this._items.length||e<0)throw new Gn.b("collection-add-item-invalid-index");return this._items.splice(e,0,t),this._itemMap.set(n,t),this.fire("add",t,e),this}get(t){let e;if("string"==typeof t)e=this._itemMap.get(t);else{if("number"!=typeof t)throw new Gn.b("collection-get-invalid-arg: Index or id must be given.");e=this._items[t]}return e||null}has(t){if("string"==typeof t)return this._itemMap.has(t);{const e=t[this._idProperty];return this._itemMap.has(e)}}getIndex(t){let e;return e="string"==typeof t?this._itemMap.get(t):t,this._items.indexOf(e)}remove(t){let e,n,i,o=!1;const r=this._idProperty;if("string"==typeof t?(n=t,o=!(i=this._itemMap.get(n)),i&&(e=this._items.indexOf(i))):"number"==typeof t?(e=t,o=!(i=this._items[e]),i&&(n=i[r])):(n=(i=t)[r],o=-1==(e=this._items.indexOf(i))||!this._itemMap.get(n)),o)throw new Gn.b("collection-remove-404: Item not found.");this._items.splice(e,1),this._itemMap.delete(n);const s=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(s),this.fire("remove",i,e),i}map(t,e){return this._items.map(t,e)}find(t,e){return this._items.find(t,e)}filter(t,e){return this._items.filter(t,e)}clear(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}bindTo(t){if(this._bindToCollection)throw new Gn.b("collection-bind-to-rebind: The collection cannot be bound more than once.");return this._bindToCollection=t,{as:t=>{this._setUpBindToBinding(e=>new t(e))},using:t=>{"function"==typeof t?this._setUpBindToBinding(e=>t(e)):this._setUpBindToBinding(e=>e[t])}}}_setUpBindToBinding(t){const e=this._bindToCollection,n=(n,i,o)=>{const r=e._bindToCollection==this,s=e._bindToInternalToExternalMap.get(i);if(r&&s)this._bindToExternalToInternalMap.set(i,s),this._bindToInternalToExternalMap.set(s,i);else{const n=t(i);if(!n)return void this._skippedIndexesFromExternal.push(o);let r=o;for(const t of this._skippedIndexesFromExternal)o>t&&r--;for(const t of e._skippedIndexesFromExternal)r>=t&&r++;this._bindToExternalToInternalMap.set(i,n),this._bindToInternalToExternalMap.set(n,i),this.add(n,r);for(let t=0;t<e._skippedIndexesFromExternal.length;t++)r<=e._skippedIndexesFromExternal[t]&&e._skippedIndexesFromExternal[t]++}};for(const t of e)n(0,t,e.getIndex(t));this.listenTo(e,"add",n),this.listenTo(e,"remove",(t,e,n)=>{const i=this._bindToExternalToInternalMap.get(e);i&&this.remove(i),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((t,e)=>(n<e&&t.push(e-1),n>e&&t.push(e),t),[])})}[Symbol.iterator](){return this._items[Symbol.iterator]()}}ci(oo,ei);class ro{constructor(){this.selection=new io,this.roots=new oo({idProperty:"rootName"}),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}getRoot(t="main"){return this.roots.get(t)}registerPostFixer(t){this._postFixers.add(t)}destroy(){this.roots.map(t=>t.destroy()),this.stopListening()}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}ci(ro,Fi);const so=10;class ao extends _i{constructor(t,e,n){super(t,e,n),this.getFillerOffset=co,this._priority=so,this._id=null,this._clonesGroup=null}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(null===this.id)throw new Gn.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.");return new Set(this._clonesGroup)}is(t,e=null){return e?"attributeElement"==t&&e==this.name||super.is(t,e):"attributeElement"==t||super.is(t)}isSimilar(t){return null!==this.id||null!==t.id?this.id===t.id:super.isSimilar(t)&&this.priority==t.priority}_clone(t){const e=super._clone(t);return e._priority=this._priority,e._id=this._id,e}}function co(){if(lo(this))return null;let t=this.parent;for(;t&&t.is("attributeElement");){if(lo(t)>1)return null;t=t.parent}return!t||lo(t)>1?null:this.childCount}function lo(t){return Array.from(t.getChildren()).filter(t=>!t.is("uiElement")).length}ao.DEFAULT_PRIORITY=so;class uo extends _i{constructor(t,e,n){super(t,e,n),this.getFillerOffset=ho}is(t,e=null){return e?"emptyElement"==t&&e==this.name||super.is(t,e):"emptyElement"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof hi||Array.from(e).length>0))throw new Gn.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.")}}function ho(){return null}const fo=navigator.userAgent.toLowerCase();var mo={isMac:function(t){return t.indexOf("macintosh")>-1}(fo),isEdge:function(t){return!!t.match(/edge\/(\d+.?\d*)/)}(fo),isGecko:function(t){return!!t.match(/gecko\/\d+/)}(fo),isSafari:function(t){return t.indexOf(" applewebkit/")>-1&&-1===t.indexOf("chrome")}(fo)};const po={"⌘":"ctrl","⇧":"shift","⌥":"alt"},go={ctrl:"⌘",shift:"⇧",alt:"⌥"},bo=function(){const t={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448};for(let e=65;e<=90;e++){const n=String.fromCharCode(e);t[n.toLowerCase()]=e}for(let e=48;e<=57;e++)t[e-48]=e;for(let e=112;e<=123;e++)t["f"+(e-111)]=e;return t}();function wo(t){let e;if("string"==typeof t){if(!(e=bo[t.toLowerCase()]))throw new Gn.b("keyboard-unknown-key: Unknown key name.",{key:t})}else e=t.keyCode+(t.altKey?bo.alt:0)+(t.ctrlKey?bo.ctrl:0)+(t.shiftKey?bo.shift:0);return e}function _o(t){return"string"==typeof t&&(t=ko(t)),t.map(t=>"string"==typeof t?wo(t):t).reduce((t,e)=>e+t,0)}function ko(t){return t.split(/\s*\+\s*/)}class vo extends _i{constructor(t,e,n){super(t,e,n),this.getFillerOffset=xo}is(t,e=null){return e?"uiElement"==t&&e==this.name||super.is(t,e):"uiElement"==t||super.is(t)}_insertChild(t,e){if(e&&(e instanceof hi||Array.from(e).length>0))throw new Gn.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.")}render(t){return this.toDomElement(t)}toDomElement(t){const e=t.createElement(this.name);for(const t of this.getAttributeKeys())e.setAttribute(t,this.getAttribute(t));return e}}function yo(t){t.document.on("keydown",(e,n)=>(function(t,e,n){if(e.keyCode==bo.arrowright){const t=e.domTarget.ownerDocument.defaultView.getSelection(),i=1==t.rangeCount&&t.getRangeAt(0).collapsed;if(i||e.shiftKey){const e=t.focusNode,o=t.focusOffset,r=n.domPositionToView(e,o);if(null===r)return;let s=!1;const a=r.getLastMatchingPosition(t=>(t.item.is("uiElement")&&(s=!0),!(!t.item.is("uiElement")&&!t.item.is("attributeElement"))));if(s){const e=n.viewPositionToDom(a);i?t.collapse(e.parent,e.offset):t.extend(e.parent,e.offset)}}}})(0,n,t.domConverter))}function xo(){return null}class Ao{constructor(t){this._children=[],t&&this._insertChild(0,t)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t}_appendChild(t){return this._insertChild(this.childCount,t)}getChild(t){return this._children[t]}getChildIndex(t){return this._children.indexOf(t)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(t,e){this._fireChange("children",this);let n=0;const i=function(t){if("string"==typeof t)return[new fi(t)];gi(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new fi(t):t instanceof mi?new fi(t.data):t)}(e);for(const e of i)null!==e.parent&&e._remove(),e.parent=this,this._children.splice(t,0,e),t++,n++;return n}_removeChildren(t,e=1){this._fireChange("children",this);for(let n=t;n<t+e;n++)this._children[n].parent=null;return this._children.splice(t,e)}_fireChange(t,e){this.fire("change:"+t,e)}}ci(Ao,ei);class Co{constructor(t){this.document=t,this._cloneGroups=new Map}setSelection(t,e,n){this.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this.document.selection._setFocus(t,e)}createText(t){return new fi(t)}createAttributeElement(t,e,n={}){const i=new ao(t,e);return n.priority&&(i._priority=n.priority),n.id&&(i._id=n.id),i}createContainerElement(t,e){return new yi(t,e)}createEditableElement(t,e){const n=new Gi(t,e);return n._document=this.document,n}createEmptyElement(t,e){return new uo(t,e)}createUIElement(t,e,n){const i=new vo(t,e);return n&&(i.render=n),i}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){C(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}breakAttributes(t){return t instanceof Zi?this._breakAttributes(t):this._breakAttributesRange(t)}breakContainer(t){const e=t.parent;if(!e.is("containerElement"))throw new Gn.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.");if(!e.parent)throw new Gn.b("view-writer-break-root: Trying to break root element.");if(t.isAtStart)return Zi._createBefore(e);if(!t.isAtEnd){const n=e._clone(!1);this.insert(Zi._createAfter(e),n);const i=new Xi(t,Zi._createAt(e,"end")),o=new Zi(n,0);this.move(i,o)}return Zi._createAfter(e)}mergeAttributes(t){const e=t.offset,n=t.parent;if(n.is("text"))return t;if(n.is("attributeElement")&&0===n.childCount){const t=n.parent,e=n.index;return n._remove(),this._removeFromClonedElementsGroup(n),this.mergeAttributes(new Zi(t,e))}const i=n.getChild(e-1),o=n.getChild(e);if(!i||!o)return t;if(i.is("text")&&o.is("text"))return So(i,o);if(i.is("attributeElement")&&o.is("attributeElement")&&i.isSimilar(o)){const t=i.childCount;return i._appendChild(o.getChildren()),o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new Zi(i,t))}return t}mergeContainers(t){const e=t.nodeBefore,n=t.nodeAfter;if(!(e&&n&&e.is("containerElement")&&n.is("containerElement")))throw new Gn.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.");const i=e.getChild(e.childCount-1),o=i instanceof fi?Zi._createAt(i,"end"):Zi._createAt(e,"end");return this.move(Xi._createIn(n),Zi._createAt(e,"end")),this.remove(Xi._createOn(n)),o}insert(t,e){(function t(e){for(const n of e){if(!Io.some(t=>n instanceof t))throw new Gn.b("view-writer-insert-invalid-node");n.is("text")||t(n.getChildren())}})(e=gi(e)?[...e]:[e]);const n=To(t);if(!n)throw new Gn.b("view-writer-invalid-position-container");const i=this._breakAttributes(t,!0),o=n._insertChild(i.offset,e);for(const t of e)this._addToClonedElementsGroup(t);const r=i.getShiftedBy(o),s=this.mergeAttributes(i);if(0===o)return new Xi(s,s);{s.isEqual(i)||r.offset--;const t=this.mergeAttributes(r);return new Xi(s,t)}}remove(t){const e=t instanceof Xi?t:Xi._createOn(t);if(Oo(e),e.isCollapsed)return new Ao;const{start:n,end:i}=this._breakAttributesRange(e,!0),o=n.parent,r=i.offset-n.offset,s=o._removeChildren(n.offset,r);for(const t of s)this._removeFromClonedElementsGroup(t);const a=this.mergeAttributes(n);return e.start=a,e.end=a.clone(),new Ao(s)}clear(t,e){Oo(t);const n=t.getWalker({direction:"backward",ignoreElementEnd:!0});for(const i of n){const n=i.item;let o;if(n.is("element")&&e.isSimilar(n))o=Xi._createOn(n);else if(!i.nextPosition.isAfter(t.start)&&n.is("textProxy")){const t=n.getAncestors().find(t=>t.is("element")&&e.isSimilar(t));t&&(o=Xi._createIn(t))}o&&(o.end.isAfter(t.end)&&(o.end=t.end),o.start.isBefore(t.start)&&(o.start=t.start),this.remove(o))}}move(t,e){let n;if(e.isAfter(t.end)){const i=(e=this._breakAttributes(e,!0)).parent,o=i.childCount;t=this._breakAttributesRange(t,!0),n=this.remove(t),e.offset+=i.childCount-o}else n=this.remove(t);return this.insert(e,n)}wrap(t,e){if(!(e instanceof ao))throw new Gn.b("view-writer-wrap-invalid-attribute");if(Oo(t),t.isCollapsed){let n=t.start;n.parent.is("element")&&!function(t){return Array.from(t.getChildren()).some(t=>!t.is("uiElement"))}(n.parent)&&(n=n.getLastMatchingPosition(t=>t.item.is("uiElement"))),n=this._wrapPosition(n,e);const i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(t.start)&&this.setSelection(n),new Xi(n)}return this._wrapRange(t,e)}unwrap(t,e){if(!(e instanceof ao))throw new Gn.b("view-writer-unwrap-invalid-attribute");if(Oo(t),t.isCollapsed)return t;const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,r=this._unwrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Xi(s,a)}rename(t,e){const n=new yi(t,e.getAttributes());return this.insert(Zi._createAfter(e),n),this.move(Xi._createIn(e),Zi._createAt(n,0)),this.remove(Xi._createOn(e)),n}clearClonedElementsGroup(t){this._cloneGroups.delete(t)}createPositionAt(t,e){return Zi._createAt(t,e)}createPositionAfter(t){return Zi._createAfter(t)}createPositionBefore(t){return Zi._createBefore(t)}createRange(t,e){return new Xi(t,e)}createRangeOn(t){return Xi._createOn(t)}createRangeIn(t){return Xi._createIn(t)}createSelection(t,e,n){return new no(t,e,n)}_wrapChildren(t,e,n,i){let o=e;const r=[];for(;o<n;){const e=t.getChild(o),n=e.is("text"),s=e.is("attributeElement"),a=e.is("emptyElement"),c=e.is("uiElement");if(s&&this._wrapAttributeElement(i,e))r.push(new Zi(t,o));else if(n||a||c||s&&Po(i,e)){const n=i._clone();e._remove(),n._appendChild(e),t._insertChild(o,n),this._addToClonedElementsGroup(n),r.push(new Zi(t,o))}else s&&this._wrapChildren(e,0,e.childCount,i);o++}let s=0;for(const t of r){if(t.offset-=s,t.offset==e)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return Xi._createFromParentsAndOffsets(t,e,t,n)}_unwrapChildren(t,e,n,i){let o=e;const r=[];for(;o<n;){const e=t.getChild(o);if(e.is("attributeElement"))if(e.isSimilar(i)){const i=e.getChildren(),s=e.childCount;e._remove(),t._insertChild(o,i),this._removeFromClonedElementsGroup(e),r.push(new Zi(t,o),new Zi(t,o+s)),o+=s,n+=s-1}else this._unwrapAttributeElement(i,e)?(r.push(new Zi(t,o),new Zi(t,o+1)),o++):(this._unwrapChildren(e,0,e.childCount,i),o++);else o++}let s=0;for(const t of r){if(t.offset-=s,t.offset==e||t.offset==n)continue;this.mergeAttributes(t).isEqual(t)||(s++,n--)}return Xi._createFromParentsAndOffsets(t,e,t,n)}_wrapRange(t,e){const{start:n,end:i}=this._breakAttributesRange(t,!0),o=n.parent,r=this._wrapChildren(o,n.offset,i.offset,e),s=this.mergeAttributes(r.start);s.isEqual(r.start)||r.end.offset--;const a=this.mergeAttributes(r.end);return new Xi(s,a)}_wrapPosition(t,e){if(e.isSimilar(t.parent))return Mo(t.clone());t.parent.is("text")&&(t=Eo(t));const n=this.createAttributeElement();n._priority=Number.POSITIVE_INFINITY,n.isSimilar=(()=>!1),t.parent._insertChild(t.offset,n);const i=new Xi(t,t.getShiftedBy(1));this.wrap(i,e);const o=new Zi(n.parent,n.index);n._remove();const r=o.nodeBefore,s=o.nodeAfter;return r instanceof fi&&s instanceof fi?So(r,s):Mo(o)}_wrapAttributeElement(t,e){if(!Ro(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&e.hasAttribute(n)&&e.getAttribute(n)!==t.getAttribute(n))return!1;for(const n of t.getStyleNames())if(e.hasStyle(n)&&e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&(e.hasAttribute(n)||this.setAttribute(n,t.getAttribute(n),e));for(const n of t.getStyleNames())e.hasStyle(n)||this.setStyle(n,t.getStyle(n),e);for(const n of t.getClassNames())e.hasClass(n)||this.addClass(n,e);return!0}_unwrapAttributeElement(t,e){if(!Ro(t,e))return!1;if(t.name!==e.name||t.priority!==e.priority)return!1;for(const n of t.getAttributeKeys())if("class"!==n&&"style"!==n&&(!e.hasAttribute(n)||e.getAttribute(n)!==t.getAttribute(n)))return!1;if(!e.hasClass(...t.getClassNames()))return!1;for(const n of t.getStyleNames())if(!e.hasStyle(n)||e.getStyle(n)!==t.getStyle(n))return!1;for(const n of t.getAttributeKeys())"class"!==n&&"style"!==n&&this.removeAttribute(n,e);return this.removeClass(Array.from(t.getClassNames()),e),this.removeStyle(Array.from(t.getStyleNames()),e),!0}_breakAttributesRange(t,e=!1){const n=t.start,i=t.end;if(Oo(t),t.isCollapsed){const n=this._breakAttributes(t.start,e);return new Xi(n,n)}const o=this._breakAttributes(i,e),r=o.parent.childCount,s=this._breakAttributes(n,e);return o.offset+=o.parent.childCount-r,new Xi(s,o)}_breakAttributes(t,e=!1){const n=t.offset,i=t.parent;if(t.parent.is("emptyElement"))throw new Gn.b("view-writer-cannot-break-empty-element");if(t.parent.is("uiElement"))throw new Gn.b("view-writer-cannot-break-ui-element");if(!e&&i.is("text")&&No(i.parent))return t.clone();if(No(i))return t.clone();if(i.is("text"))return this._breakAttributes(Eo(t),e);if(n==i.childCount){const t=new Zi(i.parent,i.index+1);return this._breakAttributes(t,e)}if(0===n){const t=new Zi(i.parent,i.index);return this._breakAttributes(t,e)}{const t=i.index+1,o=i._clone();i.parent._insertChild(t,o),this._addToClonedElementsGroup(o);const r=i.childCount-n,s=i._removeChildren(n,r);o._appendChild(s);const a=new Zi(i.parent,t);return this._breakAttributes(a,e)}}_addToClonedElementsGroup(t){if(!t.root.is("rootElement"))return;if(t.is("element"))for(const e of t.getChildren())this._addToClonedElementsGroup(e);const e=t.id;if(!e)return;let n=this._cloneGroups.get(e);n||(n=new Set,this._cloneGroups.set(e,n)),n.add(t),t._clonesGroup=n}_removeFromClonedElementsGroup(t){if(t.is("element"))for(const e of t.getChildren())this._removeFromClonedElementsGroup(e);const e=t.id;if(!e)return;const n=this._cloneGroups.get(e);n&&n.delete(t)}}function To(t){let e=t.parent;for(;!No(e);){if(!e)return;e=e.parent}return e}function Po(t,e){return t.priority<e.priority||!(t.priority>e.priority)&&t.getIdentity()<e.getIdentity()}function Mo(t){const e=t.nodeBefore;if(e&&e.is("text"))return new Zi(e,e.data.length);const n=t.nodeAfter;return n&&n.is("text")?new Zi(n,0):t}function Eo(t){if(t.offset==t.parent.data.length)return new Zi(t.parent.parent,t.parent.index+1);if(0===t.offset)return new Zi(t.parent.parent,t.parent.index);const e=t.parent.data.slice(t.offset);return t.parent._data=t.parent.data.slice(0,t.offset),t.parent.parent._insertChild(t.parent.index+1,new fi(e)),new Zi(t.parent.parent,t.parent.index+1)}function So(t,e){const n=t.data.length;return t._data+=e.data,e._remove(),new Zi(t,n)}const Io=[fi,ao,yi,uo,vo];function No(t){return t&&(t.is("containerElement")||t.is("documentFragment"))}function Oo(t){const e=To(t.start),n=To(t.end);if(!e||!n||e!==n)throw new Gn.b("view-writer-invalid-range-container")}function Ro(t,e){return null===t.id&&null===e.id}function Do(t){return"[object Text]"==Object.prototype.toString.call(t)}const Lo=t=>{const e=t.createElement("br");return e.dataset.ckeFiller=!0,e},jo=t=>t.createTextNode(" "),Vo=7;let Bo="";for(let t=0;t<Vo;t++)Bo+="​";function zo(t){return Do(t)&&t.data.substr(0,Vo)===Bo}function Fo(t){return t.data.length==Vo&&zo(t)}function Uo(t){return zo(t)?t.data.slice(Vo):t.data}const Ho=new WeakMap;function qo(t,e){let n=Ho.get(e);return n||(n=e(window.document),Ho.set(e,n)),t.isEqualNode(n)}function Wo(t,e){if(e.keyCode==bo.arrowleft){const t=e.domTarget.ownerDocument.defaultView.getSelection();if(1==t.rangeCount&&t.getRangeAt(0).collapsed){const e=t.getRangeAt(0).startContainer,n=t.getRangeAt(0).startOffset;zo(e)&&n<=Vo&&t.collapse(e,0)}}}function Yo(t,e,n,i=!1){n=n||function(t,e){return t===e},Array.isArray(t)||(t=Array.from(t)),Array.isArray(e)||(e=Array.from(e));const o=function(t,e,n){const i=$o(t,e,n);if(-1===i)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const o=Go(t,i),r=Go(e,i),s=$o(o,r,n),a=t.length-s,c=e.length-s;return{firstIndex:i,lastIndexOld:a,lastIndexNew:c}}(t,e,n);return i?function(t,e){const{firstIndex:n,lastIndexOld:i,lastIndexNew:o}=t;if(-1===n)return Array(e).fill("equal");let r=[];n>0&&(r=r.concat(Array(n).fill("equal")));o-n>0&&(r=r.concat(Array(o-n).fill("insert")));i-n>0&&(r=r.concat(Array(i-n).fill("delete")));o<e&&(r=r.concat(Array(e-o).fill("equal")));return r}(o,e.length):function(t,e){const n=[],{firstIndex:i,lastIndexOld:o,lastIndexNew:r}=e;r-i>0&&n.push({index:i,type:"insert",values:t.slice(i,r)});o-i>0&&n.push({index:i+(r-i),type:"delete",howMany:o-i});return n}(e,o)}function $o(t,e,n){for(let i=0;i<Math.max(t.length,e.length);i++)if(void 0===t[i]||void 0===e[i]||!n(t[i],e[i]))return i;return-1}function Go(t,e){return t.slice(e).reverse()}function Qo(t,e,n){n=n||function(t,e){return t===e};const i=t.length,o=e.length;if(i>200||o>200||i+o>300)return Qo.fastDiff(t,e,n,!0);let r,s;if(o<i){const n=t;t=e,e=n,r="delete",s="insert"}else r="insert",s="delete";const a=t.length,c=e.length,l=c-a,d={},u={};function h(i){const o=(void 0!==u[i-1]?u[i-1]:-1)+1,l=void 0!==u[i+1]?u[i+1]:-1,h=o>l?-1:1;d[i+h]&&(d[i]=d[i+h].slice(0)),d[i]||(d[i]=[]),d[i].push(o>l?r:s);let f=Math.max(o,l),m=f-i;for(;m<a&&f<c&&n(t[m],e[f]);)m++,f++,d[i].push("equal");return f}let f,m=0;do{for(f=-m;f<l;f++)u[f]=h(f);for(f=l+m;f>l;f--)u[f]=h(f);u[l]=h(l),m++}while(u[l]!==c);return d[l].slice(1)}function Jo(t,e,n){t.insertBefore(n,t.childNodes[e]||null)}function Ko(t){const e=t.parentNode;e&&e.removeChild(t)}function Zo(t){if(t){if(t.defaultView)return t instanceof t.defaultView.Document;if(t.ownerDocument&&t.ownerDocument.defaultView)return t instanceof t.ownerDocument.defaultView.Node}return!1}Qo.fastDiff=Yo;class Xo{constructor(t,e){this.domDocuments=new Set,this.domConverter=t,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}markToSync(t,e){if("text"===t)this.domConverter.mapViewToDom(e.parent)&&this.markedTexts.add(e);else{if(!this.domConverter.mapViewToDom(e))return;if("attributes"===t)this.markedAttributes.add(e);else{if("children"!==t)throw new Gn.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.");this.markedChildren.add(e)}}}render(){let t;for(const t of this.markedChildren)this._updateChildrenMappings(t);this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?t=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(t=this.selection.getFirstPosition(),this.markedChildren.add(t.parent));for(const t of this.markedAttributes)this._updateAttrs(t);for(const e of this.markedChildren)this._updateChildren(e,{inlineFillerPosition:t});for(const e of this.markedTexts)!this.markedChildren.has(e.parent)&&this.domConverter.mapViewToDom(e.parent)&&this._updateText(e,{inlineFillerPosition:t});if(t){const e=this.domConverter.viewPositionToDom(t),n=e.parent.ownerDocument;zo(e.parent)?this._inlineFiller=e.parent:this._inlineFiller=tr(n,e.parent,e.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=this.domConverter.mapViewToDom(t).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(t,e.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(n,i),r=this._findReplaceActions(o,n,i);if(-1!==r.indexOf("replace")){const e={equal:0,insert:0,delete:0};for(const o of r)if("replace"===o){const o=e.equal+e.insert,r=e.equal+e.delete,s=t.getChild(o);s&&!s.is("uiElement")&&this._updateElementMappings(s,n[r]),Ko(i[o]),e.equal++}else e[o]++}}_updateElementMappings(t,e){this.domConverter.unbindDomElement(e),this.domConverter.bindElements(e,t),this.markedChildren.add(t),this.markedAttributes.add(t)}_getInlineFillerPosition(){const t=this.selection.getFirstPosition();return t.parent.is("text")?Zi._createBefore(this.selection.getFirstPosition().parent):t}_isSelectionInInlineFiller(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=this.domConverter.viewPositionToDom(t);return!!(e&&Do(e.parent)&&zo(e.parent))}_removeInlineFiller(){const t=this._inlineFiller;if(!zo(t))throw new Gn.b("view-renderer-filler-was-lost: The inline filler node was lost.");Fo(t)?t.parentNode.removeChild(t):t.data=t.data.substr(Vo),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(1!=this.selection.rangeCount||!this.selection.isCollapsed)return!1;const t=this.selection.getFirstPosition(),e=t.parent,n=t.offset;if(!this.domConverter.mapViewToDom(e.root))return!1;if(!e.is("element"))return!1;if(!function(t){if("false"==t.getAttribute("contenteditable"))return!1;const e=t.findAncestor(t=>t.hasAttribute("contenteditable"));return!e||"true"==e.getAttribute("contenteditable")}(e))return!1;if(n===e.getFillerOffset())return!1;const i=t.nodeBefore,o=t.nodeAfter;return!(i instanceof fi||o instanceof fi)}_updateText(t,e){const n=this.domConverter.findCorrespondingDomText(t),i=this.domConverter.viewToDom(t,n.ownerDocument),o=n.data;let r=i.data;const s=e.inlineFillerPosition;if(s&&s.parent==t.parent&&s.offset==t.index&&(r=Bo+r),o!=r){const t=Yo(o,r);for(const e of t)"insert"===e.type?n.insertData(e.index,e.values.join("")):n.deleteData(e.index,e.howMany)}}_updateAttrs(t){const e=this.domConverter.mapViewToDom(t);if(!e)return;const n=Array.from(e.attributes).map(t=>t.name),i=t.getAttributeKeys();for(const n of i)e.setAttribute(n,t.getAttribute(n));for(const i of n)t.hasAttribute(i)||e.removeAttribute(i)}_updateChildren(t,e){const n=this.domConverter.mapViewToDom(t);if(!n)return;const i=e.inlineFillerPosition,o=this.domConverter.mapViewToDom(t).childNodes,r=Array.from(this.domConverter.viewChildrenToDom(t,n.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===t&&tr(n.ownerDocument,r,i.offset);const s=this._diffNodeLists(o,r);let a=0;const c=new Set;for(const t of s)"insert"===t?(Jo(n,a,r[a]),a++):"delete"===t?(c.add(o[a]),Ko(o[a])):(this._markDescendantTextToSync(this.domConverter.domToView(r[a])),a++);for(const t of c)t.parentNode||this.domConverter.unbindDomElement(t)}_diffNodeLists(t,e){return Qo(t=function(t,e){const n=Array.from(t);if(0==n.length||!e)return n;n[n.length-1]==e&&n.pop();return n}(t,this._fakeSelectionContainer),e,function(t,e,n){if(e===n)return!0;if(Do(e)&&Do(n))return e.data===n.data;if(qo(e,t)&&qo(n,t))return!0;return!1}.bind(null,this.domConverter.blockFiller))}_findReplaceActions(t,e,n){if(-1===t.indexOf("insert")||-1===t.indexOf("delete"))return t;let i=[],o=[],r=[];const s={equal:0,insert:0,delete:0};for(const a of t)"insert"===a?r.push(n[s.equal+s.insert]):"delete"===a?o.push(e[s.equal+s.delete]):((i=i.concat(Qo(o,r,er).map(t=>"equal"===t?"replace":t))).push("equal"),o=[],r=[]),s[a]++;return i.concat(Qo(o,r,er).map(t=>"equal"===t?"replace":t))}_markDescendantTextToSync(t){if(t)if(t.is("text"))this.markedTexts.add(t);else if(t.is("element"))for(const e of t.getChildren())this._markDescendantTextToSync(e)}_updateSelection(){if(0===this.selection.rangeCount)return this._removeDomSelection(),void this._removeFakeSelection();const t=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&t&&(this.selection.isFake?this._updateFakeSelection(t):(this._removeFakeSelection(),this._updateDomSelection(t)))}_updateFakeSelection(t){const e=t.ownerDocument;let n=this._fakeSelectionContainer;n||(this._fakeSelectionContainer=n=e.createElement("div"),Object.assign(n.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),n.textContent=" "),n.parentElement&&n.parentElement==t||t.appendChild(n),n.textContent=this.selection.fakeSelectionLabel||" ";const i=e.getSelection(),o=e.createRange();i.removeAllRanges(),o.selectNodeContents(n),i.addRange(o),this.domConverter.bindFakeSelection(n,this.selection)}_updateDomSelection(t){const e=t.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(e))return;const n=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);t.focus(),e.collapse(n.parent,n.offset),e.extend(i.parent,i.offset),mo.isGecko&&function(t,e){const n=t.parent;if(n.nodeType!=Node.ELEMENT_NODE||t.offset!=n.childNodes.length-1)return;const i=n.childNodes[t.offset];i&&"BR"==i.tagName&&e.addRange(e.getRangeAt(0))}(i,e)}_domSelectionNeedsUpdate(t){if(!this.domConverter.isDomSelectionCorrect(t))return!0;const e=t&&this.domConverter.domSelectionToView(t);return(!e||!this.selection.isEqual(e))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(e))}_removeDomSelection(){for(const t of this.domDocuments){if(t.getSelection().rangeCount){const e=t.activeElement,n=this.domConverter.mapDomToView(e);e&&n&&t.getSelection().removeAllRanges()}}}_removeFakeSelection(){const t=this._fakeSelectionContainer;t&&t.remove()}_updateFocus(){if(this.isFocused){const t=this.selection.editableElement;t&&this.domConverter.focus(t)}}}function tr(t,e,n){const i=e instanceof Array?e:e.childNodes,o=i[n];if(Do(o))return o.data=Bo+o.data,o;{const o=t.createTextNode(Bo);return Array.isArray(e)?i.splice(n,0,o):Jo(e,n,o),o}}function er(t,e){return Zo(t)&&Zo(e)&&!Do(t)&&!Do(e)&&t.tagName.toLowerCase()===e.tagName.toLowerCase()}ci(Xo,Fi);var nr={window:window,document:document};function ir(t){let e=0;for(;t.previousSibling;)t=t.previousSibling,e++;return e}function or(t){const e=[];for(;t&&t.nodeType!=Node.DOCUMENT_NODE;)e.unshift(t),t=t.parentNode;return e}class rr{constructor(t={}){this.blockFiller=t.blockFiller||Lo,this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6"],this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}bindFakeSelection(t,e){this._fakeSelectionMapping.set(t,new no(e))}fakeSelectionToView(t){return this._fakeSelectionMapping.get(t)}bindElements(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}unbindDomElement(t){const e=this._domToViewMapping.get(t);if(e){this._domToViewMapping.delete(t),this._viewToDomMapping.delete(e);for(const e of Array.from(t.childNodes))this.unbindDomElement(e)}}bindDocumentFragments(t,e){this._domToViewMapping.set(t,e),this._viewToDomMapping.set(e,t)}viewToDom(t,e,n={}){if(t.is("text")){const n=this._processDataFromViewText(t);return e.createTextNode(n)}{if(this.mapViewToDom(t))return this.mapViewToDom(t);let i;if(t.is("documentFragment"))i=e.createDocumentFragment(),n.bind&&this.bindDocumentFragments(i,t);else{if(t.is("uiElement"))return i=t.render(e),n.bind&&this.bindElements(i,t),i;i=e.createElement(t.name),n.bind&&this.bindElements(i,t);for(const e of t.getAttributeKeys())i.setAttribute(e,t.getAttribute(e))}if(n.withChildren||void 0===n.withChildren)for(const o of this.viewChildrenToDom(t,e,n))i.appendChild(o);return i}}*viewChildrenToDom(t,e,n={}){const i=t.getFillerOffset&&t.getFillerOffset();let o=0;for(const r of t.getChildren())i===o&&(yield this.blockFiller(e)),yield this.viewToDom(r,e,n),o++;i===o&&(yield this.blockFiller(e))}viewRangeToDom(t){const e=this.viewPositionToDom(t.start),n=this.viewPositionToDom(t.end),i=document.createRange();return i.setStart(e.parent,e.offset),i.setEnd(n.parent,n.offset),i}viewPositionToDom(t){const e=t.parent;if(e.is("text")){const n=this.findCorrespondingDomText(e);if(!n)return null;let i=t.offset;return zo(n)&&(i+=Vo),{parent:n,offset:i}}{let n,i,o;if(0===t.offset){if(!(n=this.mapViewToDom(e)))return null;o=n.childNodes[0]}else{const e=t.nodeBefore;if(!(i=e.is("text")?this.findCorrespondingDomText(e):this.mapViewToDom(t.nodeBefore)))return null;n=i.parentNode,o=i.nextSibling}if(Do(o)&&zo(o))return{parent:o,offset:Vo};return{parent:n,offset:i?ir(i)+1:0}}}domToView(t,e={}){if(qo(t,this.blockFiller))return null;const n=this.getParentUIElement(t,this._domToViewMapping);if(n)return n;if(Do(t)){if(Fo(t))return null;{const e=this._processDataFromDomText(t);return""===e?null:new fi(e)}}if(this.isComment(t))return null;{if(this.mapDomToView(t))return this.mapDomToView(t);let n;if(this.isDocumentFragment(t))n=new Ao,e.bind&&this.bindDocumentFragments(t,n);else{const i=e.keepOriginalCase?t.tagName:t.tagName.toLowerCase();n=new _i(i),e.bind&&this.bindElements(t,n);const o=t.attributes;for(let t=o.length-1;t>=0;t--)n._setAttribute(o[t].name,o[t].value)}if(e.withChildren||void 0===e.withChildren)for(const i of this.domChildrenToView(t,e))n._appendChild(i);return n}}*domChildrenToView(t,e={}){for(let n=0;n<t.childNodes.length;n++){const i=t.childNodes[n],o=this.domToView(i,e);null!==o&&(yield o)}}domSelectionToView(t){if(1===t.rangeCount){let e=t.getRangeAt(0).startContainer;Do(e)&&(e=e.parentNode);const n=this.fakeSelectionToView(e);if(n)return n}const e=this.isDomSelectionBackward(t),n=[];for(let e=0;e<t.rangeCount;e++){const i=t.getRangeAt(e),o=this.domRangeToView(i);o&&n.push(o)}return new no(n,{backward:e})}domRangeToView(t){const e=this.domPositionToView(t.startContainer,t.startOffset),n=this.domPositionToView(t.endContainer,t.endOffset);return e&&n?new Xi(e,n):null}domPositionToView(t,e){if(qo(t,this.blockFiller))return this.domPositionToView(t.parentNode,ir(t));const n=this.mapDomToView(t);if(n&&n.is("uiElement"))return Zi._createBefore(n);if(Do(t)){if(Fo(t))return this.domPositionToView(t.parentNode,ir(t));const n=this.findCorrespondingViewText(t);let i=e;return n?(zo(t)&&(i=(i-=Vo)<0?0:i),new Zi(n,i)):null}if(0===e){const e=this.mapDomToView(t);if(e)return new Zi(e,0)}else{const n=t.childNodes[e-1],i=Do(n)?this.findCorrespondingViewText(n):this.mapDomToView(n);if(i&&i.parent)return new Zi(i.parent,i.index+1)}return null}mapDomToView(t){return this.getParentUIElement(t)||this._domToViewMapping.get(t)}findCorrespondingViewText(t){if(Fo(t))return null;const e=this.getParentUIElement(t);if(e)return e;const n=t.previousSibling;if(n){if(!this.isElement(n))return null;const t=this.mapDomToView(n);if(t){return t.nextSibling instanceof fi?t.nextSibling:null}}else{const e=this.mapDomToView(t.parentNode);if(e){const t=e.getChild(0);return t instanceof fi?t:null}}return null}mapViewToDom(t){return this._viewToDomMapping.get(t)}findCorrespondingDomText(t){const e=t.previousSibling;return e&&this.mapViewToDom(e)?this.mapViewToDom(e).nextSibling:!e&&t.parent&&this.mapViewToDom(t.parent)?this.mapViewToDom(t.parent).childNodes[0]:null}focus(t){const e=this.mapViewToDom(t);if(e&&e.ownerDocument.activeElement!==e){const{scrollX:t,scrollY:n}=nr.window,i=[];ar(e,t=>{const{scrollLeft:e,scrollTop:n}=t;i.push([e,n])}),e.focus(),ar(e,t=>{const[e,n]=i.shift();t.scrollLeft=e,t.scrollTop=n}),nr.window.scrollTo(t,n)}}isElement(t){return t&&t.nodeType==Node.ELEMENT_NODE}isDocumentFragment(t){return t&&t.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isComment(t){return t&&t.nodeType==Node.COMMENT_NODE}isDomSelectionBackward(t){if(t.isCollapsed)return!1;const e=document.createRange();e.setStart(t.anchorNode,t.anchorOffset),e.setEnd(t.focusNode,t.focusOffset);const n=e.collapsed;return e.detach(),n}getParentUIElement(t){const e=or(t);for(e.pop();e.length;){const t=e.pop(),n=this._domToViewMapping.get(t);if(n&&n.is("uiElement"))return n}return null}isDomSelectionCorrect(t){return this._isDomSelectionPositionCorrect(t.anchorNode,t.anchorOffset)&&this._isDomSelectionPositionCorrect(t.focusNode,t.focusOffset)}_isDomSelectionPositionCorrect(t,e){if(Do(t)&&zo(t)&&e<Vo)return!1;if(this.isElement(t)&&zo(t.childNodes[e]))return!1;const n=this.mapDomToView(t);return!n||!n.is("uiElement")}_processDataFromViewText(t){let e=t.data;if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return e;if(" "==e.charAt(0)){const n=this._getTouchingViewTextNode(t,!1);!(n&&this._nodeEndsWithSpace(n))&&n||(e=" "+e.substr(1))}if(" "==e.charAt(e.length-1)){this._getTouchingViewTextNode(t,!0)||(e=e.substr(0,e.length-1)+" ")}return e.replace(/ {2}/g,"  ")}_nodeEndsWithSpace(t){if(t.getAncestors().some(t=>this.preElements.includes(t.name)))return!1;const e=this._processDataFromViewText(t);return" "==e.charAt(e.length-1)}_processDataFromDomText(t){let e=t.data;if(sr(t,this.preElements))return Uo(t);e=e.replace(/[ \n\t\r]{1,}/g," ");const n=this._getTouchingInlineDomNode(t,!1),i=this._getTouchingInlineDomNode(t,!0),o=this._checkShouldLeftTrimDomText(n),r=this._checkShouldRightTrimDomText(t,i);return o&&(e=e.replace(/^ /,"")),r&&(e=e.replace(/ $/,"")),e=(e=Uo(new Text(e))).replace(/ \u00A0/g,"  "),o&&(e=e.replace(/^\u00A0/," ")),Do(i)&&" "!=i.data.charAt(0)||(e=e.replace(/\u00A0( *)$/," $1")),e}_checkShouldLeftTrimDomText(t){return!t||(!!Wn(t)||/[^\S\u00A0]/.test(t.data.charAt(t.data.length-1)))}_checkShouldRightTrimDomText(t,e){return!e&&!zo(t)}_getTouchingViewTextNode(t,e){const n=new Ki({startPosition:e?Zi._createAfter(t):Zi._createBefore(t),direction:e?"forward":"backward"});for(const t of n){if(t.item.is("containerElement"))return null;if(t.item.is("br"))return null;if(t.item.is("textProxy"))return t.item}return null}_getTouchingInlineDomNode(t,e){if(!t.parentNode)return null;const n=e?"nextNode":"previousNode",i=t.ownerDocument,o=or(t)[0],r=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:t=>Do(t)?NodeFilter.FILTER_ACCEPT:"BR"==t.tagName?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP});r.currentNode=t;const s=r[n]();if(null!==s){const e=function(t,e){const n=or(t),i=or(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}(t,s);if(e&&!sr(t,this.blockElements,e)&&!sr(s,this.blockElements,e))return s}return null}}function sr(t,e,n){let i=or(t);return n&&(i=i.slice(i.indexOf(n)+1)),i.some(t=>t.tagName&&e.includes(t.tagName.toLowerCase()))}function ar(t,e){for(;t&&t!=nr.document;)e(t),t=t.parentNode}function cr(t){const e=Object.prototype.toString.apply(t);return"[object Window]"==e||"[object global]"==e}var lr=Li({},ei,{listenTo(t,...e){if(Zo(t)||cr(t)){const n=this._getProxyEmitter(t)||new dr(t);n.attach(...e),t=n}ei.listenTo.call(this,t,...e)},stopListening(t,e,n){if(Zo(t)||cr(t)){const e=this._getProxyEmitter(t);if(!e)return;t=e}ei.stopListening.call(this,t,e,n),t instanceof dr&&t.detach(e)},_getProxyEmitter(t){return function(t,e){return t[Xn]&&t[Xn][e]?t[Xn][e].emitter:null}(this,ur(t))}});class dr{constructor(t){ni(this,ur(t)),this._domNode=t}}function ur(t){return t["data-ck-expando"]||(t["data-ck-expando"]=Kn())}Li(dr.prototype,ei,{attach(t,e,n={}){if(this._domListeners&&this._domListeners[t])return;const i=this._createDomListener(t,!!n.useCapture);this._domNode.addEventListener(t,i,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[t]=i},detach(t){let e;!this._domListeners[t]||(e=this._events[t])&&e.callbacks.length||this._domListeners[t].removeListener()},_createDomListener(t,e){const n=e=>{this.fire(t,e)};return n.removeListener=(()=>{this._domNode.removeEventListener(t,n,e),delete this._domListeners[t]}),n}});class hr{constructor(t){this.view=t,this.document=t.document,this.isEnabled=!1}enable(){this.isEnabled=!0}disable(){this.isEnabled=!1}destroy(){this.disable(),this.stopListening()}}ci(hr,lr);var fr="__lodash_hash_undefined__";var mr=function(t){return this.__data__.set(t,fr),this};var pr=function(t){return this.__data__.has(t)};function gr(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Pt;++e<n;)this.add(t[e])}gr.prototype.add=gr.prototype.push=mr,gr.prototype.has=pr;var br=gr;var wr=function(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1};var _r=function(t,e){return t.has(e)},kr=1,vr=2;var yr=function(t,e,n,i,o,r){var s=n&kr,a=t.length,c=e.length;if(a!=c&&!(s&&c>a))return!1;var l=r.get(t);if(l&&r.get(e))return l==e;var d=-1,u=!0,h=n&vr?new br:void 0;for(r.set(t,e),r.set(e,t);++d<a;){var f=t[d],m=e[d];if(i)var p=s?i(m,f,d,e,t,r):i(f,m,d,t,e,r);if(void 0!==p){if(p)continue;u=!1;break}if(h){if(!wr(e,function(t,e){if(!_r(h,e)&&(f===t||o(f,t,n,i,r)))return h.push(e)})){u=!1;break}}else if(f!==m&&!o(f,m,n,i,r)){u=!1;break}}return r.delete(t),r.delete(e),u};var xr=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n};var Ar=function(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n},Cr=1,Tr=2,Pr="[object Boolean]",Mr="[object Date]",Er="[object Error]",Sr="[object Map]",Ir="[object Number]",Nr="[object RegExp]",Or="[object Set]",Rr="[object String]",Dr="[object Symbol]",Lr="[object ArrayBuffer]",jr="[object DataView]",Vr=o?o.prototype:void 0,Br=Vr?Vr.valueOf:void 0;var zr=function(t,e,n,i,o,r,s){switch(n){case jr:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Lr:return!(t.byteLength!=e.byteLength||!r(new Ye(t),new Ye(e)));case Pr:case Mr:case Ir:return P(+t,+e);case Er:return t.name==e.name&&t.message==e.message;case Nr:case Rr:return t==e+"";case Sr:var a=xr;case Or:var c=i&Cr;if(a||(a=Ar),t.size!=e.size&&!c)return!1;var l=s.get(t);if(l)return l==e;i|=Tr,s.set(t,e);var d=yr(a(t),a(e),i,o,r,s);return s.delete(t),d;case Dr:if(Br)return Br.call(t)==Br.call(e)}return!1},Fr=1,Ur=Object.prototype.hasOwnProperty;var Hr=function(t,e,n,i,o,r){var s=n&Fr,a=Ie(t),c=a.length;if(c!=Ie(e).length&&!s)return!1;for(var l=c;l--;){var d=a[l];if(!(s?d in e:Ur.call(e,d)))return!1}var u=r.get(t);if(u&&r.get(e))return u==e;var h=!0;r.set(t,e),r.set(e,t);for(var f=s;++l<c;){var m=t[d=a[l]],p=e[d];if(i)var g=s?i(p,m,d,e,t,r):i(m,p,d,t,e,r);if(!(void 0===g?m===p||o(m,p,n,i,r):g)){h=!1;break}f||(f="constructor"==d)}if(h&&!f){var b=t.constructor,w=e.constructor;b!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return r.delete(t),r.delete(e),h},qr=1,Wr="[object Arguments]",Yr="[object Array]",$r="[object Object]",Gr=Object.prototype.hasOwnProperty;var Qr=function(t,e,n,i,o,r){var s=Wt(t),a=Wt(e),c=s?Yr:He(t),l=a?Yr:He(e),d=(c=c==Wr?$r:c)==$r,u=(l=l==Wr?$r:l)==$r,h=c==l;if(h&&Object(Yt.a)(t)){if(!Object(Yt.a)(e))return!1;s=!0,d=!1}if(h&&!d)return r||(r=new It),s||ie(t)?yr(t,e,n,i,o,r):zr(t,e,c,n,i,o,r);if(!(n&qr)){var f=d&&Gr.call(t,"__wrapped__"),m=u&&Gr.call(e,"__wrapped__");if(f||m){var p=f?t.value():t,g=m?e.value():e;return r||(r=new It),o(p,g,n,i,r)}}return!!h&&(r||(r=new It),Hr(t,e,n,i,o,r))};var Jr=function t(e,n,i,o,r){return e===n||(null==e||null==n||!w(e)&&!w(n)?e!=e&&n!=n:Qr(e,n,i,o,t,r))};var Kr=function(t,e,n){var i=(n="function"==typeof n?n:void 0)?n(t,e):void 0;return void 0===i?Jr(t,e,void 0,n):!!i};class Zr extends hr{constructor(t){super(t),this._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},this.domConverter=t.domConverter,this.renderer=t._renderer,this._domElements=[],this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}enable(){super.enable();for(const t of this._domElements)this._mutationObserver.observe(t,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(t){if(0===t.length)return;const e=this.domConverter,n=new Map,i=new Set;for(const n of t)if("childList"===n.type){const t=e.mapDomToView(n.target);if(t&&t.is("uiElement"))continue;t&&!this._isBogusBrMutation(n)&&i.add(t)}for(const o of t){const t=e.mapDomToView(o.target);if((!t||!t.is("uiElement"))&&"characterData"===o.type){const t=e.findCorrespondingViewText(o.target);t&&!i.has(t.parent)?n.set(t,{type:"text",oldText:t.data,newText:Uo(o.target),node:t}):!t&&zo(o.target)&&i.add(e.mapDomToView(o.target.parentNode))}}const o=[];for(const t of n.values())this.renderer.markToSync("text",t.node),o.push(t);for(const t of i){const n=e.mapViewToDom(t),i=Array.from(t.getChildren()),r=Array.from(e.domChildrenToView(n,{withChildren:!1}));Kr(i,r,a)||(this.renderer.markToSync("children",t),o.push({type:"children",oldChildren:i,newChildren:r,node:t}))}const r=t[0].target.ownerDocument.getSelection();let s=null;if(r&&r.anchorNode){const t=e.domPositionToView(r.anchorNode,r.anchorOffset),n=e.domPositionToView(r.focusNode,r.focusOffset);t&&n&&(s=new no(t)).setFocus(n)}function a(t,e){if(!Array.isArray(t))return t===e||!(!t.is("text")||!e.is("text"))&&t.data===e.data}this.document.fire("mutations",o,s),this.view.forceRender()}_isBogusBrMutation(t){let e=null;return null===t.nextSibling&&0===t.removedNodes.length&&1==t.addedNodes.length&&(e=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),e&&e.is("element","br")}}class Xr{constructor(t,e,n){this.view=t,this.document=t.document,this.domEvent=e,this.domTarget=e.target,Li(this,n)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class ts extends hr{constructor(t){super(t),this.useCapture=!1}observe(t){("string"==typeof this.domEventType?[this.domEventType]:this.domEventType).forEach(e=>{this.listenTo(t,e,(t,e)=>{this.isEnabled&&this.onDomEvent(e)},{useCapture:this.useCapture})})}fire(t,e,n){this.isEnabled&&this.document.fire(t,new Xr(this.view,e,n))}}class es extends ts{constructor(t){super(t),this.domEventType=["keydown","keyup"]}onDomEvent(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return wo(this)}})}}var ns=function(){return i.a.Date.now()},is="[object Symbol]";var os=function(t){return"symbol"==typeof t||w(t)&&p(t)==is},rs=NaN,ss=/^\s+|\s+$/g,as=/^[-+]0x[0-9a-f]+$/i,cs=/^0b[01]+$/i,ls=/^0o[0-7]+$/i,ds=parseInt;var us=function(t){if("number"==typeof t)return t;if(os(t))return rs;if(z(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=z(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(ss,"");var n=cs.test(t);return n||ls.test(t)?ds(t.slice(2),n?2:8):as.test(t)?rs:+t},hs="Expected a function",fs=Math.max,ms=Math.min;var ps=function(t,e,n){var i,o,r,s,a,c,l=0,d=!1,u=!1,h=!0;if("function"!=typeof t)throw new TypeError(hs);function f(e){var n=i,r=o;return i=o=void 0,l=e,s=t.apply(r,n)}function m(t){var n=t-c;return void 0===c||n>=e||n<0||u&&t-l>=r}function p(){var t=ns();if(m(t))return g(t);a=setTimeout(p,function(t){var n=e-(t-c);return u?ms(n,r-(t-l)):n}(t))}function g(t){return a=void 0,h&&i?f(t):(i=o=void 0,s)}function b(){var t=ns(),n=m(t);if(i=arguments,o=this,c=t,n){if(void 0===a)return function(t){return l=t,a=setTimeout(p,e),d?f(t):s}(c);if(u)return a=setTimeout(p,e),f(c)}return void 0===a&&(a=setTimeout(p,e)),s}return e=us(e)||0,z(n)&&(d=!!n.leading,r=(u="maxWait"in n)?fs(us(n.maxWait)||0,e):r,h="trailing"in n?!!n.trailing:h),b.cancel=function(){void 0!==a&&clearTimeout(a),l=0,i=c=o=a=void 0},b.flush=function(){return void 0===a?s:g(ns())},b};class gs extends hr{constructor(t){super(t),this._fireSelectionChangeDoneDebounced=ps(t=>this.document.fire("selectionChangeDone",t),200)}observe(){const t=this.document;t.on("keydown",(e,n)=>{t.selection.isFake&&function(t){return t==bo.arrowright||t==bo.arrowleft||t==bo.arrowup||t==bo.arrowdown}(n.keyCode)&&this.isEnabled&&(n.preventDefault(),this._handleSelectionMove(n.keyCode))},{priority:"lowest"})}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(t){const e=this.document.selection,n=new no(e.getRanges(),{backward:e.isBackward,fake:!1});t!=bo.arrowleft&&t!=bo.arrowup||n.setTo(n.getFirstPosition()),t!=bo.arrowright&&t!=bo.arrowdown||n.setTo(n.getLastPosition());const i={oldSelection:e,newSelection:n,domSelection:null};this.document.fire("selectionChange",i),this._fireSelectionChangeDoneDebounced(i)}}var bs=n(1);class ws extends hr{constructor(t){super(t),this.mutationObserver=t.getObserver(Zr),this.selection=this.document.selection,this.domConverter=t.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=ps(t=>this.document.fire("selectionChangeDone",t),200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._loopbackCounter=0}observe(t){const e=t.ownerDocument;this._documents.has(e)||(this.listenTo(e,"selectionchange",()=>{this._handleSelectionChange(e)}),this._documents.add(e))}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionChange(t){if(!this.isEnabled||!this.document.isFocused&&!this.document.isReadOnly)return;this.mutationObserver.flush();const e=t.defaultView.getSelection(),n=this.domConverter.domSelectionToView(e);if(!this.selection.isEqual(n)||!this.domConverter.isDomSelectionCorrect(e))if(++this._loopbackCounter>60)bs.a.warn("selectionchange-infinite-loop: Selection change observer detected an infinite rendering loop.");else if(this.selection.isSimilar(n))this.view.forceRender();else{const t={oldSelection:this.selection,newSelection:n,domSelection:e};this.document.fire("selectionChange",t),this._fireSelectionChangeDoneDebounced(t)}}_clearInfiniteLoop(){this._loopbackCounter=0}}class _s extends ts{constructor(t){super(t),this.domEventType=["focus","blur"],this.useCapture=!0;const e=this.document;e.on("focus",()=>{e.isFocused=!0,this._renderTimeoutId=setTimeout(()=>t.forceRender(),50)}),e.on("blur",(n,i)=>{const o=e.selection.editableElement;null!==o&&o!==i.target||(e.isFocused=!1,t.forceRender())})}onDomEvent(t){this.fire(t.type,t)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ks extends ts{constructor(t){super(t),this.domEventType=["compositionstart","compositionupdate","compositionend"];const e=this.document;e.on("compositionstart",()=>{e.isComposing=!0}),e.on("compositionend",()=>{e.isComposing=!1})}onDomEvent(t){this.fire(t.type,t)}}function vs(t){return"[object Range]"==Object.prototype.toString.apply(t)}function ys(t){const e=t.ownerDocument.defaultView.getComputedStyle(t);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}const xs=["top","right","bottom","left","width","height"];class As{constructor(t){const e=vs(t);if(Object.defineProperty(this,"_source",{value:t._source||t,writable:!0,enumerable:!1}),Wn(t)||e){const n=e?t.startContainer:t;n.ownerDocument&&n.ownerDocument.body.contains(n)||bs.a.warn("rect-source-not-in-dom: The source of this rect does not belong to any rendered DOM tree.",{source:t}),Cs(this,e?As.getDomRangeRects(t)[0]:t.getBoundingClientRect())}else if(cr(t)){const{innerWidth:e,innerHeight:n}=t;Cs(this,{top:0,right:e,bottom:n,left:0,width:e,height:n})}else Cs(this,t)}clone(){return new As(this)}moveTo(t,e){return this.top=e,this.right=t+this.width,this.bottom=e+this.height,this.left=t,this}moveBy(t,e){return this.top+=e,this.right+=t,this.left+=t,this.bottom+=e,this}getIntersection(t){const e={top:Math.max(this.top,t.top),right:Math.min(this.right,t.right),bottom:Math.min(this.bottom,t.bottom),left:Math.max(this.left,t.left)};return e.width=e.right-e.left,e.height=e.bottom-e.top,e.width<0||e.height<0?null:new As(e)}getIntersectionArea(t){const e=this.getIntersection(t);return e?e.getArea():0}getArea(){return this.width*this.height}getVisible(){const t=this._source;let e=this.clone();if(!Ts(t)){let n=t.parentNode||t.commonAncestorContainer;for(;n&&!Ts(n);){const t=new As(n),i=e.getIntersection(t);if(!i)return null;i.getArea()<e.getArea()&&(e=i),n=n.parentNode}}return e}isEqual(t){for(const e of xs)if(this[e]!==t[e])return!1;return!0}contains(t){const e=this.getIntersection(t);return!(!e||!e.isEqual(t))}excludeScrollbarsAndBorders(){const t=this._source;let e,n;if(cr(t))e=t.innerWidth-t.document.documentElement.clientWidth,n=t.innerHeight-t.document.documentElement.clientHeight;else{const i=ys(this._source);e=t.offsetWidth-t.clientWidth,n=t.offsetHeight-t.clientHeight,this.moveBy(i.left,i.top)}return this.width-=e,this.right-=e,this.height-=n,this.bottom-=n,this}static getDomRangeRects(t){const e=[],n=Array.from(t.getClientRects());if(n.length)for(const t of n)e.push(new As(t));else{let n=t.startContainer;Do(n)&&(n=n.parentNode);const i=new As(n.getBoundingClientRect());i.right=i.left,i.width=0,e.push(i)}return e}}function Cs(t,e){for(const n of xs)t[n]=e[n]}function Ts(t){return!!Wn(t)&&t===t.ownerDocument.body}function Ps({target:t,viewportOffset:e=0}){const n=Rs(t);let i=n,o=null;for(;i;){let r;Es(r=Ds(i==n?t:o),()=>Ls(t,i));const s=Ls(t,i);if(Ms(i,s,e),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function Ms(t,e,n){const i=e.clone().moveBy(0,n),o=e.clone().moveBy(0,-n),r=new As(t).excludeScrollbarsAndBorders();if(![o,i].every(t=>r.contains(t))){let{scrollX:s,scrollY:a}=t;Is(o,r)?a-=r.top-e.top+n:Ss(i,r)&&(a+=e.bottom-r.bottom+n),Ns(e,r)?s-=r.left-e.left+n:Os(e,r)&&(s+=e.right-r.right+n),t.scrollTo(s,a)}}function Es(t,e){const n=Rs(t);let i,o;for(;t!=n.document.body;)o=e(),(i=new As(t).excludeScrollbarsAndBorders()).contains(o)||(Is(o,i)?t.scrollTop-=i.top-o.top:Ss(o,i)&&(t.scrollTop+=o.bottom-i.bottom),Ns(o,i)?t.scrollLeft-=i.left-o.left:Os(o,i)&&(t.scrollLeft+=o.right-i.right)),t=t.parentNode}function Ss(t,e){return t.bottom>e.bottom}function Is(t,e){return t.top<e.top}function Ns(t,e){return t.left<e.left}function Os(t,e){return t.right>e.right}function Rs(t){return vs(t)?t.startContainer.ownerDocument.defaultView:t.ownerDocument.defaultView}function Ds(t){if(vs(t)){let e=t.commonAncestorContainer;return Do(e)&&(e=e.parentNode),e}return t.parentNode}function Ls(t,e){const n=Rs(t),i=new As(t);if(n===e)return i;{let t=n;for(;t!=e;){const e=t.frameElement,n=new As(e).excludeScrollbarsAndBorders();i.moveBy(n.left,n.top),t=t.parent}}return i}Object.assign({},{scrollViewportToShowTarget:Ps,scrollAncestorsToShowTarget:function(t){Es(Ds(t),()=>new As(t))}});class js{constructor(){this.document=new ro,this.domConverter=new rr,this.domRoots=new Map,this.set("isRenderingInProgress",!1),this._renderer=new Xo(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new Co(this.document),this.addObserver(Zr),this.addObserver(ws),this.addObserver(_s),this.addObserver(es),this.addObserver(gs),this.addObserver(ks),function(t){t.document.on("keydown",Wo)}(this),yo(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0})}attachDomRoot(t,e="main"){const n=this.document.getRoot(e);n._name=t.tagName.toLowerCase();const i={};for(const{name:e,value:o}of Array.from(t.attributes))i[e]=o,"class"===e?this._writer.addClass(o.split(" "),n):this._writer.setAttribute(e,o,n);this._initialDomRootAttributes.set(t,i);const o=()=>{this._writer.setAttribute("contenteditable",!n.isReadOnly,n),n.isReadOnly?this._writer.addClass("ck-read-only",n):this._writer.removeClass("ck-read-only",n)};o(),this.domRoots.set(e,t),this.domConverter.bindElements(t,n),this._renderer.markToSync("children",n),this._renderer.markToSync("attributes",n),this._renderer.domDocuments.add(t.ownerDocument),n.on("change:children",(t,e)=>this._renderer.markToSync("children",e)),n.on("change:attributes",(t,e)=>this._renderer.markToSync("attributes",e)),n.on("change:text",(t,e)=>this._renderer.markToSync("text",e)),n.on("change:isReadOnly",()=>this.change(o)),n.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const n of this._observers.values())n.observe(t,e)}detachDomRoot(t){const e=this.domRoots.get(t);Array.from(e.attributes).forEach(({name:t})=>e.removeAttribute(t));const n=this._initialDomRootAttributes.get(e);for(const t in n)e.setAttribute(t,n[t]);this.domRoots.delete(t),this.domConverter.unbindDomElement(e)}getDomRoot(t="main"){return this.domRoots.get(t)}addObserver(t){let e=this._observers.get(t);if(e)return e;e=new t(this),this._observers.set(t,e);for(const[t,n]of this.domRoots)e.observe(n,t);return e.enable(),e}getObserver(t){return this._observers.get(t)}disableObservers(){for(const t of this._observers.values())t.disable()}enableObservers(){for(const t of this._observers.values())t.enable()}scrollToTheSelection(){const t=this.document.selection.getFirstRange();t&&Ps({target:this.domConverter.viewRangeToDom(t),viewportOffset:20})}focus(){if(!this.document.isFocused){const t=this.document.selection.editableElement;t?(this.domConverter.focus(t),this.forceRender()):bs.a.warn("view-focus-no-selection: There is no selection in any editable to focus.")}}change(t){if(this.isRenderingInProgress||this._postFixersInProgress)throw new Gn.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.");if(this._ongoingChange)return t(this._writer);this._ongoingChange=!0;const e=t(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),e}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.change(()=>{})}destroy(){for(const t of this._observers.values())t.destroy();this.document.destroy(),this.stopListening()}createPositionAt(t,e){return Zi._createAt(t,e)}createPositionAfter(t){return Zi._createAfter(t)}createPositionBefore(t){return Zi._createBefore(t)}createRange(t,e){return new Xi(t,e)}createRangeOn(t){return Xi._createOn(t)}createRangeIn(t){return Xi._createIn(t)}createSelection(t,e,n){return new no(t,e,n)}_disableRendering(t){this._renderingDisabled=t,0==t&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}function Vs(t){return C(t)?pi(t):new Map(t)}ci(js,Fi);class Bs{constructor(t){this.parent=null,this._attrs=Vs(t)}get index(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildIndex(this)))throw new Gn.b("model-node-not-found-in-parent: The node's parent does not contain this node.");return t}get startOffset(){let t;if(!this.parent)return null;if(null===(t=this.parent.getChildStartOffset(this)))throw new Gn.b("model-node-not-found-in-parent: The node's parent does not contain this node.");return t}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const t=this.index;return null!==t&&this.parent.getChild(t+1)||null}get previousSibling(){const t=this.index;return null!==t&&this.parent.getChild(t-1)||null}get root(){let t=this;for(;t.parent;)t=t.parent;return t}get document(){return this.root==this?null:this.root.document||null}getPath(){const t=[];let e=this;for(;e.parent;)t.unshift(e.startOffset),e=e.parent;return t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}getCommonAncestor(t,e={}){const n=this.getAncestors(e),i=t.getAncestors(e);let o=0;for(;n[o]==i[o]&&n[o];)o++;return 0===o?null:n[o-1]}isBefore(t){if(this==t)return!1;if(this.root!==t.root)return!1;const e=this.getPath(),n=t.getPath(),i=li(e,n);switch(i){case"prefix":return!0;case"extension":return!1;default:return e[i]<n[i]}}isAfter(t){return this!=t&&(this.root===t.root&&!this.isBefore(t))}hasAttribute(t){return this._attrs.has(t)}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const t={};return this._attrs.size&&(t.attributes=Array.from(this._attrs).reduce((t,e)=>(t[e[0]]=e[1],t),{})),t}_clone(){return new Bs(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(t,e){this._attrs.set(t,e)}_setAttributesTo(t){this._attrs=Vs(t)}_removeAttribute(t){return this._attrs.delete(t)}_clearAttributes(){this._attrs.clear()}is(t){return"node"==t}}class zs extends Bs{constructor(t,e){super(e),this._data=t||""}get offsetSize(){return this.data.length}get data(){return this._data}is(t){return"text"==t||super.is(t)}toJSON(){const t=super.toJSON();return t.data=this.data,t}_clone(){return new zs(this.data,this.getAttributes())}static fromJSON(t){return new zs(t.data,t.attributes)}}class Fs{constructor(t,e,n){if(this.textNode=t,e<0||e>t.offsetSize)throw new Gn.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.");if(n<0||e+n>t.offsetSize)throw new Gn.b("model-textproxy-wrong-length: Given length value is incorrect.");this.data=t.data.substring(e,e+n),this.offsetInText=e}get startOffset(){return null!==this.textNode.startOffset?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return null!==this.startOffset?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}is(t){return"textProxy"==t}getPath(){const t=this.textNode.getPath();return t.length>0&&(t[t.length-1]+=this.offsetInText),t}getAncestors(t={includeSelf:!1,parentFirst:!1}){const e=[];let n=t.includeSelf?this:this.parent;for(;n;)e[t.parentFirst?"push":"unshift"](n),n=n.parent;return e}hasAttribute(t){return this.textNode.hasAttribute(t)}getAttribute(t){return this.textNode.getAttribute(t)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}class Us{constructor(t){this._nodes=[],t&&this._insertNodes(0,t)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((t,e)=>t+e.offsetSize,0)}getNode(t){return this._nodes[t]||null}getNodeIndex(t){const e=this._nodes.indexOf(t);return-1==e?null:e}getNodeStartOffset(t){const e=this.getNodeIndex(t);return null===e?null:this._nodes.slice(0,e).reduce((t,e)=>t+e.offsetSize,0)}indexToOffset(t){if(t==this._nodes.length)return this.maxOffset;const e=this._nodes[t];if(!e)throw new Gn.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.");return this.getNodeStartOffset(e)}offsetToIndex(t){let e=0;for(const n of this._nodes){if(t>=e&&t<e+n.offsetSize)return this.getNodeIndex(n);e+=n.offsetSize}if(e!=t)throw new Gn.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",{offset:t,nodeList:this});return this.length}_insertNodes(t,e){for(const t of e)if(!(t instanceof Bs))throw new Gn.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.");this._nodes.splice(t,0,...e)}_removeNodes(t,e=1){return this._nodes.splice(t,e)}toJSON(){return this._nodes.map(t=>t.toJSON())}}class Hs extends Bs{constructor(t,e,n){super(e),this.name=t,this._children=new Us,n&&this._insertChild(0,n)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}is(t,e=null){return e?"element"==t&&e==this.name:"element"==t||t==this.name||super.is(t)}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}offsetToIndex(t){return this._children.offsetToIndex(t)}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}toJSON(){const t=super.toJSON();if(t.name=this.name,this._children.length>0){t.children=[];for(const e of this._children)t.children.push(e.toJSON())}return t}_clone(t=!1){const e=t?Array.from(this._children).map(t=>t._clone(!0)):null;return new Hs(this.name,this.getAttributes(),e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new zs(t)];gi(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new zs(t):t instanceof Fs?new zs(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}static fromJSON(t){let e=null;if(t.children){e=[];for(const n of t.children)n.name?e.push(Hs.fromJSON(n)):e.push(zs.fromJSON(n))}return new Hs(t.name,t.attributes,e)}}class qs{constructor(t={}){if(!t.boundaries&&!t.startPosition)throw new Gn.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.");const e=t.direction||"forward";if("forward"!=e&&"backward"!=e)throw new Gn.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",{direction:e});this.direction=e,this.boundaries=t.boundaries||null,t.startPosition?this.position=t.startPosition.clone():this.position=$s._createAt(this.boundaries["backward"==this.direction?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!t.singleCharacters,this.shallow=!!t.shallow,this.ignoreElementEnd=!!t.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}skip(t){let e,n,i,o;do{i=this.position,o=this._visitedParent,({done:e,value:n}=this.next())}while(!e&&t(n));e||(this.position=i,this._visitedParent=o)}next(){return"forward"==this.direction?this._next():this._previous()}_next(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&e.offset===n.maxOffset)return{done:!0};if(n===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeAfter;if(i instanceof Hs)return this.shallow?e.offset++:(e.path.push(0),this._visitedParent=i),this.position=e,Ws("elementStart",i,t,e,1);if(i instanceof zs){let o;if(this.singleCharacters)o=1;else{let t=i.endOffset;this._boundaryEndParent==n&&this.boundaries.end.offset<t&&(t=this.boundaries.end.offset),o=t-e.offset}const r=e.offset-i.startOffset,s=new Fs(i,r,o);return e.offset+=o,this.position=e,Ws("text",s,t,e,o)}return e.path.pop(),e.offset++,this.position=e,this._visitedParent=n.parent,this.ignoreElementEnd?this._next():Ws("elementEnd",n,t,e)}_previous(){const t=this.position,e=this.position.clone(),n=this._visitedParent;if(null===n.parent&&0===e.offset)return{done:!0};if(n==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};const i=e.textNode?e.textNode:e.nodeBefore;if(i instanceof Hs)return e.offset--,this.shallow?(this.position=e,Ws("elementStart",i,t,e,1)):(e.path.push(i.maxOffset),this.position=e,this._visitedParent=i,this.ignoreElementEnd?this._previous():Ws("elementEnd",i,t,e));if(i instanceof zs){let o;if(this.singleCharacters)o=1;else{let t=i.startOffset;this._boundaryStartParent==n&&this.boundaries.start.offset>t&&(t=this.boundaries.start.offset),o=e.offset-t}const r=e.offset-i.startOffset,s=new Fs(i,r-o,o);return e.offset-=o,this.position=e,Ws("text",s,t,e,o)}return e.path.pop(),this.position=e,this._visitedParent=n.parent,Ws("elementStart",n,t,e,1)}}function Ws(t,e,n,i,o){return{done:!1,value:{type:t,item:e,previousPosition:n,nextPosition:i,length:o}}}var Ys=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0};class $s{constructor(t,e,n="toNone"){if(!t.is("element")&&!t.is("documentFragment"))throw new Gn.b("model-position-root-invalid: Position root invalid.");if(!(e instanceof Array)||0===e.length)throw new Gn.b("model-position-path-incorrect: Position path must be an array with at least one item.",{path:e});e=t.getPath().concat(e),t=t.root,this.root=t,this.path=e,this.stickiness=n}get offset(){return Ys(this.path)}set offset(t){this.path[this.path.length-1]=t}get parent(){let t=this.root;for(let e=0;e<this.path.length-1;e++)t=t.getChild(t.offsetToIndex(this.path[e]));return t}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){const t=this.parent.getChild(this.index);return t instanceof zs&&t.startOffset<this.offset?t:null}get nodeAfter(){return null===this.textNode?this.parent.getChild(this.index):null}get nodeBefore(){return null===this.textNode?this.parent.getChild(this.index-1):null}get isAtStart(){return 0===this.offset}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(t){if(this.root!=t.root)return"different";const e=li(this.path,t.path);switch(e){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[e]<t.path[e]?"before":"after"}}getLastMatchingPosition(t,e={}){e.startPosition=this;const n=new qs(e);return n.skip(t),n.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonPath(t){if(this.root!=t.root)return[];const e=li(this.path,t.path),n="string"==typeof e?Math.min(this.path.length,t.path.length):e;return this.path.slice(0,n)}getCommonAncestor(t){const e=this.getAncestors(),n=t.getAncestors();let i=0;for(;e[i]==n[i]&&e[i];)i++;return 0===i?null:e[i-1]}getShiftedBy(t){const e=this.clone(),n=e.offset+t;return e.offset=n<0?0:n,e}isAfter(t){return"after"==this.compareWith(t)}isBefore(t){return"before"==this.compareWith(t)}isEqual(t){return"same"==this.compareWith(t)}isTouching(t){let e=null,n=null;switch(this.compareWith(t)){case"same":return!0;case"before":e=$s._createAt(this),n=$s._createAt(t);break;case"after":e=$s._createAt(t),n=$s._createAt(this);break;default:return!1}let i=e.parent;for(;e.path.length+n.path.length;){if(e.isEqual(n))return!0;if(e.path.length>n.path.length){if(e.offset!==i.maxOffset)return!1;e.path=e.path.slice(0,-1),i=i.parent,e.offset++}else{if(0!==n.offset)return!1;n.path=n.path.slice(0,-1)}}}hasSameParentAs(t){if(this.root!==t.root)return!1;return"same"==li(this.getParentPath(),t.getParentPath())}getTransformedByOperation(t){let e;switch(t.type){case"insert":e=this._getTransformedByInsertOperation(t);break;case"move":case"remove":case"reinsert":e=this._getTransformedByMoveOperation(t);break;case"split":e=this._getTransformedBySplitOperation(t);break;case"merge":e=this._getTransformedByMergeOperation(t);break;default:e=$s._createAt(this)}return e}_getTransformedByInsertOperation(t){return this._getTransformedByInsertion(t.position,t.howMany)}_getTransformedByMoveOperation(t){return this._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany)}_getTransformedBySplitOperation(t){const e=t.movedRange;return e.containsPosition(this)||e.start.isEqual(this)&&"toNext"==this.stickiness?this._getCombined(t.splitPosition,t.moveTargetPosition):t.graveyardPosition?this._getTransformedByMove(t.graveyardPosition,t.insertionPosition,1):this._getTransformedByInsertion(t.insertionPosition,1)}_getTransformedByMergeOperation(t){const e=t.movedRange;let n;return e.containsPosition(this)||e.start.isEqual(this)?(n=this._getCombined(t.sourcePosition,t.targetPosition),t.sourcePosition.isBefore(t.targetPosition)&&(n=n._getTransformedByDeletion(t.deletionPosition,1))):n=this.isEqual(t.deletionPosition)?$s._createAt(t.deletionPosition):this._getTransformedByMove(t.deletionPosition,t.graveyardPosition,1),n}_getTransformedByDeletion(t,e){const n=$s._createAt(this);if(this.root!=t.root)return n;if("same"==li(t.getParentPath(),this.getParentPath())){if(t.offset<this.offset){if(t.offset+e>this.offset)return null;n.offset-=e}}else if("prefix"==li(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;if(t.offset<=this.path[i]){if(t.offset+e>this.path[i])return null;n.path[i]-=e}}return n}_getTransformedByInsertion(t,e){const n=$s._createAt(this);if(this.root!=t.root)return n;if("same"==li(t.getParentPath(),this.getParentPath()))(t.offset<this.offset||t.offset==this.offset&&"toPrevious"!=this.stickiness)&&(n.offset+=e);else if("prefix"==li(t.getParentPath(),this.getParentPath())){const i=t.path.length-1;t.offset<=this.path[i]&&(n.path[i]+=e)}return n}_getTransformedByMove(t,e,n){if(e=e._getTransformedByDeletion(t,n),t.isEqual(e))return $s._createAt(this);const i=this._getTransformedByDeletion(t,n);return null===i||t.isEqual(this)&&"toNext"==this.stickiness||t.getShiftedBy(n).isEqual(this)&&"toPrevious"==this.stickiness?this._getCombined(t,e):i._getTransformedByInsertion(e,n)}_getCombined(t,e){const n=t.path.length-1,i=$s._createAt(e);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[n]-t.offset,i.path=i.path.concat(this.path.slice(n+1)),i}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(t,e,n="toNone"){if(t instanceof $s)return new $s(t.root,t.path,t.stickiness);{const i=t;if("end"==e)e=i.maxOffset;else{if("before"==e)return this._createBefore(i,n);if("after"==e)return this._createAfter(i,n);if(0!==e&&!e)throw new Gn.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.")}if(!i.is("element")&&!i.is("documentFragment"))throw new Gn.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.");const o=i.getPath();return o.push(e),new this(i.root,o,n)}}static _createAfter(t,e){if(!t.parent)throw new Gn.b("model-position-after-root: You cannot make a position after root.",{root:t});return this._createAt(t.parent,t.endOffset,e)}static _createBefore(t,e){if(!t.parent)throw new Gn.b("model-position-before-root: You cannot make a position before root.",{root:t});return this._createAt(t.parent,t.startOffset,e)}static fromJSON(t,e){if("$graveyard"===t.root){const n=new $s(e.graveyard,t.path);return n.stickiness=t.stickiness,n}if(!e.getRoot(t.root))throw new Gn.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",{rootName:t.root});return new $s(e.getRoot(t.root),t.path,t.stickiness)}}class Gs{constructor(t,e=null){this.start=$s._createAt(t),this.end=e?$s._createAt(e):$s._createAt(t),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new qs({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return"same"==li(this.start.getParentPath(),this.end.getParentPath())}get root(){return this.start.root}containsPosition(t){return t.isAfter(this.start)&&t.isBefore(this.end)}containsRange(t,e=!1){t.isCollapsed&&(e=!1);const n=this.containsPosition(t.start)||e&&this.start.isEqual(t.start),i=this.containsPosition(t.end)||e&&this.end.isEqual(t.end);return n&&i}containsItem(t){const e=$s._createBefore(t);return this.containsPosition(e)||this.start.isEqual(e)}isEqual(t){return this.start.isEqual(t.start)&&this.end.isEqual(t.end)}isIntersecting(t){return this.start.isBefore(t.end)&&this.end.isAfter(t.start)}getDifference(t){const e=[];return this.isIntersecting(t)?(this.containsPosition(t.start)&&e.push(new Gs(this.start,t.start)),this.containsPosition(t.end)&&e.push(new Gs(t.end,this.end))):e.push(new Gs(this.start,this.end)),e}getIntersection(t){if(this.isIntersecting(t)){let e=this.start,n=this.end;return this.containsPosition(t.start)&&(e=t.start),this.containsPosition(t.end)&&(n=t.end),new Gs(e,n)}return null}getMinimalFlatRanges(){const t=[],e=this.start.getCommonPath(this.end).length,n=$s._createAt(this.start);let i=n.parent;for(;n.path.length>e+1;){const e=i.maxOffset-n.offset;0!==e&&t.push(new Gs(n,n.getShiftedBy(e))),n.path=n.path.slice(0,-1),n.offset++,i=i.parent}for(;n.path.length<=this.end.path.length;){const e=this.end.path[n.path.length-1],i=e-n.offset;0!==i&&t.push(new Gs(n,n.getShiftedBy(i))),n.offset=e,n.path.push(0)}return t}getWalker(t={}){return t.boundaries=this,new qs(t)}*getItems(t={}){t.boundaries=this,t.ignoreElementEnd=!0;const e=new qs(t);for(const t of e)yield t.item}*getPositions(t={}){t.boundaries=this;const e=new qs(t);yield e.position;for(const t of e)yield t.nextPosition}getTransformedByOperation(t){switch(t.type){case"insert":return this._getTransformedByInsertOperation(t);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(t);case"split":return[this._getTransformedBySplitOperation(t)];case"merge":return[this._getTransformedByMergeOperation(t)]}return[new Gs(this.start,this.end)]}getTransformedByOperations(t){const e=[new Gs(this.start,this.end)];for(const n of t)for(let t=0;t<e.length;t++){const i=e[t].getTransformedByOperation(n);e.splice(t,1,...i),t+=i.length-1}for(let t=0;t<e.length;t++){const n=e[t];for(let i=t+1;i<e.length;i++){const t=e[i];(n.containsRange(t)||t.containsRange(n)||n.isEqual(t))&&e.splice(i,1)}}return e}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(t,e=!1){return this._getTransformedByInsertion(t.position,t.howMany,e)}_getTransformedByMoveOperation(t,e=!1){const n=t.sourcePosition,i=t.howMany,o=t.targetPosition;return this._getTransformedByMove(n,o,i,e)}_getTransformedBySplitOperation(t){const e=this.start._getTransformedBySplitOperation(t);let n=this.end._getTransformedBySplitOperation(t);return this.end.isEqual(t.insertionPosition)&&(n=this.end.getShiftedBy(1)),e.root!=n.root&&(n=this.end.getShiftedBy(-1)),new Gs(e,n)}_getTransformedByMergeOperation(t){if(this.start.isEqual(t.targetPosition)&&this.end.isEqual(t.deletionPosition))return new Gs(this.start);let e=this.start._getTransformedByMergeOperation(t),n=this.end._getTransformedByMergeOperation(t);return e.root!=n.root&&(n=this.end.getShiftedBy(-1)),e.isAfter(n)?(t.sourcePosition.isBefore(t.targetPosition)?(e=$s._createAt(n)).offset=0:(t.deletionPosition.isEqual(e)||(n=t.deletionPosition),e=t.targetPosition),new Gs(e,n)):new Gs(e,n)}_getTransformedByInsertion(t,e,n=!1){if(n&&this.containsPosition(t))return[new Gs(this.start,t),new Gs(t.getShiftedBy(e),this.end._getTransformedByInsertion(t,e))];{const n=new Gs(this.start,this.end);return n.start=n.start._getTransformedByInsertion(t,e),n.end=n.end._getTransformedByInsertion(t,e),[n]}}_getTransformedByMove(t,e,n,i=!1){if(this.isCollapsed){const i=this.start._getTransformedByMove(t,e,n);return[new Gs(i)]}const o=Gs._createFromPositionAndShift(t,n),r=e._getTransformedByDeletion(t,n);if(this.containsPosition(e)&&!i&&(o.containsPosition(this.start)||o.containsPosition(this.end))){const i=this.start._getTransformedByMove(t,e,n),o=this.end._getTransformedByMove(t,e,n);return[new Gs(i,o)]}let s;const a=this.getDifference(o);let c=null;const l=this.getIntersection(o);if(1==a.length?c=new Gs(a[0].start._getTransformedByDeletion(t,n),a[0].end._getTransformedByDeletion(t,n)):2==a.length&&(c=new Gs(this.start,this.end._getTransformedByDeletion(t,n))),s=c?c._getTransformedByInsertion(r,n,null!==l||i):[],l){const t=new Gs(l.start._getCombined(o.start,r),l.end._getCombined(o.start,r));2==s.length?s.splice(1,0,t):s.push(t)}return s}_getTransformedByDeletion(t,e){let n=this.start._getTransformedByDeletion(t,e),i=this.end._getTransformedByDeletion(t,e);return null==n&&null==i?null:(null==n&&(n=t),null==i&&(i=t),new Gs(n,i))}static _createFromPositionAndShift(t,e){const n=t,i=t.getShiftedBy(e);return e>0?new this(n,i):new this(i,n)}static _createIn(t){return new this($s._createAt(t,0),$s._createAt(t,t.maxOffset))}static _createOn(t){return this._createFromPositionAndShift($s._createBefore(t),t.offsetSize)}static _createFromRanges(t){if(0===t.length)throw new Gn.b("range-create-from-ranges-empty-array: At least one range has to be passed.");if(1==t.length)return t[0].clone();const e=t[0];t.sort((t,e)=>t.start.isAfter(e.start)?1:-1);const n=t.indexOf(e),i=new this(e.start,e.end);if(n>0)for(let e=n-1;t[e].end.isEqual(i.start);e++)i.start=$s._createAt(t[e].start);for(let e=n+1;e<t.length&&t[e].start.isEqual(i.end);e++)i.end=$s._createAt(t[e].end);return i}static fromJSON(t,e){return new this($s.fromJSON(t.start,e),$s.fromJSON(t.end,e))}}class Qs{constructor(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this.on("modelToViewPosition",(t,e)=>{if(e.viewPosition)return;const n=this._modelToViewMapping.get(e.modelPosition.parent);e.viewPosition=this._findPositionIn(n,e.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(t,e)=>{if(e.modelPosition)return;const n=this.findMappedViewAncestor(e.viewPosition),i=this._viewToModelMapping.get(n),o=this._toModelOffset(e.viewPosition.parent,e.viewPosition.offset,n);e.modelPosition=$s._createAt(i,o)},{priority:"low"})}bindElements(t,e){this._modelToViewMapping.set(t,e),this._viewToModelMapping.set(e,t)}unbindViewElement(t){const e=this.toModelElement(t);this._viewToModelMapping.delete(t),this._modelToViewMapping.get(e)==t&&this._modelToViewMapping.delete(e)}unbindModelElement(t){const e=this.toViewElement(t);this._modelToViewMapping.delete(t),this._viewToModelMapping.get(e)==t&&this._viewToModelMapping.delete(e)}bindElementToMarker(t,e){const n=this._markerNameToElements.get(e)||new Set;n.add(t),this._markerNameToElements.set(e,n)}unbindElementsFromMarkerName(t){this._markerNameToElements.delete(t)}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map}toModelElement(t){return this._viewToModelMapping.get(t)}toViewElement(t){return this._modelToViewMapping.get(t)}toModelRange(t){return new Gs(this.toModelPosition(t.start),this.toModelPosition(t.end))}toViewRange(t){return new Xi(this.toViewPosition(t.start),this.toViewPosition(t.end))}toModelPosition(t){const e={viewPosition:t,mapper:this};return this.fire("viewToModelPosition",e),e.modelPosition}toViewPosition(t,e={isPhantom:!1}){const n={modelPosition:t,mapper:this,isPhantom:e.isPhantom};return this.fire("modelToViewPosition",n),n.viewPosition}markerNameToElements(t){const e=this._markerNameToElements.get(t);if(!e)return null;const n=new Set;for(const t of e)if(t.is("attributeElement"))for(const e of t.getElementsWithSameId())n.add(e);else n.add(t);return n}registerViewToModelLength(t,e){this._viewToModelLengthCallbacks.set(t,e)}findMappedViewAncestor(t){let e=t.parent;for(;!this._viewToModelMapping.has(e);)e=e.parent;return e}_toModelOffset(t,e,n){if(n!=t){return this._toModelOffset(t.parent,t.index,n)+this._toModelOffset(t,e,t)}if(t.is("text"))return e;let i=0;for(let n=0;n<e;n++)i+=this.getModelLength(t.getChild(n));return i}getModelLength(t){if(this._viewToModelLengthCallbacks.get(t.name)){return this._viewToModelLengthCallbacks.get(t.name)(t)}if(this._viewToModelMapping.has(t))return 1;if(t.is("text"))return t.data.length;if(t.is("uiElement"))return 0;{let e=0;for(const n of t.getChildren())e+=this.getModelLength(n);return e}}_findPositionIn(t,e){let n,i=0,o=0,r=0;if(t.is("text"))return new Zi(t,e);for(;o<e;)n=t.getChild(r),o+=i=this.getModelLength(n),r++;return o==e?this._moveViewPositionToTextNode(new Zi(t,r)):this._findPositionIn(n,e-(o-i))}_moveViewPositionToTextNode(t){const e=t.nodeBefore,n=t.nodeAfter;return e instanceof fi?new Zi(e,e.data.length):n instanceof fi?new Zi(n,0):t}}ci(Qs,ei);class Js{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(t,e){e=Ks(e),t instanceof Fs&&(t=this._getSymbolForTextProxy(t)),this._consumable.has(t)||this._consumable.set(t,new Map),this._consumable.get(t).set(e,!0)}consume(t,e){return e=Ks(e),t instanceof Fs&&(t=this._getSymbolForTextProxy(t)),!!this.test(t,e)&&(this._consumable.get(t).set(e,!1),!0)}test(t,e){e=Ks(e),t instanceof Fs&&(t=this._getSymbolForTextProxy(t));const n=this._consumable.get(t);if(void 0===n)return null;const i=n.get(e);return void 0===i?null:i}revert(t,e){e=Ks(e),t instanceof Fs&&(t=this._getSymbolForTextProxy(t));const n=this.test(t,e);return!1===n?(this._consumable.get(t).set(e,!0),!0):!0!==n&&null}_getSymbolForTextProxy(t){let e=null;const n=this._textProxyRegistry.get(t.startOffset);if(n){const i=n.get(t.endOffset);i&&(e=i.get(t.parent))}return e||(e=this._addSymbolForTextProxy(t.startOffset,t.endOffset,t.parent)),e}_addSymbolForTextProxy(t,e,n){const i=Symbol("textProxySymbol");let o,r;return(o=this._textProxyRegistry.get(t))||(o=new Map,this._textProxyRegistry.set(t,o)),(r=o.get(e))||(r=new Map,o.set(e,r)),r.set(n,i),i}}function Ks(t){const e=t.split(":");return e.length>1?e[0]+":"+e[1]:e[0]}class Zs{constructor(t={}){this.conversionApi=Li({dispatcher:this},t)}convertChanges(t,e){for(const n of t.getMarkersToRemove())this.convertMarkerRemove(n.name,n.range,e);for(const n of t.getChanges())"insert"==n.type?this.convertInsert(Gs._createFromPositionAndShift(n.position,n.length),e):"remove"==n.type?this.convertRemove(n.position,n.length,n.name,e):this.convertAttribute(n.range,n.attributeKey,n.attributeOldValue,n.attributeNewValue,e);for(const n of t.getMarkersToAdd())this.convertMarkerAdd(n.name,n.range,e)}convertInsert(t,e){this.conversionApi.writer=e,this.conversionApi.consumable=this._createInsertConsumable(t);for(const e of t){const t=e.item,n={item:t,range:Gs._createFromPositionAndShift(e.previousPosition,e.length)};this._testAndFire("insert",n);for(const e of t.getAttributeKeys())n.attributeKey=e,n.attributeOldValue=null,n.attributeNewValue=t.getAttribute(e),this._testAndFire(`attribute:${e}`,n)}this._clearConversionApi()}convertRemove(t,e,n,i){this.conversionApi.writer=i,this.fire("remove:"+n,{position:t,length:e},this.conversionApi),this._clearConversionApi()}convertAttribute(t,e,n,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(t,`attribute:${e}`);for(const o of t){const t={item:o.item,range:Gs._createFromPositionAndShift(o.previousPosition,o.length),attributeKey:e,attributeOldValue:n,attributeNewValue:i};this._testAndFire(`attribute:${e}`,t)}this._clearConversionApi()}convertSelection(t,e,n){const i=Array.from(e.getMarkersAtPosition(t.getFirstPosition()));if(this.conversionApi.writer=n,this.conversionApi.consumable=this._createSelectionConsumable(t,i),this.fire("selection",{selection:t},this.conversionApi),t.isCollapsed){for(const e of i){const n=e.getRange();if(!Xs(t.getFirstPosition(),e,this.conversionApi.mapper))continue;const i={item:t,markerName:e.name,markerRange:n};this.conversionApi.consumable.test(t,"addMarker:"+e.name)&&this.fire("addMarker:"+e.name,i,this.conversionApi)}for(const e of t.getAttributeKeys()){const n={item:t,range:t.getFirstRange(),attributeKey:e,attributeOldValue:null,attributeNewValue:t.getAttribute(e)};this.conversionApi.consumable.test(t,"attribute:"+n.attributeKey)&&this.fire("attribute:"+n.attributeKey+":$text",n,this.conversionApi)}this._clearConversionApi()}}convertMarkerAdd(t,e,n){if(!e.root.document||"$graveyard"==e.root.rootName)return;this.conversionApi.writer=n;const i="addMarker:"+t,o=new Js;if(o.add(e,i),this.conversionApi.consumable=o,this.fire(i,{markerName:t,markerRange:e},this.conversionApi),o.test(e,i)){this.conversionApi.consumable=this._createConsumableForRange(e,i);for(const n of e.getItems()){if(!this.conversionApi.consumable.test(n,i))continue;const o={item:n,range:Gs._createOn(n),markerName:t,markerRange:e};this.fire(i,o,this.conversionApi)}this._clearConversionApi()}}convertMarkerRemove(t,e,n){e.root.document&&"$graveyard"!=e.root.rootName&&(this.conversionApi.writer=n,this.fire("removeMarker:"+t,{markerName:t,markerRange:e},this.conversionApi),this._clearConversionApi())}_createInsertConsumable(t){const e=new Js;for(const n of t){const t=n.item;e.add(t,"insert");for(const n of t.getAttributeKeys())e.add(t,"attribute:"+n)}return e}_createConsumableForRange(t,e){const n=new Js;for(const i of t.getItems())n.add(i,e);return n}_createSelectionConsumable(t,e){const n=new Js;n.add(t,"selection");for(const i of e)n.add(t,"addMarker:"+i.name);for(const e of t.getAttributeKeys())n.add(t,"attribute:"+e);return n}_testAndFire(t,e){if(!this.conversionApi.consumable.test(e.item,t))return;const n=e.item.name||"$text";this.fire(t+":"+n,e,this.conversionApi)}_clearConversionApi(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}function Xs(t,e,n){const i=e.getRange(),o=Array.from(t.getAncestors());return o.shift(),o.reverse(),!o.some(t=>{if(i.containsItem(t)){return!!n.toViewElement(t).getCustomProperty("addHighlight")}})}ci(Zs,ei);class ta{constructor(t,e,n){this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,t&&this.setTo(t,e,n)}get anchor(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.end:t.start}return null}get focus(){if(this._ranges.length>0){const t=this._ranges[this._ranges.length-1];return this._lastRangeBackward?t.start:t.end}return null}get isCollapsed(){return 1===this._ranges.length&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(t){if(this.rangeCount!=t.rangeCount)return!1;if(0===this.rangeCount)return!0;if(!this.anchor.isEqual(t.anchor)||!this.focus.isEqual(t.focus))return!1;for(const e of this._ranges){let n=!1;for(const i of t._ranges)if(e.isEqual(i)){n=!0;break}if(!n)return!1}return!0}*getRanges(){for(const t of this._ranges)yield new Gs(t.start,t.end)}getFirstRange(){let t=null;for(const e of this._ranges)t&&!e.start.isBefore(t.start)||(t=e);return t?new Gs(t.start,t.end):null}getLastRange(){let t=null;for(const e of this._ranges)t&&!e.end.isAfter(t.end)||(t=e);return t?new Gs(t.start,t.end):null}getFirstPosition(){const t=this.getFirstRange();return t?t.start.clone():null}getLastPosition(){const t=this.getLastRange();return t?t.end.clone():null}setTo(t,e,n){if(null===t)this._setRanges([]);else if(t instanceof ta)this._setRanges(t.getRanges(),t.isBackward);else if(t&&"function"==typeof t.getRanges)this._setRanges(t.getRanges(),t.isBackward);else if(t instanceof Gs)this._setRanges([t],!!e&&!!e.backward);else if(t instanceof $s)this._setRanges([new Gs(t)]);else if(t instanceof Bs){const i=!!n&&!!n.backward;let o;if("in"==e)o=Gs._createIn(t);else if("on"==e)o=Gs._createOn(t);else{if(void 0===e)throw new Gn.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.");o=new Gs($s._createAt(t,e))}this._setRanges([o],i)}else{if(!gi(t))throw new Gn.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.");this._setRanges(t,e&&!!e.backward)}}_setRanges(t,e=!1){const n=(t=Array.from(t)).some(t=>{if(!(t instanceof Gs))throw new Gn.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.");return this._ranges.every(e=>!e.isEqual(t))});if(t.length!==this._ranges.length||n){this._removeAllRanges();for(const e of t)this._pushRange(e);this._lastRangeBackward=!!e,this.fire("change:range",{directChange:!0})}}setFocus(t,e){if(null===this.anchor)throw new Gn.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.");const n=$s._createAt(t,e);if("same"==n.compareWith(this.focus))return;const i=this.anchor;this._ranges.length&&this._popRange(),"before"==n.compareWith(i)?(this._pushRange(new Gs(n,i)),this._lastRangeBackward=!0):(this._pushRange(new Gs(i,n)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(t){return this._attrs.get(t)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(t){return this._attrs.has(t)}removeAttribute(t){this.hasAttribute(t)&&(this._attrs.delete(t),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}setAttribute(t,e){this.getAttribute(t)!==e&&(this._attrs.set(t,e),this.fire("change:attribute",{attributeKeys:[t],directChange:!0}))}getSelectedElement(){if(1!==this.rangeCount)return null;const t=this.getFirstRange(),e=t.start.nodeAfter,n=t.end.nodeBefore;return e instanceof Hs&&e==n?e:null}is(t){return"selection"==t}*getSelectedBlocks(){const t=new WeakSet;for(const e of this.getRanges()){const n=na(e.start,t);n&&(yield n);for(const n of e.getWalker())"elementEnd"==n.type&&ea(n.item,t)&&(yield n.item);const i=na(e.end,t);i&&!e.end.isTouching($s._createAt(i,0))&&(yield i)}}*getTopMostBlocks(){const t=Array.from(this.getSelectedBlocks());for(const e of t){const n=ia(e);n&&t.includes(n)||(yield e)}}containsEntireContent(t=this.anchor.root){const e=$s._createAt(t,0),n=$s._createAt(t,"end");return e.isTouching(this.getFirstPosition())&&n.isTouching(this.getLastPosition())}_pushRange(t){this._checkRange(t),this._ranges.push(new Gs(t.start,t.end))}_checkRange(t){for(let e=0;e<this._ranges.length;e++)if(t.isIntersecting(this._ranges[e]))throw new Gn.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",{addedRange:t,intersectingRange:this._ranges[e]})}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function ea(t,e){return!e.has(t)&&(e.add(t),t.document.model.schema.isBlock(t)&&t.parent)}function na(t,e){const n=t.parent.document.model.schema,i=t.parent.getAncestors({parentFirst:!0,includeSelf:!0});let o=!1;const r=i.find(t=>!o&&(!(o=n.isLimit(t))&&ea(t,e)));return i.forEach(t=>e.add(t)),r}function ia(t){const e=t.document.model.schema;let n=t.parent;for(;n;){if(e.isBlock(n))return n;n=n.parent}}ci(ta,ei);class oa extends Gs{constructor(t,e){super(t,e),function(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&function(t){const e=this.getTransformedByOperation(t),n=Gs._createFromRanges(e),i=!n.isEqual(this),o=function(t,e){switch(e.type){case"insert":return t.containsPosition(e.position);case"move":case"remove":case"reinsert":case"merge":return t.containsPosition(e.sourcePosition)||t.start.isEqual(e.sourcePosition)||t.containsPosition(e.targetPosition);case"split":return t.containsPosition(e.splitPosition)||t.containsPosition(e.insertionPosition)}return!1}(this,t);let r=null;if(i){"$graveyard"==n.root.rootName&&(r="remove"==t.type?t.sourcePosition:t.deletionPosition);const e=this.toRange();this.start=n.start,this.end=n.end,this.fire("change:range",e,{deletionPosition:r})}else o&&this.fire("change:content",this.toRange(),{deletionPosition:r})}.call(this,n)},{priority:"low"})}.call(this)}detach(){this.stopListening()}toRange(){return new Gs(this.start,this.end)}static fromRange(t){return new oa(t.start,t.end)}}ci(oa,ei);const ra="selection:";class sa{constructor(t){this._selection=new aa(t),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getTopMostBlocks(){return this._selection.getTopMostBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(t){return this._selection.containsEntireContent(t)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(t){return this._selection.getAttribute(t)}hasAttribute(t){return this._selection.hasAttribute(t)}is(t){return"selection"==t||"documentSelection"==t}_setFocus(t,e){this._selection.setFocus(t,e)}_setTo(t,e,n){this._selection.setTo(t,e,n)}_setAttribute(t,e){this._selection.setAttribute(t,e)}_removeAttribute(t){this._selection.removeAttribute(t)}_getStoredAttributes(){return this._selection._getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(t){this._selection.restoreGravity(t)}static _getStoreAttributeKey(t){return ra+t}static _isStoreAttributeKey(t){return t.startsWith(ra)}}ci(sa,ei);class aa extends ta{constructor(t){super(),this.markers=new oo({idProperty:"name"}),this._model=t.model,this._document=t,this._attributePriority=new Map,this._fixGraveyardRangesData=[],this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this.on("change:range",()=>{for(const t of this.getRanges())if(!this._document._validateSelectionRange(t))throw new Gn.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",{range:t});this._updateMarkers(),this._updateAttributes(!1)}),this.listenTo(this._model.markers,"update",()=>this._updateMarkers()),this.listenTo(this._model,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&"marker"!=n.type&&"rename"!=n.type&&"noop"!=n.type){for(;this._fixGraveyardRangesData.length;){const{liveRange:t,sourcePosition:e}=this._fixGraveyardRangesData.shift();this._fixGraveyardSelection(t,e)}this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})),this._updateMarkers(),this._updateAttributes(!1)}},{priority:"lowest"}),this.listenTo(this._document,"change",(t,e)=>{!function(t,e){const n=t.document.differ;for(const i of n.getChanges()){if("insert"!=i.type)continue;const n=i.position.parent,o=i.length===n.maxOffset;o&&t.enqueueChange(e,t=>{const e=Array.from(n.getAttributeKeys()).filter(t=>t.startsWith(ra));for(const i of e)t.removeAttribute(i,n)})}}(this._model,e)})}get isCollapsed(){return 0===this._ranges.length?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(t,e,n){super.setTo(t,e,n),this._refreshAttributes()}setFocus(t,e){super.setFocus(t,e),this._refreshAttributes()}setAttribute(t,e){if(this._setAttribute(t,e)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}removeAttribute(t){if(this._removeAttribute(t)){const e=[t];this.fire("change:attribute",{attributeKeys:e,directChange:!0})}}overrideGravity(){const t=Kn();return this._overriddenGravityRegister.add(t),1===this._overriddenGravityRegister.size&&this._refreshAttributes(),t}restoreGravity(t){if(!this._overriddenGravityRegister.has(t))throw new Gn.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._refreshAttributes()}_refreshAttributes(){this._updateAttributes(!0)}_popRange(){this._ranges.pop().detach()}_pushRange(t){const e=this._prepareRange(t);e&&this._ranges.push(e)}_prepareRange(t){if(this._checkRange(t),t.root==this._document.graveyard)return void bs.a.warn("model-selection-range-in-graveyard: Trying to add a Range that is in the graveyard root. Range rejected.");const e=oa.fromRange(t);return e.on("change:range",(t,n,i)=>{this._hasChangedRange=!0,e.root==this._document.graveyard&&this._fixGraveyardRangesData.push({liveRange:e,sourcePosition:i.deletionPosition})}),e}_updateMarkers(){const t=[];for(const e of this._model.markers){const n=e.getRange();for(const i of this.getRanges())n.containsRange(i,!i.isCollapsed)&&t.push(e)}for(const e of t)this.markers.has(e)||this.markers.add(e);for(const e of Array.from(this.markers))t.includes(e)||this.markers.remove(e)}_updateAttributes(t){const e=Vs(this._getSurroundingAttributes()),n=Vs(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else for(const[t,e]of this._attributePriority)"low"==e&&(this._attrs.delete(t),this._attributePriority.delete(t));this._setAttributesTo(e);const i=[];for(const[t,e]of this.getAttributes())n.has(t)&&n.get(t)===e||i.push(t);for(const[t]of n)this.hasAttribute(t)||i.push(t);i.length>0&&this.fire("change:attribute",{attributeKeys:i,directChange:!1})}_setAttribute(t,e,n=!0){const i=n?"normal":"low";return("low"!=i||"normal"!=this._attributePriority.get(t))&&(super.getAttribute(t)!==e&&(this._attrs.set(t,e),this._attributePriority.set(t,i),!0))}_removeAttribute(t,e=!0){const n=e?"normal":"low";return("low"!=n||"normal"!=this._attributePriority.get(t))&&(this._attributePriority.set(t,n),!!super.hasAttribute(t)&&(this._attrs.delete(t),!0))}_setAttributesTo(t){const e=new Set;for(const[e,n]of this.getAttributes())t.get(e)!==n&&this._removeAttribute(e,!1);for(const[n,i]of t){this._setAttribute(n,i,!1)&&e.add(n)}return e}*_getStoredAttributes(){const t=this.getFirstPosition().parent;if(this.isCollapsed&&t.isEmpty)for(const e of t.getAttributeKeys())if(e.startsWith(ra)){yield[e.substr(ra.length),t.getAttribute(e)]}}_getSurroundingAttributes(){const t=this.getFirstPosition(),e=this._model.schema;let n=null;if(this.isCollapsed){const e=t.textNode?t.textNode:t.nodeBefore,i=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(n=ca(e)),n||(n=ca(i)),!this.isGravityOverridden&&!n){let t=e;for(;t&&!n;)n=ca(t=t.previousSibling)}if(!n){let t=i;for(;t&&!n;)n=ca(t=t.nextSibling)}n||(n=this._getStoredAttributes())}else{const t=this.getFirstRange();for(const i of t){if(i.item.is("element")&&e.isObject(i.item))break;if("text"==i.type){n=i.item.getAttributes();break}}}return n}_fixGraveyardSelection(t,e){const n=e.clone(),i=this._model.schema.getNearestSelectionRange(n),o=this._ranges.indexOf(t);if(this._ranges.splice(o,1),t.detach(),i){const t=this._prepareRange(i);this._ranges.splice(o,0,t)}}}function ca(t){return t instanceof Fs||t instanceof zs?t.getAttributes():null}class la{constructor(t){this._dispatchers=t}add(t){for(const e of this._dispatchers)t(e);return this}}var da=1,ua=4;var ha=function(t){return Fn(t,da|ua)};class fa extends la{elementToElement(t){return this.add(function(t){return(t=ha(t)).view=pa(t.view,"container"),e=>{e.on("insert:"+t.model,function(t){return(e,n,i)=>{const o=t(n.item,i.writer);if(!o)return;if(!i.consumable.consume(n.item,"insert"))return;const r=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(n.item,o),i.writer.insert(r,o)}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}attributeToElement(t){return this.add(function(t){let e="attribute:"+((t=ha(t)).model.key?t.model.key:t.model);t.model.name&&(e+=":"+t.model.name);if(t.model.values)for(const e of t.model.values)t.view[e]=pa(t.view[e],"attribute");else t.view=pa(t.view,"attribute");const n=ga(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const o=t(n.attributeOldValue,i.writer),r=t(n.attributeNewValue,i.writer);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.writer,a=s.document.selection;if(n.item instanceof ta||n.item instanceof sa)s.wrap(a.getFirstRange(),r);else{let t=i.mapper.toViewRange(n.range);null!==n.attributeOldValue&&o&&(t=s.unwrap(t,o)),null!==n.attributeNewValue&&r&&s.wrap(t,r)}}}(n),{priority:t.converterPriority||"normal"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e="attribute:"+((t=ha(t)).model.key?t.model.key:t.model);t.model.name&&(e+=":"+t.model.name);if(t.model.values)for(const e of t.model.values)t.view[e]=ba(t.view[e]);else t.view=ba(t.view);const n=ga(t);return i=>{i.on(e,function(t){return(e,n,i)=>{const o=t(n.attributeOldValue,n),r=t(n.attributeNewValue,n);if(!o&&!r)return;if(!i.consumable.consume(n.item,e.name))return;const s=i.mapper.toViewElement(n.item),a=i.writer;if(s){if(null!==n.attributeOldValue&&o)if("class"==o.key){const t=Array.isArray(o.value)?o.value:[o.value];for(const e of t)a.removeClass(e,s)}else if("style"==o.key){const t=Object.keys(o.value);for(const e of t)a.removeStyle(e,s)}else a.removeAttribute(o.key,s);if(null!==n.attributeNewValue&&r)if("class"==r.key){const t=Array.isArray(r.value)?r.value:[r.value];for(const e of t)a.addClass(e,s)}else if("style"==r.key){const t=Object.keys(r.value);for(const e of t)a.setStyle(e,r.value[e],s)}else a.setAttribute(r.key,r.value,s)}else bs.a.warn("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.")}}(n),{priority:t.converterPriority||"normal"})}}(t))}markerToElement(t){return this.add(function(t){return(t=ha(t)).view=pa(t.view,"ui"),e=>{e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{n.isOpening=!0;const o=t(n,i.writer);n.isOpening=!1;const r=t(n,i.writer);if(!o||!r)return;const s=n.markerRange;if(s.isCollapsed&&!i.consumable.consume(s,e.name))return;for(const t of s)if(!i.consumable.consume(t.item,e.name))return;const a=i.mapper,c=i.writer;c.insert(a.toViewPosition(s.start),o),i.mapper.bindElementToMarker(o,n.markerName),s.isCollapsed||(c.insert(a.toViewPosition(s.end),r),i.mapper.bindElementToMarker(r,n.markerName)),e.stop()}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,(t.view,(t,e,n)=>{const i=n.mapper.markerNameToElements(e.markerName);if(i){n.mapper.unbindElementsFromMarkerName(e.markerName);for(const t of i)n.writer.clear(n.writer.createRangeOn(t),t);n.writer.clearClonedElementsGroup(e.markerName),t.stop()}}),{priority:t.converterPriority||"normal"})}}(t))}markerToHighlight(t){return this.add(function(t){return e=>{e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof ta||n.item instanceof sa||n.item.is("textProxy")))return;const o=wa(t,n,i);if(!o)return;if(!i.consumable.consume(n.item,e.name))return;const r=ma(o),s=i.writer,a=s.document.selection;if(n.item instanceof ta||n.item instanceof sa)s.wrap(a.getFirstRange(),r,a);else{const t=i.mapper.toViewRange(n.range),e=s.wrap(t,r);for(const t of e.getItems())if(t.is("attributeElement")&&t.isSimilar(r)){i.mapper.bindElementToMarker(t,n.markerName);break}}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("addMarker:"+t.model,function(t){return(e,n,i)=>{if(!n.item)return;if(!(n.item instanceof Hs))return;const o=wa(t,n,i);if(!o)return;if(!i.consumable.test(n.item,e.name))return;const r=i.mapper.toViewElement(n.item);if(r&&r.getCustomProperty("addHighlight")){i.consumable.consume(n.item,e.name);for(const t of Gs._createIn(n.item))i.consumable.consume(t.item,e.name);r.getCustomProperty("addHighlight")(r,o,i.writer),i.mapper.bindElementToMarker(r,n.markerName)}}}(t.view),{priority:t.converterPriority||"normal"}),e.on("removeMarker:"+t.model,function(t){return(e,n,i)=>{if(n.markerRange.isCollapsed)return;const o=wa(t,n,i);if(!o)return;const r=ma(o),s=i.mapper.markerNameToElements(n.markerName);if(s){i.mapper.unbindElementsFromMarkerName(n.markerName);for(const t of s)t.is("attributeElement")?i.writer.unwrap(i.writer.createRangeOn(t),r):t.getCustomProperty("removeHighlight")(t,o.id,i.writer);i.writer.clearClonedElementsGroup(n.markerName),e.stop()}}}(t.view),{priority:t.converterPriority||"normal"})}}(t))}}function ma(t){const e=new ao("span",t.attributes);return t.classes&&e._addClass(t.classes),t.priority&&(e._priority=t.priority),e._id=t.id,e}function pa(t,e){return"function"==typeof t?t:(n,i)=>(function(t,e,n){"string"==typeof t&&(t={name:t});let i;const o=Object.assign({},t.attributes);if("container"==n)i=e.createContainerElement(t.name,o);else if("attribute"==n){const n={priority:t.priority||ao.DEFAULT_PRIORITY};i=e.createAttributeElement(t.name,o,n)}else i=e.createUIElement(t.name,o);if(t.styles){const n=Object.keys(t.styles);for(const o of n)e.setStyle(o,t.styles[o],i)}if(t.classes){const n=t.classes;if("string"==typeof n)e.addClass(n,i);else for(const t of n)e.addClass(t,i)}return i})(t,i,e)}function ga(t){return t.model.values?(e,n)=>{const i=t.view[e];return i?i(e,n):null}:t.view}function ba(t){return"string"==typeof t?e=>({key:t,value:e}):"object"==typeof t?t.value?()=>t:e=>({key:t.key,value:e}):t}function wa(t,e,n){const i="function"==typeof t?t(e,n):t;return i?(i.priority||(i.priority=10),i.id||(i.id=e.markerName),i):null}class _a extends la{elementToElement(t){return this.add(ka(t))}elementToAttribute(t){return this.add(function(t){ya(t=ha(t));const e=xa(t,!1),n=va(t),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"low"})}}(t))}attributeToAttribute(t){return this.add(function(t){let e=null;("string"==typeof(t=ha(t)).view||t.view.key)&&(e=function(t){"string"==typeof t.view&&(t.view={key:t.view});const e=t.view.key;let n;if("class"==e||"style"==e){const i="class"==e?"classes":"styles";n={[i]:t.view.value}}else{const i=void 0===t.view.value?/[\s\S]*/:t.view.value;n={attributes:{[e]:i}}}t.view.name&&(n.name=t.view.name);return t.view=n,e}(t));ya(t,e);const n=xa(t,!0);return e=>{e.on("element",n,{priority:t.converterPriority||"low"})}}(t))}elementToMarker(t){return this.add(function(t){return function(t){const e=t.model;t.model=((t,n)=>{const i="string"==typeof e?e:e(t);return n.createElement("$marker",{"data-name":i})})}(t=ha(t)),ka(t)}(t))}}function ka(t){const e=function(t){const e=t.view?new bi(t.view):null;return(n,i,o)=>{let r={};if(e){const t=e.match(i.viewItem);if(!t)return;r=t.match}r.name=!0;const s=function(t,e,n){return t instanceof Function?t(e,n):n.createElement(t)}(t.model,i.viewItem,o.writer);if(!s)return;if(!o.consumable.test(i.viewItem,r))return;const a=o.splitToAllowedParent(s,i.modelCursor);if(!a)return;o.writer.insert(s,a.position),o.convertChildren(i.viewItem,o.writer.createPositionAt(s,0)),o.consumable.consume(i.viewItem,r);const c=o.getSplitParts(s);i.modelRange=new Gs(o.writer.createPositionBefore(s),o.writer.createPositionAfter(c[c.length-1])),a.cursorParent?i.modelCursor=o.writer.createPositionAt(a.cursorParent,0):i.modelCursor=i.modelRange.end}}(t=ha(t)),n=va(t),i=n?"element:"+n:"element";return n=>{n.on(i,e,{priority:t.converterPriority||"normal"})}}function va(t){return"string"==typeof t.view?t.view:"object"==typeof t.view&&"string"==typeof t.view.name?t.view.name:null}function ya(t,e=null){const n=null===e||(t=>t.getAttribute(e)),i="object"!=typeof t.model?t.model:t.model.key,o="object"!=typeof t.model||void 0===t.model.value?n:t.model.value;t.model={key:i,value:o}}function xa(t,e){const n=new bi(t.view);return(i,o,r)=>{const s=n.match(o.viewItem);if(!s)return;const a=t.model.key,c="function"==typeof t.model.value?t.model.value(o.viewItem):t.model.value;null!==c&&(!function(t){if("object"==typeof t.view&&!va(t))return!1;return!t.view.classes&&!t.view.attributes&&!t.view.styles}(t)?delete s.match.name:s.match.name=!0,r.consumable.test(o.viewItem,s.match)&&(o.modelRange||(o=Object.assign(o,r.convertChildren(o.viewItem,o.modelCursor))),function(t,e,n,i){let o=!1;for(const r of Array.from(t.getItems({shallow:n})))i.schema.checkAttribute(r,e.key)&&(i.writer.setAttribute(e.key,e.value,r),o=!0);return o}(o.modelRange,{key:a,value:c},e,r)&&r.consumable.consume(o.viewItem,s.match)))}}class Aa{constructor(t){this.model=t,this.view=new js,this.mapper=new Qs,this.downcastDispatcher=new Zs({mapper:this.mapper});const e=this.model.document,n=e.selection,i=this.model.markers;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(e,"change",()=>{this.view.change(t=>{this.downcastDispatcher.convertChanges(e.differ,t),this.downcastDispatcher.convertSelection(n,i,t)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(t,e){return(n,i)=>{const o=i.newSelection,r=new ta,s=[];for(const t of o.getRanges())s.push(e.toModelRange(t));r.setTo(s,{backward:o.isBackward}),r.isEqual(t.document.selection)||t.change(t=>{t.setSelection(r)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(t,e,n)=>{const i=n.mapper.toViewPosition(e.position),o=e.position.getShiftedBy(e.length),r=n.mapper.toViewPosition(o,{isPhantom:!0}),s=n.writer.createRange(i,r),a=n.writer.remove(s.getTrimmed());for(const t of n.writer.createRangeIn(a).getItems())n.mapper.unbindViewElement(t)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=n.writer,o=i.document.selection;for(const t of o.getRanges())t.isCollapsed&&t.end.parent.document&&n.writer.mergeAttributes(t.start);i.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=e.selection;if(i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const o=[];for(const t of i.getRanges()){const e=n.mapper.toViewRange(t);o.push(e)}n.writer.setSelection(o,{backward:i.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(t,e,n)=>{const i=e.selection;if(!i.isCollapsed)return;if(!n.consumable.consume(i,"selection"))return;const o=n.writer,r=i.getFirstPosition(),s=n.mapper.toViewPosition(r),a=o.breakAttributes(s);o.setSelection(a)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(t=>{if("$graveyard"==t.rootName)return null;const e=new Ji(t.name);return e.rootName=t.rootName,e._document=this.view.document,this.mapper.bindElements(t,e),e})}destroy(){this.view.destroy(),this.stopListening()}}ci(Aa,Fi);class Ca{constructor(t,e=[]){this._editor=t,this._availablePlugins=new Map,this._plugins=new Map;for(const t of e)this._availablePlugins.set(t,t),t.pluginName&&this._availablePlugins.set(t.pluginName,t)}*[Symbol.iterator](){for(const t of this._plugins)"function"==typeof t[0]&&(yield t)}get(t){const e=this._plugins.get(t);if(!e){const e="plugincollection-plugin-not-loaded: The requested plugin is not loaded.";let n=t;throw"function"==typeof t&&(n=t.pluginName||t.name),new Gn.b(e,{plugin:n})}return e}has(t){return this._plugins.has(t)}init(t,e=[]){const n=this,i=this._editor,o=new Set,r=[],s=h(t),a=h(e),c=function(t){const e=[];for(const n of t)u(n)||e.push(n);return e.length?e:null}(t);if(c){const t="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return bs.a.error(t,{plugins:c}),Promise.reject(new Gn.b(t,{plugins:c}))}return Promise.all(s.map(l)).then(()=>d(r,"init")).then(()=>d(r,"afterInit")).then(()=>r);function l(t){if(!a.includes(t)&&!n._plugins.has(t)&&!o.has(t))return function(t){return new Promise(s=>{o.add(t),t.requires&&t.requires.forEach(n=>{const i=u(n);if(e.includes(i))throw new Gn.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",{plugin:i,requiredBy:t});l(i)});const a=new t(i);n._add(t,a),r.push(a),s()})}(t).catch(e=>{throw bs.a.error("plugincollection-load: It was not possible to load the plugin.",{plugin:t}),e})}function d(t,e){return t.reduce((t,n)=>n[e]?t.then(n[e].bind(n)):t,Promise.resolve())}function u(t){return"function"==typeof t?t:n._availablePlugins.get(t)}function h(t){return t.map(t=>u(t)).filter(t=>!!t)}}destroy(){const t=Array.from(this).map(([,t])=>t).filter(t=>"function"==typeof t.destroy).map(t=>t.destroy());return Promise.all(t)}_add(t,e){this._plugins.set(t,e);const n=t.pluginName;n&&(this._plugins.has(n)?bs.a.warn("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",{pluginName:n,plugin1:this._plugins.get(n).constructor,plugin2:t}):this._plugins.set(n,e))}}ci(Ca,ei);class Ta{constructor(){this._commands=new Map}add(t,e){this._commands.set(t,e)}get(t){return this._commands.get(t)}execute(t,...e){const n=this.get(t);if(!n)throw new Gn.b("commandcollection-command-not-found: Command does not exist.",{commandName:t});n.execute(...e)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const t of this.commands())t.destroy()}}function Pa(t,e){const n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;return 1===n&&(t=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]),0!==n&&function(t,e){return t in window.CKEDITOR_TRANSLATIONS&&e in window.CKEDITOR_TRANSLATIONS[t]}(t,e)?window.CKEDITOR_TRANSLATIONS[t][e].replace(/ \[context: [^\]]+\]$/,""):e.replace(/ \[context: [^\]]+\]$/,"")}window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});class Ma{constructor(t){this.language=t||"en",this.t=((...t)=>this._t(...t))}_t(t,e){let n=Pa(this.language,t);return e&&(n=n.replace(/%(\d+)/g,(t,n)=>n<e.length?e[n]:t)),n}}class Ea{constructor(){this._consumables=new Map}add(t,e){let n;t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):(this._consumables.has(t)?n=this._consumables.get(t):(n=new Sa,this._consumables.set(t,n)),n.add(e))}test(t,e){const n=this._consumables.get(t);return void 0===n?null:t.is("text")||t.is("documentFragment")?n:n.test(e)}consume(t,e){return!!this.test(t,e)&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!1):this._consumables.get(t).consume(e),!0)}revert(t,e){const n=this._consumables.get(t);void 0!==n&&(t.is("text")||t.is("documentFragment")?this._consumables.set(t,!0):n.revert(e))}static consumablesFromElement(t){const e={name:!0,attributes:[],classes:[],styles:[]},n=t.getAttributeKeys();for(const t of n)"style"!=t&&"class"!=t&&e.attributes.push(t);const i=t.getClassNames();for(const t of i)e.classes.push(t);const o=t.getStyleNames();for(const t of o)e.styles.push(t);return e}static createFrom(t,e){if(e||(e=new Ea),t.is("text"))return e.add(t),e;t.is("element")&&e.add(t,Ea.consumablesFromElement(t)),t.is("documentFragment")&&e.add(t);for(const n of t.getChildren())e=Ea.createFrom(n,e);return e}}class Sa{constructor(){this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._add(e,t[e])}test(t){if(t.name&&!this._canConsumeName)return this._canConsumeName;for(const e in this._consumables)if(e in t){const n=this._test(e,t[e]);if(!0!==n)return n}return!0}consume(t){t.name&&(this._canConsumeName=!1);for(const e in this._consumables)e in t&&this._consume(e,t[e])}revert(t){t.name&&(this._canConsumeName=!0);for(const e in this._consumables)e in t&&this._revert(e,t[e])}_add(t,e){const n=Wt(e)?e:[e],i=this._consumables[t];for(const e of n){if("attributes"===t&&("class"===e||"style"===e))throw new Gn.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.");i.set(e,!0)}}_test(t,e){const n=Wt(e)?e:[e],i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){const t=i.get(e);if(void 0===t)return null;if(!t)return!1}else{const t="class"==e?"classes":"styles",n=this._test(t,[...this._consumables[t].keys()]);if(!0!==n)return n}return!0}_consume(t,e){const n=Wt(e)?e:[e],i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e)i.set(e,!1);else{const t="class"==e?"classes":"styles";this._consume(t,[...this._consumables[t].keys()])}}_revert(t,e){const n=Wt(e)?e:[e],i=this._consumables[t];for(const e of n)if("attributes"!==t||"class"!==e&&"style"!==e){!1===i.get(e)&&i.set(e,!0)}else{const t="class"==e?"classes":"styles";this._revert(t,[...this._consumables[t].keys()])}}}class Ia{constructor(){this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(t,e)=>{e[0]=new Na(e[0])},{priority:"highest"}),this.on("checkChild",(t,e)=>{e[0]=new Na(e[0]),e[1]=this.getDefinition(e[1])},{priority:"highest"})}register(t,e){if(this._sourceDefinitions[t])throw new Gn.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",{itemName:t});this._sourceDefinitions[t]=[Object.assign({},e)],this._clearCache()}extend(t,e){if(!this._sourceDefinitions[t])throw new Gn.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",{itemName:t});this._sourceDefinitions[t].push(Object.assign({},e)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(t){let e;return e="string"==typeof t?t:t.is&&(t.is("text")||t.is("textProxy"))?"$text":t.name,this.getDefinitions()[e]}isRegistered(t){return!!this.getDefinition(t)}isBlock(t){const e=this.getDefinition(t);return!(!e||!e.isBlock)}isLimit(t){const e=this.getDefinition(t);return!!e&&!(!e.isLimit&&!e.isObject)}isObject(t){const e=this.getDefinition(t);return!(!e||!e.isObject)}isInline(t){const e=this.getDefinition(t);return!(!e||!e.isInline)}checkChild(t,e){return!!e&&this._checkContextMatch(e,t)}checkAttribute(t,e){const n=this.getDefinition(t.last);return!!n&&n.allowAttributes.includes(e)}checkMerge(t,e=null){if(t instanceof $s){const e=t.nodeBefore,n=t.nodeAfter;if(!(e instanceof Hs))throw new Gn.b("schema-check-merge-no-element-before: The node before the merge position must be an element.");if(!(n instanceof Hs))throw new Gn.b("schema-check-merge-no-element-after: The node after the merge position must be an element.");return this.checkMerge(e,n)}for(const n of e.getChildren())if(!this.checkChild(t,n))return!1;return!0}addChildCheck(t){this.on("checkChild",(e,[n,i])=>{if(!i)return;const o=t(n,i);"boolean"==typeof o&&(e.stop(),e.return=o)},{priority:"high"})}addAttributeCheck(t){this.on("checkAttribute",(e,[n,i])=>{const o=t(n,i);"boolean"==typeof o&&(e.stop(),e.return=o)},{priority:"high"})}setAttributeProperties(t,e){this._attributeProperties[t]=Object.assign(this.getAttributeProperties(t),e)}getAttributeProperties(t){return this._attributeProperties[t]||{}}getLimitElement(t){let e;if(t instanceof $s)e=t.parent;else{e=(t instanceof Gs?[t]:Array.from(t.getRanges())).reduce((t,e)=>{const n=e.getCommonAncestor();return t?t.getCommonAncestor(n,{includeSelf:!0}):n},null)}for(;!this.isLimit(e)&&e.parent;)e=e.parent;return e}checkAttributeInSelection(t,e){if(t.isCollapsed){const n=[...t.getFirstPosition().getAncestors(),new zs("",t.getAttributes())];return this.checkAttribute(n,e)}{const n=t.getRanges();for(const t of n)for(const n of t)if(this.checkAttribute(n.item,e))return!0}return!1}*getValidRanges(t,e){t=function*(t){for(const e of t)yield*e.getMinimalFlatRanges()}(t);for(const n of t)yield*this._getValidRangesForRange(n,e)}getNearestSelectionRange(t,e="both"){if(this.checkChild(t,"$text"))return new Gs(t);let n,i;"both"!=e&&"backward"!=e||(n=new qs({startPosition:t,direction:"backward"})),"both"!=e&&"forward"!=e||(i=new qs({startPosition:t}));for(const t of function*(t,e){let n=!1;for(;!n;){if(n=!0,t){const e=t.next();e.done||(n=!1,yield{walker:t,value:e.value})}if(e){const t=e.next();t.done||(n=!1,yield{walker:e,value:t.value})}}}(n,i)){const e=t.walker==n?"elementEnd":"elementStart",i=t.value;if(i.type==e&&this.isObject(i.item))return Gs._createOn(i.item);if(this.checkChild(i.nextPosition,"$text"))return new Gs(i.nextPosition)}return null}findAllowedParent(t,e){let n=t.parent;for(;n;){if(this.checkChild(n,e))return n;if(this.isLimit(n))return null;n=n.parent}return null}removeDisallowedAttributes(t,e){for(const n of t){for(const t of n.getAttributeKeys())this.checkAttribute(n,t)||e.removeAttribute(t,n);n.is("element")&&this.removeDisallowedAttributes(n.getChildren(),e)}}createContext(t){return new Na(t)}_clearCache(){this._compiledDefinitions=null}_compile(){const t={},e=this._sourceDefinitions,n=Object.keys(e);for(const i of n)t[i]=Oa(e[i],i);for(const e of n)Ra(t,e);for(const e of n)Da(t,e);for(const e of n)La(t,e),ja(t,e);for(const e of n)Va(t,e),Ba(t,e);this._compiledDefinitions=t}_checkContextMatch(t,e,n=e.length-1){const i=e.getItem(n);if(t.allowIn.includes(i.name)){if(0==n)return!0;{const t=this.getDefinition(i);return this._checkContextMatch(t,e,n-1)}}return!1}*_getValidRangesForRange(t,e){let n=t.start,i=t.start;for(const o of t.getItems({shallow:!0}))o.is("element")&&(yield*this._getValidRangesForRange(Gs._createIn(o),e)),this.checkAttribute(o,e)||(n.isEqual(i)||(yield new Gs(n,i)),n=$s._createAfter(o)),i=$s._createAfter(o);n.isEqual(i)||(yield new Gs(n,i))}}ci(Ia,Fi);class Na{constructor(t){if(t instanceof Na)return t;"string"==typeof t?t=[t]:Array.isArray(t)||(t=t.getAncestors({includeSelf:!0})),t[0]&&"string"!=typeof t[0]&&t[0].is("documentFragment")&&t.shift(),this._items=t.map(Ua)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(t){const e=new Na([t]);return e._items=[...this._items,...e._items],e}getItem(t){return this._items[t]}*getNames(){yield*this._items.map(t=>t.name)}endsWith(t){return Array.from(this.getNames()).join(" ").endsWith(t)}}function Oa(t,e){const n={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(t,e){for(const n of t){const t=Object.keys(n).filter(t=>t.startsWith("is"));for(const i of t)e[i]=n[i]}}(t,n),za(t,n,"allowIn"),za(t,n,"allowContentOf"),za(t,n,"allowWhere"),za(t,n,"allowAttributes"),za(t,n,"allowAttributesOf"),za(t,n,"inheritTypesFrom"),function(t,e){for(const n of t){const t=n.inheritAllFrom;t&&(e.allowContentOf.push(t),e.allowWhere.push(t),e.allowAttributesOf.push(t),e.inheritTypesFrom.push(t))}}(t,n),n}function Ra(t,e){for(const n of t[e].allowContentOf)if(t[n]){Fa(t,n).forEach(t=>{t.allowIn.push(e)})}delete t[e].allowContentOf}function Da(t,e){for(const n of t[e].allowWhere){const i=t[n];if(i){const n=i.allowIn;t[e].allowIn.push(...n)}}delete t[e].allowWhere}function La(t,e){for(const n of t[e].allowAttributesOf){const i=t[n];if(i){const n=i.allowAttributes;t[e].allowAttributes.push(...n)}}delete t[e].allowAttributesOf}function ja(t,e){const n=t[e];for(const e of n.inheritTypesFrom){const i=t[e];if(i){const t=Object.keys(i).filter(t=>t.startsWith("is"));for(const e of t)e in n||(n[e]=i[e])}}delete n.inheritTypesFrom}function Va(t,e){const n=t[e],i=n.allowIn.filter(e=>t[e]);n.allowIn=Array.from(new Set(i))}function Ba(t,e){const n=t[e];n.allowAttributes=Array.from(new Set(n.allowAttributes))}function za(t,e,n){for(const i of t)"string"==typeof i[n]?e[n].push(i[n]):Array.isArray(i[n])&&e[n].push(...i[n])}function Fa(t,e){const n=t[e];return function(t){return Object.keys(t).map(e=>t[e])}(t).filter(t=>t.allowIn.includes(n.name))}function Ua(t){return"string"==typeof t?{name:t,*getAttributeKeys(){},getAttribute(){}}:{name:t.is("element")?t.name:"$text",*getAttributeKeys(){yield*t.getAttributeKeys()},getAttribute:e=>t.getAttribute(e)}}class Ha{constructor(t={}){this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},t),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}convert(t,e,n=["$root"]){this.fire("viewCleanup",t),this._modelCursor=function(t,e){let n;for(const i of new Na(t)){const t={};for(const e of i.getAttributeKeys())t[e]=i.getAttribute(e);const o=e.createElement(i.name,t);n&&e.append(o,n),n=$s._createAt(o,0)}return n}(n,e),this.conversionApi.writer=e,this.conversionApi.consumable=Ea.createFrom(t),this.conversionApi.store={};const{modelRange:i}=this._convertItem(t,this._modelCursor),o=e.createDocumentFragment();if(i){this._removeEmptyElements();for(const t of Array.from(this._modelCursor.parent.getChildren()))e.append(t,o);o.markers=function(t,e){const n=new Set,i=new Map,o=Gs._createIn(t).getItems();for(const t of o)"$marker"==t.name&&n.add(t);for(const t of n){const n=t.getAttribute("data-name"),o=e.createPositionBefore(t);i.has(n)?i.get(n).end=o.clone():i.set(n,new Gs(o.clone())),e.remove(t)}return i}(o,e)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,o}_convertItem(t,e){const n=Object.assign({viewItem:t,modelCursor:e,modelRange:null});if(t.is("element")?this.fire("element:"+t.name,n,this.conversionApi):t.is("text")?this.fire("text",n,this.conversionApi):this.fire("documentFragment",n,this.conversionApi),n.modelRange&&!(n.modelRange instanceof Gs))throw new Gn.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.");return{modelRange:n.modelRange,modelCursor:n.modelCursor}}_convertChildren(t,e){const n=new Gs(e);let i=e;for(const e of Array.from(t.getChildren())){const t=this._convertItem(e,i);t.modelRange instanceof Gs&&(n.end=t.modelRange.end,i=t.modelCursor)}return{modelRange:n,modelCursor:i}}_splitToAllowedParent(t,e){const n=this.conversionApi.schema.findAllowedParent(e,t);if(!n)return null;if(n===e.parent)return{position:e};if(this._modelCursor.parent.getAncestors().includes(n))return null;const i=this.conversionApi.writer.split(e,n),o=[];for(const t of i.range.getWalker())if("elementEnd"==t.type)o.push(t.item);else{const e=o.pop(),n=t.item;this._registerSplitPair(e,n)}return{position:i.position,cursorParent:i.range.end.parent}}_registerSplitPair(t,e){this._splitParts.has(t)||this._splitParts.set(t,[t]);const n=this._splitParts.get(t);this._splitParts.set(e,n),n.push(e)}_getSplitParts(t){let e;return e=this._splitParts.has(t)?this._splitParts.get(t):[t]}_removeEmptyElements(){let t=!1;for(const e of this._splitParts.keys())e.isEmpty&&(this.conversionApi.writer.remove(e),this._splitParts.delete(e),t=!0);t&&this._removeEmptyElements()}}ci(Ha,ei);class qa{constructor(t,e){this.model=t,this.processor=e,this.mapper=new Qs,this.downcastDispatcher=new Zs({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",(t,e,n)=>{if(!n.consumable.consume(e.item,"insert"))return;const i=n.writer,o=n.mapper.toViewPosition(e.range.start),r=i.createText(e.item.data);i.insert(o,r)},{priority:"lowest"}),this.upcastDispatcher=new Ha({schema:t.schema}),this.upcastDispatcher.on("text",(t,e,n)=>{if(n.schema.checkChild(e.modelCursor,"$text")&&n.consumable.consume(e.viewItem)){const t=n.writer.createText(e.viewItem.data);n.writer.insert(t,e.modelCursor),e.modelRange=Gs._createFromPositionAndShift(e.modelCursor,t.offsetSize),e.modelCursor=e.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(t,e,n)=>{if(!e.modelRange&&n.consumable.consume(e.viewItem,{name:!0})){const{modelRange:t,modelCursor:i}=n.convertChildren(e.viewItem,e.modelCursor);e.modelRange=t,e.modelCursor=i}},{priority:"lowest"}),this.decorate("init"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"})}get(t){const{rootName:e="main",trim:n="empty"}=t||{};if(!this._checkIfRootsExists([e]))throw new Gn.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.");const i=this.model.document.getRoot(e);return"empty"!==n||this.model.hasContent(i,{ignoreWhitespaces:!0})?this.stringify(i):""}stringify(t){const e=this.toView(t);return this.processor.toData(e)}toView(t){this.mapper.clearBindings();const e=Gs._createIn(t),n=new Ao,i=new Co(new ro);if(this.mapper.bindElements(t,n),this.downcastDispatcher.convertInsert(e,i),!t.is("documentFragment")){const e=function(t){const e=[],n=t.root.document;if(!n)return[];const i=Gs._createIn(t);for(const t of n.model.markers){const n=i.getIntersection(t.getRange());n&&e.push([t.name,n])}return e}(t);for(const[t,n]of e)this.downcastDispatcher.convertMarkerAdd(t,n,i)}return n}init(t){if(this.model.document.version)throw new Gn.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.");let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new Gn.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.");return this.model.enqueueChange("transparent",t=>{for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.insert(this.parse(e[n],i),i,0)}}),Promise.resolve()}set(t){let e={};if("string"==typeof t?e.main=t:e=t,!this._checkIfRootsExists(Object.keys(e)))throw new Gn.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.");this.model.enqueueChange("transparent",t=>{t.setSelection(null),t.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const n of Object.keys(e)){const i=this.model.document.getRoot(n);t.remove(t.createRangeIn(i)),t.insert(this.parse(e[n],i),i,0)}})}parse(t,e="$root"){const n=this.processor.toView(t);return this.toModel(n,e)}toModel(t,e="$root"){return this.model.change(n=>this.upcastDispatcher.convert(t,n,e))}destroy(){this.stopListening()}_checkIfRootsExists(t){for(const e of t)if(!this.model.document.getRootNames().includes(e))return!1;return!0}}ci(qa,Fi);class Wa{constructor(t,e){this._helpers=new Map,this._downcast=Array.isArray(t)?t:[t],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(t,e){const n=this._downcast.includes(e);if(!this._upcast.includes(e)&&!n)throw new Gn.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.");this._createConversionHelpers({name:t,dispatchers:[e],isDowncast:n})}for(t){if(!this._helpers.has(t))throw new Gn.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.");return this._helpers.get(t)}elementToElement(t){this.for("downcast").elementToElement(t);for(const{model:e,view:n}of Ya(t))this.for("upcast").elementToElement({model:e,view:n,converterPriority:t.converterPriority})}attributeToElement(t){this.for("downcast").attributeToElement(t);for(const{model:e,view:n}of Ya(t))this.for("upcast").elementToAttribute({view:n,model:e,converterPriority:t.converterPriority})}attributeToAttribute(t){this.for("downcast").attributeToAttribute(t);for(const{model:e,view:n}of Ya(t))this.for("upcast").attributeToAttribute({view:n,model:e})}_createConversionHelpers({name:t,dispatchers:e,isDowncast:n}){if(this._helpers.has(t))throw new Gn.b("conversion-group-exists: Trying to register a group name that has already been registered.");const i=n?new fa(e):new _a(e);this._helpers.set(t,i)}}function*Ya(t){if(t.model.values)for(const e of t.model.values){yield*$a({key:t.model.key,value:e},t.view[e],t.upcastAlso?t.upcastAlso[e]:void 0)}else yield*$a(t.model,t.view,t.upcastAlso)}function*$a(t,e,n){if(yield{model:t,view:e},n){n=Array.isArray(n)?n:[n];for(const e of n)yield{model:t,view:e}}}class Ga{constructor(t="default"){this.operations=[],this.type=t}get baseVersion(){for(const t of this.operations)if(null!==t.baseVersion)return t.baseVersion;return null}addOperation(t){return t.batch=this,this.operations.push(t),t}}class Qa{constructor(t){this.baseVersion=t,this.isDocumentOperation=null!==this.baseVersion,this.batch=null}_validate(){}toJSON(){const t=Object.assign({},this);return t.__className=this.constructor.className,delete t.batch,delete t.isDocumentOperation,t}static get className(){return"Operation"}static fromJSON(t){return new this(t.baseVersion)}}class Ja{constructor(t){this.markers=new Map,this._children=new Us,t&&this._insertChild(0,t)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return 0===this.childCount}get root(){return this}get parent(){return null}is(t){return"documentFragment"==t}getChild(t){return this._children.getNode(t)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(t){return this._children.getNodeIndex(t)}getChildStartOffset(t){return this._children.getNodeStartOffset(t)}getPath(){return[]}getNodeByPath(t){let e=this;for(const n of t)e=e.getChild(e.offsetToIndex(n));return e}offsetToIndex(t){return this._children.offsetToIndex(t)}toJSON(){const t=[];for(const e of this._children)t.push(e.toJSON());return t}static fromJSON(t){const e=[];for(const n of t)n.name?e.push(Hs.fromJSON(n)):e.push(zs.fromJSON(n));return new Ja(e)}_appendChild(t){this._insertChild(this.childCount,t)}_insertChild(t,e){const n=function(t){if("string"==typeof t)return[new zs(t)];gi(t)||(t=[t]);return Array.from(t).map(t=>"string"==typeof t?new zs(t):t instanceof Fs?new zs(t.data,t.getAttributes()):t)}(e);for(const t of n)null!==t.parent&&t._remove(),t.parent=this;this._children._insertNodes(t,n)}_removeChildren(t,e=1){const n=this._children._removeNodes(t,e);for(const t of n)t.parent=null;return n}}function Ka(t,e){const n=(e=tc(e)).reduce((t,e)=>t+e.offsetSize,0),i=t.parent;nc(t);const o=t.index;return i._insertChild(o,e),ec(i,o+e.length),ec(i,o),new Gs(t,t.getShiftedBy(n))}function Za(t){if(!t.isFlat)throw new Gn.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.");const e=t.start.parent;nc(t.start),nc(t.end);const n=e._removeChildren(t.start.index,t.end.index-t.start.index);return ec(e,t.start.index),n}function Xa(t,e){if(!t.isFlat)throw new Gn.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.");const n=Za(t);return Ka(e=e._getTransformedByDeletion(t.start,t.end.offset-t.start.offset),n)}function tc(t){const e=[];t instanceof Array||(t=[t]);for(let n=0;n<t.length;n++)if("string"==typeof t[n])e.push(new zs(t[n]));else if(t[n]instanceof Fs)e.push(new zs(t[n].data,t[n].getAttributes()));else if(t[n]instanceof Ja||t[n]instanceof Us)for(const i of t[n])e.push(i);else t[n]instanceof Bs&&e.push(t[n]);for(let t=1;t<e.length;t++){const n=e[t],i=e[t-1];n instanceof zs&&i instanceof zs&&ic(n,i)&&(e.splice(t-1,2,new zs(i.data+n.data,i.getAttributes())),t--)}return e}function ec(t,e){const n=t.getChild(e-1),i=t.getChild(e);if(n&&i&&n.is("text")&&i.is("text")&&ic(n,i)){const o=new zs(n.data+i.data,n.getAttributes());t._removeChildren(e-1,2),t._insertChild(e-1,o)}}function nc(t){const e=t.textNode,n=t.parent;if(e){const i=t.offset-e.startOffset,o=e.index;n._removeChildren(o,1);const r=new zs(e.data.substr(0,i),e.getAttributes()),s=new zs(e.data.substr(i),e.getAttributes());n._insertChild(o,[r,s])}}function ic(t,e){const n=t.getAttributes(),i=e.getAttributes();for(const t of n){if(t[1]!==e.getAttribute(t[0]))return!1;i.next()}return i.next().done}var oc=function(t,e){return Jr(t,e)};class rc extends Qa{constructor(t,e,n,i,o){super(o),this.range=t.clone(),this.key=e,this.oldValue=void 0===n?null:n,this.newValue=void 0===i?null:i}get type(){return null===this.oldValue?"addAttribute":null===this.newValue?"removeAttribute":"changeAttribute"}clone(){return new rc(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new rc(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const t=super.toJSON();return t.range=this.range.toJSON(),t}_validate(){if(!this.range.isFlat)throw new Gn.b("attribute-operation-range-not-flat: The range to change is not flat.");for(const t of this.range.getItems({shallow:!0})){if(null!==this.oldValue&&!oc(t.getAttribute(this.key),this.oldValue))throw new Gn.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{item:t,key:this.key,value:this.oldValue});if(null===this.oldValue&&null!==this.newValue&&t.hasAttribute(this.key))throw new Gn.b("attribute-operation-attribute-exists: The attribute with given key already exists.",{node:t,key:this.key})}}_execute(){oc(this.oldValue,this.newValue)||function(t,e,n){nc(t.start),nc(t.end);for(const i of t.getItems({shallow:!0})){const t=i.is("textProxy")?i.textNode:i;null!==n?t._setAttribute(e,n):t._removeAttribute(e),ec(t.parent,t.index)}ec(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(t,e){return new rc(Gs.fromJSON(t.range,e),t.key,t.oldValue,t.newValue,t.baseVersion)}}class sc extends Qa{constructor(t,e){super(null),this.sourcePosition=t.clone(),this.howMany=e}get type(){return"detach"}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t}_validate(){if(this.sourcePosition.root.document)throw new Gn.b("detach-operation-on-document-node: Cannot detach document node.")}_execute(){Za(Gs._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class ac extends Qa{constructor(t,e,n,i){super(i),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toNext",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNone"}get type(){return"$graveyard"==this.targetPosition.root.rootName?"remove":"$graveyard"==this.sourcePosition.root.rootName?"reinsert":"move"}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent,n=this.sourcePosition.offset,i=this.targetPosition.offset;if(!t||!e)throw new Gn.b("move-operation-position-invalid: Source position or target position is invalid.");if(n+this.howMany>t.maxOffset)throw new Gn.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.");if(t===e&&n<i&&i<n+this.howMany)throw new Gn.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.");if(this.sourcePosition.root==this.targetPosition.root&&"prefix"==li(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())){const t=this.sourcePosition.path.length-1;if(this.targetPosition.path[t]>=n&&this.targetPosition.path[t]<n+this.howMany)throw new Gn.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.")}}_execute(){Xa(Gs._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}static get className(){return"MoveOperation"}static fromJSON(t,e){const n=$s.fromJSON(t.sourcePosition,e),i=$s.fromJSON(t.targetPosition,e);return new this(n,t.howMany,i,t.baseVersion)}}class cc extends Qa{constructor(t,e,n){super(n),this.position=t.clone(),this.position.stickiness="toNone",this.nodes=new Us(tc(e)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}clone(){const t=new Us([...this.nodes].map(t=>t._clone(!0))),e=new cc(this.position,t,this.baseVersion);return e.shouldReceiveAttributes=this.shouldReceiveAttributes,e}getReversed(){const t=this.position.root.document.graveyard,e=new $s(t,[0]);return new ac(this.position,this.nodes.maxOffset,e,this.baseVersion+1)}_validate(){const t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new Gn.b("insert-operation-position-invalid: Insertion position is invalid.")}_execute(){const t=this.nodes;this.nodes=new Us([...t].map(t=>t._clone(!0))),Ka(this.position,t)}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}static get className(){return"InsertOperation"}static fromJSON(t,e){const n=[];for(const e of t.nodes)e.name?n.push(Hs.fromJSON(e)):n.push(zs.fromJSON(e));const i=new cc($s.fromJSON(t.position,e),n,t.baseVersion);return i.shouldReceiveAttributes=t.shouldReceiveAttributes,i}}class lc extends Qa{constructor(t,e,n,i,o,r){super(r),this.name=t,this.oldRange=e?e.clone():null,this.newRange=n?n.clone():null,this.affectsData=o,this._markers=i}get type(){return"marker"}clone(){return new lc(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new lc(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){const t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}toJSON(){const t=super.toJSON();return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}static get className(){return"MarkerOperation"}static fromJSON(t,e){return new lc(t.name,t.oldRange?Gs.fromJSON(t.oldRange,e):null,t.newRange?Gs.fromJSON(t.newRange,e):null,e.model.markers,t.affectsData,t.baseVersion)}}class dc extends Qa{constructor(t,e,n,i){super(i),this.position=t,this.position.stickiness="toNext",this.oldName=e,this.newName=n}get type(){return"rename"}clone(){return new dc(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new dc(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const t=this.position.nodeAfter;if(!(t instanceof Hs))throw new Gn.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.");if(t.name!==this.oldName)throw new Gn.b("rename-operation-wrong-name: Element to change has different name than operation's old name.")}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const t=super.toJSON();return t.position=this.position.toJSON(),t}static get className(){return"RenameOperation"}static fromJSON(t,e){return new dc($s.fromJSON(t.position,e),t.oldName,t.newName,t.baseVersion)}}class uc extends Qa{constructor(t,e,n,i,o){super(o),this.root=t,this.key=e,this.oldValue=n,this.newValue=i}get type(){return null===this.oldValue?"addRootAttribute":null===this.newValue?"removeRootAttribute":"changeRootAttribute"}clone(){return new uc(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new uc(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new Gn.b("rootattribute-operation-not-a-root: The element to change is not a root element.",{root:this.root,key:this.key});if(null!==this.oldValue&&this.root.getAttribute(this.key)!==this.oldValue)throw new Gn.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",{root:this.root,key:this.key});if(null===this.oldValue&&null!==this.newValue&&this.root.hasAttribute(this.key))throw new Gn.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",{root:this.root,key:this.key})}_execute(){null!==this.newValue?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const t=super.toJSON();return t.root=this.root.toJSON(),t}static get className(){return"RootAttributeOperation"}static fromJSON(t,e){if(!e.getRoot(t.root))throw new Gn.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",{rootName:t.root});return new uc(e.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}class hc extends Qa{constructor(t,e,n,i,o){super(o),this.sourcePosition=t.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=e,this.targetPosition=n.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=i.clone()}get type(){return"merge"}get deletionPosition(){return new $s(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Gs(this.sourcePosition,t)}clone(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const t=this.targetPosition._getTransformedByMergeOperation(this),e=this.sourcePosition.path.slice(0,-1),n=new $s(this.sourcePosition.root,e)._getTransformedByMergeOperation(this),i=new fc(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return i.insertionPosition=n,i}_validate(){const t=this.sourcePosition.parent,e=this.targetPosition.parent;if(!(t&&t.is("element")&&t.parent))throw new Gn.b("merge-operation-source-position-invalid: Merge source position is invalid.");if(!(e&&e.is("element")&&e.parent))throw new Gn.b("merge-operation-target-position-invalid: Merge target position is invalid.");if(this.howMany!=t.maxOffset)throw new Gn.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.")}_execute(){const t=this.sourcePosition.parent;Xa(Gs._createIn(t),this.targetPosition),Xa(Gs._createOn(t),this.graveyardPosition)}toJSON(){const t=super.toJSON();return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}static get className(){return"MergeOperation"}static fromJSON(t,e){const n=$s.fromJSON(t.sourcePosition,e),i=$s.fromJSON(t.targetPosition,e),o=$s.fromJSON(t.graveyardPosition,e);return new this(n,t.howMany,i,o,t.baseVersion)}}class fc extends Qa{constructor(t,e,n,i){super(i),this.splitPosition=t.clone(),this.splitPosition.stickiness="toNext",this.howMany=e,this.insertionPosition=fc.getInsertionPosition(t),this.insertionPosition.stickiness="toNone",this.graveyardPosition=n?n.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const t=this.insertionPosition.path.slice();return t.push(0),new $s(this.insertionPosition.root,t)}get movedRange(){const t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new Gs(this.splitPosition,t)}clone(){const t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}getReversed(){const t=this.splitPosition.root.document.graveyard,e=new $s(t,[0]);return new hc(this.moveTargetPosition,this.howMany,this.splitPosition,e,this.baseVersion+1)}_validate(){const t=this.splitPosition.parent,e=this.splitPosition.offset;if(!t||t.maxOffset<e)throw new Gn.b("split-operation-position-invalid: Split position is invalid.");if(!t.parent)throw new Gn.b("split-operation-split-in-root: Cannot split root element.");if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new Gn.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.");if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new Gn.b("split-operation-graveyard-position-invalid: Graveyard position invalid.")}_execute(){const t=this.splitPosition.parent;if(this.graveyardPosition)Xa(Gs._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const e=t._clone();Ka(this.insertionPosition,e)}Xa(new Gs($s._createAt(t,this.splitPosition.offset),$s._createAt(t,t.maxOffset)),this.moveTargetPosition)}toJSON(){const t=super.toJSON();return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}static get className(){return"SplitOperation"}static getInsertionPosition(t){const e=t.path.slice(0,-1);return e[e.length-1]++,new $s(t.root,e)}static fromJSON(t,e){const n=$s.fromJSON(t.splitPosition,e),i=$s.fromJSON(t.insertionPosition,e),o=t.graveyardPosition?$s.fromJSON(t.graveyardPosition,e):null,r=new this(n,t.howMany,o,t.baseVersion);return r.insertionPosition=i,r}}class mc extends Hs{constructor(t,e,n="main"){super(e),this._doc=t,this.rootName=n}get document(){return this._doc}is(t,e){return e?"rootElement"==t&&e==this.name||super.is(t,e):"rootElement"==t||super.is(t)}toJSON(){return this.rootName}}class pc{constructor(t,e){this.model=t,this.batch=e}createText(t,e){return new zs(t,e)}createElement(t,e){return new Hs(t,e)}createDocumentFragment(){return new Ja}insert(t,e,n=0){if(this._assertWriterUsedCorrectly(),t instanceof zs&&""==t.data)return;const i=$s._createAt(e,n);if(t.parent){if(kc(t.root,i.root))return void this.move(Gs._createOn(t),i);if(t.root.document)throw new Error("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree.");this.remove(t)}const o=i.root.document?i.root.document.version:null,r=new cc(i,t,o);if(t instanceof zs&&(r.shouldReceiveAttributes=!0),this.batch.addOperation(r),this.model.applyOperation(r),t instanceof Ja)for(const[e,n]of t.markers){const t=$s._createAt(n.root,0),o=new Gs(n.start._getCombined(t,i),n.end._getCombined(t,i));this.addMarker(e,{range:o,usingOperation:!0,affectsData:!0})}}insertText(t,e,n,i){e instanceof Ja||e instanceof Hs||e instanceof $s?this.insert(this.createText(t),e,n):this.insert(this.createText(t,e),n,i)}insertElement(t,e,n,i){e instanceof Ja||e instanceof Hs||e instanceof $s?this.insert(this.createElement(t),e,n):this.insert(this.createElement(t,e),n,i)}append(t,e){this.insert(t,e,"end")}appendText(t,e,n){e instanceof Ja||e instanceof Hs?this.insert(this.createText(t),e,"end"):this.insert(this.createText(t,e),n,"end")}appendElement(t,e,n){e instanceof Ja||e instanceof Hs?this.insert(this.createElement(t),e,"end"):this.insert(this.createElement(t,e),n,"end")}setAttribute(t,e,n){if(this._assertWriterUsedCorrectly(),n instanceof Gs){const i=n.getMinimalFlatRanges();for(const n of i)gc(this,t,e,n)}else bc(this,t,e,n)}setAttributes(t,e){for(const[n,i]of Vs(t))this.setAttribute(n,i,e)}removeAttribute(t,e){if(this._assertWriterUsedCorrectly(),e instanceof Gs){const n=e.getMinimalFlatRanges();for(const e of n)gc(this,t,null,e)}else bc(this,t,null,e)}clearAttributes(t){this._assertWriterUsedCorrectly();const e=t=>{for(const e of t.getAttributeKeys())this.removeAttribute(e,t)};if(t instanceof Gs)for(const n of t.getItems())e(n);else e(t)}move(t,e,n){if(this._assertWriterUsedCorrectly(),!(t instanceof Gs))throw new Gn.b("writer-move-invalid-range: Invalid range to move.");if(!t.isFlat)throw new Gn.b("writer-move-range-not-flat: Range to move is not flat.");const i=$s._createAt(e,n);if(i.isEqual(t.start))return;if(this._addOperationForAffectedMarkers("move",t),!kc(t.root,i.root))throw new Gn.b("writer-move-different-document: Range is going to be moved between different documents.");const o=t.root.document?t.root.document.version:null,r=new ac(t.start,t.end.offset-t.start.offset,i,o);this.batch.addOperation(r),this.model.applyOperation(r)}remove(t){this._assertWriterUsedCorrectly();const e=(t instanceof Gs?t:Gs._createOn(t)).getMinimalFlatRanges().reverse();for(const t of e)this._addOperationForAffectedMarkers("move",t),_c(t.start,t.end.offset-t.start.offset,this.batch,this.model)}merge(t){this._assertWriterUsedCorrectly();const e=t.nodeBefore,n=t.nodeAfter;if(this._addOperationForAffectedMarkers("merge",t),!(e instanceof Hs))throw new Gn.b("writer-merge-no-element-before: Node before merge position must be an element.");if(!(n instanceof Hs))throw new Gn.b("writer-merge-no-element-after: Node after merge position must be an element.");t.root.document?this._merge(t):this._mergeDetached(t)}createPositionFromPath(t,e,n){return this.model.createPositionFromPath(t,e,n)}createPositionAt(t,e){return this.model.createPositionAt(t,e)}createPositionAfter(t){return this.model.createPositionAfter(t)}createPositionBefore(t){return this.model.createPositionBefore(t)}createRange(t,e){return this.model.createRange(t,e)}createRangeIn(t){return this.model.createRangeIn(t)}createRangeOn(t){return this.model.createRangeOn(t)}createSelection(t,e,n){return this.model.createSelection(t,e,n)}_mergeDetached(t){const e=t.nodeBefore,n=t.nodeAfter;this.move(Gs._createIn(n),$s._createAt(e,"end")),this.remove(n)}_merge(t){const e=$s._createAt(t.nodeBefore,"end"),n=$s._createAt(t.nodeAfter,0),i=t.root.document.graveyard,o=new $s(i,[0]),r=t.root.document.version,s=new hc(n,t.nodeAfter.maxOffset,e,o,r);this.batch.addOperation(s),this.model.applyOperation(s)}rename(t,e){if(this._assertWriterUsedCorrectly(),!(t instanceof Hs))throw new Gn.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.");const n=t.root.document?t.root.document.version:null,i=new dc($s._createBefore(t),t.name,e,n);this.batch.addOperation(i),this.model.applyOperation(i)}split(t,e){this._assertWriterUsedCorrectly();let n,i,o=t.parent;if(!o.parent)throw new Gn.b("writer-split-element-no-parent: Element with no parent can not be split.");if(e||(e=o.parent),!t.parent.getAncestors({includeSelf:!0}).includes(e))throw new Gn.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.");do{const e=o.root.document?o.root.document.version:null,r=o.maxOffset-t.offset,s=new fc(t,r,null,e);this.batch.addOperation(s),this.model.applyOperation(s),n||i||(n=o,i=t.parent.nextSibling),o=(t=this.createPositionAfter(t.parent)).parent}while(o!==e);return{position:t,range:new Gs($s._createAt(n,"end"),$s._createAt(i,0))}}wrap(t,e){if(this._assertWriterUsedCorrectly(),!t.isFlat)throw new Gn.b("writer-wrap-range-not-flat: Range to wrap is not flat.");const n=e instanceof Hs?e:new Hs(e);if(n.childCount>0)throw new Gn.b("writer-wrap-element-not-empty: Element to wrap with is not empty.");if(null!==n.parent)throw new Gn.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.");this.insert(n,t.start);const i=new Gs(t.start.getShiftedBy(1),t.end.getShiftedBy(1));this.move(i,$s._createAt(n,0))}unwrap(t){if(this._assertWriterUsedCorrectly(),null===t.parent)throw new Gn.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.");this.move(Gs._createIn(t),this.createPositionAfter(t)),this.remove(t)}addMarker(t,e){if(this._assertWriterUsedCorrectly(),!e||"boolean"!=typeof e.usingOperation)throw new Gn.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.");const n=e.usingOperation,i=e.range,o=void 0!==e.affectsData&&e.affectsData;if(this.model.markers.has(t))throw new Gn.b("writer-addMarker-marker-exists: Marker with provided name already exists.");if(!i)throw new Gn.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.");return n?(wc(this,t,null,i,o),this.model.markers.get(t)):this.model.markers._set(t,i,n,o)}updateMarker(t,e){this._assertWriterUsedCorrectly();const n="string"==typeof t?t:t.name,i=this.model.markers.get(n);if(!i)throw new Gn.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.");if(!e)return void this.model.markers._refresh(i);const o="boolean"==typeof e.usingOperation,r="boolean"==typeof e.affectsData,s=r?e.affectsData:i.affectsData;if(!o&&!e.range&&!r)throw new Gn.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.");const a=i.getRange(),c=e.range?e.range:a;o&&e.usingOperation!==i.managedUsingOperations?e.usingOperation?wc(this,n,null,c,s):(wc(this,n,a,null,s),this.model.markers._set(n,c,void 0,s)):i.managedUsingOperations?wc(this,n,a,c,s):this.model.markers._set(n,c,void 0,s)}removeMarker(t){this._assertWriterUsedCorrectly();const e="string"==typeof t?t:t.name;if(!this.model.markers.has(e))throw new Gn.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.");const n=this.model.markers.get(e);n.managedUsingOperations?wc(this,e,n.getRange(),null,n.affectsData):this.model.markers._remove(e)}setSelection(t,e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(t,e,n)}setSelectionFocus(t,e){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(t,e)}setSelectionAttribute(t,e){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._setSelectionAttribute(t,e);else for(const[e,n]of Vs(t))this._setSelectionAttribute(e,n)}removeSelectionAttribute(t){if(this._assertWriterUsedCorrectly(),"string"==typeof t)this._removeSelectionAttribute(t);else for(const e of t)this._removeSelectionAttribute(e)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(t){this.model.document.selection._restoreGravity(t)}_setSelectionAttribute(t,e){const n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){const i=sa._getStoreAttributeKey(t);this.setAttribute(i,e,n.anchor.parent)}n._setAttribute(t,e)}_removeSelectionAttribute(t){const e=this.model.document.selection;if(e.isCollapsed&&e.anchor.parent.isEmpty){const n=sa._getStoreAttributeKey(t);this.removeAttribute(n,e.anchor.parent)}e._removeAttribute(t)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new Gn.b("writer-incorrect-use: Trying to use a writer outside the change() block.")}_addOperationForAffectedMarkers(t,e){for(const n of this.model.markers){if(!n.managedUsingOperations)continue;const i=n.getRange();let o=!1;if("move"==t)o=e.containsPosition(i.start)||e.start.isEqual(i.start)||e.containsPosition(i.end)||e.end.isEqual(i.end);else{const t=e.nodeBefore,n=e.nodeAfter,r=i.start.parent==t&&i.start.isAtEnd,s=i.end.parent==n&&0==i.end.offset;o=r||s}o&&this.updateMarker(n.name,{range:i})}}}function gc(t,e,n,i){const o=t.model,r=o.document;let s,a,c,l=i.start;for(const t of i.getWalker({shallow:!0}))c=t.item.getAttribute(e),s&&a!=c&&(a!=n&&d(),l=s),s=t.nextPosition,a=c;function d(){const i=new Gs(l,s),c=i.root.document?r.version:null,d=new rc(i,e,a,n,c);t.batch.addOperation(d),o.applyOperation(d)}s instanceof $s&&s!=l&&a!=n&&d()}function bc(t,e,n,i){const o=t.model,r=o.document,s=i.getAttribute(e);let a,c;if(s!=n){if(i.root===i){const t=i.document?r.version:null;c=new uc(i,e,s,n,t)}else{const o=(a=new Gs($s._createBefore(i),t.createPositionAfter(i))).root.document?r.version:null;c=new rc(a,e,s,n,o)}t.batch.addOperation(c),o.applyOperation(c)}}function wc(t,e,n,i,o){const r=t.model,s=r.document,a=new lc(e,n,i,r.markers,o,s.version);t.batch.addOperation(a),r.applyOperation(a)}function _c(t,e,n,i){let o;if(t.root.document){const n=i.document,r=new $s(n.graveyard,[0]);o=new ac(t,e,r,n.version)}else o=new sc(t,e);n.addOperation(o),i.applyOperation(o)}function kc(t,e){return t===e||t instanceof mc&&e instanceof mc}class vc{constructor(t){this._markerCollection=t,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}get isEmpty(){return 0==this._changesInElement.size&&0==this._changedMarkers.size}bufferOperation(t){switch(t.type){case"insert":if(this._isInInsertedElement(t.position.parent))return;this._markInsert(t.position.parent,t.position.offset,t.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const e of t.range.getItems())this._isInInsertedElement(e.parent)||this._markAttribute(e);break;case"remove":case"move":case"reinsert":{if(t.sourcePosition.isEqual(t.targetPosition)||t.sourcePosition.getShiftedBy(t.howMany).isEqual(t.targetPosition))return;const e=this._isInInsertedElement(t.sourcePosition.parent),n=this._isInInsertedElement(t.targetPosition.parent);e||this._markRemove(t.sourcePosition.parent,t.sourcePosition.offset,t.howMany),n||this._markInsert(t.targetPosition.parent,t.getMovedRangeStart().offset,t.howMany);break}case"rename":{if(this._isInInsertedElement(t.position.parent))return;this._markRemove(t.position.parent,t.position.offset,1),this._markInsert(t.position.parent,t.position.offset,1);const e=Gs._createFromPositionAndShift(t.position,1);for(const t of this._markerCollection.getMarkersIntersectingRange(e)){const e=t.getRange();this.bufferMarkerChange(t.name,e,e,t.affectsData)}break}case"split":{const e=t.splitPosition.parent;this._isInInsertedElement(e)||this._markRemove(e,t.splitPosition.offset,t.howMany),this._isInInsertedElement(t.insertionPosition.parent)||this._markInsert(t.insertionPosition.parent,t.insertionPosition.offset,1),t.graveyardPosition&&this._markRemove(t.graveyardPosition.parent,t.graveyardPosition.offset,1);break}case"merge":{const e=t.sourcePosition.parent;this._isInInsertedElement(e.parent)||this._markRemove(e.parent,e.startOffset,1);const n=t.graveyardPosition.parent;this._markInsert(n,t.graveyardPosition.offset,1);const i=t.targetPosition.parent;this._isInInsertedElement(i)||this._markInsert(i,t.targetPosition.offset,e.maxOffset);break}}this._cachedChanges=null}bufferMarkerChange(t,e,n,i){const o=this._changedMarkers.get(t);o?(o.newRange=n,o.affectsData=i,null==o.oldRange&&null==o.newRange&&this._changedMarkers.delete(t)):this._changedMarkers.set(t,{oldRange:e,newRange:n,affectsData:i})}getMarkersToRemove(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.oldRange&&t.push({name:e,range:n.oldRange});return t}getMarkersToAdd(){const t=[];for(const[e,n]of this._changedMarkers)null!=n.newRange&&t.push({name:e,range:n.newRange});return t}getChangedMarkers(){return Array.from(this._changedMarkers).map(t=>({name:t[0],data:{oldRange:t[1].oldRange,newRange:t[1].newRange}}))}hasDataChanges(){for(const[,t]of this._changedMarkers)if(t.affectsData)return!0;return this._changesInElement.size>0}getChanges(t={includeChangesInGraveyard:!1}){if(this._cachedChanges)return t.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();const e=[];for(const t of this._changesInElement.keys()){const n=this._changesInElement.get(t).sort((t,e)=>t.offset===e.offset?t.type!=e.type?"remove"==t.type?-1:1:0:t.offset<e.offset?-1:1),i=this._elementSnapshots.get(t),o=yc(t.getChildren()),r=xc(i.length,n);let s=0,a=0;for(const n of r)if("i"===n)e.push(this._getInsertDiff(t,s,o[s].name)),s++;else if("r"===n)e.push(this._getRemoveDiff(t,s,i[a].name)),a++;else if("a"===n){const n=o[s].attributes,r=i[a].attributes;let c;if("$text"==o[s].name)c=new Gs($s._createAt(t,s),$s._createAt(t,s+1));else{const e=t.offsetToIndex(s);c=new Gs($s._createAt(t,s),$s._createAt(t.getChild(e),0))}e.push(...this._getAttributesDiff(c,r,n)),s++,a++}else s++,a++}e.sort((t,e)=>t.position.root!=e.position.root?t.position.root.rootName<e.position.root.rootName?-1:1:t.position.isEqual(e.position)?t.changeCount-e.changeCount:t.position.isBefore(e.position)?-1:1);for(let t=1;t<e.length;t++){const n=e[t-1],i=e[t],o="remove"==n.type&&"remove"==i.type&&"$text"==n.name&&"$text"==i.name&&n.position.isEqual(i.position),r="insert"==n.type&&"insert"==i.type&&"$text"==n.name&&"$text"==i.name&&n.position.parent==i.position.parent&&n.position.offset+n.length==i.position.offset,s="attribute"==n.type&&"attribute"==i.type&&n.position.parent==i.position.parent&&n.range.isFlat&&i.range.isFlat&&n.position.offset+n.length==i.position.offset&&n.attributeKey==i.attributeKey&&n.attributeOldValue==i.attributeOldValue&&n.attributeNewValue==i.attributeNewValue;(o||r||s)&&(e[t-1].length++,s&&(e[t-1].range.end=e[t-1].range.end.getShiftedBy(1)),e.splice(t,1),t--)}for(const t of e)delete t.changeCount,"attribute"==t.type&&(delete t.position,delete t.length);return this._changeCount=0,this._cachedChangesWithGraveyard=e.slice(),this._cachedChanges=e.slice().filter(Ac),t.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}_markInsert(t,e,n){const i={type:"insert",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i)}_markRemove(t,e,n){const i={type:"remove",offset:e,howMany:n,count:this._changeCount++};this._markChange(t,i),this._removeAllNestedChanges(t,e,n)}_markAttribute(t){const e={type:"attribute",offset:t.startOffset,howMany:t.offsetSize,count:this._changeCount++};this._markChange(t.parent,e)}_markChange(t,e){this._makeSnapshot(t);const n=this._getChangesForElement(t);this._handleChange(e,n),n.push(e);for(let t=0;t<n.length;t++)n[t].howMany<1&&(n.splice(t,1),t--)}_getChangesForElement(t){let e;return this._changesInElement.has(t)?e=this._changesInElement.get(t):(e=[],this._changesInElement.set(t,e)),e}_makeSnapshot(t){this._elementSnapshots.has(t)||this._elementSnapshots.set(t,yc(t.getChildren()))}_handleChange(t,e){t.nodesToHandle=t.howMany;for(const n of e){const i=t.offset+t.howMany,o=n.offset+n.howMany;if("insert"==t.type&&("insert"==n.type&&(t.offset<=n.offset?n.offset+=t.howMany:t.offset<o&&(n.howMany+=t.nodesToHandle,t.nodesToHandle=0)),"remove"==n.type&&t.offset<n.offset&&(n.offset+=t.howMany),"attribute"==n.type))if(t.offset<=n.offset)n.offset+=t.howMany;else if(t.offset<o){const o=n.howMany;n.howMany=t.offset-n.offset,e.unshift({type:"attribute",offset:i,howMany:o-n.howMany,count:this._changeCount++})}if("remove"==t.type){if("insert"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(i<=o)if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e,t.nodesToHandle-=e}else n.howMany-=t.nodesToHandle,t.nodesToHandle=0;else if(t.offset<=n.offset)t.nodesToHandle-=n.howMany,n.howMany=0;else if(t.offset<o){const e=o-t.offset;n.howMany-=e,t.nodesToHandle-=e}if("remove"==n.type&&(i<=n.offset?n.offset-=t.howMany:t.offset<n.offset&&(t.nodesToHandle+=n.howMany,n.howMany=0)),"attribute"==n.type)if(i<=n.offset)n.offset-=t.howMany;else if(t.offset<n.offset){const e=i-n.offset;n.offset=t.offset,n.howMany-=e}else if(t.offset<o)if(i<=o){const i=n.howMany;n.howMany=t.offset-n.offset;const o=i-n.howMany-t.nodesToHandle;e.unshift({type:"attribute",offset:t.offset,howMany:o,count:this._changeCount++})}else n.howMany-=o-t.offset}if("attribute"==t.type){if("insert"==n.type)if(t.offset<n.offset&&i>n.offset){if(i>o){const t={type:"attribute",offset:o,howMany:i-o,count:this._changeCount++};this._handleChange(t,e),e.push(t)}t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}else t.offset>=n.offset&&t.offset<o&&(i>o?(t.nodesToHandle=i-o,t.offset=o):t.nodesToHandle=0);if("remove"==n.type&&t.offset<n.offset&&i>n.offset){const o={type:"attribute",offset:n.offset,howMany:i-n.offset,count:this._changeCount++};this._handleChange(o,e),e.push(o),t.nodesToHandle=n.offset-t.offset,t.howMany=t.nodesToHandle}"attribute"==n.type&&(t.offset>=n.offset&&i<=o?(t.nodesToHandle=0,t.howMany=0,t.offset=0):t.offset<=n.offset&&i>=o&&(n.howMany=0))}}t.howMany=t.nodesToHandle,delete t.nodesToHandle}_getInsertDiff(t,e,n){return{type:"insert",position:$s._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getRemoveDiff(t,e,n){return{type:"remove",position:$s._createAt(t,e),name:n,length:1,changeCount:this._changeCount++}}_getAttributesDiff(t,e,n){const i=[];n=new Map(n);for(const[o,r]of e){const e=n.has(o)?n.get(o):null;e!==r&&i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:o,attributeOldValue:r,attributeNewValue:e,changeCount:this._changeCount++}),n.delete(o)}for(const[e,o]of n)i.push({type:"attribute",position:t.start,range:t.clone(),length:1,attributeKey:e,attributeOldValue:null,attributeNewValue:o,changeCount:this._changeCount++});return i}_isInInsertedElement(t){const e=t.parent;if(!e)return!1;const n=this._changesInElement.get(e),i=t.startOffset;if(n)for(const t of n)if("insert"==t.type&&i>=t.offset&&i<t.offset+t.howMany)return!0;return this._isInInsertedElement(e)}_removeAllNestedChanges(t,e,n){const i=new Gs($s._createAt(t,e),$s._createAt(t,e+n));for(const t of i.getItems({shallow:!0}))t.is("element")&&(this._elementSnapshots.delete(t),this._changesInElement.delete(t),this._removeAllNestedChanges(t,0,t.maxOffset))}}function yc(t){const e=[];for(const n of t)if(n.is("text"))for(let t=0;t<n.data.length;t++)e.push({name:"$text",attributes:new Map(n.getAttributes())});else e.push({name:n.name,attributes:new Map(n.getAttributes())});return e}function xc(t,e){const n=[];let i=0,o=0;for(const t of e)t.offset>i&&(n.push(..."e".repeat(t.offset-i).split("")),o+=t.offset-i),"insert"==t.type?(n.push(..."i".repeat(t.howMany).split("")),i=t.offset+t.howMany):"remove"==t.type?(n.push(..."r".repeat(t.howMany).split("")),i=t.offset,o+=t.howMany):(n.push(..."a".repeat(t.howMany).split("")),i=t.offset+t.howMany,o+=t.howMany);return o<t&&n.push(..."e".repeat(t-o).split("")),n}function Ac(t){const e=t.position&&"$graveyard"==t.position.root.rootName,n=t.range&&"$graveyard"==t.range.root.rootName;return!e&&!n}class Cc{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}addOperation(t){this._operations.includes(t)||this._operations.push(t)}getOperations(t=0,e=Number.POSITIVE_INFINITY){return t<0?[]:this._operations.slice(t,e)}getOperation(t){return this._operations[t]}setOperationAsUndone(t,e){this._undoPairs.set(e,t),this._undoneOperations.add(t)}isUndoingOperation(t){return this._undoPairs.has(t)}isUndoneOperation(t){return this._undoneOperations.has(t)}getUndoneOperation(t){return this._undoPairs.get(t)}}function Tc(t,e){return function(t){return!!t&&1==t.length&&/[\ud800-\udbff]/.test(t)}(t.charAt(e-1))&&function(t){return!!t&&1==t.length&&/[\udc00-\udfff]/.test(t)}(t.charAt(e))}function Pc(t,e){return function(t){return!!t&&1==t.length&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(t)}(t.charAt(e))}const Mc="$graveyard";class Ec{constructor(t){this.model=t,this.version=0,this.history=new Cc(this),this.selection=new sa(this),this.roots=new oo({idProperty:"rootName"}),this.differ=new vc(t.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Mc),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];if(n.isDocumentOperation&&n.baseVersion!==this.version)throw new Gn.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",{operation:n})},{priority:"highest"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&this.differ.bufferOperation(n)},{priority:"high"}),this.listenTo(t,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&(this.version++,this.history.addOperation(n))},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(t.markers,"update",(t,e,n,i)=>{this.differ.bufferMarkerChange(e.name,n,i,e.affectsData),null===n&&e.on("change",(t,n)=>{this.differ.bufferMarkerChange(e.name,n,e.getRange(),e.affectsData)})})}get graveyard(){return this.getRoot(Mc)}createRoot(t="$root",e="main"){if(this.roots.get(e))throw new Gn.b("model-document-createRoot-name-exists: Root with specified name already exists.",{name:e});const n=new mc(this,t,e);return this.roots.add(n),n}destroy(){this.selection.destroy(),this.stopListening()}getRoot(t="main"){return this.roots.get(t)}getRootNames(){return Array.from(this.roots,t=>t.rootName).filter(t=>t!=Mc)}registerPostFixer(t){this._postFixers.add(t)}toJSON(){const t=ui(this);return t.selection="[engine.model.DocumentSelection]",t.model="[engine.model.Model]",t}_handleChangeBlock(t){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(t),this.differ.hasDataChanges()?this.fire("change:data",t.batch):this.fire("change",t.batch),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){for(const t of this.roots)if(t!==this.graveyard)return t;return this.graveyard}_getDefaultRange(){const t=this._getDefaultRoot(),e=this.model,n=e.schema,i=e.createPositionFromPath(t,[0]);return n.getNearestSelectionRange(i)||e.createRange(i)}_validateSelectionRange(t){return Sc(t.start)&&Sc(t.end)}_callPostFixers(t){let e=!1;do{for(const n of this._postFixers)if(e=n(t))break}while(e)}}function Sc(t){const e=t.textNode;if(e){const n=e.data,i=t.offset-e.startOffset;return!Tc(n,i)&&!Pc(n,i)}return!0}ci(Ec,ei);class Ic{constructor(){this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(t){return this._markers.has(t)}get(t){return this._markers.get(t)||null}_set(t,e,n=!1,i=!1){const o=t instanceof Nc?t.name:t,r=this._markers.get(o);if(r){const t=r.getRange();let s=!1;return t.isEqual(e)||(r._attachLiveRange(oa.fromRange(e)),s=!0),n!=r.managedUsingOperations&&(r._managedUsingOperations=n,s=!0),"boolean"==typeof i&&i!=r.affectsData&&(r._affectsData=i,s=!0),s&&this.fire("update:"+o,r,t,e),r}const s=oa.fromRange(e),a=new Nc(o,s,n,i);return this._markers.set(o,a),this.fire("update:"+o,a,null,e),a}_remove(t){const e=t instanceof Nc?t.name:t,n=this._markers.get(e);return!!n&&(this._markers.delete(e),this.fire("update:"+e,n,n.getRange(),null),this._destroyMarker(n),!0)}_refresh(t){const e=t instanceof Nc?t.name:t,n=this._markers.get(e);if(!n)throw new Gn.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.");const i=n.getRange();this.fire("update:"+e,n,i,i,n.managedUsingOperations,n.affectsData)}*getMarkersAtPosition(t){for(const e of this)e.getRange().containsPosition(t)&&(yield e)}*getMarkersIntersectingRange(t){for(const e of this)null!==e.getRange().getIntersection(t)&&(yield e)}destroy(){for(const t of this._markers.values())this._destroyMarker(t);this._markers=null,this.stopListening()}*getMarkersGroup(t){for(const e of this._markers.values())e.name.startsWith(t+":")&&(yield e)}_destroyMarker(t){t.stopListening(),t._detachLiveRange()}}ci(Ic,ei);class Nc{constructor(t,e,n,i){this.name=t,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=i}get managedUsingOperations(){if(!this._liveRange)throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._affectsData}getStart(){if(!this._liveRange)throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new Gn.b("marker-destroyed: Cannot use a destroyed marker instance.");return this._liveRange.toRange()}_attachLiveRange(t){return this._liveRange&&this._detachLiveRange(),t.delegate("change:range").to(this),t.delegate("change:content").to(this),this._liveRange=t,t}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}ci(Nc,ei);class Oc extends $s{constructor(t,e,n="toNone"){if(super(t,e,n),!this.root.is("rootElement"))throw new Gn.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.");(function(){this.listenTo(this.root.document.model,"applyOperation",(t,e)=>{const n=e[0];n.isDocumentOperation&&function(t){const e=this.getTransformedByOperation(t);if(!this.isEqual(e)){const t=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",t)}}.call(this,n)},{priority:"low"})}).call(this)}detach(){this.stopListening()}toPosition(){return new $s(this.root,this.path.slice(),this.stickiness)}static fromPosition(t,e){return new this(t.root,t.path.slice(),e||t.stickiness)}}ci(Oc,ei);class Rc{constructor(t,e,n){this.model=t,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=t.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}handleNodes(t,e){t=Array.from(t);for(let n=0;n<t.length;n++){const i=t[n];this._handleNode(i,{isFirst:0===n&&e.isFirst,isLast:n===t.length-1&&e.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}getSelectionRange(){return this.nodeToSelect?Gs._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new Gs(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(t,e){if(this.schema.isObject(t))return void this._handleObject(t,e);this._checkAndSplitToAllowedPosition(t,e)?(this._insert(t),this._mergeSiblingsOf(t,e)):this._handleDisallowedNode(t,e)}_handleObject(t,e){this._checkAndSplitToAllowedPosition(t)?this._insert(t):this._tryAutoparagraphing(t,e)}_handleDisallowedNode(t,e){t.is("element")?this.handleNodes(t.getChildren(),e):this._tryAutoparagraphing(t,e)}_insert(t){if(!this.schema.checkChild(this.position,t))return void bs.a.error("insertcontent-wrong-position: The node cannot be inserted on the given position.",{node:t,position:this.position});const e=Oc.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(t,this.position),this.position=e.toPosition(),e.detach(),this.schema.isObject(t)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=t:this.nodeToSelect=null,this._filterAttributesOf.push(t)}_setAffectedBoundaries(t){this._affectedStart||(this._affectedStart=Oc.fromPosition(t,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(t)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Oc.fromPosition(t,"toNext"))}_mergeSiblingsOf(t,e){if(!(t instanceof Hs))return;const n=this._canMergeLeft(t,e),i=this._canMergeRight(t,e),o=Oc._createBefore(t);o.stickiness="toNext";const r=Oc._createAfter(t);if(r.stickiness="toNext",n){const t=Oc.fromPosition(this.position);t.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Oc._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&e.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Oc._createAt(o.nodeBefore,"end","toNext")),this.position=t.toPosition(),t.detach()}if(i){this.position.isEqual(r)||bs.a.error("insertcontent-wrong-position-on-merge: The insertion position should equal the merge position"),this.position=$s._createAt(r.nodeBefore,"end");const t=Oc.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(r)&&(this._affectedEnd.detach(),this._affectedEnd=Oc._createAt(r.nodeBefore,"end","toNext")),this.writer.merge(r),r.getShiftedBy(-1).isEqual(this._affectedStart)&&e.isFirst&&(this._affectedStart.detach(),this._affectedStart=Oc._createAt(r.nodeBefore,0,"toPrevious")),this.position=t.toPosition(),t.detach()}(n||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),r.detach()}_canMergeLeft(t,e){const n=t.previousSibling;return e.isFirst&&n instanceof Hs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(n,t)}_canMergeRight(t,e){const n=t.nextSibling;return e.isLast&&n instanceof Hs&&this.canMergeWith.has(n)&&this.model.schema.checkMerge(t,n)}_tryAutoparagraphing(t,e){const n=this.writer.createElement("paragraph");this._getAllowedIn(n,this.position.parent)&&this.schema.checkChild(n,t)&&(n._appendChild(t),this._handleNode(n,e))}_checkAndSplitToAllowedPosition(t){const e=this._getAllowedIn(t,this.position.parent);if(!e)return!1;for(;e!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){const t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const t=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=t,this.canMergeWith.add(this.position.nodeAfter)}}return!0}_getAllowedIn(t,e){return this.schema.checkChild(e,t)?e:e.parent?this._getAllowedIn(t,e.parent):null}}function Dc(t,e,n={}){if(e.isCollapsed)return;const i=e.getFirstRange();if("$graveyard"==i.root.rootName)return;const o=t.schema;t.change(t=>{if(!n.doNotResetEntireContent&&function(t,e){const n=t.getLimitElement(e);if(!e.containsEntireContent(n))return!1;const i=e.getFirstRange();if(i.start.parent==i.end.parent)return!1;return t.checkChild(n,"paragraph")}(o,e))return void function(t,e){const n=t.model.schema.getLimitElement(e);t.remove(t.createRangeIn(n)),Lc(t,t.createPositionAt(n,0),e)}(t,e);const r=i.start,s=Oc.fromPosition(i.end,"toNext");if(i.start.isTouching(i.end)||t.remove(i),n.leaveUnmerged||(!function t(e,n,i){const o=n.parent;const r=i.parent;if(o==r)return;if(e.model.schema.isLimit(o)||e.model.schema.isLimit(r))return;if(!function(t,e,n){const i=new Gs(t,e);for(const t of i.getWalker())if(n.isLimit(t.item))return!1;return!0}(n,i,e.model.schema))return;n=e.createPositionAfter(o);i=e.createPositionBefore(r);i.isEqual(n)||e.insert(r,n);e.merge(n);for(;i.parent.isEmpty;){const t=i.parent;i=e.createPositionBefore(t),e.remove(t)}t(e,n,i)}(t,r,s),o.removeDisallowedAttributes(r.parent.getChildren(),t)),jc(t,e,r),function(t,e){const n=t.checkChild(e,"$text"),i=t.checkChild(e,"paragraph");return!n&&i}(o,r)){const i=o.getNearestSelectionRange(r);n.doNotAutoparagraph&&i?jc(t,e,i):Lc(t,r,e)}s.detach()})}function Lc(t,e,n){const i=t.createElement("paragraph");t.insert(i,e),jc(t,n,t.createPositionAt(i,0))}function jc(t,e,n){e instanceof sa?t.setSelection(n):e.setTo(n)}const Vc=' ,.?!:;"-()';function Bc(t,e,n={}){const i=t.schema,o="backward"!=n.direction,r=n.unit?n.unit:"character",s=e.focus,a=new qs({boundaries:function(t,e){const n=t.root,i=$s._createAt(n,e?"end":0);return e?new Gs(t,i):new Gs(i,t)}(s,o),singleCharacters:!0,direction:o?"forward":"backward"}),c={walker:a,schema:i,isForward:o,unit:r};let l;for(;l=a.next();){if(l.done)return;const n=zc(c,l.value);if(n)return void(e instanceof sa?t.change(t=>{t.setSelectionFocus(n)}):e.setFocus(n))}}function zc(t,e){if("text"==e.type)return"word"===t.unit?function(t,e){let n=t.position.textNode;if(n){let i=t.position.offset-n.startOffset;for(;!Fc(n.data,i,e)&&!Uc(n,i,e);){t.next();const o=e?t.position.nodeAfter:t.position.nodeBefore;if(o&&o.is("text")){const i=o.data.charAt(e?0:o.data.length-1);Vc.includes(i)||(t.next(),n=t.position.textNode)}i=t.position.offset-n.startOffset}}return t.position}(t.walker,t.isForward):function(t,e){const n=t.position.textNode;if(n){const i=n.data;let o=t.position.offset-n.startOffset;for(;Tc(i,o)||"character"==e&&Pc(i,o);)t.next(),o=t.position.offset-n.startOffset}return t.position}(t.walker,t.unit,t.isForward);if(e.type==(t.isForward?"elementStart":"elementEnd")){if(t.schema.isObject(e.item))return $s._createAt(e.item,t.isForward?"after":"before");if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}else{if(t.schema.isLimit(e.item))return void t.walker.skip(()=>!0);if(t.schema.checkChild(e.nextPosition,"$text"))return e.nextPosition}}function Fc(t,e,n){const i=e+(n?0:-1);return Vc.includes(t.charAt(i))}function Uc(t,e,n){return e===(n?t.endOffset:0)}function Hc(t,e){const n=[];Array.from(t.getItems({direction:"backward"})).map(t=>e.createRangeOn(t)).filter(e=>{return(e.start.isAfter(t.start)||e.start.isEqual(t.start))&&(e.end.isBefore(t.end)||e.end.isEqual(t.end))}).forEach(t=>{n.push(t.start.parent),e.remove(t)}),n.forEach(t=>{let n=t;for(;n.parent&&n.isEmpty;){const t=e.createRangeOn(n);n=n.parent,e.remove(t)}})}function qc(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.selection,i=e.schema,o=[];let r=!1;for(const t of n.getRanges()){const e=Wc(t,i);e?(o.push(e),r=!0):o.push(t)}if(r){let e=o;if(o.length>1){const t=o[0].start,n=o[o.length-1].end;e=[new Gs(t,n)]}t.setSelection(e,{backward:n.isBackward})}})(e,t))}function Wc(t,e){return t.isCollapsed?function(t,e){const n=t.start,i=e.getNearestSelectionRange(n);if(!i)return null;const o=i.start;if(n.isEqual(o))return null;if(o.nodeAfter&&e.isLimit(o.nodeAfter))return new Gs(o,$s._createAfter(o.nodeAfter));return new Gs(o)}(t,e):function(t,e){const n=t.start,i=t.end,o=e.checkChild(n,"$text"),r=e.checkChild(i,"$text"),s=e.getLimitElement(n),a=e.getLimitElement(i);if(s===a){if(o&&r)return null;if(function(t,e,n){const i=t.nodeAfter&&!n.isLimit(t.nodeAfter)||n.checkChild(t,"$text"),o=e.nodeBefore&&!n.isLimit(e.nodeBefore)||n.checkChild(e,"$text");return i||o}(n,i,e)){const t=n.nodeAfter&&e.isObject(n.nodeAfter),o=t?null:e.getNearestSelectionRange(n,"forward"),r=i.nodeBefore&&e.isObject(i.nodeBefore),s=r?null:e.getNearestSelectionRange(i,"backward"),a=o?o.start:n,c=s?s.start:i;return new Gs(a,c)}}const c=s&&!s.is("rootElement"),l=a&&!a.is("rootElement");if(c||l){const t=n.nodeAfter&&i.nodeBefore&&n.nodeAfter.parent===i.nodeBefore.parent,o=c&&(!t||!$c(n.nodeAfter,e)),r=l&&(!t||!$c(i.nodeBefore,e));let d=n,u=i;return o&&(d=$s._createBefore(Yc(s,e))),r&&(u=$s._createAfter(Yc(a,e))),new Gs(d,u)}return null}(t,e)}function Yc(t,e){let n=t,i=n;for(;e.isLimit(i)&&i.parent;)n=i,i=i.parent;return n}function $c(t,e){return t&&e.isObject(t)}class Gc{constructor(){this.markers=new Ic,this.document=new Ec(this),this.schema=new Ia,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(t=>this.decorate(t)),this.on("applyOperation",(t,e)=>{e[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck((t,e)=>{if("$marker"===e.name)return!0}),qc(this)}change(t){return 0===this._pendingChanges.length?(this._pendingChanges.push({batch:new Ga,callback:t}),this._runPendingChanges()[0]):t(this._currentWriter)}enqueueChange(t,e){"string"==typeof t?t=new Ga(t):"function"==typeof t&&(e=t,t=new Ga),this._pendingChanges.push({batch:t,callback:e}),1==this._pendingChanges.length&&this._runPendingChanges()}applyOperation(t){t._execute()}insertContent(t,e,n){return function(t,e,n,i){return t.change(o=>{let r;const s=(r=n?n instanceof ta||n instanceof sa?n:o.createSelection(n,i):t.document.selection).getFirstPosition();r.isCollapsed||t.deleteContent(r,{doNotAutoparagraph:!0});const a=new Rc(t,o,s);let c;c=e.is("documentFragment")?e.getChildren():[e],a.handleNodes(c,{isFirst:!0,isLast:!0});const l=a.getSelectionRange();l?r instanceof sa?o.setSelection(l):r.setTo(l):bs.a.warn("insertcontent-no-range: Cannot determine a proper selection range after insertion.");const d=a.getAffectedRange()||t.createRange(s);return a.destroy(),d})}(this,t,e,n)}deleteContent(t,e){Dc(this,t,e)}modifySelection(t,e){Bc(this,t,e)}getSelectedContent(t){return function(t,e){return t.change(t=>{const n=t.createDocumentFragment(),i=e.getFirstRange();if(!i||i.isCollapsed)return n;const o=i.start.root,r=i.start.getCommonPath(i.end),s=o.getNodeByPath(r);let a;const c=(a=i.start.parent==i.end.parent?i:t.createRange(t.createPositionAt(s,i.start.path[r.length]),t.createPositionAt(s,i.end.path[r.length]+1))).end.offset-a.start.offset;for(const e of a.getItems({shallow:!0}))e.is("textProxy")?t.appendText(e.data,e.getAttributes(),n):t.append(e._clone(!0),n);if(a!=i){const e=i._getTransformedByMove(a.start,t.createPositionAt(n,0),c)[0],o=t.createRange(t.createPositionAt(n,0),e.start);Hc(t.createRange(e.end,t.createPositionAt(n,"end")),t),Hc(o,t)}return n})}(this,t)}hasContent(t,e){const n=t instanceof Hs?Gs._createIn(t):t;if(n.isCollapsed)return!1;for(const t of this.markers.getMarkersIntersectingRange(n))if(t.affectsData)return!0;const{ignoreWhitespaces:i=!1}=e||{};for(const t of n.getItems())if(t.is("textProxy")){if(!i)return!0;if(-1!==t.data.search(/\S/))return!0}else if(this.schema.isObject(t))return!0;return!1}createPositionFromPath(t,e,n){return new $s(t,e,n)}createPositionAt(t,e){return $s._createAt(t,e)}createPositionAfter(t){return $s._createAfter(t)}createPositionBefore(t){return $s._createBefore(t)}createRange(t,e){return new Gs(t,e)}createRangeIn(t){return Gs._createIn(t)}createRangeOn(t){return Gs._createOn(t)}createSelection(t,e,n){return new ta(t,e,n)}createBatch(){return new Ga}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const t=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){const e=this._pendingChanges[0].batch;this._currentWriter=new pc(this,e);const n=this._pendingChanges[0].callback(this._currentWriter);t.push(n),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),t}}ci(Gc,Fi);class Qc{constructor(){this._listener=Object.create(lr)}listenTo(t){this._listener.listenTo(t,"keydown",(t,e)=>{this._listener.fire("_keydown:"+wo(e),e)})}set(t,e,n={}){const i=_o(t),o=n.priority;this._listener.listenTo(this._listener,"_keydown:"+i,(t,n)=>{e(n,()=>{n.preventDefault(),n.stopPropagation(),t.stop()}),t.return=!0},{priority:o})}press(t){return!!this._listener.fire("_keydown:"+wo(t),t)}destroy(){this._listener.stopListening()}}class Jc extends Qc{constructor(t){super(),this.editor=t}set(t,e,n={}){if("string"==typeof e){const t=e;e=((e,n)=>{this.editor.execute(t),n()})}super.set(t,e,n)}}class Kc{constructor(t){const e=this.constructor.builtinPlugins;this.config=new Yn(t,this.constructor.defaultConfig),this.config.define("plugins",e),this.plugins=new Ca(this,e),this.commands=new Ta,this.locale=new Ma(this.config.get("language")),this.t=this.locale.t,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.set("isReadOnly",!1),this.model=new Gc,this.data=new qa(this.model),this.editing=new Aa(this.model),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Wa([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new Jc(this),this.keystrokes.listenTo(this.editing.view.document)}initPlugins(){const t=this.config,e=t.get("plugins")||[],n=t.get("removePlugins")||[],i=t.get("extraPlugins")||[];return this.plugins.init(e.concat(i),n)}destroy(){let t=Promise.resolve();return"initializing"==this.state&&(t=new Promise(t=>this.once("ready",t))),t.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()})}execute(...t){this.commands.execute(...t)}}ci(Kc,Fi);var Zc={setData(t){this.data.set(t)},getData(t){return this.data.get(t)}};var Xc={updateSourceElement(){if(!this.sourceElement)throw new Gn.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.");!function(t,e){t instanceof HTMLTextAreaElement&&(t.value=e),t.innerHTML=e}(this.sourceElement,this.data.get())}};class tl{getHtml(t){const e=document.implementation.createHTMLDocument("").createElement("div");return e.appendChild(t),e.innerHTML}}class el{constructor(){this._domParser=new DOMParser,this._domConverter=new rr({blockFiller:jo}),this._htmlWriter=new tl}toData(t){const e=this._domConverter.viewToDom(t,document);return this._htmlWriter.getHtml(e)}toView(t){const e=this._toDom(t);return this._domConverter.domToView(e)}_toDom(t){const e=this._domParser.parseFromString(t,"text/html"),n=e.createDocumentFragment(),i=e.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return n}}class nl{constructor(t){this.editor=t,this._components=new Map}*names(){for(const t of this._components.values())yield t.originalName}add(t,e){if(this.has(t))throw new Gn.b("componentfactory-item-exists: The item already exists in the component factory.",{name:t});this._components.set(il(t),{callback:e,originalName:t})}create(t){if(!this.has(t))throw new Gn.b("componentfactory-item-missing: The required component is not registered in the factory.",{name:t});return this._components.get(il(t)).callback(this.editor.locale)}has(t){return this._components.has(il(t))}}function il(t){return String(t).toLowerCase()}class ol{constructor(){this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}add(t){if(this._elements.has(t))throw new Gn.b("focusTracker-add-element-already-exist");this.listenTo(t,"focus",()=>this._focus(t),{useCapture:!0}),this.listenTo(t,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(t)}remove(t){t===this.focusedElement&&this._blur(t),this._elements.has(t)&&(this.stopListening(t),this._elements.delete(t))}destroy(){this.stopListening()}_focus(t){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=t,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}ci(ol,lr),ci(ol,Fi);class rl{constructor(t){this.editor=t,this.componentFactory=new nl(t),this.focusTracker=new ol,this._editableElements=new Map,this.listenTo(t.editing.view.document,"layoutChanged",()=>this.update())}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this._editableElements=new Map}getEditableElement(t="main"){return this._editableElements.get(t)}getEditableElementsNames(){return this._editableElements.keys()}}ci(rl,ei);n(43);const sl=new WeakMap;function al(t){const{view:e,element:n,text:i,isDirectHost:o=!0}=t,r=e.document;sl.has(r)||(sl.set(r,new Map),r.registerPostFixer(t=>ll(r,t))),sl.get(r).set(n,{text:i,isDirectHost:o}),e.change(t=>ll(r,t))}function cl(t,e){return!!e.hasClass("ck-placeholder")&&(t.removeClass("ck-placeholder",e),!0)}function ll(t,e){const n=sl.get(t);let i=!1;for(const[t,o]of n)dl(e,t,o)&&(i=!0);return i}function dl(t,e,n){const{text:i,isDirectHost:o}=n,r=o?e:function(t){if(1===t.childCount){const e=t.getChild(0);if(e.is("element")&&!e.is("uiElement"))return e}return null}(e);let s=!1;return!!r&&(n.hostElement=r,r.getAttribute("data-placeholder")!==i&&(t.setAttribute("data-placeholder",i,r),s=!0),!function(t){const e=t.document;if(!e)return!1;const n=!Array.from(t.getChildren()).some(t=>!t.is("uiElement"));if(!e.isFocused&&n)return!0;const i=e.selection.anchor;return!(!n||!i||i.parent===t)}(r)?cl(t,r)&&(s=!0):function(t,e){return!e.hasClass("ck-placeholder")&&(t.addClass("ck-placeholder",e),!0)}(t,r)&&(s=!0),s)}class ul{constructor(){this._replacedElements=[]}replace(t,e){this._replacedElements.push({element:t,newElement:e}),t.style.display="none",e&&t.parentNode.insertBefore(e,t.nextSibling)}restore(){this._replacedElements.forEach(({element:t,newElement:e})=>{t.style.display="",e&&e.remove()}),this._replacedElements=[]}}class hl extends rl{constructor(t,e){super(t),this.view=e,this._toolbarConfig=function(t){return Array.isArray(t)?{items:t}:t?Object.assign({items:[]},t):{items:[]}}(t.config.get("toolbar")),this._elementReplacer=new ul}get element(){return this.view.element}init(t){const e=this.editor,n=this.view,i=e.editing.view,o=n.editable,r=i.document.getRoot();o.name=r.rootName,n.render();const s=o.element;this._editableElements.set(o.name,s),this.focusTracker.add(s),n.editable.bind("isFocused").to(this.focusTracker),i.attachDomRoot(s),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){const t=this.view,e=this.editor.editing.view;this._elementReplacer.restore(),e.detachDomRoot(t.editable.name),t.destroy(),super.destroy()}_initToolbar(){const t=this.editor,e=this.view,n=t.editing.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,this._toolbarConfig.viewportTopOffset&&(e.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),e.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function({origin:t,originKeystrokeHandler:e,originFocusTracker:n,toolbar:i,beforeFocus:o,afterBlur:r}){n.add(i.element),e.set("Alt+F10",(t,e)=>{n.isFocused&&!i.focusTracker.isFocused&&(o&&o(),i.focus(),e())}),i.keystrokes.set("Esc",(e,n)=>{i.focusTracker.isFocused&&(t.focus(),r&&r(),n())})}({origin:n,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:e.toolbar})}_initPlaceholder(){const t=this.editor,e=t.editing.view,n=e.document.getRoot(),i=t.sourceElement,o=t.config.get("placeholder")||i&&"textarea"===i.tagName.toLowerCase()&&i.getAttribute("placeholder");o&&al({view:e,element:n,text:o,isDirectHost:!1})}}class fl extends oo{constructor(t){super({idProperty:"viewUid"}),this.on("add",(t,e,n)=>{e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[n])}),this.on("remove",(t,e)=>{e.element&&this._parentElement&&e.element.remove()}),this.locale=t,this._parentElement=null}destroy(){this.map(t=>t.destroy())}setParent(t){this._parentElement=t}delegate(...t){if(!t.length||!function(t){return t.every(t=>"string"==typeof t)}(t))throw new Gn.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.");return{to:e=>{for(const n of this)for(const i of t)n.delegate(i).to(e);this.on("add",(n,i)=>{for(const n of t)i.delegate(n).to(e)}),this.on("remove",(n,i)=>{for(const n of t)i.stopDelegating(n,e)})}}}}ci(oo,Fi);const ml="http://www.w3.org/1999/xhtml";class pl{constructor(t){Object.assign(this,Al(xl(t))),this._isRendered=!1,this._revertData=null}render(){const t=this._renderNode({intoFragment:!0});return this._isRendered=!0,t}apply(t){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:t,isApplying:!0,revertData:this._revertData}),t}revert(t){if(!this._revertData)throw new Gn.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.");this._revertTemplateFromNode(t,this._revertData)}*getViews(){yield*function*t(e){if(e.children)for(const n of e.children)El(n)?yield n:Sl(n)&&(yield*t(n))}(this)}static bind(t,e){return{to:(n,i)=>new bl({eventNameOrFunction:n,attribute:n,observable:t,emitter:e,callback:i}),if:(n,i,o)=>new wl({observable:t,emitter:e,attribute:n,valueIfTrue:i,callback:o})}}static extend(t,e){t._isRendered&&bs.a.warn("template-extend-render: Attempting to extend a template which has already been rendered."),function t(e,n){n.attributes&&(e.attributes||(e.attributes={}),Pl(e.attributes,n.attributes));n.eventListeners&&(e.eventListeners||(e.eventListeners={}),Pl(e.eventListeners,n.eventListeners));n.text&&e.text.push(...n.text);if(n.children&&n.children.length){if(e.children.length!=n.children.length)throw new Gn.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.");let i=0;for(const o of n.children)t(e.children[i++],o)}}(t,Al(xl(e)))}_renderNode(t){let e;if(e=t.node?this.tag&&this.text:this.tag?this.text:!this.text)throw new Gn.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.');return this.text?this._renderText(t):this._renderElement(t)}_renderElement(t){let e=t.node;return e||(e=t.node=document.createElementNS(this.ns||ml,this.tag)),this._renderAttributes(t),this._renderElementChildren(t),this._setUpListeners(t),e}_renderText(t){let e=t.node;return e?t.revertData.text=e.textContent:e=t.node=document.createTextNode(""),_l(this.text)?this._bindToObservable({schema:this.text,updater:function(t){return{set(e){t.textContent=e},remove(){t.textContent=""}}}(e),data:t}):e.textContent=this.text.join(""),e}_renderAttributes(t){let e,n,i,o;if(!this.attributes)return;const r=t.node,s=t.revertData;for(e in this.attributes)if(i=r.getAttribute(e),n=this.attributes[e],s&&(s.attributes[e]=i),o=z(n[0])&&n[0].ns?n[0].ns:null,_l(n)){const a=o?n[0].value:n;s&&Nl(e)&&a.unshift(i),this._bindToObservable({schema:a,updater:vl(r,e,o),data:t})}else"style"==e&&"string"!=typeof n[0]?this._renderStyleAttribute(n[0],t):(s&&i&&Nl(e)&&n.unshift(i),Ml(n=n.map(t=>t&&t.value||t).reduce((t,e)=>t.concat(e),[]).reduce(Tl,""))||r.setAttributeNS(o,e,n))}_renderStyleAttribute(t,e){const n=e.node;for(const i in t){const o=t[i];_l(o)?this._bindToObservable({schema:[o],updater:yl(n,i),data:e}):n.style[i]=o}}_renderElementChildren(t){const e=t.node,n=t.intoFragment?document.createDocumentFragment():e,i=t.isApplying;let o=0;for(const r of this.children)if(Il(r)){if(!i){r.setParent(e);for(const t of r)n.appendChild(t.element)}}else if(El(r))i||(r.isRendered||r.render(),n.appendChild(r.element));else if(Zo(r))n.appendChild(r);else if(i){const e={children:[],bindings:[],attributes:{}};t.revertData.children.push(e),r._renderNode({node:n.childNodes[o++],isApplying:!0,revertData:e})}else n.appendChild(r.render());t.intoFragment&&e.appendChild(n)}_setUpListeners(t){if(this.eventListeners)for(const e in this.eventListeners){const n=this.eventListeners[e].map(n=>{const[i,o]=e.split("@");return n.activateDomEventListener(i,o,t)});t.revertData&&t.revertData.bindings.push(n)}}_bindToObservable({schema:t,updater:e,data:n}){const i=n.revertData;kl(t,e,n);const o=t.filter(t=>!Ml(t)).filter(t=>t.observable).map(i=>i.activateAttributeListener(t,e,n));i&&i.bindings.push(o)}_revertTemplateFromNode(t,e){for(const t of e.bindings)for(const e of t)e();if(e.text)t.textContent=e.text;else{for(const n in e.attributes){const i=e.attributes[n];null===i?t.removeAttribute(n):t.setAttribute(n,i)}for(let n=0;n<e.children.length;++n)this._revertTemplateFromNode(t.childNodes[n],e.children[n])}}}ci(pl,ei);class gl{constructor(t){Object.assign(this,t)}getValue(t){const e=this.observable[this.attribute];return this.callback?this.callback(e,t):e}activateAttributeListener(t,e,n){const i=()=>kl(t,e,n);return this.emitter.listenTo(this.observable,"change:"+this.attribute,i),()=>{this.emitter.stopListening(this.observable,"change:"+this.attribute,i)}}}class bl extends gl{activateDomEventListener(t,e,n){const i=(t,n)=>{e&&!n.target.matches(e)||("function"==typeof this.eventNameOrFunction?this.eventNameOrFunction(n):this.observable.fire(this.eventNameOrFunction,n))};return this.emitter.listenTo(n.node,t,i),()=>{this.emitter.stopListening(n.node,t,i)}}}class wl extends gl{getValue(t){return!Ml(super.getValue(t))&&(this.valueIfTrue||!0)}}function _l(t){return!!t&&(t.value&&(t=t.value),Array.isArray(t)?t.some(_l):t instanceof gl)}function kl(t,e,{node:n}){let i=function(t,e){return t.map(t=>t instanceof gl?t.getValue(e):t)}(t,n);Ml(i=1==t.length&&t[0]instanceof wl?i[0]:i.reduce(Tl,""))?e.remove():e.set(i)}function vl(t,e,n){return{set(i){t.setAttributeNS(n,e,i)},remove(){t.removeAttributeNS(n,e)}}}function yl(t,e){return{set(n){t.style[e]=n},remove(){t.style[e]=null}}}function xl(t){return qn(t,t=>{if(t&&(t instanceof gl||Sl(t)||El(t)||Il(t)))return t})}function Al(t){if("string"==typeof t?t=function(t){return{text:[t]}}(t):t.text&&function(t){Array.isArray(t.text)||(t.text=[t.text])}(t),t.on&&(t.eventListeners=function(t){for(const e in t)Cl(t,e);return t}(t.on),delete t.on),!t.text){t.attributes&&function(t){for(const e in t)t[e].value&&(t[e].value=[].concat(t[e].value)),Cl(t,e)}(t.attributes);const e=[];if(t.children)if(Il(t.children))e.push(t.children);else for(const n of t.children)Sl(n)||El(n)||Zo(n)?e.push(n):e.push(new pl(n));t.children=e}return t}function Cl(t,e){Array.isArray(t[e])||(t[e]=[t[e]])}function Tl(t,e){return Ml(e)?t:Ml(t)?e:`${t} ${e}`}function Pl(t,e){for(const n in e)t[n]?t[n].push(...e[n]):t[n]=e[n]}function Ml(t){return!t&&0!==t}function El(t){return t instanceof Ol}function Sl(t){return t instanceof pl}function Il(t){return t instanceof fl}function Nl(t){return"class"==t||"style"==t}n(46);class Ol{constructor(t){this.element=null,this.isRendered=!1,this.locale=t,this.t=t&&t.t,this._viewCollections=new oo,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(e,n)=>{n.locale=t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=pl.bind(this,this)}createCollection(){const t=new fl;return this._viewCollections.add(t),t}registerChild(t){gi(t)||(t=[t]);for(const e of t)this._unboundChildren.add(e)}deregisterChild(t){gi(t)||(t=[t]);for(const e of t)this._unboundChildren.remove(e)}setTemplate(t){this.template=new pl(t)}extendTemplate(t){pl.extend(this.template,t)}render(){if(this.isRendered)throw new Gn.b("ui-view-render-already-rendered: This View has already been rendered.");this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(t=>t.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}ci(Ol,lr),ci(Ol,Fi);n(48);class Rl extends Ol{constructor(t){super(t),this.body=this.createCollection()}render(){super.render(),this._renderBodyCollection()}destroy(){return this._bodyCollectionContainer.remove(),super.destroy()}_renderBodyCollection(){const t=this._bodyCollectionContainer=new pl({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"]},children:this.body}).render();document.body.appendChild(t)}}n(50);class Dl extends Ol{constructor(t){super(t),this.set("text"),this.set("for");const e=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],for:e.to("for")},children:[{text:e.to("text")}]})}}class Ll extends Rl{constructor(t){super(t);const e=Kn();this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(e),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:"ltr",lang:t.language,"aria-labelledby":`ck-editor__aria-label_${e}`},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(t){const e=this.t,n=new Dl;return n.text=e("be"),n.extendTemplate({attributes:{id:`ck-editor__aria-label_${t}`,class:"ck-voice-label"}}),n}}class jl extends Ol{constructor(t,e,n){super(t),this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"]}}),this.name=null,this.set("isFocused",!1),this._editableElement=n,this._hasExternalElement=!!this._editableElement,this._editingView=e}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}_updateIsFocusedClasses(){const t=this._editingView;function e(e){t.change(n=>{const i=t.document.getRoot(e.name);n.addClass(e.isFocused?"ck-focused":"ck-blurred",i),n.removeClass(e.isFocused?"ck-blurred":"ck-focused",i)})}t.isRenderingInProgress?function n(i){t.once("change:isRenderingInProgress",(t,o,r)=>{r?n(i):e(i)})}(this):e(this)}}class Vl extends jl{constructor(t,e,n){super(t,e,n),this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}})}render(){super.render();const t=this._editingView,e=this.t;t.change(n=>{const i=t.document.getRoot(this.name);n.setAttribute("aria-label",e("bf",[this.name]),i)})}}function Bl(t){return e=>e+t}n(52);const zl=Bl("px");class Fl extends Ol{constructor(t){super(t);const e=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheLimiter",!1),this.set("_hasViewportTopOffset",!1),this.content=this.createCollection(),this._contentPanelPlaceholder=new pl({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:e.to("isSticky",t=>t?"block":"none"),height:e.to("isSticky",t=>t?zl(this._panelRect.height):null)}}}).render(),this._contentPanel=new pl({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",e.if("isSticky","ck-sticky-panel__content_sticky"),e.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:e.to("isSticky",t=>t?zl(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:e.to("_hasViewportTopOffset",t=>t?zl(this.viewportTopOffset):null),bottom:e.to("_isStickyToTheLimiter",t=>t?zl(this.limiterBottomOffset):null),marginLeft:e.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this._checkIfShouldBeSticky(),this.listenTo(nr.window,"scroll",()=>{this._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",()=>{this._checkIfShouldBeSticky()})}_checkIfShouldBeSticky(){const t=this._panelRect=this._contentPanel.getBoundingClientRect();let e;this.limiterElement?(e=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&e.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<e.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=e.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:zl(-nr.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}class Ul{constructor(t){if(Object.assign(this,t),t.actions&&t.keystrokeHandler)for(const e in t.actions){let n=t.actions[e];"string"==typeof n&&(n=[n]);for(const i of n)t.keystrokeHandler.set(i,(t,n)=>{this[e](),n()})}}get first(){return this.focusables.find(Hl)||null}get last(){return this.focusables.filter(Hl).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let t=null;return null===this.focusTracker.focusedElement?null:(this.focusables.find((e,n)=>{const i=e.element===this.focusTracker.focusedElement;return i&&(t=n),i}),t)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(t){t&&t.focus()}_getFocusableItem(t){const e=this.current,n=this.focusables.length;if(!n)return null;if(null===e)return this[1===t?"first":"last"];let i=(e+n+t)%n;do{const e=this.focusables.get(i);if(Hl(e))return e;i=(i+n+t)%n}while(i!==e);return null}}function Hl(t){return!(!t.focus||"none"==nr.window.getComputedStyle(t.element).display)}class ql extends Ol{constructor(t){super(t),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}n(54);class Wl extends Ol{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new ol,this.keystrokes=new Qc,this.set("isVertical",!1),this.set("class"),this._focusCycler=new Ul({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",e.if("isVertical","ck-toolbar_vertical"),e.to("class")]},children:this.items,on:{mousedown:function(t){return t.bindTemplate.to(e=>{e.target===t.element&&e.preventDefault()})}(this)}})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(t,e){t.map(t=>{"|"==t?this.items.add(new ql):e.has(t)?this.items.add(e.create(t)):bs.a.warn("toolbarview-item-unavailable: The requested toolbar item is unavailable.",{name:t})})}}n(56);class Yl extends Ll{constructor(t,e){super(t),this.stickyPanel=new Fl(t),this.toolbar=new Wl(t),this.editable=new Vl(t,e)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class $l extends Kc{constructor(t,e){super(e),Wn(t)&&(this.sourceElement=t),this.data.processor=new el,this.model.document.createRoot(),this.ui=new hl(this,new Yl(this.locale,this.editing.view)),function(t){if(!W(t.updateSourceElement))throw new Gn.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.");const e=t.sourceElement;if(e&&"textarea"===e.tagName.toLowerCase()&&e.form){let n;const i=e.form,o=()=>t.updateSourceElement();W(i.submit)&&(n=i.submit,i.submit=(()=>{o(),n.apply(i)})),i.addEventListener("submit",o),t.on("destroy",()=>{i.removeEventListener("submit",o),n&&(i.submit=n)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(t,e={}){return new Promise(n=>{const i=new this(t,e);n(i.initPlugins().then(()=>i.ui.init(Wn(t)?t:null)).then(()=>{if(!Wn(t)&&e.initialData)throw new Gn.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().");const n=e.initialData||function(t){return Wn(t)?function(t){return t instanceof HTMLTextAreaElement?t.value:t.innerHTML}(t):t}(t);return i.data.init(n)}).then(()=>i.fire("ready")).then(()=>i))})}}ci($l,Zc),ci($l,Xc);class Gl{constructor(t){this.editor=t}destroy(){this.stopListening()}}ci(Gl,Fi);class Ql{constructor(t){this.files=function(t){const e=t.files?Array.from(t.files):[],n=t.items?Array.from(t.items):[];if(e.length)return e;return n.filter(t=>"file"===t.kind).map(t=>t.getAsFile())}(t),this._native=t}get types(){return this._native.types}getData(t){return this._native.getData(t)}setData(t,e){this._native.setData(t,e)}}class Jl extends ts{constructor(t){super(t);const e=this.document;function n(t,n){n.preventDefault();const i=n.dropRange?[n.dropRange]:Array.from(e.selection.getRanges()),o=new Jn(e,"clipboardInput");e.fire(o,{dataTransfer:n.dataTransfer,targetRanges:i}),o.stop.called&&n.stopPropagation()}this.domEventType=["paste","copy","cut","drop","dragover"],this.listenTo(e,"paste",n,{priority:"low"}),this.listenTo(e,"drop",n,{priority:"low"})}onDomEvent(t){const e={dataTransfer:new Ql(t.clipboardData?t.clipboardData:t.dataTransfer)};"drop"==t.type&&(e.dropRange=function(t,e){const n=e.target.ownerDocument,i=e.clientX,o=e.clientY;let r;n.caretRangeFromPoint&&n.caretRangeFromPoint(i,o)?r=n.caretRangeFromPoint(i,o):e.rangeParent&&((r=n.createRange()).setStart(e.rangeParent,e.rangeOffset),r.collapse(!0));return r?t.domConverter.domRangeToView(r):t.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,e)}}const Kl=["figcaption","li"];class Zl extends Gl{static get pluginName(){return"Clipboard"}init(){const t=this.editor,e=t.model.document,n=t.editing.view,i=n.document;function o(n,o){const r=o.dataTransfer;o.preventDefault();const s=t.data.toView(t.model.getSelectedContent(e.selection));i.fire("clipboardOutput",{dataTransfer:r,content:s,method:n.name})}this._htmlDataProcessor=new el,n.addObserver(Jl),this.listenTo(i,"clipboardInput",e=>{t.isReadOnly&&e.stop()},{priority:"highest"}),this.listenTo(i,"clipboardInput",(t,e)=>{const i=e.dataTransfer;let o="";i.getData("text/html")?o=function(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1==e.length?" ":e)}(i.getData("text/html")):i.getData("text/plain")&&(o=function(t){return(t=t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n\n/g,"</p><p>").replace(/\n/g,"<br>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(t=`<p>${t}</p>`),t}(i.getData("text/plain"))),o=this._htmlDataProcessor.toView(o),this.fire("inputTransformation",{content:o,dataTransfer:i}),n.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(t,e)=>{if(!e.content.isEmpty){const t=this.editor.data,n=this.editor.model,i=t.toModel(e.content,"$clipboardHolder");if(0==i.childCount)return;n.insertContent(i)}},{priority:"low"}),this.listenTo(i,"copy",o,{priority:"low"}),this.listenTo(i,"cut",(e,n)=>{t.isReadOnly?n.preventDefault():o(e,n)},{priority:"low"}),this.listenTo(i,"clipboardOutput",(n,i)=>{i.content.isEmpty||(i.dataTransfer.setData("text/html",this._htmlDataProcessor.toData(i.content)),i.dataTransfer.setData("text/plain",function t(e){let n="";if(e.is("text")||e.is("textProxy"))n=e.data;else if(e.is("img")&&e.hasAttribute("alt"))n=e.getAttribute("alt");else{let i=null;for(const o of e.getChildren()){const e=t(o);i&&(i.is("containerElement")||o.is("containerElement"))&&(Kl.includes(i.name)||Kl.includes(o.name)?n+="\n":n+="\n\n"),n+=e,i=o}}return n}(i.content))),"cut"==i.method&&t.model.deleteContent(e.selection)},{priority:"low"})}}class Xl{constructor(t){this.editor=t,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.on("execute",t=>{this.isEnabled||t.stop()},{priority:"high"}),this.listenTo(t,"change:isReadOnly",(t,e,n)=>{n?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")})}refresh(){this.isEnabled=!0}forceDisabled(t){this._disableStack.add(t),1==this._disableStack.size&&(this.on("set:isEnabled",td,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(t){this._disableStack.delete(t),0==this._disableStack.size&&(this.off("set:isEnabled",td),this.refresh())}execute(){}destroy(){this.stopListening()}}function td(t){t.return=!1,t.stop()}ci(Xl,Fi);class ed extends Xl{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n,i){const o=n.isCollapsed,r=n.getFirstRange(),s=r.start.parent,a=r.end.parent;if(i.isLimit(s)||i.isLimit(a))return void(o||s!=a||t.deleteContent(n));if(o)nd(e,r.start);else{const i=!(r.start.isAtStart&&r.end.isAtEnd),o=s==a;t.deleteContent(n,{leaveUnmerged:i}),i&&(o?nd(e,n.focus):e.setSelection(a,0))}}(this.editor.model,n,e.selection,t.schema),this.fire("afterExecute",{writer:n})})}}function nd(t,e){t.split(e),t.setSelection(e.parent.nextSibling,0)}class id extends hr{constructor(t){super(t);const e=this.document;e.on("keydown",(t,n)=>{if(this.isEnabled&&n.keyCode==bo.enter){let i;e.once("enter",t=>i=t,{priority:"highest"}),e.fire("enter",new Xr(e,n.domEvent,{isSoft:n.shiftKey})),i&&i.stop.called&&t.stop()}})}observe(){}}class od extends Gl{static get pluginName(){return"Enter"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(id),t.commands.add("enter",new ed(t)),this.listenTo(n,"enter",(n,i)=>{i.preventDefault(),i.isSoft||(t.execute("enter"),e.scrollToTheSelection())},{priority:"low"})}}class rd extends Xl{execute(){const t=this.editor.model,e=t.document;t.change(n=>{!function(t,e,n){const i=n.isCollapsed,o=n.getFirstRange(),r=o.start.parent,s=o.end.parent,a=r==s;if(i)sd(e,o.end);else{const i=!(o.start.isAtStart&&o.end.isAtEnd);t.deleteContent(n,{leaveUnmerged:i}),a?sd(e,n.focus):i&&e.setSelection(s,0)}}(t,n,e.selection),this.fire("afterExecute",{writer:n})})}refresh(){const t=this.editor.model,e=t.document;this.isEnabled=function(t,e){if(e.rangeCount>1)return!1;const n=e.anchor;if(!n||!t.checkChild(n,"softBreak"))return!1;const i=e.getFirstRange(),o=i.start.parent,r=i.end.parent;if((ad(o,t)||ad(r,t))&&o!==r)return!1;return!0}(t.schema,e.selection)}}function sd(t,e){const n=t.createElement("softBreak");t.insert(n,e),t.setSelection(n,"after")}function ad(t,e){return!t.is("rootElement")&&(e.isLimit(t)||ad(t.parent,e))}class cd extends Gl{static get pluginName(){return"ShiftEnter"}init(){const t=this.editor,e=t.model.schema,n=t.conversion,i=t.editing.view,o=i.document;e.register("softBreak",{allowWhere:"$text",isInline:!0}),n.for("upcast").elementToElement({model:"softBreak",view:"br"}),n.for("downcast").elementToElement({model:"softBreak",view:(t,e)=>e.createEmptyElement("br")}),i.addObserver(id),t.commands.add("shiftEnter",new rd(t)),this.listenTo(o,"enter",(e,n)=>{n.preventDefault(),n.isSoft&&(t.execute("shiftEnter"),i.scrollToTheSelection())},{priority:"low"})}}class ld{constructor(t,e=20){this.model=t,this.size=0,this.limit=e,this.isLocked=!1,this._changeCallback=((t,e)=>{"transparent"!=e.type&&e!==this._batch&&this._reset(!0)}),this._selectionChangeCallback=(()=>{this._reset()}),this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch()),this._batch}input(t){this.size+=t,this.size>=this.limit&&this._reset(!0)}lock(){this.isLocked=!0}unlock(){this.isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(t){this.isLocked&&!t||(this._batch=null,this.size=0)}}class dd extends Xl{constructor(t,e){super(t),this._buffer=new ld(t.model,e)}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(t={}){const e=this.editor.model,n=e.document,i=t.text||"",o=i.length,r=t.range||n.selection.getFirstRange(),s=t.resultRange;e.enqueueChange(this._buffer.batch,t=>{const a=r.isCollapsed;this._buffer.lock(),a||e.deleteContent(e.createSelection(r)),i&&t.insertText(i,n.selection.getAttributes(),r.start),s?t.setSelection(s):a&&t.setSelection(r.start.getShiftedBy(o)),this._buffer.unlock(),this._buffer.input(o)})}}function ud(t){let e=null;const n=t.model,i=t.editing.view,o=t.commands.get("input");function r(){const t=o.buffer;t.lock(),n.enqueueChange(t.batch,()=>{n.deleteContent(n.document.selection)}),t.unlock()}i.document.on("keydown",(t,s)=>(function(t){const s=n.document,a=i.document.isComposing,c=e&&e.isEqual(s.selection);if(e=null,!o.isEnabled)return;if(function(t){if(t.ctrlKey)return!0;return hd.includes(t.keyCode)}(t)||s.selection.isCollapsed)return;if(a&&229===t.keyCode)return;if(!a&&229===t.keyCode&&c)return;r()})(s),{priority:"lowest"}),i.document.on("compositionstart",function(){const t=n.document,e=1!==t.selection.rangeCount||t.selection.getFirstRange().isFlat;if(t.selection.isCollapsed||e)return;r()},{priority:"lowest"}),i.document.on("compositionend",()=>{e=n.createSelection(n.document.selection)},{priority:"lowest"})}const hd=[wo("arrowUp"),wo("arrowRight"),wo("arrowDown"),wo("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255];for(let t=112;t<=135;t++)hd.push(t);function fd(t){if(0==t.length)return!1;for(const e of t)if("children"===e.type&&!md(e))return!0;return!1}function md(t){if(t.newChildren.length-t.oldChildren.length!=1)return;const e=function(t,e){const n=[];let i,o=0;return t.forEach(t=>{"equal"==t?(r(),o++):"insert"==t?(s("insert")?i.values.push(e[o]):(r(),i={type:"insert",index:o,values:[e[o]]}),o++):s("delete")?i.howMany++:(r(),i={type:"delete",index:o,howMany:1})}),r(),n;function r(){i&&(n.push(i),i=null)}function s(t){return i&&i.type==t}}(Qo(t.oldChildren,t.newChildren,pd),t.newChildren);if(e.length>1)return;const n=e[0];return n.values[0]&&n.values[0].is("text")?n:void 0}function pd(t,e){return t&&t.is("text")&&e&&e.is("text")?t.data===e.data:t===e}class gd{constructor(t){this.editor=t,this.editing=this.editor.editing}handle(t,e){if(fd(t))this._handleContainerChildrenMutations(t,e);else for(const n of t)this._handleTextMutation(n,e),this._handleTextNodeInsertion(n)}_handleContainerChildrenMutations(t,e){const n=function(t){const e=t.map(t=>t.node).reduce((t,e)=>t.getCommonAncestor(e,{includeSelf:!0}));if(!e)return;return e.getAncestors({includeSelf:!0,parentFirst:!0}).find(t=>t.is("containerElement")||t.is("rootElement"))}(t);if(!n)return;const i=this.editor.editing.view.domConverter.mapViewToDom(n),o=new rr,r=this.editor.data.toModel(o.domToView(i)).getChild(0),s=this.editor.editing.mapper.toModelElement(n);if(!s)return;const a=Array.from(r.getChildren()),c=Array.from(s.getChildren()),l=a[a.length-1],d=c[c.length-1];l&&l.is("softBreak")&&d&&!d.is("softBreak")&&a.pop();const u=this.editor.model.schema;if(!bd(a,u)||!bd(c,u))return;const h=a.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," "),f=c.map(t=>t.is("text")?t.data:"@").join("").replace(/\u00A0/g," ");if(f===h)return;const m=Qo(f,h),{firstChangeAt:p,insertions:g,deletions:b}=wd(m);let w=null;e&&(w=this.editing.mapper.toModelRange(e.getFirstRange()));const _=h.substr(p,g),k=this.editor.model.createRange(this.editor.model.createPositionAt(s,p),this.editor.model.createPositionAt(s,p+b));this.editor.execute("input",{text:_,range:k,resultRange:w})}_handleTextMutation(t,e){if("text"!=t.type)return;const n=t.newText.replace(/\u00A0/g," "),i=t.oldText.replace(/\u00A0/g," ");if(i===n)return;const o=Qo(i,n),{firstChangeAt:r,insertions:s,deletions:a}=wd(o);let c=null;e&&(c=this.editing.mapper.toModelRange(e.getFirstRange()));const l=this.editing.view.createPositionAt(t.node,r),d=this.editing.mapper.toModelPosition(l),u=this.editor.model.createRange(d,d.getShiftedBy(a)),h=n.substr(r,s);this.editor.execute("input",{text:h,range:u,resultRange:c})}_handleTextNodeInsertion(t){if("children"!=t.type)return;const e=md(t),n=this.editing.view.createPositionAt(t.node,e.index),i=this.editing.mapper.toModelPosition(n),o=e.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}function bd(t,e){return t.every(t=>e.isInline(t))}function wd(t){let e=null,n=null;for(let i=0;i<t.length;i++){"equal"!=t[i]&&(e=null===e?i:e,n=i)}let i=0,o=0;for(let r=e;r<=n;r++)"insert"!=t[r]&&i++,"delete"!=t[r]&&o++;return{insertions:o,deletions:i,firstChangeAt:e}}class _d extends Gl{static get pluginName(){return"Input"}init(){const t=this.editor,e=new dd(t,t.config.get("typing.undoStep")||20);t.commands.add("input",e),ud(t),function(t){t.editing.view.document.on("mutations",(e,n,i)=>{new gd(t).handle(n,i)})}(t)}}class kd extends Xl{constructor(t,e){super(t),this.direction=e,this._buffer=new ld(t.model,t.config.get("typing.undoStep"))}get buffer(){return this._buffer}execute(t={}){const e=this.editor.model,n=e.document;e.enqueueChange(this._buffer.batch,i=>{this._buffer.lock();const o=i.createSelection(n.selection),r=o.isCollapsed;if(o.isCollapsed&&e.modifySelection(o,{direction:this.direction,unit:t.unit}),this._shouldEntireContentBeReplacedWithParagraph(t.sequence||1))return void this._replaceEntireContentWithParagraph(i);if(o.isCollapsed)return;let s=0;o.getFirstRange().getMinimalFlatRanges().forEach(t=>{s+=eo(t.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),e.deleteContent(o,{doNotResetEntireContent:r}),this._buffer.input(s),i.setSelection(o),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(t){if(t>1)return!1;const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n);if(!(n.isCollapsed&&n.containsEntireContent(i)))return!1;if(!e.schema.checkChild(i,"paragraph"))return!1;const o=i.getChild(0);return!o||"paragraph"!==o.name}_replaceEntireContentWithParagraph(t){const e=this.editor.model,n=e.document.selection,i=e.schema.getLimitElement(n),o=t.createElement("paragraph");t.remove(t.createRangeIn(i)),t.insert(o,i),t.setSelection(o,0)}}class vd extends hr{constructor(t){super(t);const e=t.document;let n=0;e.on("keyup",(t,e)=>{e.keyCode!=bo.delete&&e.keyCode!=bo.backspace||(n=0)}),e.on("keydown",(t,i)=>{const o={};if(i.keyCode==bo.delete)o.direction="forward",o.unit="character";else{if(i.keyCode!=bo.backspace)return;o.direction="backward",o.unit="codePoint"}const r=mo.isMac?i.altKey:i.ctrlKey;let s;o.unit=r?"word":o.unit,o.sequence=++n,e.once("delete",t=>s=t,{priority:Number.POSITIVE_INFINITY});const a=new Xr(e,i.domEvent,o);e.fire("delete",a),s&&s.stop.called&&t.stop()})}observe(){}}function yd(t){const e=t.model,n=t.editing.view,i=200;let o=null,r=e.createSelection(e.document.selection),s=Date.now();e.document.selection.on("change",function(t){const n=e.createSelection(t.source);r.isEqual(n)||(o=r,r=n,s=Date.now())}),n.document.on("mutations",function(n,a){fd(a)&&function(t){for(const e of t){if("children"!==e.type)continue;const t=e.oldChildren,n=e.newChildren;if(!xd(t))continue;const i=Qo(t,n),o=i.some(t=>"delete"===t),r=i.some(t=>"insert"===t);if(o&&!r)return!0}return!1}(a)&&(!function(){Date.now()-s<i&&o&&!o.isCollapsed&&r.isCollapsed&&r.getLastPosition().isEqual(o.getLastPosition())&&e.enqueueChange(t=>{t.setSelection(o)});t.execute("delete")}(),n.stop())},{priority:"highest"})}function xd(t){return t.every(t=>t.is("containerElement"))}class Ad extends Gl{static get pluginName(){return"Delete"}init(){const t=this.editor,e=t.editing.view,n=e.document;e.addObserver(vd),t.commands.add("forwardDelete",new kd(t,"forward")),t.commands.add("delete",new kd(t,"backward")),this.listenTo(n,"delete",(n,i)=>{t.execute("forward"==i.direction?"forwardDelete":"delete",{unit:i.unit,sequence:i.sequence}),i.preventDefault(),e.scrollToTheSelection()}),yd(t)}}class Cd extends Gl{static get requires(){return[_d,Ad]}static get pluginName(){return"Typing"}}class Td extends Qa{get type(){return"noop"}clone(){return new Td(this.baseVersion)}getReversed(){return new Td(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}const Pd=new Map;function Md(t,e,n){let i=Pd.get(t);i||(i=new Map,Pd.set(t,i)),i.set(e,n)}function Ed(t){return[t]}function Sd(t,e,n={}){const i=function(t,e){const n=Pd.get(t);return n&&n.has(e)?n.get(e):Ed}(t.constructor,e.constructor);try{return i(t=t.clone(),e,n)}catch(i){throw bs.a.error("Error during operation transformation!",i.message),bs.a.error("Transformed operation",t),bs.a.error("Operation transformed by",e),bs.a.error("context.aIsStrong",n.aIsStrong),bs.a.error("context.aWasUndone",n.aWasUndone),bs.a.error("context.bWasUndone",n.bWasUndone),bs.a.error("context.abRelation",n.abRelation),bs.a.error("context.baRelation",n.baRelation),i}}function Id(t,e,n){if(t=t.slice(),e=e.slice(),0==t.length||0==e.length)return{operationsA:t,operationsB:e};const i=new WeakMap;for(const e of t)i.set(e,0);const o={nextBaseVersionA:t[t.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:t.length,originalOperationsBCount:e.length},r=new Nd(n.document,n.useRelations,n.forceWeakRemove);r.setOriginalOperations(t),r.setOriginalOperations(e);let s=0;for(;s<t.length;){const n=t[s],o=i.get(n);if(o==e.length){s++;continue}const a=e[o],c=Sd(n,a,r.getContext(n,a,!0)),l=Sd(a,n,r.getContext(a,n,!1));r.updateRelation(n,a),r.setOriginalOperations(c,n),r.setOriginalOperations(l,a);for(const t of c)i.set(t,o+l.length);t.splice(s,1,...c),e.splice(o,1,...l)}if(n.padWithNoOps){const n=t.length-o.originalOperationsACount,i=e.length-o.originalOperationsBCount;Rd(t,i-n),Rd(e,n-i)}return Od(t,o.nextBaseVersionB),Od(e,o.nextBaseVersionA),{operationsA:t,operationsB:e}}class Nd{constructor(t,e,n=!1){this._history=t.history,this._useRelations=e,this._forceWeakRemove=!!n,this._originalOperations=new Map,this._relations=new Map}setOriginalOperations(t,e=null){const n=e?this._originalOperations.get(e):null;for(const e of t)this._originalOperations.set(e,n||e)}updateRelation(t,e){switch(t.constructor){case ac:switch(e.constructor){case hc:t.targetPosition.isEqual(e.sourcePosition)||e.movedRange.containsPosition(t.targetPosition)?this._setRelation(t,e,"insertAtSource"):t.targetPosition.isEqual(e.deletionPosition)?this._setRelation(t,e,"insertBetween"):t.targetPosition.isAfter(e.sourcePosition)&&this._setRelation(t,e,"moveTargetAfter");break;case ac:t.targetPosition.isEqual(e.sourcePosition)||t.targetPosition.isBefore(e.sourcePosition)?this._setRelation(t,e,"insertBefore"):this._setRelation(t,e,"insertAfter")}break;case fc:switch(e.constructor){case hc:t.splitPosition.isBefore(e.sourcePosition)&&this._setRelation(t,e,"splitBefore");break;case ac:(t.splitPosition.isEqual(e.sourcePosition)||t.splitPosition.isBefore(e.sourcePosition))&&this._setRelation(t,e,"splitBefore")}break;case hc:switch(e.constructor){case hc:t.targetPosition.isEqual(e.sourcePosition)||this._setRelation(t,e,"mergeTargetNotMoved"),t.sourcePosition.isEqual(e.targetPosition)&&this._setRelation(t,e,"mergeSourceNotMoved"),t.sourcePosition.isEqual(e.sourcePosition)&&this._setRelation(t,e,"mergeSameElement");break;case fc:t.sourcePosition.isEqual(e.splitPosition)&&this._setRelation(t,e,"splitAtSource")}break;case lc:{const n=t.newRange;if(!n)return;switch(e.constructor){case ac:{const i=Gs._createFromPositionAndShift(e.sourcePosition,e.howMany),o=i.containsPosition(n.start)||i.start.isEqual(n.start),r=i.containsPosition(n.end)||i.end.isEqual(n.end);!o&&!r||i.containsRange(n)||this._setRelation(t,e,{side:o?"left":"right",path:o?n.start.path.slice():n.end.path.slice()});break}case hc:{const i=n.start.isEqual(e.targetPosition),o=n.start.isEqual(e.deletionPosition),r=n.end.isEqual(e.deletionPosition),s=n.end.isEqual(e.sourcePosition);(i||o||r||s)&&this._setRelation(t,e,{wasInLeftElement:i,wasStartBeforeMergedElement:o,wasEndBeforeMergedElement:r,wasInRightElement:s});break}}break}}}getContext(t,e,n){return{aIsStrong:n,aWasUndone:this._wasUndone(t),bWasUndone:this._wasUndone(e),abRelation:this._useRelations?this._getRelation(t,e):null,baRelation:this._useRelations?this._getRelation(e,t):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(t){const e=this._originalOperations.get(t);return e.wasUndone||this._history.isUndoneOperation(e)}_getRelation(t,e){const n=this._originalOperations.get(e),i=this._history.getUndoneOperation(n);if(!i)return null;const o=this._originalOperations.get(t),r=this._relations.get(o);return r&&r.get(i)||null}_setRelation(t,e,n){const i=this._originalOperations.get(t),o=this._originalOperations.get(e);let r=this._relations.get(i);r||(r=new Map,this._relations.set(i,r)),r.set(o,n)}}function Od(t,e){for(const n of t)n.baseVersion=e++}function Rd(t,e){for(let n=0;n<e;n++)t.push(new Td(0))}function Dd(t,e,n){const i=t.nodes.getNode(0).getAttribute(e);if(i==n)return null;const o=new Gs(t.position,t.position.getShiftedBy(t.howMany));return new rc(o,e,i,n,0)}function Ld(t,e){return null===t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)}function jd(t,e){const n=[];for(let i=0;i<t.length;i++){const o=t[i],r=new ac(o.start,o.end.offset-o.start.offset,e,0);n.push(r);for(let e=i+1;e<t.length;e++)t[e]=t[e]._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)[0];e=e._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany)}return n}Md(rc,rc,(t,e,n)=>{if(t.key===e.key){const i=t.range.getDifference(e.range).map(e=>new rc(e,t.key,t.oldValue,t.newValue,0)),o=t.range.getIntersection(e.range);return o&&n.aIsStrong&&i.push(new rc(o,e.key,e.newValue,t.newValue,0)),0==i.length?[new Td(0)]:i}return[t]}),Md(rc,cc,(t,e)=>{if(t.range.start.hasSameParentAs(e.position)&&t.range.containsPosition(e.position)){const n=t.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(e=>new rc(e,t.key,t.oldValue,t.newValue,t.baseVersion));if(e.shouldReceiveAttributes){const i=Dd(e,t.key,t.oldValue);i&&n.unshift(i)}return n}return t.range=t.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[t]}),Md(rc,hc,(t,e)=>{const n=[];t.range.start.hasSameParentAs(e.deletionPosition)&&(t.range.containsPosition(e.deletionPosition)||t.range.start.isEqual(e.deletionPosition))&&n.push(Gs._createFromPositionAndShift(e.graveyardPosition,1));const i=t.range._getTransformedByMergeOperation(e);return i.isCollapsed||n.push(i),n.map(e=>new rc(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),Md(rc,ac,(t,e)=>{return function(t,e){const n=Gs._createFromPositionAndShift(e.sourcePosition,e.howMany);let i=null,o=[];n.containsRange(t,!0)?i=t:t.start.hasSameParentAs(n.start)?(o=t.getDifference(n),i=t.getIntersection(n)):o=[t];const r=[];for(let t of o){t=t._getTransformedByDeletion(e.sourcePosition,e.howMany);const n=e.getMovedRangeStart(),i=t.start.hasSameParentAs(n);t=t._getTransformedByInsertion(n,e.howMany,i),r.push(...t)}i&&r.push(i._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany,!1)[0]);return r}(t.range,e).map(e=>new rc(e,t.key,t.oldValue,t.newValue,t.baseVersion))}),Md(rc,fc,(t,e)=>{if(t.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.range.end.offset++,[t];if(t.range.start.hasSameParentAs(e.splitPosition)&&t.range.containsPosition(e.splitPosition)){const n=t.clone();return n.range=new Gs(e.moveTargetPosition.clone(),t.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),t.range.end=e.splitPosition.clone(),t.range.end.stickiness="toPrevious",[t,n]}return t.range=t.range._getTransformedBySplitOperation(e),[t]}),Md(cc,rc,(t,e)=>{const n=[t];if(t.shouldReceiveAttributes&&t.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(t.position)){const i=Dd(t,e.key,e.newValue);i&&n.push(i)}return n}),Md(cc,cc,(t,e,n)=>t.position.isEqual(e.position)&&n.aIsStrong?[t]:(t.position=t.position._getTransformedByInsertOperation(e),[t])),Md(cc,ac,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),Md(cc,fc,(t,e)=>(t.position=t.position._getTransformedBySplitOperation(e),[t])),Md(cc,hc,(t,e)=>(t.position=t.position._getTransformedByMergeOperation(e),[t])),Md(lc,cc,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByInsertOperation(e)[0]),t.newRange&&(t.newRange=t.newRange._getTransformedByInsertOperation(e)[0]),[t])),Md(lc,lc,(t,e,n)=>{if(t.name==e.name){if(!n.aIsStrong)return[new Td(0)];t.oldRange=e.newRange?e.newRange.clone():null}return[t]}),Md(lc,hc,(t,e)=>(t.oldRange&&(t.oldRange=t.oldRange._getTransformedByMergeOperation(e)),t.newRange&&(t.newRange=t.newRange._getTransformedByMergeOperation(e)),[t])),Md(lc,ac,(t,e,n)=>{if(t.oldRange&&(t.oldRange=Gs._createFromRanges(t.oldRange._getTransformedByMoveOperation(e))),t.newRange){if(n.abRelation){const i=Gs._createFromRanges(t.newRange._getTransformedByMoveOperation(e));if("left"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.start))return t.newRange.start.path=n.abRelation.path,t.newRange.end=i.end,[t];if("right"==n.abRelation.side&&e.targetPosition.isEqual(t.newRange.end))return t.newRange.start=i.start,t.newRange.end.path=n.abRelation.path,[t]}t.newRange=Gs._createFromRanges(t.newRange._getTransformedByMoveOperation(e))}return[t]}),Md(lc,fc,(t,e,n)=>{if(t.oldRange&&(t.oldRange=t.oldRange._getTransformedBySplitOperation(e)),t.newRange){if(n.abRelation){const i=t.newRange._getTransformedBySplitOperation(e);return t.newRange.start.isEqual(e.splitPosition)&&n.abRelation.wasStartBeforeMergedElement?t.newRange.start=$s._createAt(e.insertionPosition):t.newRange.start.isEqual(e.splitPosition)&&!n.abRelation.wasInLeftElement&&(t.newRange.start=$s._createAt(e.moveTargetPosition)),t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasInRightElement?t.newRange.end=$s._createAt(e.moveTargetPosition):t.newRange.end.isEqual(e.splitPosition)&&n.abRelation.wasEndBeforeMergedElement?t.newRange.end=$s._createAt(e.insertionPosition):t.newRange.end=i.end,[t]}t.newRange=t.newRange._getTransformedBySplitOperation(e)}return[t]}),Md(hc,cc,(t,e)=>(t.sourcePosition.hasSameParentAs(e.position)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByInsertOperation(e),t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e),[t])),Md(hc,hc,(t,e,n)=>{if(t.sourcePosition.isEqual(e.sourcePosition)&&t.targetPosition.isEqual(e.targetPosition)){if(n.bWasUndone){const n=e.graveyardPosition.path.slice();return n.push(0),t.sourcePosition=new $s(e.graveyardPosition.root,n),t.howMany=0,[t]}return[new Td(0)]}if(t.sourcePosition.isEqual(e.sourcePosition)&&!t.targetPosition.isEqual(e.targetPosition)&&!n.bWasUndone&&"splitAtSource"!=n.abRelation){const i="$graveyard"==t.targetPosition.root.rootName,o="$graveyard"==e.targetPosition.root.rootName;if(o&&!i||!(i&&!o)&&n.aIsStrong){const n=e.targetPosition._getTransformedByMergeOperation(e),i=t.targetPosition._getTransformedByMergeOperation(e);return[new ac(n,t.howMany,i,0)]}return[new Td(0)]}return t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMergeOperation(e),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),t.graveyardPosition.isEqual(e.graveyardPosition)&&n.aIsStrong||(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),Md(hc,ac,(t,e,n)=>{const i=Gs._createFromPositionAndShift(e.sourcePosition,e.howMany);return"remove"==e.type&&!n.bWasUndone&&!n.forceWeakRemove&&t.deletionPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.sourcePosition)?[new Td(0)]:(t.sourcePosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.sourcePosition.hasSameParentAs(e.sourcePosition)&&(t.howMany-=e.howMany),t.sourcePosition=t.sourcePosition._getTransformedByMoveOperation(e),t.targetPosition=t.targetPosition._getTransformedByMoveOperation(e),t.graveyardPosition.isEqual(e.targetPosition)||(t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)),[t])}),Md(hc,fc,(t,e,n)=>{if(e.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),t.deletionPosition.isEqual(e.graveyardPosition)&&(t.howMany=e.howMany)),t.targetPosition.isEqual(e.splitPosition)){const i=0!=e.howMany,o=e.graveyardPosition&&t.deletionPosition.isEqual(e.graveyardPosition);if(i||o||"mergeTargetNotMoved"==n.abRelation)return t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),[t]}if(t.sourcePosition.isEqual(e.splitPosition)){if("mergeSourceNotMoved"==n.abRelation)return t.howMany=0,t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t];if("mergeSameElement"==n.abRelation||t.sourcePosition.offset>0)return t.sourcePosition=e.moveTargetPosition.clone(),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}return t.sourcePosition.hasSameParentAs(e.splitPosition)&&(t.howMany=e.splitPosition.offset),t.sourcePosition=t.sourcePosition._getTransformedBySplitOperation(e),t.targetPosition=t.targetPosition._getTransformedBySplitOperation(e),[t]}),Md(ac,cc,(t,e)=>{const n=Gs._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByInsertOperation(e,!1)[0];return t.sourcePosition=n.start,t.howMany=n.end.offset-n.start.offset,t.targetPosition.isEqual(e.position)||(t.targetPosition=t.targetPosition._getTransformedByInsertOperation(e)),[t]}),Md(ac,ac,(t,e,n)=>{const i=Gs._createFromPositionAndShift(t.sourcePosition,t.howMany),o=Gs._createFromPositionAndShift(e.sourcePosition,e.howMany);let r,s=n.aIsStrong,a=!n.aIsStrong;if("insertBefore"==n.abRelation||"insertAfter"==n.baRelation?a=!0:"insertAfter"!=n.abRelation&&"insertBefore"!=n.baRelation||(a=!1),r=t.targetPosition.isEqual(e.targetPosition)&&a?t.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):t.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),Ld(t,e)&&Ld(e,t))return[e.getReversed()];if(i.containsPosition(e.targetPosition)&&i.containsRange(o,!0))return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jd([i],r);if(o.containsPosition(t.targetPosition)&&o.containsRange(i,!0))return i.start=i.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),i.end=i.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),jd([i],r);const c=li(t.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if("prefix"==c||"extension"==c)return i.start=i.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),i.end=i.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),jd([i],r);"remove"!=t.type||"remove"==e.type||n.aWasUndone||n.forceWeakRemove?"remove"==t.type||"remove"!=e.type||n.bWasUndone||n.forceWeakRemove||(s=!1):s=!0;const l=[],d=i.getDifference(o);for(const t of d){t.start=t.start._getTransformedByDeletion(e.sourcePosition,e.howMany),t.end=t.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const n="same"==li(t.start.getParentPath(),e.getMovedRangeStart().getParentPath()),i=t._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,n);l.push(...i)}const u=i.getIntersection(o);return null!==u&&s&&(u.start=u.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),u.end=u.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),0===l.length?l.push(u):1==l.length?o.start.isBefore(i.start)||o.start.isEqual(i.start)?l.unshift(u):l.push(u):l.splice(1,0,u)),0===l.length?[new Td(t.baseVersion)]:jd(l,r)}),Md(ac,fc,(t,e,n)=>{let i=t.targetPosition.clone();t.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&"moveTargetAfter"!=n.abRelation||(i=t.targetPosition._getTransformedBySplitOperation(e));const o=Gs._createFromPositionAndShift(t.sourcePosition,t.howMany);if(o.end.isEqual(e.insertionPosition))return e.graveyardPosition||t.howMany++,t.targetPosition=i,[t];if(o.start.hasSameParentAs(e.splitPosition)&&o.containsPosition(e.splitPosition)){let t=new Gs(e.splitPosition,o.end);return t=t._getTransformedBySplitOperation(e),jd([new Gs(o.start,e.splitPosition),t],i)}t.targetPosition.isEqual(e.splitPosition)&&"insertAtSource"==n.abRelation&&(i=e.moveTargetPosition),t.targetPosition.isEqual(e.insertionPosition)&&"insertBetween"==n.abRelation&&(i=t.targetPosition);const r=[o._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const i=o.start.isEqual(e.graveyardPosition)||o.containsPosition(e.graveyardPosition);t.howMany>1&&i&&!n.aWasUndone&&r.push(Gs._createFromPositionAndShift(e.insertionPosition,1))}return jd(r,i)}),Md(ac,hc,(t,e,n)=>{const i=Gs._createFromPositionAndShift(t.sourcePosition,t.howMany);if(e.deletionPosition.hasSameParentAs(t.sourcePosition)&&i.containsPosition(e.sourcePosition))if("remove"!=t.type||n.forceWeakRemove){if(1==t.howMany)return n.bWasUndone?(t.sourcePosition=e.graveyardPosition.clone(),t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]):[new Td(0)]}else if(!n.aWasUndone){const n=[];let i=e.graveyardPosition.clone(),o=e.targetPosition._getTransformedByMergeOperation(e);t.howMany>1&&(n.push(new ac(t.sourcePosition,t.howMany-1,t.targetPosition,0)),i=i._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1),o=o._getTransformedByMove(t.sourcePosition,t.targetPosition,t.howMany-1));const r=e.deletionPosition._getCombined(t.sourcePosition,t.targetPosition),s=new ac(i,1,r,0),a=s.getMovedRangeStart().path.slice();a.push(0);const c=new $s(s.targetPosition.root,a);o=o._getTransformedByMove(i,r,1);const l=new ac(o,e.howMany,c,0);return n.push(s),n.push(l),n}const o=Gs._createFromPositionAndShift(t.sourcePosition,t.howMany)._getTransformedByMergeOperation(e);return t.sourcePosition=o.start,t.howMany=o.end.offset-o.start.offset,t.targetPosition=t.targetPosition._getTransformedByMergeOperation(e),[t]}),Md(dc,cc,(t,e)=>(t.position=t.position._getTransformedByInsertOperation(e),[t])),Md(dc,hc,(t,e)=>t.position.isEqual(e.deletionPosition)?(t.position=e.graveyardPosition.clone(),t.position.stickiness="toNext",[t]):(t.position=t.position._getTransformedByMergeOperation(e),[t])),Md(dc,ac,(t,e)=>(t.position=t.position._getTransformedByMoveOperation(e),[t])),Md(dc,dc,(t,e,n)=>{if(t.position.isEqual(e.position)){if(!n.aIsStrong)return[new Td(0)];t.oldName=e.newName}return[t]}),Md(dc,fc,(t,e)=>{if("same"==li(t.position.path,e.splitPosition.getParentPath())&&!e.graveyardPosition){return[t,new dc(t.position.getShiftedBy(1),t.oldName,t.newName,0)]}return t.position=t.position._getTransformedBySplitOperation(e),[t]}),Md(uc,uc,(t,e,n)=>{if(t.root===e.root&&t.key===e.key){if(!n.aIsStrong||t.newValue===e.newValue)return[new Td(0)];t.oldValue=e.newValue}return[t]}),Md(fc,cc,(t,e)=>(t.splitPosition.hasSameParentAs(e.position)&&t.splitPosition.offset<e.position.offset&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByInsertOperation(e),t.insertionPosition=fc.getInsertionPosition(t.splitPosition),[t])),Md(fc,hc,(t,e,n)=>{if(!t.graveyardPosition&&!n.bWasUndone&&t.splitPosition.hasSameParentAs(e.sourcePosition)){const n=e.graveyardPosition.path.slice();n.push(0);const i=new $s(e.graveyardPosition.root,n),o=fc.getInsertionPosition(new $s(e.graveyardPosition.root,n)),r=new fc(i,0,null,0);return r.insertionPosition=o,t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=fc.getInsertionPosition(t.splitPosition),t.graveyardPosition=r.insertionPosition.clone(),t.graveyardPosition.stickiness="toNext",[r,t]}return t.splitPosition.hasSameParentAs(e.deletionPosition)&&!t.splitPosition.isAfter(e.deletionPosition)&&t.howMany--,t.splitPosition.hasSameParentAs(e.targetPosition)&&(t.howMany+=e.howMany),t.splitPosition=t.splitPosition._getTransformedByMergeOperation(e),t.insertionPosition=fc.getInsertionPosition(t.splitPosition),t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedByMergeOperation(e)),[t]}),Md(fc,ac,(t,e,n)=>{const i=Gs._createFromPositionAndShift(e.sourcePosition,e.howMany);if(t.graveyardPosition){const o=i.start.isEqual(t.graveyardPosition)||i.containsPosition(t.graveyardPosition);if(!n.bWasUndone&&o){const n=t.splitPosition._getTransformedByMoveOperation(e),i=t.graveyardPosition._getTransformedByMoveOperation(e),o=i.path.slice();o.push(0);const r=new $s(i.root,o);return[new ac(n,t.howMany,r,0)]}t.graveyardPosition=t.graveyardPosition._getTransformedByMoveOperation(e)}if(t.splitPosition.hasSameParentAs(e.sourcePosition)&&i.containsPosition(t.splitPosition)){const n=e.howMany-(t.splitPosition.offset-e.sourcePosition.offset);return t.howMany-=n,t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany),t.splitPosition=e.sourcePosition.clone(),t.insertionPosition=fc.getInsertionPosition(t.splitPosition),[t]}return!t.splitPosition.isEqual(e.targetPosition)||"insertAtSource"!=n.baRelation&&"splitBefore"!=n.abRelation?(e.sourcePosition.isEqual(e.targetPosition)||(t.splitPosition.hasSameParentAs(e.sourcePosition)&&t.splitPosition.offset<=e.sourcePosition.offset&&(t.howMany-=e.howMany),t.splitPosition.hasSameParentAs(e.targetPosition)&&t.splitPosition.offset<e.targetPosition.offset&&(t.howMany+=e.howMany)),t.splitPosition.stickiness="toNone",t.splitPosition=t.splitPosition._getTransformedByMoveOperation(e),t.splitPosition.stickiness="toNext",t.graveyardPosition?t.insertionPosition=t.insertionPosition._getTransformedByMoveOperation(e):t.insertionPosition=fc.getInsertionPosition(t.splitPosition),[t]):(t.howMany+=e.howMany,t.splitPosition=t.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),t.insertionPosition=fc.getInsertionPosition(t.splitPosition),[t])}),Md(fc,fc,(t,e,n)=>{if(t.splitPosition.isEqual(e.splitPosition)){if(!t.graveyardPosition&&!e.graveyardPosition)return[new Td(0)];if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition))return[new Td(0)];if("splitBefore"==n.abRelation)return t.howMany=0,t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e),[t]}if(t.graveyardPosition&&e.graveyardPosition&&t.graveyardPosition.isEqual(e.graveyardPosition)){const i="$graveyard"==t.splitPosition.root.rootName,o="$graveyard"==e.splitPosition.root.rootName;if(o&&!i||!(i&&!o)&&n.aIsStrong){const n=[];return e.howMany&&n.push(new ac(e.moveTargetPosition,e.howMany,e.splitPosition,0)),t.howMany&&n.push(new ac(t.splitPosition,t.howMany,t.moveTargetPosition,0)),n}return[new Td(0)]}if(t.graveyardPosition&&(t.graveyardPosition=t.graveyardPosition._getTransformedBySplitOperation(e)),t.splitPosition.isEqual(e.insertionPosition)&&"splitBefore"==n.abRelation)return t.howMany++,[t];if(e.splitPosition.isEqual(t.insertionPosition)&&"splitBefore"==n.baRelation){const n=e.insertionPosition.path.slice();n.push(0);const i=new $s(e.insertionPosition.root,n);return[t,new ac(t.insertionPosition,1,i,0)]}return t.splitPosition.hasSameParentAs(e.splitPosition)&&t.splitPosition.offset<e.splitPosition.offset&&(t.howMany-=e.howMany),t.splitPosition=t.splitPosition._getTransformedBySplitOperation(e),t.insertionPosition=fc.getInsertionPosition(t.splitPosition),[t]});class Vd extends Xl{constructor(t){super(t),this._stack=[],this._createdBatches=new WeakSet,this.refresh()}refresh(){this.isEnabled=this._stack.length>0}addBatch(t){const e=this.editor.model.document.selection,n={ranges:e.hasOwnRange?Array.from(e.getRanges()):[],isBackward:e.isBackward};this._stack.push({batch:t,selection:n}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(t,e,n){const i=this.editor.model,o=i.document,r=[];for(const e of t){const t=Bd(e,n).find(t=>t.start.root!=o.graveyard);t&&r.push(t)}r.length&&i.change(t=>{t.setSelection(r,{backward:e})})}_undo(t,e){const n=this.editor.model,i=n.document;this._createdBatches.add(e);const o=t.operations.slice().filter(t=>t.isDocumentOperation);o.reverse();for(const t of o){const o=t.baseVersion+1,r=Array.from(i.history.getOperations(o)),s=Id([t.getReversed()],r,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(const o of s)e.addOperation(o),n.applyOperation(o),i.history.setOperationAsUndone(t,o)}}}function Bd(t,e){const n=t.getTransformedByOperations(e);n.sort((t,e)=>t.start.isBefore(e.start)?-1:1);for(let t=1;t<n.length;t++){const e=n[t-1],i=n[t];e.end.isTouching(i.start)&&(e.end=i.end,n.splice(t,1),t--)}return n}class zd extends Vd{execute(t=null){const e=t?this._stack.findIndex(e=>e.batch==t):this._stack.length-1,n=this._stack.splice(e,1)[0],i=this.editor.model.createBatch();this.editor.model.enqueueChange(i,()=>{this._undo(n.batch,i);const t=this.editor.model.document.history.getOperations(n.batch.baseVersion);this._restoreSelection(n.selection.ranges,n.selection.isBackward,t),this.fire("revert",n.batch,i)}),this.refresh()}}class Fd extends Vd{execute(){const t=this._stack.pop(),e=this.editor.model.createBatch();this.editor.model.enqueueChange(e,()=>{const n=t.batch.operations[t.batch.operations.length-1].baseVersion+1,i=this.editor.model.document.history.getOperations(n);this._restoreSelection(t.selection.ranges,t.selection.isBackward,i),this._undo(t.batch,e)}),this.refresh()}}class Ud extends Gl{constructor(t){super(t),this._batchRegistry=new WeakSet}init(){const t=this.editor;this._undoCommand=new zd(t),this._redoCommand=new Fd(t),t.commands.add("undo",this._undoCommand),t.commands.add("redo",this._redoCommand),this.listenTo(t.model,"applyOperation",(t,e)=>{const n=e[0];if(!n.isDocumentOperation)return;const i=n.batch;this._batchRegistry.has(i)||"transparent"==i.type||(this._redoCommand._createdBatches.has(i)?this._undoCommand.addBatch(i):this._undoCommand._createdBatches.has(i)||(this._undoCommand.addBatch(i),this._redoCommand.clearStack()),this._batchRegistry.add(i))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(t,e,n)=>{this._redoCommand.addBatch(n)}),t.keystrokes.set("CTRL+Z","undo"),t.keystrokes.set("CTRL+Y","redo"),t.keystrokes.set("CTRL+SHIFT+Z","redo")}}n(58);class Hd extends Ol{constructor(){super();const t=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const t=(new DOMParser).parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=t.getAttribute("viewBox");for(e&&(this.viewBox=e),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(t=>{t.style.fill=this.fillColor})}}n(60);class qd extends Ol{constructor(t){super(t),this.set("text",""),this.set("position","s");const e=this.bindTemplate;this.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",e.to("position",t=>"ck-tooltip_"+t),e.if("text","ck-hidden",t=>!t.trim())]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:e.to("text")}]}]})}}n(62);class Wd extends Ol{constructor(t){super(t);const e=this.bindTemplate,n=Kn();this.set("class"),this.set("labelStyle"),this.set("icon"),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("keystroke"),this.set("label"),this.set("tabindex",-1),this.set("tooltip"),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.tooltipView=this._createTooltipView(),this.labelView=this._createLabelView(n),this.iconView=new Hd,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this)),this.setTemplate({tag:"button",attributes:{class:["ck","ck-button",e.to("class"),e.if("isEnabled","ck-disabled",t=>!t),e.if("isVisible","ck-hidden",t=>!t),e.to("isOn",t=>t?"ck-on":"ck-off"),e.if("withText","ck-button_with-text")],type:e.to("type",t=>t||"button"),tabindex:e.to("tabindex"),"aria-labelledby":`ck-editor__aria-label_${n}`,"aria-disabled":e.if("isEnabled",!0,t=>!t),"aria-pressed":e.if("isOn",!0)},children:this.children,on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(t=>{this.isEnabled?this.fire("execute"):t.preventDefault()})}})}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView)}focus(){this.element.focus()}_createTooltipView(){const t=new qd;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}_createLabelView(t){const e=new Ol,n=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:n.to("labelStyle"),id:`ck-editor__aria-label_${t}`},children:[{text:this.bindTemplate.to("label")}]}),e}_getTooltipString(t,e,n){return t?"string"==typeof t?t:(n&&(n=function(t){return mo.isMac?ko(t).map(t=>go[t.toLowerCase()]||t).reduce((t,e)=>t.slice(-1)in po?t+e:t+"+"+e):t}(n)),t instanceof Function?t(e,n):`${e}${n?` (${n})`:""}`):""}}var Yd=n(21),$d=n.n(Yd),Gd=n(22),Qd=n.n(Gd);class Jd extends Gl{init(){const t=this.editor.t;this._addButton("undo",t("bg"),"CTRL+Z",$d.a),this._addButton("redo",t("bh"),"CTRL+Y",Qd.a)}_addButton(t,e,n,i){const o=this.editor;o.ui.componentFactory.add(t,r=>{const s=o.commands.get(t),a=new Wd(r);return a.set({label:e,icon:i,keystroke:n,tooltip:!0}),a.bind("isEnabled").to(s,"isEnabled"),this.listenTo(a,"execute",()=>o.execute(t)),a})}}class Kd extends Gl{static get requires(){return[Ud,Jd]}static get pluginName(){return"Undo"}}class Zd extends Gl{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new oo({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(t){if("string"!=typeof t)throw new Gn.b("pendingactions-add-invalid-message: The message must be a string.");const e=Object.create(Fi);return e.set("message",t),this._actions.add(e),this.hasAny=!0,e}remove(t){this._actions.remove(t),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}class Xd{constructor(){const t=new window.FileReader;this._reader=t,this.set("loaded",0),t.onprogress=(t=>{this.loaded=t.loaded})}get error(){return this._reader.error}read(t){const e=this._reader;return this.total=t.size,new Promise((n,i)=>{e.onload=(()=>{n(e.result)}),e.onerror=(()=>{i("error")}),e.onabort=(()=>{i("aborted")}),this._reader.readAsDataURL(t)})}abort(){this._reader.abort()}}ci(Xd,Fi);class tu extends Gl{static get pluginName(){return"FileRepository"}static get requires(){return[Zd]}init(){this.loaders=new oo,this.loaders.on("add",()=>this._updatePendingAction()),this.loaders.on("remove",()=>this._updatePendingAction()),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0)}getLoader(t){return this._loadersMap.get(t)||null}createLoader(t){if(!this.createUploadAdapter)return bs.a.error("filerepository-no-upload-adapter: Upload adapter is not defined."),null;const e=new eu(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(e),this._loadersMap.set(t,e),t instanceof Promise&&e.file.then(t=>{this._loadersMap.set(t,e)}),e.file.catch(()=>{}),e.on("change:uploaded",()=>{let t=0;for(const e of this.loaders)t+=e.uploaded;this.uploaded=t}),e.on("change:uploadTotal",()=>{let t=0;for(const e of this.loaders)e.uploadTotal&&(t+=e.uploadTotal);this.uploadTotal=t}),e}destroyLoader(t){const e=t instanceof eu?t:this.getLoader(t);e._destroy(),this.loaders.remove(e),this._loadersMap.forEach((t,n)=>{t===e&&this._loadersMap.delete(n)})}_updatePendingAction(){const t=this.editor.plugins.get(Zd);if(this.loaders.length){if(!this._pendingAction){const e=this.editor.t,n=t=>`${e("at")} ${parseInt(t)}%.`;this._pendingAction=t.add(n(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",n)}}else t.remove(this._pendingAction),this._pendingAction=null}}ci(tu,Fi);class eu{constructor(t,e){this.id=Kn(),this._filePromiseWrapper=this._createFilePromiseWrapper(t),this._adapter=e(this),this._reader=new Xd,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(t,e)=>e?t/e*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(t=>this._filePromiseWrapper?t:null):Promise.resolve(null)}read(){if("idle"!=this.status)throw new Gn.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.");return this.status="reading",this._filePromiseWrapper.promise.then(t=>this._reader.read(t)).then(t=>(this.status="idle",t)).catch(t=>{if("aborted"===t)throw this.status="aborted","aborted";throw this.status="error",this._reader.error?this._reader.error:t})}upload(){if("idle"!=this.status)throw new Gn.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.");return this.status="uploading",this._filePromiseWrapper.promise.then(()=>this._adapter.upload()).then(t=>(this.uploadResponse=t,this.status="idle",t)).catch(t=>{if("aborted"===this.status)throw"aborted";throw this.status="error",t})}abort(){const t=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?"reading"==t?this._reader.abort():"uploading"==t&&this._adapter.abort&&this._adapter.abort():this._filePromiseWrapper.rejecter("aborted"),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.data=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(t){const e={};return e.promise=new Promise((n,i)=>{e.resolver=n,e.rejecter=i,e.isFulfilled=!1,t.then(t=>{e.isFulfilled=!0,n(t)}).catch(t=>{e.isFulfilled=!0,i(t)})}),e}}ci(eu,Fi);const nu="ckCsrfToken",iu=40,ou="abcdefghijklmnopqrstuvwxyz0123456789";function ru(){let t=function(t){t=t.toLowerCase();const e=document.cookie.split(";");for(const n of e){const e=n.split("="),i=decodeURIComponent(e[0].trim().toLowerCase());if(i===t)return decodeURIComponent(e[1])}return null}(nu);return t&&t.length==iu||(t=function(t){let e="";const n=new Uint8Array(t);window.crypto.getRandomValues(n);for(let t=0;t<n.length;t++){const i=ou.charAt(n[t]%ou.length);e+=Math.random()>.5?i.toUpperCase():i}return e}(iu),function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)+";path=/"}(nu,t)),t}class su extends Gl{static get requires(){return[tu]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const t=this.editor.config.get("ckfinder.uploadUrl");t&&(this.editor.plugins.get(tu).createUploadAdapter=(e=>new au(e,t,this.editor.t)))}}class au{constructor(t,e,n){this.loader=t,this.url=e,this.t=n}upload(){return this.loader.file.then(t=>new Promise((e,n)=>{this._initRequest(),this._initListeners(e,n,t),this._sendRequest(t)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const t=this.xhr=new XMLHttpRequest;t.open("POST",this.url,!0),t.responseType="json"}_initListeners(t,e,n){const i=this.xhr,o=this.loader,r=(0,this.t)("a")+` ${n.name}.`;i.addEventListener("error",()=>e(r)),i.addEventListener("abort",()=>e()),i.addEventListener("load",()=>{const n=i.response;if(!n||!n.uploaded)return e(n&&n.error&&n.error.message?n.error.message:r);t({default:n.url})}),i.upload&&i.upload.addEventListener("progress",t=>{t.lengthComputable&&(o.uploadTotal=t.total,o.uploaded=t.loaded)})}_sendRequest(t){const e=new FormData;e.append("upload",t),e.append("ckCsrfToken",ru()),this.xhr.send(e)}}class cu{constructor(t,e,n){let i,o=null;"function"==typeof n?i=n:(o=t.commands.get(n),i=(()=>{t.execute(n)})),t.model.document.on("change",(n,r)=>{if(o&&!o.isEnabled)return;if("transparent"==r.type)return;const s=Array.from(t.model.document.differ.getChanges()),a=s[0];if(1!=s.length||"insert"!==a.type||"$text"!=a.name||1!=a.length)return;const c=a.position.textNode||a.position.nodeAfter;if(!c.parent.is("paragraph"))return;const l=e.exec(c.data);l&&t.model.enqueueChange(t=>{const e=t.createPositionAt(c.parent,0),n=t.createPositionAt(c.parent,l[0].length),o=new oa(e,n);!1!==i({match:l})&&t.remove(o),o.detach()})})}}class lu{constructor(t,e,n){let i,o,r,s;e instanceof RegExp?i=e:r=e,"string"==typeof n?o=n:s=n,r=r||(t=>{let e;const n=[],o=[];for(;null!==(e=i.exec(t))&&!(e&&e.length<4);){let{index:t,1:i,2:r,3:s}=e;const a=i+r+s,c=[t+=e[0].length-a.length,t+i.length],l=[t+i.length+r.length,t+i.length+r.length+s.length];n.push(c),n.push(l),o.push([t+i.length,t+i.length+r.length])}return{remove:n,format:o}}),s=s||((e,n)=>{const i=t.model.schema.getValidRanges(n,o);for(const t of i)e.setAttribute(o,!0,t);e.removeSelectionAttribute(o)}),t.model.document.on("change",(e,n)=>{if("transparent"==n.type)return;const i=t.model.document.selection;if(!i.isCollapsed)return;const o=Array.from(t.model.document.differ.getChanges()),a=o[0];if(1!=o.length||"insert"!==a.type||"$text"!=a.name||1!=a.length)return;const c=i.focus.parent,l=function(t){return Array.from(t.getChildren()).reduce((t,e)=>t+e.data,"")}(c).slice(0,i.focus.offset),d=r(l),u=du(c,d.format,t.model),h=du(c,d.remove,t.model);u.length&&h.length&&t.model.enqueueChange(t=>{if(!1!==s(t,u))for(const e of h.reverse())t.remove(e)})})}}function du(t,e,n){return e.filter(t=>void 0!==t[0]&&void 0!==t[1]).map(e=>n.createRange(n.createPositionAt(t,e[0]),n.createPositionAt(t,e[1])))}function uu(t,e){return(n,i)=>{if(!t.commands.get(e).isEnabled)return!1;const o=t.model.schema.getValidRanges(i,e);for(const t of o)n.setAttribute(e,!0,t);n.removeSelectionAttribute(e)}}class hu extends Xl{constructor(t,e){super(t),this.attributeKey=e}refresh(){const t=this.editor.model,e=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,this.attributeKey)}execute(t={}){const e=this.editor.model,n=e.document.selection,i=void 0===t.forceValue?!this.value:t.forceValue;e.change(t=>{if(n.isCollapsed)i?t.setSelectionAttribute(this.attributeKey,!0):t.removeSelectionAttribute(this.attributeKey);else{const o=e.schema.getValidRanges(n.getRanges(),this.attributeKey);for(const e of o)i?t.setAttribute(this.attributeKey,i,e):t.removeAttribute(this.attributeKey,e)}})}_getValueFromFirstAllowedNode(){const t=this.editor.model,e=t.schema,n=t.document.selection;if(n.isCollapsed)return n.hasAttribute(this.attributeKey);for(const t of n.getRanges())for(const n of t.getItems())if(e.checkAttribute(n,this.attributeKey))return n.hasAttribute(this.attributeKey);return!1}}const fu="bold";class mu extends Gl{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:fu}),t.model.schema.setAttributeProperties(fu,{isFormatting:!0}),t.conversion.attributeToElement({model:fu,view:"strong",upcastAlso:["b",{styles:{"font-weight":"bold"}}]}),t.commands.add(fu,new hu(t,fu)),t.keystrokes.set("CTRL+B",fu)}}var pu=n(23),gu=n.n(pu);const bu="bold";class wu extends Gl{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(bu,n=>{const i=t.commands.get(bu),o=new Wd(n);return o.set({label:e("b"),icon:gu.a,keystroke:"CTRL+B",tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(o,"execute",()=>t.execute(bu)),o})}}const _u="italic";class ku extends Gl{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:_u}),t.model.schema.setAttributeProperties(_u,{isFormatting:!0}),t.conversion.attributeToElement({model:_u,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add(_u,new hu(t,_u)),t.keystrokes.set("CTRL+I",_u)}}var vu=n(24),yu=n.n(vu);const xu="italic";class Au extends Gl{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add(xu,n=>{const i=t.commands.get(xu),o=new Wd(n);return o.set({label:e("c"),icon:yu.a,keystroke:"CTRL+I",tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(o,"execute",()=>t.execute(xu)),o})}}function Cu(t){const e=t.next();return e.done?null:e.value}class Tu extends Xl{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.schema,n=t.document.selection,i=Array.from(n.getTopMostBlocks());t.change(t=>{if(this.value)this._removeQuote(t,i.filter(Pu));else{const n=i.filter(t=>Pu(t)||Eu(e,t));this._applyQuote(t,n)}})}_getValue(){const t=Cu(this.editor.model.document.selection.getTopMostBlocks());return!(!t||!Pu(t))}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Cu(t.getSelectedBlocks());return!!n&&Eu(e,n)}_removeQuote(t,e){Mu(t,e).reverse().forEach(e=>{if(e.start.isAtStart&&e.end.isAtEnd)return void t.unwrap(e.start.parent);if(e.start.isAtStart){const n=t.createPositionBefore(e.start.parent);return void t.move(e,n)}e.end.isAtEnd||t.split(e.end);const n=t.createPositionAfter(e.end.parent);t.move(e,n)})}_applyQuote(t,e){const n=[];Mu(t,e).reverse().forEach(e=>{let i=Pu(e.start);i||(i=t.createElement("blockQuote"),t.wrap(e,i)),n.push(i)}),n.reverse().reduce((e,n)=>e.nextSibling==n?(t.merge(t.createPositionAfter(e)),e):n)}}function Pu(t){return"blockQuote"==t.parent.name?t.parent:null}function Mu(t,e){let n,i=0;const o=[];for(;i<e.length;){const r=e[i],s=e[i+1];n||(n=t.createPositionBefore(r)),s&&r.nextSibling==s||(o.push(t.createRange(n,t.createPositionAfter(r))),n=null),i++}return o}function Eu(t,e){const n=t.checkChild(e.parent,"blockQuote"),i=t.checkChild(["$root","blockQuote"],e);return n&&i}class Su extends Gl{init(){const t=this.editor,e=t.model.schema;t.commands.add("blockQuote",new Tu(t)),e.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),e.addChildCheck((t,e)=>{if(t.endsWith("blockQuote")&&"blockQuote"==e.name)return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(n=>{const i=t.model.document.differ.getChanges();for(const t of i)if("insert"==t.type){const i=t.position.nodeAfter;if(!i)continue;if(i.is("blockQuote")&&i.isEmpty)return n.remove(i),!0;if(i.is("blockQuote")&&!e.checkChild(t.position,i))return n.unwrap(i),!0;if(i.is("element")){const t=n.createRangeIn(i);for(const i of t.getItems())if(i.is("blockQuote")&&!e.checkChild(n.createPositionBefore(i),i))return n.unwrap(i),!0}}else if("remove"==t.type){const e=t.position.parent;if(e.is("blockQuote")&&e.isEmpty)return n.remove(e),!0}return!1})}afterInit(){const t=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",(e,n)=>{const i=this.editor.model.document,o=i.selection.getLastPosition().parent;i.selection.isCollapsed&&o.isEmpty&&t.value&&(this.editor.execute("blockQuote"),this.editor.editing.view.scrollToTheSelection(),n.preventDefault(),e.stop())})}}var Iu=n(25),Nu=n.n(Iu);n(64);class Ou extends Gl{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("blockQuote",n=>{const i=t.commands.get("blockQuote"),o=new Wd(n);return o.set({label:e("f"),icon:Nu.a,tooltip:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),this.listenTo(o,"execute",()=>t.execute("blockQuote")),o})}}var Ru=n(26),Du=n.n(Ru);class Lu extends Gl{static get pluginName(){return"CKFinderUI"}init(){const t=this.editor,e=t.ui.componentFactory,n=t.t;e.add("ckfinder",e=>{const i=t.commands.get("ckfinder"),o=new Wd(e);return o.set({label:n("d"),icon:Du.a,tooltip:!0}),o.bind("isEnabled").to(i),o.on("execute",()=>{t.execute("ckfinder"),t.editing.view.focus()}),o})}}class ju extends Gl{static get pluginName(){return"Notification"}init(){this.on("show:warning",(t,e)=>{window.alert(e.message)},{priority:"lowest"})}showSuccess(t,e={}){this._showNotification({message:t,type:"success",namespace:e.namespace,title:e.title})}showInfo(t,e={}){this._showNotification({message:t,type:"info",namespace:e.namespace,title:e.title})}showWarning(t,e={}){this._showNotification({message:t,type:"warning",namespace:e.namespace,title:e.title})}_showNotification(t){const e=`show:${t.type}`+(t.namespace?`:${t.namespace}`:"");this.fire(e,{message:t.message,type:t.type,title:t.title||""})}}class Vu extends Xl{constructor(t){super(t),this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const t=this.editor.commands.get("imageUpload"),e=this.editor.commands.get("link");this.isEnabled=t&&e&&(t.isEnabled||e.isEnabled)}execute(){const t=this.editor,e=this.editor.config.get("ckfinder.openerMethod")||"modal";if("popup"!=e&&"modal"!=e)throw new Gn.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".');const n=this.editor.config.get("ckfinder.options")||{};n.chooseFiles=!0;const i=n.onInit;n.language||(n.language=t.locale.language),n.onInit=(e=>{i&&i(),e.on("files:choose",n=>{const i=n.data.files.toArray(),o=i.filter(t=>!t.isImage()),r=i.filter(t=>t.isImage());for(const e of o)t.execute("link",e.getUrl());const s=[];for(const t of r){const n=t.getUrl();s.push(n||e.request("file:getProxyUrl",{file:t}))}s.length&&Bu(t,s)}),e.on("file:choose:resizedImage",e=>{const n=e.data.resizedUrl;if(n)Bu(t,[n]);else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("ap"),{title:n("aq"),namespace:"ckfinder"})}})}),window.CKFinder[e](n)}}function Bu(t,e){if(t.commands.get("imageUpload").isEnabled)t.execute("imageInsert",{source:e});else{const e=t.plugins.get("Notification"),n=t.locale.t;e.showWarning(n("ar"),{title:n("as"),namespace:"ckfinder"})}}class zu extends Gl{static get pluginName(){return"CKFinderEditing"}static get requires(){return[ju]}init(){const t=this.editor;t.commands.add("ckfinder",new Vu(t))}}const Fu=/^data:(\S*?);base64,/;class Uu{constructor(t,e,n){if(!t)throw new Error("File must be provided");if(!e)throw new Error("Token must be provided");if(!n)throw new Error("Api address must be provided");this.file=function(t){if("string"!=typeof t)return!1;const e=t.match(Fu);return!(!e||!e.length)}(t)?function(t,e=512){try{const n=t.match(Fu)[1],i=atob(t.replace(Fu,"")),o=[];for(let t=0;t<i.length;t+=e){const n=i.slice(t,t+e),r=new Array(n.length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);o.push(new Uint8Array(r))}return new Blob(o,{type:n})}catch(t){throw new Error("Problem with decoding Base64 image data.")}}(t):t,this._token=e,this._apiAddress=n}onProgress(t){return this.on("progress",(e,n)=>t(n)),this}onError(t){return this.once("error",(e,n)=>t(n)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const t=new XMLHttpRequest;t.open("POST",this._apiAddress),t.setRequestHeader("Authorization",this._token.value),t.responseType="json",this.xhr=t}_attachXHRListeners(){const t=this,e=this.xhr;function n(e){return()=>t.fire("error",e)}e.addEventListener("error",n("Network Error")),e.addEventListener("abort",n("Abort")),e.upload&&e.upload.addEventListener("progress",t=>{t.lengthComputable&&this.fire("progress",{total:t.total,uploaded:t.loaded})}),e.addEventListener("load",()=>{const t=e.status,n=e.response;if(t<200||t>299)return this.fire("error",n.message||n.error)})}_sendRequest(){const t=new FormData,e=this.xhr;return t.append("file",this.file),new Promise((n,i)=>{e.addEventListener("load",()=>{const t=e.status,o=e.response;return t<200||t>299?o.message?i(new Error(o.message)):i(o.error):n(o)}),e.addEventListener("error",()=>i(new Error("Network Error"))),e.addEventListener("abort",()=>i(new Error("Abort"))),e.send(t)})}}ci(Uu,ei);var Hu=Uu;const qu={refreshInterval:36e5,autoRefresh:!0};class Wu{constructor(t,e=qu){if(!t)throw new Error("A `tokenUrl` must be provided as the first constructor argument.");this.set("value",e.initValue),this._refresh="function"==typeof t?t:()=>(function(t){return new Promise((e,n)=>{const i=new XMLHttpRequest;i.open("GET",t),i.addEventListener("load",()=>{const t=i.status,o=i.response;return t<200||t>299?n(new Error("Cannot download new token!")):e(o)}),i.addEventListener("error",()=>n(new Error("Network Error"))),i.addEventListener("abort",()=>n(new Error("Abort"))),i.send()})})(t),this._options=Object.assign({},qu,e)}init(){return new Promise((t,e)=>{this._options.autoRefresh&&this._startRefreshing(),this.value?t(this):this._refreshToken().then(t).catch(e)})}_refreshToken(){return this._refresh().then(t=>this.set("value",t)).then(()=>this)}destroy(){this._stopRefreshing()}_startRefreshing(){this._refreshInterval=setInterval(()=>this._refreshToken(),this._options.refreshInterval)}_stopRefreshing(){clearInterval(this._refreshInterval)}static create(t,e=qu){return new Wu(t,e).init()}}ci(Wu,Fi);var Yu=Wu;class $u extends Gl{static get pluginName(){return"CloudServices"}init(){const t=this.editor.config.get("cloudServices")||{};for(const e in t)this[e]=t[e];if(this.tokenUrl)return this.token=new $u.Token(this.tokenUrl),this.token.init();this.token=null}}$u.Token=Yu;class Gu extends Gl{static get requires(){return[tu,$u]}init(){const t=this.editor,e=t.plugins.get($u),n=e.token,i=e.uploadUrl;n&&(this._uploadGateway=new Gu._UploadGateway(n,i),t.plugins.get(tu).createUploadAdapter=(t=>new Qu(this._uploadGateway,t)))}}class Qu{constructor(t,e){this.uploadGateway=t,this.loader=e}upload(){return this.loader.file.then(t=>(this.fileUploader=this.uploadGateway.upload(t),this.fileUploader.on("progress",(t,e)=>{this.loader.uploadTotal=e.total,this.loader.uploaded=e.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}Gu._UploadGateway=class{constructor(t,e){if(!t)throw new Error("Token must be provided");if(!e)throw new Error("Api address must be provided");this._token=t,this._apiAddress=e}upload(t){return new Hu(t,this._token,this._apiAddress)}};class Ju extends hr{constructor(t){super(t),this._observedElements=new Set}observe(t,e){this.document.getRoot(e).on("change:children",(e,n)=>{this.view.once("render",()=>this._updateObservedElements(t,n))})}_updateObservedElements(t,e){if(!e.is("element")||e.is("attributeElement"))return;const n=this.view.domConverter.mapViewToDom(e);if(n){for(const t of n.querySelectorAll("img"))this._observedElements.has(t)||(this.listenTo(t,"load",(t,e)=>this._fireEvents(e)),this._observedElements.add(t));for(const e of this._observedElements)t.contains(e)||(this.stopListening(e),this._observedElements.delete(e))}}_fireEvents(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}destroy(){this._observedElements.clear(),super.destroy()}}function Ku(t){return n=>{n.on(`attribute:${t}:image`,e)};function e(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,o=n.mapper.toViewElement(e.item).getChild(0);null!==e.attributeNewValue?i.setAttribute(e.attributeKey,e.attributeNewValue,o):i.removeAttribute(e.attributeKey,o)}}class Zu{constructor(){this._stack=[]}add(t,e){const n=this._stack,i=n[0];this._insertDescriptor(t);const o=n[0];i===o||Xu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:e})}remove(t,e){const n=this._stack,i=n[0];this._removeDescriptor(t);const o=n[0];i===o||Xu(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:e})}_insertDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t.id);if(Xu(t,e[n]))return;n>-1&&e.splice(n,1);let i=0;for(;e[i]&&th(e[i],t);)i++;e.splice(i,0,t)}_removeDescriptor(t){const e=this._stack,n=e.findIndex(e=>e.id===t);n>-1&&e.splice(n,1)}}function Xu(t,e){return t&&e&&t.priority==e.priority&&eh(t.classes)==eh(e.classes)}function th(t,e){return t.priority>e.priority||!(t.priority<e.priority)&&eh(t.classes)>eh(e.classes)}function eh(t){return Array.isArray(t)?t.sort().join(","):t}ci(Zu,ei);var nh=n(27),ih=n.n(nh);const oh="ck-widget",rh="ck-widget_selected";function sh(t){return!!t.is("element")&&!!t.getCustomProperty("widget")}function ah(t,e,n={}){return mo.isEdge||e.setAttribute("contenteditable","false",t),e.addClass(oh,t),e.setCustomProperty("widget",!0,t),t.getFillerOffset=uh,n.label&&function(t,e,n){n.setCustomProperty("widgetLabel",e,t)}(t,n.label,e),n.hasSelectionHandler&&function(t,e){const n=e.createUIElement("div",{class:"ck ck-widget__selection-handler"},function(t){const e=this.toDomElement(t),n=new Hd;return n.set("content",ih.a),n.render(),e.appendChild(n.element),e});e.insert(e.createPositionAt(t,0),n),e.addClass(["ck-widget_with-selection-handler"],t)}(t,e),function(t,e,n,i){const o=new Zu;o.on("change:top",(e,o)=>{o.oldDescriptor&&i(t,o.oldDescriptor,o.writer),o.newDescriptor&&n(t,o.newDescriptor,o.writer)}),e.setCustomProperty("addHighlight",(t,e,n)=>o.add(e,n),t),e.setCustomProperty("removeHighlight",(t,e,n)=>o.remove(e,n),t)}(t,e,(t,e,n)=>n.addClass(i(e.classes),t),(t,e,n)=>n.removeClass(i(e.classes),t)),t;function i(t){return Array.isArray(t)?t:[t]}}function ch(t){const e=t.getCustomProperty("widgetLabel");return e?"function"==typeof e?e():e:""}function lh(t,e){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],t),mo.isEdge||(e.setAttribute("contenteditable",t.isReadOnly?"false":"true",t),t.on("change:isReadOnly",(n,i,o)=>{e.setAttribute("contenteditable",o?"false":"true",t)})),t.on("change:isFocused",(n,i,o)=>{o?e.addClass("ck-editor__nested-editable_focused",t):e.removeClass("ck-editor__nested-editable_focused",t)}),t}function dh(t,e){const n=t.getSelectedElement();if(n&&e.schema.isBlock(n))return e.createPositionAfter(n);const i=t.getSelectedBlocks().next().value;if(i){if(i.isEmpty)return e.createPositionAt(i,0);const n=e.createPositionAfter(i);return t.focus.isTouching(n)?n:e.createPositionBefore(i)}return t.focus}function uh(){return null}function hh(t){const e=t.getSelectedElement();return e&&function(t){return!!t.getCustomProperty("image")&&sh(t)}(e)?e:null}function fh(t){return!!t&&t.is("image")}function mh(t,e,n={}){const i=t.createElement("image",n),o=dh(e.document.selection,e);e.insertContent(i,o),i.parent&&t.setSelection(i,"on")}function ph(t){const e=t.schema,n=t.document.selection;return function(t,e,n){const i=function(t,e){const n=dh(t,e).parent;if(n.isEmpty&&!n.is("$root"))return n.parent;return n}(t,n);return e.checkChild(i,"image")}(n,e,t)&&!function(t,e){const n=t.getSelectedElement();return n&&e.isObject(n)}(n,e)&&function(t){return[...t.focus.getAncestors()].every(t=>!t.is("image"))}(n)}class gh extends Xl{refresh(){this.isEnabled=ph(this.editor.model)}execute(t){const e=this.editor.model;e.change(n=>{const i=Array.isArray(t.source)?t.source:[t.source];for(const t of i)mh(n,e,{src:t})})}}class bh extends Gl{init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion;t.editing.view.addObserver(Ju),e.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),i.for("dataDowncast").elementToElement({model:"image",view:(t,e)=>wh(e)}),i.for("editingDowncast").elementToElement({model:"image",view:(t,e)=>(function(t,e,n){return e.setCustomProperty("image",!0,t),ah(t,e,{label:function(){const e=t.getChild(0).getAttribute("alt");return e?`${e} ${n}`:n}})})(wh(e),e,n("e"))}),i.for("downcast").add(Ku("src")).add(Ku("alt")).add(function(){return e=>{e.on("attribute:srcset:image",t)};function t(t,e,n){if(!n.consumable.consume(e.item,t.name))return;const i=n.writer,o=n.mapper.toViewElement(e.item).getChild(0);if(null===e.attributeNewValue){const t=e.attributeOldValue;t.data&&(i.removeAttribute("srcset",o),i.removeAttribute("sizes",o),t.width&&i.removeAttribute("width",o))}else{const t=e.attributeNewValue;t.data&&(i.setAttribute("srcset",t.data,o),i.setAttribute("sizes","100vw",o),t.width&&i.setAttribute("width",t.width,o))}}}()),i.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:(t,e)=>e.createElement("image",{src:t.getAttribute("src")})}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:t=>{const e={data:t.getAttribute("srcset")};return t.hasAttribute("width")&&(e.width=t.getAttribute("width")),e}}}).add(function(){return e=>{e.on("element:figure",t)};function t(t,e,n){if(!n.consumable.test(e.viewItem,{name:!0,classes:"image"}))return;const i=Array.from(e.viewItem.getChildren()).find(t=>t.is("img"));if(!i||!i.hasAttribute("src")||!n.consumable.test(i,{name:!0}))return;const o=n.convertItem(i,e.modelCursor),r=Cu(o.modelRange.getItems());r&&(n.convertChildren(e.viewItem,n.writer.createPositionAt(r,0)),e.modelRange=o.modelRange,e.modelCursor=o.modelCursor)}}()),t.commands.add("imageInsert",new gh(t))}}function wh(t){const e=t.createEmptyElement("img"),n=t.createContainerElement("figure",{class:"image"});return t.insert(t.createPositionAt(n,0),e),n}class _h extends ts{constructor(t){super(t),this.domEventType="mousedown"}onDomEvent(t){this.fire(t.type,t)}}n(66);const kh=_o("Ctrl+A");class vh extends Gl{static get pluginName(){return"Widget"}init(){const t=this.editor.editing.view,e=t.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",(t,e,n)=>{this._clearPreviouslySelectedWidgets(n.writer);const i=n.writer,o=i.document.selection,r=o.getSelectedElement();let s=null;for(const t of o.getRanges())for(const e of t){const t=e.item;sh(t)&&!yh(t,s)&&(i.addClass(rh,t),this._previouslySelected.add(t),s=t,t==r&&i.setSelection(o.getRanges(),{fake:!0,label:ch(r)}))}},{priority:"low"}),t.addObserver(_h),this.listenTo(e,"mousedown",(...t)=>this._onMousedown(...t)),this.listenTo(e,"keydown",(...t)=>this._onKeydown(...t),{priority:"high"}),this.listenTo(e,"delete",(t,e)=>{this._handleDelete("forward"==e.direction)&&(e.preventDefault(),t.stop())},{priority:"high"})}_onMousedown(t,e){const n=this.editor,i=n.editing.view,o=i.document;let r=e.target;if(function(t){for(;t;){if(t.is("editableElement")&&!t.is("rootElement"))return!0;if(sh(t))return!1;t=t.parent}return!1}(r)){if(mo.isSafari&&e.domEvent.detail>=3){const t=n.editing.mapper.toModelElement(r);this.editor.model.change(n=>{e.preventDefault(),n.setSelection(t,"in")})}return}if(!sh(r)&&!(r=r.findAncestor(sh)))return;e.preventDefault(),o.isFocused||i.focus();const s=n.editing.mapper.toModelElement(r);this._setSelectionOverElement(s)}_onKeydown(t,e){const n=e.keyCode,i=n==bo.arrowdown||n==bo.arrowright;let o=!1;!function(t){return t==bo.arrowright||t==bo.arrowleft||t==bo.arrowup||t==bo.arrowdown}(n)?!function(t){return wo(t)==kh}(e)?n===bo.enter&&(o=this._handleEnterKey(e.shiftKey)):o=this._selectAllNestedEditableContent()||this._selectAllContent():o=this._handleArrowKeys(i),o&&(e.preventDefault(),t.stop())}_handleDelete(t){if(this.editor.isReadOnly)return;const e=this.editor.model.document.selection;if(!e.isCollapsed)return;const n=this._getObjectElementNextToSelection(t);return n?(this.editor.model.change(t=>{let i=e.anchor.parent;for(;i.isEmpty;){const e=i;i=e.parent,t.remove(e)}this._setSelectionOverElement(n)}),!0):void 0}_handleArrowKeys(t){const e=this.editor.model,n=e.schema,i=e.document.selection,o=i.getSelectedElement();if(o&&n.isObject(o)){const o=t?i.getLastPosition():i.getFirstPosition(),r=n.getNearestSelectionRange(o,t?"forward":"backward");return r&&e.change(t=>{t.setSelection(r)}),!0}if(!i.isCollapsed)return;const r=this._getObjectElementNextToSelection(t);return r&&n.isObject(r)?(this._setSelectionOverElement(r),!0):void 0}_handleEnterKey(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();if(function(t,e){return t&&e.isObject(t)&&!e.isInline(t)}(n,e.schema))return e.change(i=>{let o=i.createPositionAt(n,t?"before":"after");const r=i.createElement("paragraph");if(e.schema.isBlock(n.parent)){const t=e.schema.findAllowedParent(o,r);o=i.split(o,t).position}i.insert(r,o),i.setSelection(r,"in")}),!0}_selectAllNestedEditableContent(){const t=this.editor.model,e=t.document.selection,n=t.schema.getLimitElement(e);return e.getFirstRange().root!=n&&(t.change(t=>{t.setSelection(t.createRangeIn(n))}),!0)}_selectAllContent(){const t=this.editor.model,e=this.editor.editing,n=e.view.document.selection.getSelectedElement();if(n&&sh(n)){const i=e.mapper.toModelElement(n.parent);return t.change(t=>{t.setSelection(t.createRangeIn(i))}),!0}return!1}_setSelectionOverElement(t){this.editor.model.change(e=>{e.setSelection(e.createRangeOn(t))})}_getObjectElementNextToSelection(t){const e=this.editor.model,n=e.schema,i=e.document.selection,o=e.createSelection(i);e.modifySelection(o,{direction:t?"forward":"backward"});const r=t?o.focus.nodeBefore:o.focus.nodeAfter;return r&&n.isObject(r)?r:null}_clearPreviouslySelectedWidgets(t){for(const e of this._previouslySelected)t.removeClass(rh,e);this._previouslySelected.clear()}}function yh(t,e){return!!e&&Array.from(t.getAncestors()).includes(e)}class xh extends Xl{refresh(){const t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=fh(t),fh(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}execute(t){const e=this.editor.model,n=e.document.selection.getSelectedElement();e.change(e=>{e.setAttribute("alt",t.newValue,n)})}}class Ah extends Gl{init(){this.editor.commands.add("imageTextAlternative",new xh(this.editor))}}function Ch({emitter:t,activator:e,callback:n,contextElements:i}){t.listenTo(document,"mousedown",(t,{target:o})=>{if(e()){for(const t of i)if(t.contains(o))return;n()}})}n(68);class Th extends Ol{constructor(t,e){super(t);const n=`ck-input-${Kn()}`,i=`ck-status-${Kn()}`;this.set("label"),this.set("value"),this.set("isReadOnly",!1),this.set("errorText",null),this.set("infoText",null),this.labelView=this._createLabelView(n),this.inputView=this._createInputView(e,n,i),this.statusView=this._createStatusView(i),this.bind("_statusText").to(this,"errorText",this,"infoText",(t,e)=>t||e);const o=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input",o.if("isReadOnly","ck-disabled")]},children:[this.labelView,this.inputView,this.statusView]})}_createLabelView(t){const e=new Dl(this.locale);return e.for=t,e.bind("text").to(this,"label"),e}_createInputView(t,e,n){const i=new t(this.locale,n);return i.id=e,i.ariaDesribedById=n,i.bind("value").to(this),i.bind("isReadOnly").to(this),i.bind("hasError").to(this,"errorText",t=>!!t),i.on("input",()=>{this.errorText=null}),i}_createStatusView(t){const e=new Ol(this.locale),n=this.bindTemplate;return e.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-input__status",n.if("errorText","ck-labeled-input__status_error"),n.if("_statusText","ck-hidden",t=>!t)],id:t},children:[{text:n.to("_statusText")}]}),e}select(){this.inputView.select()}focus(){this.inputView.focus()}}n(70);class Ph extends Ol{constructor(t){super(t),this.set("value"),this.set("id"),this.set("placeholder"),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDesribedById");const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",e.if("hasError","ck-error")],id:e.to("id"),placeholder:e.to("placeholder"),readonly:e.to("isReadOnly"),"aria-invalid":e.if("hasError",!0),"aria-describedby":e.to("ariaDesribedById")},on:{input:e.to("input")}})}render(){super.render();const t=t=>{this.element.value=t||0===t?t:""};t(this.value),this.on("change:value",(e,n,i)=>{t(i)})}select(){this.element.select()}focus(){this.element.focus()}}function Mh({view:t}){t.listenTo(t.element,"submit",(e,n)=>{n.preventDefault(),t.fire("submit")},{useCapture:!0})}var Eh=n(7),Sh=n.n(Eh),Ih=n(8),Nh=n.n(Ih);n(72);class Oh extends Ol{constructor(t){super(t);const e=this.locale.t;this.focusTracker=new ol,this.keystrokes=new Qc,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(e("ay"),Sh.a,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("az"),Nh.a,"ck-button-cancel","cancel"),this._focusables=new fl,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),Mh({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)})}_createButton(t,e,n,i){const o=new Wd(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}_createLabeledInputView(){const t=this.locale.t,e=new Th(this.locale,Ph);return e.label=t("bq"),e.inputView.placeholder=t("bq"),e}}function Rh({element:t,target:e,positions:n,limiter:i,fitInViewport:o}){W(e)&&(e=e()),W(i)&&(i=i());const r=function(t){for(;t&&"html"!=t.tagName.toLowerCase();){if("static"!=nr.window.getComputedStyle(t).position)return t;t=t.parentElement}return null}(t.parentElement),s=new As(t),a=new As(e);let c,l;if(i||o){const t=i&&new As(i).getVisible(),e=o&&new As(nr.window);[l,c]=function(t,e,n,i,o){let r,s,a=0,c=0;const l=n.getArea();return t.some(t=>{const[d,u]=Dh(t,e,n);let h,f;if(i)if(o){const t=i.getIntersection(o);h=t?t.getIntersectionArea(u):0}else h=i.getIntersectionArea(u);function m(){c=f,a=h,r=u,s=d}return o&&(f=o.getIntersectionArea(u)),o&&!i?f>c&&m():!o&&i?h>a&&m():f>c&&h>=a?m():f>=c&&h>a&&m(),h===l}),r?[s,r]:null}(n,a,s,t,e)||Dh(n[0],a,s)}else[l,c]=Dh(n[0],a,s);let{left:d,top:u}=Lh(c);if(r){const t=Lh(new As(r)),e=ys(r);d-=t.left,u-=t.top,d+=r.scrollLeft,u+=r.scrollTop,d-=e.left,u-=e.top}return{left:d,top:u,name:l}}function Dh(t,e,n){const{left:i,top:o,name:r}=t(e,n);return[r,n.clone().moveTo(i,o)]}function Lh({left:t,top:e}){const{scrollX:n,scrollY:i}=nr.window;return{left:t+n,top:e+i}}n(74);const jh=Bl("px"),Vh=nr.document.body;class Bh extends Ol{constructor(t){super(t);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class"),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",t=>`ck-balloon-panel_${t}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",jh),left:e.to("left",jh)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(t){this.show();const e=Bh.defaultPositions,n=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast],limiter:Vh,fitInViewport:!0},t),{top:i,left:o,name:r}=Bh._getOptimalPosition(n);Object.assign(this,{top:i,left:o,position:r})}pin(t){this.unpin(),this._pinWhenIsVisibleCallback=(()=>{this.isVisible?this._startPinning(t):this._stopPinning()}),this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(t){this.attachTo(t);const e=zh(t.target),n=t.limiter?zh(t.limiter):Vh;this.listenTo(nr.document,"scroll",(i,o)=>{const r=o.target,s=e&&r.contains(e),a=n&&r.contains(n);!s&&!a&&e&&n||this.attachTo(t)},{useCapture:!0}),this.listenTo(nr.window,"resize",()=>{this.attachTo(t)})}_stopPinning(){this.stopListening(nr.document,"scroll"),this.stopListening(nr.window,"resize")}}function zh(t){return Wn(t)?t:vs(t)?t.commonAncestorContainer:"function"==typeof t?zh(t()):null}function Fh(t,e){return t.top-e.height-Bh.arrowVerticalOffset}function Uh(t){return t.bottom+Bh.arrowVerticalOffset}Bh.arrowHorizontalOffset=25,Bh.arrowVerticalOffset=10,Bh._getOptimalPosition=Rh,Bh.defaultPositions={northArrowSouth:(t,e)=>({top:Fh(t,e),left:t.left+t.width/2-e.width/2,name:"arrow_s"}),northArrowSouthEast:(t,e)=>({top:Fh(t,e),left:t.left+t.width/2-e.width+Bh.arrowHorizontalOffset,name:"arrow_se"}),northArrowSouthWest:(t,e)=>({top:Fh(t,e),left:t.left+t.width/2-Bh.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouth:(t,e)=>({top:Fh(t,e),left:t.left-e.width/2,name:"arrow_s"}),northWestArrowSouthWest:(t,e)=>({top:Fh(t,e),left:t.left-Bh.arrowHorizontalOffset,name:"arrow_sw"}),northWestArrowSouthEast:(t,e)=>({top:Fh(t,e),left:t.left-e.width+Bh.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouth:(t,e)=>({top:Fh(t,e),left:t.right-e.width/2,name:"arrow_s"}),northEastArrowSouthEast:(t,e)=>({top:Fh(t,e),left:t.right-e.width+Bh.arrowHorizontalOffset,name:"arrow_se"}),northEastArrowSouthWest:(t,e)=>({top:Fh(t,e),left:t.right-Bh.arrowHorizontalOffset,name:"arrow_sw"}),southArrowNorth:(t,e)=>({top:Uh(t),left:t.left+t.width/2-e.width/2,name:"arrow_n"}),southArrowNorthEast:(t,e)=>({top:Uh(t),left:t.left+t.width/2-e.width+Bh.arrowHorizontalOffset,name:"arrow_ne"}),southArrowNorthWest:(t,e)=>({top:Uh(t),left:t.left+t.width/2-Bh.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorth:(t,e)=>({top:Uh(t),left:t.left-e.width/2,name:"arrow_n"}),southWestArrowNorthWest:(t,e)=>({top:Uh(t),left:t.left-Bh.arrowHorizontalOffset,name:"arrow_nw"}),southWestArrowNorthEast:(t,e)=>({top:Uh(t),left:t.left-e.width+Bh.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorth:(t,e)=>({top:Uh(t),left:t.right-e.width/2,name:"arrow_n"}),southEastArrowNorthEast:(t,e)=>({top:Uh(t),left:t.right-e.width+Bh.arrowHorizontalOffset,name:"arrow_ne"}),southEastArrowNorthWest:(t,e)=>({top:Uh(t),left:t.right-Bh.arrowHorizontalOffset,name:"arrow_nw"})};class Hh extends Gl{static get pluginName(){return"ContextualBalloon"}init(){this.view=new Bh,this.positionLimiter=(()=>{const t=this.editor.editing.view,e=t.document.selection.editableElement;return e?t.domConverter.mapViewToDom(e.root):null}),this._stack=new Map,this.editor.ui.view.body.add(this.view),this.editor.ui.focusTracker.add(this.view.element)}get visibleView(){const t=this._stack.get(this.view.content.get(0));return t?t.view:null}hasView(t){return this._stack.has(t)}add(t){if(this.hasView(t.view))throw new Gn.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.");this.visibleView&&this.view.content.remove(this.visibleView),this._stack.set(t.view,t),this._show(t)}remove(t){if(!this.hasView(t))throw new Gn.b("contextualballoon-remove-view-not-exist: Cannot remove configuration of not existing view.");if(this.visibleView===t){this.view.content.remove(t),this._stack.delete(t);const e=Array.from(this._stack.values()).pop();e?this._show(e):this.view.hide()}else this._stack.delete(t)}updatePosition(t){t&&(this._stack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition())}_show({view:t,balloonClassName:e=""}){this.view.class=e,this.view.content.add(t),this.view.pin(this._getBalloonPosition())}_getBalloonPosition(){let t=Array.from(this._stack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}var qh=n(28),Wh=n.n(qh);function Yh(t){const e=t.editing.view,n=Bh.defaultPositions;return{target:e.domConverter.viewToDom(e.document.selection.getSelectedElement()),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast]}}class $h extends Gl{static get requires(){return[Hh]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton(),this._createForm()}destroy(){super.destroy(),this._form.destroy()}_createButton(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageTextAlternative",n=>{const i=t.commands.get("imageTextAlternative"),o=new Wd(n);return o.set({label:e("bp"),icon:Wh.a,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),this.listenTo(o,"execute",()=>this._showForm()),o})}_createForm(){const t=this.editor,e=t.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Oh(t.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{t.execute("imageTextAlternative",{newValue:this._form.labeledInput.inputView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(t,e)=>{this._hideForm(!0),e()}),this.listenTo(t.ui,"update",()=>{hh(e.selection)?this._isVisible&&function(t){const e=t.plugins.get("ContextualBalloon");if(hh(t.editing.view.document.selection)){const n=Yh(t);e.updatePosition(n)}}(t):this._hideForm(!0)}),Ch({emitter:this._form,activator:()=>this._isVisible,contextElements:[this._form.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;const t=this.editor,e=t.commands.get("imageTextAlternative"),n=this._form.labeledInput;this._balloon.hasView(this._form)||this._balloon.add({view:this._form,position:Yh(t)}),n.value=n.inputView.element.value=e.value||"",this._form.labeledInput.select()}_hideForm(t){this._isVisible&&(this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}get _isVisible(){return this._balloon.visibleView==this._form}}class Gh extends Gl{static get requires(){return[Ah,$h]}static get pluginName(){return"ImageTextAlternative"}}n(76);class Qh extends Gl{static get requires(){return[bh,vh,Gh]}static get pluginName(){return"Image"}}class Jh extends Ol{constructor(t){super(t),this.buttonView=new Wd(t),this._fileInputView=new Kh(t),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class Kh extends Ol{constructor(t){super(t),this.set("acceptedType"),this.set("allowMultipleFiles",!1);const e=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:e.to("acceptedType"),multiple:e.to("allowMultipleFiles")},on:{change:e.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}var Zh=n(29),Xh=n.n(Zh);function tf(t){return/^image\/(jpeg|png|gif|bmp)$/.test(t.type)}function ef(t){return new Promise((e,n)=>{const i=t.getAttribute("src");fetch(i).then(t=>t.blob()).then(t=>{const o=function(t,e){return t.type?t.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(t,i),r=function(t,e,n){try{return new File([t],e,{type:n})}catch(t){return null}}(t,`image.${o.replace("image/","")}`,o);r?e(r):n()}).catch(n)})}class nf extends Gl{init(){const t=this.editor,e=t.t;t.ui.componentFactory.add("imageUpload",n=>{const i=new Jh(n),o=t.commands.get("imageUpload");return i.set({acceptedType:"image/*",allowMultipleFiles:!0}),i.buttonView.set({label:e("n"),icon:Xh.a,tooltip:!0}),i.buttonView.bind("isEnabled").to(o),i.on("done",(e,n)=>{const i=Array.from(n).filter(tf);i.length&&t.execute("imageUpload",{file:i})}),i})}}var of=n(30),rf=n.n(of);n(78),n(80),n(82);class sf extends Gl{constructor(t){super(t),this.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent(rf.a)}init(){this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",(...t)=>this.uploadStatusChange(...t))}uploadStatusChange(t,e,n){const i=this.editor,o=e.item,r=o.getAttribute("uploadId");if(!n.consumable.consume(e.item,t.name))return;const s=i.plugins.get(tu),a=r?e.attributeNewValue:null,c=this.placeholder,l=i.editing.mapper.toViewElement(o),d=n.writer;if("reading"==a)return af(l,d),void cf(c,l,d);if("uploading"==a){const t=s.loaders.get(r);return af(l,d),void(t?(lf(l,d),function(t,e,n,i){const o=function(t){const e=t.createUIElement("div",{class:"ck-progress-bar"});return t.setCustomProperty("progressBar",!0,e),e}(e);e.insert(e.createPositionAt(t,"end"),o),n.on("change:uploadedPercent",(t,e,n)=>{i.change(t=>{t.setStyle("width",n+"%",o)})})}(l,d,t,i.editing.view)):cf(c,l,d))}"complete"==a&&s.loaders.get(r)&&!mo.isEdge&&function(t,e,n){const i=e.createUIElement("div",{class:"ck-image-upload-complete-icon"});e.insert(e.createPositionAt(t,"end"),i),setTimeout(()=>{n.change(t=>t.remove(t.createRangeOn(i)))},3e3)}(l,d,i.editing.view),function(t,e){uf(t,e,"progressBar")}(l,d),lf(l,d),function(t,e){e.removeClass("ck-appear",t)}(l,d)}}function af(t,e){t.hasClass("ck-appear")||e.addClass("ck-appear",t)}function cf(t,e,n){e.hasClass("ck-image-upload-placeholder")||n.addClass("ck-image-upload-placeholder",e);const i=e.getChild(0);i.getAttribute("src")!==t&&n.setAttribute("src",t,i),df(e,"placeholder")||n.insert(n.createPositionAfter(i),function(t){const e=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,e),e}(n))}function lf(t,e){t.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",t),uf(t,e,"placeholder")}function df(t,e){for(const n of t.getChildren())if(n.getCustomProperty(e))return n}function uf(t,e,n){const i=df(t,n);i&&e.remove(e.createRangeOn(i))}class hf{createDocumentFragment(t){return new Ao(t)}createElement(t,e,n){return new _i(t,e,n)}createText(t){return new fi(t)}clone(t,e=!1){return t._clone(e)}appendChild(t,e){return e._appendChild(t)}insertChild(t,e,n){return n._insertChild(t,e)}removeChildren(t,e,n){return n._removeChildren(t,e)}remove(t){const e=t.parent;return e?this.removeChildren(e.getChildIndex(t),1,e):[]}replace(t,e){const n=t.parent;if(n){const i=n.getChildIndex(t);return this.removeChildren(i,1,n),this.insertChild(i,e,n),!0}return!1}rename(t,e){const n=new _i(t,e.getAttributes(),e.getChildren());return this.replace(e,n)?n:null}setAttribute(t,e,n){n._setAttribute(t,e)}removeAttribute(t,e){e._removeAttribute(t)}addClass(t,e){e._addClass(t)}removeClass(t,e){e._removeClass(t)}setStyle(t,e,n){C(t)&&void 0===n&&(n=e),n._setStyle(t,e)}removeStyle(t,e){e._removeStyle(t)}setCustomProperty(t,e,n){n._setCustomProperty(t,e)}removeCustomProperty(t,e){return e._removeCustomProperty(t)}createPositionAt(t,e){return Zi._createAt(t,e)}createPositionAfter(t){return Zi._createAfter(t)}createPositionBefore(t){return Zi._createBefore(t)}createRange(t,e){return new Xi(t,e)}createRangeOn(t){return Xi._createOn(t)}createRangeIn(t){return Xi._createIn(t)}createSelection(t,e,n){return new no(t,e,n)}}class ff extends Xl{refresh(){this.isEnabled=ph(this.editor.model)}execute(t){const e=this.editor,n=e.model,i=e.plugins.get(tu);n.change(e=>{const o=Array.isArray(t.file)?t.file:[t.file];for(const t of o)mf(e,n,i,t)})}}function mf(t,e,n,i){const o=n.createLoader(i);o&&mh(t,e,{uploadId:o.id})}class pf extends Gl{static get requires(){return[tu,ju]}init(){const t=this.editor,e=t.model.document,n=t.model.schema,i=t.conversion,o=t.plugins.get(tu);n.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),t.commands.add("imageUpload",new ff(t)),i.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(t.editing.view.document,"clipboardInput",(e,n)=>{if(function(t){return Array.from(t.types).includes("text/html")&&""!==t.getData("text/html")}(n.dataTransfer))return;const i=Array.from(n.dataTransfer.files).filter(t=>!!t&&tf(t)),o=n.targetRanges.map(e=>t.editing.mapper.toModelRange(e));t.model.change(n=>{n.setSelection(o),i.length&&(e.stop(),t.model.enqueueChange("default",()=>{t.execute("imageUpload",{file:i})}))})}),t.plugins.has("Clipboard")&&this.listenTo(t.plugins.get("Clipboard"),"inputTransformation",(e,n)=>{const i=Array.from(t.editing.view.createRangeIn(n.content)).filter(t=>(function(t){return!(!t.is("element","img")||!t.getAttribute("src"))&&(t.getAttribute("src").match(/^data:image\/\w+;base64,/g)||t.getAttribute("src").match(/^blob:/g))})(t.item)&&!t.item.getAttribute("uploadProcessed")).map(t=>({promise:ef(t.item),imageElement:t.item}));if(!i.length)return;const r=new hf;for(const t of i){r.setAttribute("uploadProcessed",!0,t.imageElement);const e=o.createLoader(t.promise);e&&(r.setAttribute("src","",t.imageElement),r.setAttribute("uploadId",e.id,t.imageElement))}}),t.editing.view.document.on("dragover",(t,e)=>{e.preventDefault()}),e.on("change",()=>{const t=e.differ.getChanges({includeChangesInGraveyard:!0});for(const e of t)if("insert"==e.type&&"image"==e.name){const t=e.position.nodeAfter,n="$graveyard"==e.position.root.rootName,i=t.getAttribute("uploadId");if(!i)continue;const r=o.loaders.get(i);if(!r)continue;n?r.abort():"idle"==r.status&&this._readAndUpload(r,t)}})}_readAndUpload(t,e){const n=this.editor,i=n.model,o=n.locale.t,r=n.plugins.get(tu),s=n.plugins.get(ju);return i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","reading",e)}),t.read().then(o=>{const r=n.editing.mapper.toViewElement(e).getChild(0),s=t.upload();return n.editing.view.change(t=>{t.setAttribute("src",o,r)}),i.enqueueChange("transparent",t=>{t.setAttribute("uploadStatus","uploading",e)}),s}).then(t=>{i.enqueueChange("transparent",n=>{n.setAttributes({uploadStatus:"complete",src:t.default},e),this._parseAndSetSrcsetAttributeOnImage(t,e,n)}),a()}).catch(n=>{if("error"!==t.status&&"aborted"!==t.status)throw n;"error"==t.status&&n&&s.showWarning(n,{title:o("aj"),namespace:"upload"}),a(),i.enqueueChange("transparent",t=>{t.remove(e)})});function a(){i.enqueueChange("transparent",t=>{t.removeAttribute("uploadId",e),t.removeAttribute("uploadStatus",e)}),r.destroyLoader(t)}}_parseAndSetSrcsetAttributeOnImage(t,e,n){let i=0;const o=Object.keys(t).filter(t=>{const e=parseInt(t,10);if(!isNaN(e))return i=Math.max(i,e),!0}).map(e=>`${t[e]} ${e}w`).join(", ");""!=o&&n.setAttribute("srcset",{data:o,width:i},e)}}class gf extends Gl{static get pluginName(){return"ImageUpload"}static get requires(){return[pf,nf,sf]}}class bf extends Xl{refresh(){const t=this.editor.model,e=Cu(t.document.selection.getSelectedBlocks());this.value=!!e&&e.is("paragraph"),this.isEnabled=!!e&&wf(e,t.schema)}execute(t={}){const e=this.editor.model,n=e.document;e.change(i=>{const o=(t.selection||n.selection).getSelectedBlocks();for(const t of o)!t.is("paragraph")&&wf(t,e.schema)&&i.rename(t,"paragraph")})}}function wf(t,e){return e.checkChild(t.parent,"paragraph")&&!e.isObject(t)}class _f extends Gl{static get pluginName(){return"Paragraph"}init(){const t=this.editor,e=t.model,n=t.data;t.commands.add("paragraph",new bf(t)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),t.conversion.elementToElement({model:"paragraph",view:"p"}),t.conversion.for("upcast").elementToElement({model:(t,e)=>_f.paragraphLikeElements.has(t.name)?t.isEmpty?null:e.createElement("paragraph"):null,converterPriority:"low"}),n.upcastDispatcher.on("element",(t,e,n)=>{n.consumable.test(e.viewItem,{name:e.viewItem.name})&&vf(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,kf(e.viewItem,e.modelCursor,n))},{priority:"low"}),n.upcastDispatcher.on("text",(t,e,n)=>{e.modelRange||vf(e.viewItem,e.modelCursor,n.schema)&&Object.assign(e,kf(e.viewItem,e.modelCursor,n))},{priority:"lowest"}),e.document.registerPostFixer(t=>this._autoparagraphEmptyRoots(t)),t.data.on("ready",()=>{e.enqueueChange("transparent",t=>this._autoparagraphEmptyRoots(t))},{priority:"lowest"})}_autoparagraphEmptyRoots(t){const e=this.editor.model;for(const n of e.document.getRootNames()){const i=e.document.getRoot(n);if(i.isEmpty&&"$graveyard"!=i.rootName&&e.schema.checkChild(i,"paragraph"))return t.insertElement("paragraph",i),!0}}}function kf(t,e,n){const i=n.writer.createElement("paragraph");return n.writer.insert(i,e),n.convertItem(t,n.writer.createPositionAt(i,0))}function vf(t,e,n){const i=n.createContext(e);return!!n.checkChild(i,"paragraph")&&!!n.checkChild(i.push("paragraph"),t)}_f.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]);class yf extends Xl{constructor(t,e){super(t),this.modelElements=e}refresh(){const t=Cu(this.editor.model.document.selection.getSelectedBlocks());this.value=!!t&&this.modelElements.includes(t.name)&&t.name,this.isEnabled=!!t&&this.modelElements.some(e=>xf(t,e,this.editor.model.schema))}execute(t){const e=this.editor.model,n=e.document,i=t.value;e.change(t=>{const o=Array.from(n.selection.getSelectedBlocks()).filter(t=>xf(t,i,e.schema));for(const e of o)e.is(i)||t.rename(e,i)})}}function xf(t,e,n){return n.checkChild(t.parent,e)&&!n.isObject(t)}const Af="paragraph";class Cf extends Gl{constructor(t){super(t),t.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[_f]}init(){const t=this.editor,e=t.config.get("heading.options"),n=[];for(const i of e)i.model!==Af&&(t.model.schema.register(i.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(i),n.push(i.model));this._addDefaultH1Conversion(t),t.commands.add("heading",new yf(t,n))}afterInit(){const t=this.editor,e=t.commands.get("enter"),n=t.config.get("heading.options");e&&this.listenTo(e,"afterExecute",(e,i)=>{const o=t.model.document.selection.getFirstPosition().parent;n.some(t=>o.is(t.model))&&!o.is(Af)&&0===o.childCount&&i.writer.rename(o,Af)})}_addDefaultH1Conversion(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Zn.get("low")+1})}}class Tf{constructor(t,e){e&&Li(this,e),t&&this.set(t)}}ci(Tf,Fi);class Pf extends Ol{constructor(t){super(t);const e=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",e.to("position",t=>`ck-dropdown__panel_${t}`),e.if("isVisible","ck-dropdown__panel-visible")]},children:this.children,on:{selectstart:e.to(t=>t.preventDefault())}})}focus(){this.children.length&&this.children.first.focus()}focusLast(){if(this.children.length){const t=this.children.last;"function"==typeof t.focusLast?t.focusLast():t.focus()}}}n(84);class Mf extends Ol{constructor(t,e,n){super(t);const i=this.bindTemplate;this.buttonView=e,this.panelView=n,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class"),this.set("panelPosition","auto"),this.focusTracker=new ol,this.keystrokes=new Qc,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",i.to("class"),i.if("isEnabled","ck-disabled",t=>!t)]},children:[e,n]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"]}})}render(){super.render(),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",()=>{if(this.isOpen)if("auto"===this.panelPosition){const t=Mf.defaultPanelPositions;this.panelView.position=Rh({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:[t.southEast,t.southWest,t.northEast,t.northWest]}).name}else this.panelView.position=this.panelPosition}),this.keystrokes.listenTo(this.element),this.focusTracker.add(this.element);const t=(t,e)=>{this.isOpen&&(this.buttonView.focus(),this.isOpen=!1,e())};this.keystrokes.set("arrowdown",(t,e)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,e())}),this.keystrokes.set("arrowright",(t,e)=>{this.isOpen&&e()}),this.keystrokes.set("arrowleft",t),this.keystrokes.set("esc",t)}focus(){this.buttonView.focus()}}Mf.defaultPanelPositions={southEast:t=>({top:t.bottom,left:t.left,name:"se"}),southWest:(t,e)=>({top:t.bottom,left:t.left-e.width+t.width,name:"sw"}),northEast:(t,e)=>({top:t.top-e.height,left:t.left,name:"ne"}),northWest:(t,e)=>({top:t.bottom-e.height,left:t.left-e.width+t.width,name:"nw"})};var Ef=n(31),Sf=n.n(Ef);class If extends Wd{constructor(t){super(t),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const t=new Hd;return t.content=Sf.a,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}n(86);class Nf extends Ol{constructor(){super(),this.items=this.createCollection(),this.focusTracker=new ol,this.keystrokes=new Qc,this._focusCycler=new Ul({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:this.items})}render(){super.render();for(const t of this.items)this.focusTracker.add(t.element);this.items.on("add",(t,e)=>{this.focusTracker.add(e.element)}),this.items.on("remove",(t,e)=>{this.focusTracker.remove(e.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Of extends Ol{constructor(t){super(t),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:this.children})}focus(){this.children.first.focus()}}class Rf extends Ol{constructor(t){super(t),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}n(88);class Df extends Wd{constructor(t){super(t),this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const t=new Ol;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}n(90),n(92);function Lf(t,e=If){const n=new e(t),i=new Pf(t),o=new Mf(t,n,i);return n.bind("isEnabled").to(o),n instanceof If?n.bind("isOn").to(o,"isOpen"):n.arrowView.bind("isOn").to(o,"isOpen"),function(t){(function(t){t.on("render",()=>{Ch({emitter:t,activator:()=>t.isOpen,callback:()=>{t.isOpen=!1},contextElements:[t.element]})})})(t),function(t){t.on("execute",e=>{e.source instanceof Df||(t.isOpen=!1)})}(t),function(t){t.keystrokes.set("arrowdown",(e,n)=>{t.isOpen&&(t.panelView.focus(),n())}),t.keystrokes.set("arrowup",(e,n)=>{t.isOpen&&(t.panelView.focusLast(),n())})}(t)}(o),o}function jf(t,e){const n=t.locale,i=t.listView=new Nf(n);i.items.bindTo(e).using(({type:t,model:e})=>{if("separator"===t)return new Rf(n);if("button"===t||"switchbutton"===t){const i=new Of(n);let o;return(o="button"===t?new Wd(n):new Df(n)).bind(...Object.keys(e)).to(e),o.delegate("execute").to(i),i.children.add(o),i}}),t.panelView.children.add(i),i.items.delegate("execute").to(t)}n(17);class Vf extends Gl{init(){const t=this.editor,e=t.t,n=function(t){const e=t.t,n={Paragraph:e("bi"),"Heading 1":e("bj"),"Heading 2":e("bk"),"Heading 3":e("bl"),"Heading 4":e("bm"),"Heading 5":e("bn"),"Heading 6":e("bo")};return t.config.get("heading.options").map(t=>{const e=n[t.title];return e&&e!=t.title&&(t.title=e),t})}(t),i=e("l"),o=e("m");t.ui.componentFactory.add("heading",e=>{const r={},s=new oo,a=t.commands.get("heading"),c=t.commands.get("paragraph"),l=[a];for(const t of n){const e={type:"button",model:new Tf({label:t.title,class:t.class,withText:!0})};"paragraph"===t.model?(e.model.bind("isOn").to(c,"value"),e.model.set("commandName","paragraph"),l.push(c)):(e.model.bind("isOn").to(a,"value",e=>e===t.model),e.model.set({commandName:"heading",commandValue:t.model})),s.add(e),r[t.model]=t.title}const d=Lf(e);return jf(d,s),d.buttonView.set({isOn:!1,withText:!0,tooltip:o}),d.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),d.bind("isEnabled").toMany(l,"isEnabled",(...t)=>t.some(t=>t)),d.buttonView.bind("label").to(a,"value",c,"value",(t,e)=>{const n=t||e&&"paragraph";return r[n]?r[n]:i}),this.listenTo(d,"execute",e=>{t.execute(e.source.commandName,e.source.commandValue?{value:e.source.commandValue}:void 0),t.editing.view.focus()}),d})}}function Bf(t){for(const e of t.getChildren())if(e&&e.is("caption"))return e;return null}function zf(t){const e=t.parent;return"figcaption"==t.name&&e&&"figure"==e.name&&e.hasClass("image")?{name:!0}:null}class Ff extends Gl{init(){const t=this.editor,e=t.editing.view,n=t.model.schema,i=t.data,o=t.editing,r=t.t;n.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),t.model.document.registerPostFixer(t=>this._insertMissingModelCaptionElement(t)),t.conversion.for("upcast").elementToElement({view:zf,model:"caption"});i.downcastDispatcher.on("insert:caption",Uf(t=>t.createContainerElement("figcaption"),!1));const s=function(t,e){return n=>{const i=n.createEditableElement("figcaption");return n.setCustomProperty("imageCaption",!0,i),al({view:t,element:i,text:e}),lh(i,n)}}(e,r("ai"));o.downcastDispatcher.on("insert:caption",Uf(s)),o.downcastDispatcher.on("insert",this._fixCaptionVisibility(t=>t.item),{priority:"high"}),o.downcastDispatcher.on("remove",this._fixCaptionVisibility(t=>t.position.parent),{priority:"high"}),e.document.registerPostFixer(t=>this._updateCaptionVisibility(t))}_updateCaptionVisibility(t){const e=this.editor.editing.mapper,n=this._lastSelectedCaption;let i;const o=this.editor.model.document.selection,r=o.getSelectedElement();if(r&&r.is("image")){const t=Bf(r);i=e.toViewElement(t)}const s=Hf(o.getFirstPosition().parent);if(s&&(i=e.toViewElement(s)),i)return n?n===i?Wf(i,t):(qf(n,t),this._lastSelectedCaption=i,Wf(i,t)):(this._lastSelectedCaption=i,Wf(i,t));if(n){const e=qf(n,t);return this._lastSelectedCaption=null,e}return!1}_fixCaptionVisibility(t){return(e,n,i)=>{const o=Hf(t(n)),r=this.editor.editing.mapper,s=i.writer;if(o){const t=r.toViewElement(o);t&&(o.childCount?s.removeClass("ck-hidden",t):s.addClass("ck-hidden",t))}}}_insertMissingModelCaptionElement(t){const e=this.editor.model,n=e.document.differ.getChanges(),i=[];for(const t of n)if("insert"==t.type&&"$text"!=t.name){const n=t.position.nodeAfter;if(n.is("image")&&!Bf(n)&&i.push(n),!n.is("image")&&n.childCount)for(const t of e.createRangeIn(n).getItems())t.is("image")&&!Bf(t)&&i.push(t)}for(const e of i)t.appendElement("caption",e);return!!i.length}}function Uf(t,e=!0){return(n,i,o)=>{const r=i.item;if((r.childCount||e)&&fh(r.parent)){if(!o.consumable.consume(i.item,"insert"))return;const e=o.mapper.toViewElement(i.range.start.parent),n=t(o.writer),s=o.writer;r.childCount||s.addClass("ck-hidden",n),function(t,e,n,i){const o=i.writer.createPositionAt(n,"end");i.writer.insert(o,t),i.mapper.bindElements(e,t)}(n,i.item,e,o)}}}function Hf(t){const e=t.getAncestors({includeSelf:!0}).find(t=>"caption"==t.name);return e&&e.parent&&"image"==e.parent.name?e:null}function qf(t,e){return!t.childCount&&!t.hasClass("ck-hidden")&&(e.addClass("ck-hidden",t),!0)}function Wf(t,e){return!!t.hasClass("ck-hidden")&&(e.removeClass("ck-hidden",t),!0)}n(95);class Yf extends Xl{constructor(t,e){super(t),this._defaultStyle=!1,this.styles=e.reduce((t,e)=>(t[e.name]=e,e.isDefault&&(this._defaultStyle=e.name),t),{})}refresh(){const t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=fh(t),t)if(t.hasAttribute("imageStyle")){const e=t.getAttribute("imageStyle");this.value=!!this.styles[e]&&e}else this.value=this._defaultStyle;else this.value=!1}execute(t){const e=t.value,n=this.editor.model,i=n.document.selection.getSelectedElement();n.change(t=>{this.styles[e].isDefault?t.removeAttribute("imageStyle",i):t.setAttribute("imageStyle",e,i)})}}function $f(t,e){for(const n of e)if(n.name===t)return n}var Gf=n(13),Qf=n.n(Gf),Jf=n(14),Kf=n.n(Jf),Zf=n(15),Xf=n.n(Zf),tm=n(11),em=n.n(tm);const nm={full:{name:"full",title:"Full size image",icon:Qf.a,isDefault:!0},side:{name:"side",title:"Side image",icon:em.a,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Kf.a,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Xf.a,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:em.a,className:"image-style-align-right"}},im={full:Qf.a,left:Kf.a,right:em.a,center:Xf.a};function om(t=[]){return t.map(rm)}function rm(t){if("string"==typeof t){const e=t;nm[e]?t=Object.assign({},nm[e]):(bs.a.warn("image-style-not-found: There is no such image style of given name.",{name:e}),t={name:e})}else if(nm[t.name]){const e=nm[t.name],n=Object.assign({},t);for(const i in e)t.hasOwnProperty(i)||(n[i]=e[i]);t=n}return"string"==typeof t.icon&&im[t.icon]&&(t.icon=im[t.icon]),t}class sm extends Gl{static get pluginName(){return"ImageStyleEditing"}init(){const t=this.editor,e=t.model.schema,n=t.data,i=t.editing;t.config.define("image.styles",["full","side"]);const o=om(t.config.get("image.styles"));e.extend("image",{allowAttributes:"imageStyle"});const r=function(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,e.name))return;const o=$f(n.attributeNewValue,t),r=$f(n.attributeOldValue,t),s=i.mapper.toViewElement(n.item),a=i.writer;r&&a.removeClass(r.className,s),o&&a.addClass(o.className,s)}}(o);i.downcastDispatcher.on("attribute:imageStyle:image",r),n.downcastDispatcher.on("attribute:imageStyle:image",r),n.upcastDispatcher.on("element:figure",function(t){const e=t.filter(t=>!t.isDefault);return(t,n,i)=>{if(!n.modelRange)return;const o=n.viewItem,r=Cu(n.modelRange.getItems());if(i.schema.checkAttribute(r,"imageStyle"))for(const t of e)i.consumable.consume(o,{classes:t.className})&&i.writer.setAttribute("imageStyle",t.name,r)}}(o),{priority:"low"}),t.commands.add("imageStyle",new Yf(t,o))}}n(97);class am extends Gl{static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const t=this.editor.t;return{"Full size image":t("g"),"Side image":t("h"),"Left aligned image":t("i"),"Centered image":t("j"),"Right aligned image":t("k")}}init(){const t=function(t,e){for(const n of t)e[n.title]&&(n.title=e[n.title]);return t}(om(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles);for(const e of t)this._createButton(e)}_createButton(t){const e=this.editor,n=`imageStyle:${t.name}`;e.ui.componentFactory.add(n,n=>{const i=e.commands.get("imageStyle"),o=new Wd(n);return o.set({label:t.title,icon:t.icon,tooltip:!0}),o.bind("isEnabled").to(i,"isEnabled"),o.bind("isOn").to(i,"value",e=>e===t.name),this.listenTo(o,"execute",()=>e.execute("imageStyle",{value:t.name})),o})}}class cm extends Gl{static get requires(){return[Hh]}static get pluginName(){return"WidgetToolbarRepository"}init(){const t=this.editor;if(t.plugins.has("BalloonToolbar")){const e=t.plugins.get("BalloonToolbar");this.listenTo(e,"show",e=>{(function(t){const e=t.getSelectedElement();return!(!e||!sh(e))})(t.editing.view.document.selection)&&e.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.listenTo(t.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(t.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const t of this._toolbarDefinitions.values())t.view.destroy()}register(t,{items:e,getRelatedElement:n,balloonClassName:i="ck-toolbar-container"}){const o=this.editor,r=new Wl;if(this._toolbarDefinitions.has(t))throw new Gn.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",{toolbarId:t});r.fillFromConfig(e,o.ui.componentFactory),this._toolbarDefinitions.set(t,{view:r,getRelatedElement:n,balloonClassName:i})}_updateToolbarsVisibility(){let t=0,e=null,n=null;for(const i of this._toolbarDefinitions.values()){const o=i.getRelatedElement(this.editor.editing.view.document.selection);if(this.editor.ui.focusTracker.isFocused&&o){const r=o.getAncestors().length;r>t&&(t=r,e=o,n=i)}else this._hideToolbar(i)}n&&this._showToolbar(n,e)}_hideToolbar(t){this._isToolbarVisible(t)&&this._balloon.remove(t.view)}_showToolbar(t,e){this._isToolbarVisible(t)?function(t,e){const n=t.plugins.get("ContextualBalloon"),i=lm(t,e);n.updatePosition(i)}(this.editor,e):this._balloon.hasView(t.view)||this._balloon.add({view:t.view,position:lm(this.editor,e),balloonClassName:t.balloonClassName})}_isToolbarVisible(t){return this._balloon.visibleView==t.view}}function lm(t,e){const n=t.editing.view,i=Bh.defaultPositions;return{target:n.domConverter.viewToDom(e),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast]}}function dm(t,e,n){return n.createRange(um(t,e,!0,n),um(t,e,!1,n))}function um(t,e,n,i){let o=t.textNode||(n?t.nodeBefore:t.nodeAfter),r=null;for(;o&&o.getAttribute("linkHref")==e;)r=o,o=n?o.previousSibling:o.nextSibling;return r?i.createPositionAt(r,n?"before":"after"):t}class hm extends Xl{refresh(){const t=this.editor.model,e=t.document;this.value=e.selection.getAttribute("linkHref"),this.isEnabled=t.schema.checkAttributeInSelection(e.selection,"linkHref")}execute(t){const e=this.editor.model,n=e.document.selection;e.change(i=>{if(n.isCollapsed){const o=n.getFirstPosition();if(n.hasAttribute("linkHref")){const o=dm(n.getFirstPosition(),n.getAttribute("linkHref"),e);i.setAttribute("linkHref",t,o),i.setSelection(o)}else if(""!==t){const e=Vs(n.getAttributes());e.set("linkHref",t);const r=i.createText(t,e);i.insert(r,o),i.setSelection(i.createRangeOn(r))}}else{const o=e.schema.getValidRanges(n.getRanges(),"linkHref");for(const e of o)i.setAttribute("linkHref",t,e)}})}}class fm extends Xl{refresh(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}execute(){const t=this.editor.model,e=t.document.selection;t.change(n=>{const i=e.isCollapsed?[dm(e.getFirstPosition(),e.getAttribute("linkHref"),t)]:e.getRanges();for(const t of i)n.removeAttribute("linkHref",t)})}}const mm=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,pm=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function gm(t,e){const n=e.createAttributeElement("a",{href:t},{priority:5});return e.setCustomProperty("link",!0,n),n}function bm(t){return function(t){return t.replace(mm,"").match(pm)}(t=String(t))?t:"#"}class wm{constructor(t,e,n){this.model=t,this.attribute=n,this._modelSelection=t.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",(t,e)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!e.directChange&&_m(this._modelSelection.getFirstPosition(),n)||this._restoreGravity())})}handleForwardMovement(t,e){const n=this.attribute;if(!(this._isGravityOverridden||t.isAtStart&&this._hasSelectionAttribute))return ym(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._removeSelectionAttribute(),!0):km(t,n)?(this._preventCaretMovement(e),this._overrideGravity(),!0):vm(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._overrideGravity(),!0):void 0}handleBackwardMovement(t,e){const n=this.attribute;return this._isGravityOverridden?ym(t,n)&&this._hasSelectionAttribute?(this._preventCaretMovement(e),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(e),this._restoreGravity(),t.isAtStart&&this._removeSelectionAttribute(),!0):ym(t,n)&&!this._hasSelectionAttribute?(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtEnd&&vm(t,n)?this._hasSelectionAttribute?void(xm(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(e),this._setSelectionAttributeFromTheNodeBefore(t),!0):t.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(e),!0):void 0:void(xm(t,n)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}get _isGravityOverridden(){return!!this._overrideUid}get _hasSelectionAttribute(){return this._modelSelection.hasAttribute(this.attribute)}_overrideGravity(){this._overrideUid=this.model.change(t=>t.overrideSelectionGravity())}_restoreGravity(){this.model.change(t=>{t.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}_preventCaretMovement(t){t.preventDefault()}_removeSelectionAttribute(){this.model.change(t=>{t.removeSelectionAttribute(this.attribute)})}_setSelectionAttributeFromTheNodeBefore(t){const e=this.attribute;this.model.change(n=>{n.setSelectionAttribute(this.attribute,t.nodeBefore.getAttribute(e))})}_skipNextAutomaticGravityRestoration(){this._isNextGravityRestorationSkipped=!0}}function _m(t,e){return km(t,e)||vm(t,e)}function km(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e);return!!i&&i.hasAttribute(e)&&(!o||n.getAttribute(e)!==i.getAttribute(e))}function vm(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e),r=!!i&&i.hasAttribute(e);return o&&(!r||n.getAttribute(e)!==i.getAttribute(e))}function ym(t,e){const{nodeBefore:n,nodeAfter:i}=t,o=!!n&&n.hasAttribute(e);if(!!i&&i.hasAttribute(e)&&o)return i.getAttribute(e)!==n.getAttribute(e)}function xm(t,e){return _m(t.getShiftedBy(-1),e)}n(99);const Am="ck-link_selected";class Cm extends Gl{init(){const t=this.editor;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:gm}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(t,e)=>gm(bm(t),e)}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:t=>t.getAttribute("href")}}),t.commands.add("link",new hm(t)),t.commands.add("unlink",new fm(t)),function(t,e,n,i){const o=new wm(e,n,i),r=e.document.selection;n.listenTo(t.document,"keydown",(t,e)=>{if(!r.isCollapsed)return;if(e.shiftKey||e.altKey||e.ctrlKey)return;const n=e.keyCode==bo.arrowright,i=e.keyCode==bo.arrowleft;if(!n&&!i)return;const s=r.getFirstPosition();let a;(a=n?o.handleForwardMovement(s,e):o.handleBackwardMovement(s,e))&&t.stop()},{priority:Zn.get("high")+1})}(t.editing.view,t.model,this,"linkHref"),this._setupLinkHighlight()}_setupLinkHighlight(){const t=this.editor,e=t.editing.view,n=new Set;e.document.registerPostFixer(e=>{const i=t.model.document.selection;if(i.hasAttribute("linkHref")){const o=dm(i.getFirstPosition(),i.getAttribute("linkHref"),t.model),r=t.editing.mapper.toViewRange(o);for(const t of r.getItems())t.is("a")&&(e.addClass(Am,t),n.add(t))}}),t.conversion.for("editingDowncast").add(t=>{function i(){e.change(t=>{for(const e of n.values())t.removeClass(Am,e),n.delete(e)})}t.on("insert",i,{priority:"highest"}),t.on("remove",i,{priority:"highest"}),t.on("attribute",i,{priority:"highest"}),t.on("selection",i,{priority:"highest"})})}}class Tm extends ts{constructor(t){super(t),this.domEventType="click"}onDomEvent(t){this.fire(t.type,t)}}n(101);class Pm extends Ol{constructor(t){super(t);const e=t.t;this.focusTracker=new ol,this.keystrokes=new Qc,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(e("ay"),Sh.a,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(e("az"),Nh.a,"ck-button-cancel","cancel"),this._focusables=new fl,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-link-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Mh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const t=this.locale.t,e=new Th(this.locale,Ph);return e.label=t("ba"),e.inputView.placeholder="https://example.com",e}_createButton(t,e,n,i){const o=new Wd(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}}var Mm=n(32),Em=n.n(Mm),Sm=n(33),Im=n.n(Sm);n(103);class Nm extends Ol{constructor(t){super(t);const e=t.t;this.focusTracker=new ol,this.keystrokes=new Qc,this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(e("au"),Em.a,"unlink"),this.editButtonView=this._createButton(e("av"),Im.a,"edit"),this.set("href"),this._focusables=new fl,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element)}focus(){this._focusCycler.focusFirst()}_createButton(t,e,n){const i=new Wd(this.locale);return i.set({label:t,icon:e,tooltip:!0}),i.delegate("execute").to(this,n),i}_createPreviewButton(){const t=new Wd(this.locale),e=this.bindTemplate,n=this.t;return t.set({withText:!0,tooltip:n("aw")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:e.to("href",t=>t&&bm(t)),target:"_blank"}}),t.bind("label").to(this,"href",t=>t||n("ax")),t.bind("isEnabled").to(this,"href",t=>!!t),t.template.tag="a",t.template.eventListeners={},t}}var Om=n(34),Rm=n.n(Om);const Dm="Ctrl+K";class Lm extends Gl{static get requires(){return[Hh]}static get pluginName(){return"LinkUI"}init(){const t=this.editor;t.editing.view.addObserver(Tm),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(Hh),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}destroy(){super.destroy(),this.formView.destroy()}_createActionsView(){const t=this.editor,e=new Nm(t.locale),n=t.commands.get("link"),i=t.commands.get("unlink");return e.bind("href").to(n,"value"),e.editButtonView.bind("isEnabled").to(n),e.unlinkButtonView.bind("isEnabled").to(i),this.listenTo(e,"edit",()=>{this._addFormView()}),this.listenTo(e,"unlink",()=>{t.execute("unlink"),this._hideUI()}),e.keystrokes.set("Esc",(t,e)=>{this._hideUI(),e()}),e.keystrokes.set(Dm,(t,e)=>{this._addFormView(),e()}),e}_createFormView(){const t=this.editor,e=new Pm(t.locale),n=t.commands.get("link");return e.urlInputView.bind("value").to(n,"value"),e.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),e.saveButtonView.bind("isEnabled").to(n),this.listenTo(e,"submit",()=>{t.execute("link",e.urlInputView.inputView.element.value),this._removeFormView()}),this.listenTo(e,"cancel",()=>{this._removeFormView()}),e.keystrokes.set("Esc",(t,e)=>{this._removeFormView(),e()}),e}_createToolbarLinkButton(){const t=this.editor,e=t.commands.get("link"),n=t.t;t.keystrokes.set(Dm,(t,n)=>{n(),e.isEnabled&&this._showUI()}),t.ui.componentFactory.add("link",t=>{const i=new Wd(t);return i.isEnabled=!0,i.label=n("ao"),i.icon=Rm.a,i.keystroke=Dm,i.tooltip=!0,i.bind("isOn","isEnabled").to(e,"value","isEnabled"),this.listenTo(i,"execute",()=>this._showUI()),i})}_enableUserBalloonInteractions(){const t=this.editor.editing.view.document;this.listenTo(t,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),this.editor.keystrokes.set("Tab",(t,e)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),e())},{priority:"high"}),this.editor.keystrokes.set("Esc",(t,e)=>{this._isUIVisible&&(this._hideUI(),e())}),Ch({emitter:this.formView,activator:()=>this._isUIVisible,contextElements:[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this._isFormInPanel)return;const t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this.formView.urlInputView.select(),this.formView.urlInputView.inputView.element.value=t.value||""}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}_showUI(){this.editor.commands.get("link").isEnabled&&(this._getSelectedLinkElement()?this._areActionsVisible?this._addFormView():this._addActionsView():(this._addActionsView(),this._addFormView()),this._startUpdatingUI())}_hideUI(){if(!this._isUIInPanel)return;const t=this.editor;this.stopListening(t.ui,"update"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}_startUpdatingUI(){const t=this.editor,e=t.editing.view.document;let n=this._getSelectedLinkElement(),i=o();function o(){return e.selection.focus.getAncestors().reverse().find(t=>t.is("element"))}this.listenTo(t.ui,"update",()=>{const t=this._getSelectedLinkElement(),e=o();n&&!t||!n&&e!==i?this._hideUI():this._balloon.updatePosition(this._getBalloonPositionData()),n=t,i=e})}get _isFormInPanel(){return this._balloon.hasView(this.formView)}get _areActionsInPanel(){return this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){return this._balloon.visibleView==this.formView||this._areActionsVisible}_getBalloonPositionData(){const t=this.editor.editing.view,e=t.document,n=this._getSelectedLinkElement();return{target:n?t.domConverter.mapViewToDom(n):t.domConverter.viewRangeToDom(e.selection.getFirstRange())}}_getSelectedLinkElement(){const t=this.editor.editing.view,e=t.document.selection;if(e.isCollapsed)return jm(e.getFirstPosition());{const n=e.getFirstRange().getTrimmed(),i=jm(n.start),o=jm(n.end);return i&&i==o&&t.createRangeIn(i).getTrimmed().isEqual(n)?i:null}}}function jm(t){return t.getAncestors().find(t=>(function(t){return t.is("attributeElement")&&!!t.getCustomProperty("link")})(t))}class Vm extends Xl{constructor(t,e){super(t),this.type="bulleted"==e?"bulleted":"numbered"}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document,n=Array.from(e.selection.getSelectedBlocks()).filter(e=>zm(e,t.schema)),i=!0===this.value;t.change(t=>{if(i){let e=n[n.length-1].nextSibling,i=Number.POSITIVE_INFINITY,o=[];for(;e&&"listItem"==e.name&&0!==e.getAttribute("listIndent");){const t=e.getAttribute("listIndent");t<i&&(i=t);const n=t-i;o.push({element:e,listIndent:n}),e=e.nextSibling}o=o.reverse();for(const e of o)t.setAttribute("listIndent",e.listIndent,e.element)}if(!i){let t=Number.POSITIVE_INFINITY;for(const e of n)e.is("listItem")&&e.getAttribute("listIndent")<t&&(t=e.getAttribute("listIndent"));Bm(n,!0,t=0===t?1:t),Bm(n,!1,t)}for(const e of n.reverse())i&&"listItem"==e.name?t.rename(e,"paragraph"):i||"listItem"==e.name?i||"listItem"!=e.name||e.getAttribute("listType")==this.type||t.setAttribute("listType",this.type,e):(t.setAttributes({listType:this.type,listIndent:0},e),t.rename(e,"listItem"))})}_getValue(){const t=Cu(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const t=this.editor.model.document.selection,e=this.editor.model.schema,n=Cu(t.getSelectedBlocks());return!!n&&zm(n,e)}}function Bm(t,e,n){const i=e?t[0]:t[t.length-1];if(i.is("listItem")){let o=i[e?"previousSibling":"nextSibling"],r=i.getAttribute("listIndent");for(;o&&o.is("listItem")&&o.getAttribute("listIndent")>=n;)r>o.getAttribute("listIndent")&&(r=o.getAttribute("listIndent")),o.getAttribute("listIndent")==r&&t[e?"unshift":"push"](o),o=o[e?"previousSibling":"nextSibling"]}}function zm(t,e){return e.checkChild(t.parent,"listItem")&&!e.isObject(t)}class Fm extends Xl{constructor(t,e){super(t),this._indentBy="forward"==e?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const t=this.editor.model,e=t.document;let n=Array.from(e.selection.getSelectedBlocks());t.change(t=>{const e=n[n.length-1];let i=e.nextSibling;for(;i&&"listItem"==i.name&&i.getAttribute("listIndent")>e.getAttribute("listIndent");)n.push(i),i=i.nextSibling;this._indentBy<0&&(n=n.reverse());for(const e of n){const n=e.getAttribute("listIndent")+this._indentBy;n<0?t.rename(e,"paragraph"):t.setAttribute("listIndent",n,e)}})}_checkEnabled(){const t=Cu(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){const e=t.getAttribute("listIndent"),n=t.getAttribute("listType");let i=t.previousSibling;for(;i&&i.is("listItem")&&i.getAttribute("listIndent")>=e;){if(i.getAttribute("listIndent")==e)return i.getAttribute("listType")==n;i=i.previousSibling}return!1}return!0}}function Um(){const t=!this.isEmpty&&("ul"==this.getChild(0).name||"ol"==this.getChild(0).name);return this.isEmpty||t?0:xi.call(this)}function Hm(t){return(e,n,i)=>{const o=i.consumable;if(!o.test(n.item,"insert")||!o.test(n.item,"attribute:listType")||!o.test(n.item,"attribute:listIndent"))return;o.consume(n.item,"insert"),o.consume(n.item,"attribute:listType"),o.consume(n.item,"attribute:listIndent");const r=n.item;ip(r,function(t,e){const n=e.mapper,i=e.writer,o="numbered"==t.getAttribute("listType")?"ol":"ul",r=function(t){const e=t.createContainerElement("li");return e.getFillerOffset=Um,e}(i),s=i.createContainerElement(o,null);return i.insert(i.createPositionAt(s,0),r),n.bindElements(t,r),r}(r,i),i,t)}}function qm(t){return(e,n,i)=>{const o=i.mapper.toViewPosition(n.position).getLastMatchingPosition(t=>!t.item.is("li")).nodeAfter,r=i.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=r.createRangeOn(s),l=r.remove(c);a&&a.nextSibling&&np(r,a,a.nextSibling),op(i.mapper.toModelElement(o).getAttribute("listIndent")+1,n.position,c.start,o,i,t);for(const t of r.createRangeIn(l).getItems())i.mapper.unbindViewElement(t);e.stop()}}function Wm(t,e,n){if(!n.consumable.consume(e.item,"attribute:listType"))return;const i=n.mapper.toViewElement(e.item),o=n.writer;o.breakContainer(o.createPositionBefore(i)),o.breakContainer(o.createPositionAfter(i));let r=i.parent;const s="numbered"==e.attributeNewValue?"ol":"ul";np(o,r=o.rename(s,r),r.nextSibling),np(o,r.previousSibling,r);for(const t of e.item.getChildren())n.consumable.consume(t,"insert")}function Ym(t){return(e,n,i)=>{if(!i.consumable.consume(n.item,"attribute:listIndent"))return;const o=i.mapper.toViewElement(n.item),r=i.writer;r.breakContainer(r.createPositionBefore(o)),r.breakContainer(r.createPositionAfter(o));const s=o.parent,a=s.previousSibling,c=r.createRangeOn(s);r.remove(c),a&&a.nextSibling&&np(r,a,a.nextSibling),op(n.attributeOldValue+1,n.range.start,c.start,o,i,t),ip(n.item,o,i,t);for(const t of n.item.getChildren())i.consumable.consume(t,"insert")}}function $m(t,e,n){if("listItem"!=e.item.name){let t=n.mapper.toViewPosition(e.range.start);const i=n.writer,o=[];for(;("ul"==t.parent.name||"ol"==t.parent.name)&&"li"==(t=i.breakContainer(t)).parent.name;){const e=t,n=i.createPositionAt(t.parent,"end");if(!e.isEqual(n)){const t=i.remove(i.createRange(e,n));o.push(t)}t=i.createPositionAfter(t.parent)}if(o.length>0){for(let e=0;e<o.length;e++){const n=t.nodeBefore;if(t=i.insert(t,o[e]).end,e>0){const e=np(i,n,n.nextSibling);e&&e.parent==n&&t.offset--}}np(i,t.nodeBefore,t.nodeAfter)}}}function Gm(t,e,n){const i=n.mapper.toViewPosition(e.position),o=i.nodeBefore,r=i.nodeAfter;np(n.writer,o,r)}function Qm(t,e,n){if(n.consumable.consume(e.viewItem,{name:!0})){const t=n.writer,i=this.conversionApi.store,o=t.createElement("listItem");i.indent=i.indent||0,t.setAttribute("listIndent",i.indent,o);const r=e.viewItem.parent&&"ol"==e.viewItem.parent.name?"numbered":"bulleted";t.setAttribute("listType",r,o),i.indent++;const s=n.splitToAllowedParent(o,e.modelCursor);if(!s)return;t.insert(o,s.position);const a=function(t,e,n){const{writer:i,schema:o}=n;let r=i.createPositionAfter(t);for(const s of e)if("ul"==s.name||"ol"==s.name)r=n.convertItem(s,r).modelCursor;else{const e=n.convertItem(s,i.createPositionAt(t,"end")),a=e.modelRange.start.nodeAfter,c=a&&a.is("element")&&!o.checkChild(t,a.name);c&&(t=e.modelCursor.parent.is("listItem")?e.modelCursor.parent:tp(e.modelCursor),r=i.createPositionAfter(t))}return r}(o,e.viewItem.getChildren(),n);i.indent--,e.modelRange=t.createRange(e.modelCursor,a),s.cursorParent?e.modelCursor=t.createPositionAt(s.cursorParent,0):e.modelCursor=e.modelRange.end}}function Jm(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){const t=Array.from(e.viewItem.getChildren());for(const e of t)e.is("li")||e._remove()}}function Km(t,e,n){if(n.consumable.test(e.viewItem,{name:!0})){if(0===e.viewItem.childCount)return;const t=[...e.viewItem.getChildren()];let n=!1,i=!0;for(const e of t)!n||e.is("ul")||e.is("ol")||e._remove(),e.is("text")?(i&&(e._data=e.data.replace(/^\s+/,"")),(!e.nextSibling||e.nextSibling.is("ul")||e.nextSibling.is("ol"))&&(e._data=e.data.replace(/\s+$/,""))):(e.is("ul")||e.is("ol"))&&(n=!0),i=!1}}function Zm(t){return(e,n)=>{if(n.isPhantom)return;const i=n.modelPosition.nodeBefore;if(i&&i.is("listItem")){const e=n.mapper.toViewElement(i),o=e.getAncestors().find(t=>t.is("ul")||t.is("ol")),r=t.createPositionAt(e,0).getWalker();for(const t of r){if("elementStart"==t.type&&t.item.is("li")){n.viewPosition=t.previousPosition;break}if("elementEnd"==t.type&&t.item==o){n.viewPosition=t.nextPosition;break}}}}}function Xm(t,[e,n]){let i,o=e.is("documentFragment")?e.getChild(0):e;if(i=n?this.createSelection(n):this.document.selection,o&&o.is("listItem")){const t=i.getFirstPosition();let e=null;if(t.parent.is("listItem")?e=t.parent:t.nodeBefore&&t.nodeBefore.is("listItem")&&(e=t.nodeBefore),e){const t=e.getAttribute("listIndent");if(t>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+t),o=o.nextSibling}}}function tp(t){const e=new qs({startPosition:t});let n;do{n=e.next()}while(!n.value.item.is("listItem"));return n.value.item}function ep(t,e){const n=!!e.sameIndent,i=!!e.smallerIndent,o=e.listIndent;let r=t;for(;r&&"listItem"==r.name;){const t=r.getAttribute("listIndent");if(n&&o==t||i&&o>t)return r;r=r.previousSibling}return null}function np(t,e,n){return e&&n&&("ul"==e.name||"ol"==e.name)&&e.name==n.name?t.mergeContainers(t.createPositionAfter(e)):null}function ip(t,e,n,i){const o=e.parent,r=n.mapper,s=n.writer;let a=r.toViewPosition(i.createPositionBefore(t));const c=ep(t.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:t.getAttribute("listIndent")}),l=t.previousSibling;if(c&&c.getAttribute("listIndent")==t.getAttribute("listIndent")){const t=r.toViewElement(c);a=s.breakContainer(s.createPositionAfter(t))}else a=l&&"listItem"==l.name?r.toViewPosition(i.createPositionAt(l,"end")):r.toViewPosition(i.createPositionBefore(t));if(a=rp(a),s.insert(a,o),l&&"listItem"==l.name){const t=r.toViewElement(l),n=s.createRange(s.createPositionAt(t,0),a).getWalker({ignoreElementEnd:!0});for(const t of n)if(t.item.is("li")){const i=s.breakContainer(s.createPositionBefore(t.item)),o=t.item.parent,r=s.createPositionAt(e,"end");np(s,r.nodeBefore,r.nodeAfter),s.move(s.createRangeOn(o),r),n.position=i}}else{const n=o.nextSibling;if(n&&(n.is("ul")||n.is("ol"))){let i=null;for(const e of n.getChildren()){const n=r.toModelElement(e);if(!(n&&n.getAttribute("listIndent")>t.getAttribute("listIndent")))break;i=e}i&&(s.breakContainer(s.createPositionAfter(i)),s.move(s.createRangeOn(i.parent),s.createPositionAt(e,"end")))}}np(s,o,o.nextSibling),np(s,o.previousSibling,o)}function op(t,e,n,i,o,r){const s=ep(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:t,foo:"b"}),a=o.mapper,c=o.writer,l=s?s.getAttribute("listIndent"):null;let d;if(s)if(l==t){const t=a.toViewElement(s).parent;d=c.createPositionAfter(t)}else{const t=r.createPositionAt(s,"end");d=a.toViewPosition(t)}else d=n;d=rp(d);for(const t of[...i.getChildren()])(t.is("ul")||t.is("ol"))&&(d=c.move(c.createRangeOn(t),d).end,np(c,t,t.nextSibling),np(c,t.previousSibling,t))}function rp(t){return t.getLastMatchingPosition(t=>t.item.is("uiElement"))}class sp extends Gl{static get requires(){return[_f]}init(){const t=this.editor;t.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const e=t.data,n=t.editing;t.model.document.registerPostFixer(e=>(function(t,e){const n=t.document.differ.getChanges(),i=new Map;let o=!1;for(const t of n)if("insert"==t.type&&"listItem"==t.name)r(t.position);else if("insert"==t.type&&"listItem"!=t.name){if("$text"!=t.name){const n=t.position.nodeAfter;n.hasAttribute("listIndent")&&(e.removeAttribute("listIndent",n),o=!0),n.hasAttribute("listType")&&(e.removeAttribute("listType",n),o=!0)}r(t.position.getShiftedBy(t.length))}else"remove"==t.type&&"listItem"==t.name?r(t.position):"attribute"==t.type&&"listIndent"==t.attributeKey?r(t.range.start):"attribute"==t.type&&"listType"==t.attributeKey&&r(t.range.start);for(const t of i.values())s(t),a(t);return o;function r(t){const e=t.nodeBefore;if(e&&e.is("listItem")){let n=e;if(i.has(n))return;for(;n.previousSibling&&n.previousSibling.is("listItem");)if(n=n.previousSibling,i.has(n))return;i.set(t.nodeBefore,n)}else{const e=t.nodeAfter;e&&e.is("listItem")&&i.set(e,e)}}function s(t){let n=0,i=null;for(;t&&t.is("listItem");){const r=t.getAttribute("listIndent");if(r>n){let s;null===i?(i=r-n,s=n):(i>r&&(i=r),s=r-i),e.setAttribute("listIndent",s,t),o=!0}else i=null,n=t.getAttribute("listIndent")+1;t=t.nextSibling}}function a(t){let n=[],i=null;for(;t&&t.is("listItem");){const r=t.getAttribute("listIndent");if(i&&i.getAttribute("listIndent")>r&&(n=n.slice(0,r+1)),0!=r)if(n[r]){const i=n[r];t.getAttribute("listType")!=i&&(e.setAttribute("listType",i,t),o=!0)}else n[r]=t.getAttribute("listType");i=t,t=t.nextSibling}}})(t.model,e)),n.mapper.registerViewToModelLength("li",ap),e.mapper.registerViewToModelLength("li",ap),n.mapper.on("modelToViewPosition",Zm(n.view)),n.mapper.on("viewToModelPosition",function(t){return(e,n)=>{const i=n.viewPosition,o=i.parent,r=n.mapper;if("ul"==o.name||"ol"==o.name){if(i.isAtEnd){const e=r.toModelElement(i.nodeBefore),o=r.getModelLength(i.nodeBefore);n.modelPosition=t.createPositionBefore(e).getShiftedBy(o)}else{const e=r.toModelElement(i.nodeAfter);n.modelPosition=t.createPositionBefore(e)}e.stop()}else if("li"==o.name&&i.nodeBefore&&("ul"==i.nodeBefore.name||"ol"==i.nodeBefore.name)){const s=r.toModelElement(o);let a=1,c=i.nodeBefore;for(;c&&(c.is("ul")||c.is("ol"));)a+=r.getModelLength(c),c=c.previousSibling;n.modelPosition=t.createPositionBefore(s).getShiftedBy(a),e.stop()}}}(t.model)),e.mapper.on("modelToViewPosition",Zm(n.view)),n.downcastDispatcher.on("insert",$m,{priority:"high"}),n.downcastDispatcher.on("insert:listItem",Hm(t.model)),e.downcastDispatcher.on("insert",$m,{priority:"high"}),e.downcastDispatcher.on("insert:listItem",Hm(t.model)),n.downcastDispatcher.on("attribute:listType:listItem",Wm),e.downcastDispatcher.on("attribute:listType:listItem",Wm),n.downcastDispatcher.on("attribute:listIndent:listItem",Ym(t.model)),e.downcastDispatcher.on("attribute:listIndent:listItem",Ym(t.model)),n.downcastDispatcher.on("remove:listItem",qm(t.model)),n.downcastDispatcher.on("remove",Gm,{priority:"low"}),e.downcastDispatcher.on("remove:listItem",qm(t.model)),e.downcastDispatcher.on("remove",Gm,{priority:"low"}),e.upcastDispatcher.on("element:ul",Jm,{priority:"high"}),e.upcastDispatcher.on("element:ol",Jm,{priority:"high"}),e.upcastDispatcher.on("element:li",Km,{priority:"high"}),e.upcastDispatcher.on("element:li",Qm),t.model.on("insertContent",Xm,{priority:"high"}),t.commands.add("numberedList",new Vm(t,"numbered")),t.commands.add("bulletedList",new Vm(t,"bulleted")),t.commands.add("indentList",new Fm(t,"forward")),t.commands.add("outdentList",new Fm(t,"backward"));const i=this.editor.editing.view.document;this.listenTo(i,"enter",(t,e)=>{const n=this.editor.model.document,i=n.selection.getLastPosition().parent;n.selection.isCollapsed&&"listItem"==i.name&&i.isEmpty&&(this.editor.execute("outdentList"),e.preventDefault(),t.stop())}),this.listenTo(i,"delete",(t,e)=>{if("backward"!==e.direction)return;const n=this.editor.model.document.selection;if(!n.isCollapsed)return;const i=n.getFirstPosition();if(!i.isAtStart)return;const o=i.parent;"listItem"===o.name&&(o.previousSibling&&"listItem"===o.previousSibling.name||(this.editor.execute("outdentList"),e.preventDefault(),t.stop()))},{priority:"high"});const o=t=>(e,n)=>{this.editor.commands.get(t).isEnabled&&(this.editor.execute(t),n())};this.editor.keystrokes.set("Tab",o("indentList")),this.editor.keystrokes.set("Shift+Tab",o("outdentList"))}}function ap(t){let e=1;for(const n of t.getChildren())if("ul"==n.name||"ol"==n.name)for(const t of n.getChildren())e+=ap(t);return e}var cp=n(35),lp=n.n(cp),dp=n(36),up=n.n(dp);class hp extends Gl{init(){const t=this.editor.t;this._addButton("numberedList",t("o"),lp.a),this._addButton("bulletedList",t("p"),up.a)}_addButton(t,e,n){const i=this.editor;i.ui.componentFactory.add(t,o=>{const r=i.commands.get(t),s=new Wd(o);return s.set({label:e,icon:n,tooltip:!0}),s.bind("isOn","isEnabled").to(r,"value","isEnabled"),this.listenTo(s,"execute",()=>i.execute(t)),s})}}function fp(t,e){return t=>{t.on("attribute:url:media",n)};function n(n,i,o){if(!o.consumable.consume(i.item,n.name))return;const r=i.attributeNewValue,s=o.writer,a=o.mapper.toViewElement(i.item);s.remove(s.createRangeIn(a));const c=t.getMediaViewElement(s,r,e);s.insert(s.createPositionAt(a,0),c)}}function mp(t,e,n,i){const o=t.createContainerElement("figure",{class:"media"});return o.getFillerOffset=bp,t.insert(t.createPositionAt(o,0),e.getMediaViewElement(t,n,i)),o}function pp(t){const e=t.getSelectedElement();return e&&e.is("media")?e:null}function gp(t,e,n){t.change(i=>{const o=i.createElement("media",{url:e});t.insertContent(o,n),i.setSelection(o,"on")})}function bp(){return null}class wp extends Xl{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=e.getFirstPosition(),o=pp(e);let r=i.parent;r!=r.root&&(r=r.parent),this.value=o?o.getAttribute("url"):null,this.isEnabled=n.checkChild(r,"media")}execute(t){const e=this.editor.model,n=e.document.selection,i=pp(n);if(i)e.change(e=>{e.setAttribute("url",t,i)});else{const i=dh(n,e);gp(e,t,i)}}}var _p=n(37),kp=n.n(_p);const vp="0 0 64 42";class yp{constructor(t,e){const n=e.providers,i=e.extraProviders||[],o=new Set(e.removeProviders),r=n.concat(i).filter(t=>{const e=t.name;return e?!o.has(e):(bs.a.warn("media-embed-no-provider-name: The configured media provider has no name and cannot be used.",{provider:t}),!1)});this.locale=t,this.providerDefinitions=r}hasMedia(t){return!!this._getMedia(t)}getMediaViewElement(t,e,n){return this._getMedia(e).getViewElement(t,n)}_getMedia(t){if(!t)return new xp(this.locale);t=t.trim();for(const e of this.providerDefinitions){const n=e.html;let i=e.url;Array.isArray(i)||(i=[i]);for(const e of i){const i=this._getUrlMatches(t,e);if(i)return new xp(this.locale,t,i,n)}}return null}_getUrlMatches(t,e){let n=t.match(e);if(n)return n;let i=t.replace(/^https?:\/\//,"");return(n=i.match(e))?n:(n=(i=i.replace(/^www\./,"")).match(e))||null}}class xp{constructor(t,e,n,i){this.url=this._getValidUrl(e),this._t=t.t,this._match=n,this._previewRenderer=i}getViewElement(t,e){const n={};if(e.renderForEditingView||e.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(n["data-oembed-url"]=this.url),e.renderForEditingView&&(n.class="ck-media__wrapper");const i=this._getPreviewHtml(e);return t.createUIElement("div",n,function(t){const e=this.toDomElement(t);return e.innerHTML=i,e})}return this.url&&(n.url=this.url),t.createEmptyElement("oembed",n)}_getPreviewHtml(t){return this._previewRenderer?this._previewRenderer(this._match):this.url&&t.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const t=new qd,e=new Hd;return t.text=this._t("Open media in new tab"),e.content=kp.a,e.viewBox=vp,new pl({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"new",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},t]}]}).render().outerHTML}_getValidUrl(t){return t?t.match(/^https?/)?t:"https://"+t:null}}n(105);class Ap extends Gl{static get pluginName(){return"MediaEmbedEditing"}constructor(t){super(t),t.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; ">'+`<iframe src="https://www.dailymotion.com/embed/video/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>'}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;">'+`<iframe src="https://open.spotify.com/embed/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>'}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://www.youtube.com/embed/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>'}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:t=>{return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;">'+`<iframe src="https://player.vimeo.com/video/${t[1]}" `+'style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>'}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new yp(t.locale,t.config.get("mediaEmbed"))}init(){const t=this.editor,e=t.model.schema,n=t.t,i=t.conversion,o=t.config.get("mediaEmbed.previewsInData"),r=this.registry;t.commands.add("mediaEmbed",new wp(t)),e.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),i.for("dataDowncast").elementToElement({model:"media",view:(t,e)=>{const n=t.getAttribute("url");return mp(e,r,n,{renderMediaPreview:n&&o})}}),i.for("dataDowncast").add(fp(r,{renderMediaPreview:o})),i.for("editingDowncast").elementToElement({model:"media",view:(t,e)=>{const i=t.getAttribute("url");return function(t,e,n){return e.setCustomProperty("media",!0,t),ah(t,e,{label:n})}(mp(e,r,i,{renderForEditingView:!0}),e,n("ak"))}}),i.for("editingDowncast").add(fp(r,{renderForEditingView:!0})),i.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:(t,e)=>{const n=t.getAttribute("url");if(r.hasMedia(n))return e.createElement("media",{url:n})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(t,e)=>{const n=t.getAttribute("data-oembed-url");if(r.hasMedia(n))return e.createElement("media",{url:n})}})}}const Cp=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/;class Tp extends Gl{static get requires(){return[Zl,Kd]}static get pluginName(){return"AutoMediaEmbed"}constructor(t){super(t),this._timeoutId=null,this._positionToInsert=null}init(){const t=this.editor,e=t.model.document;this.listenTo(t.plugins.get(Zl),"inputTransformation",()=>{const t=e.selection.getFirstRange(),n=Oc.fromPosition(t.start);n.stickiness="toPrevious";const i=Oc.fromPosition(t.end);i.stickiness="toNext",e.once("change:data",()=>{this._embedMediaBetweenPositions(n,i),n.detach(),i.detach()},{priority:"high"})}),t.commands.get("undo").on("execute",()=>{this._timeoutId&&(nr.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(t,e){const n=this.editor,i=n.plugins.get(Ap).registry,o=new oa(t,e),r=o.getWalker({ignoreElementEnd:!0});let s="";for(const t of r)t.item.is("textProxy")&&(s+=t.item.data);if(!(s=s.trim()).match(Cp))return;if(!i.hasMedia(s))return;n.commands.get("mediaEmbed").isEnabled&&(this._positionToInsert=Oc.fromPosition(t),this._timeoutId=nr.window.setTimeout(()=>{n.model.change(t=>{let e;this._timeoutId=null,t.remove(o),"$graveyard"!==this._positionToInsert.root.rootName&&(e=this._positionToInsert),gp(n.model,s,e),this._positionToInsert.detach(),this._positionToInsert=null})},100))}}n(107);class Pp extends Ol{constructor(t,e){super(e);const n=e.t;this.focusTracker=new ol,this.keystrokes=new Qc,this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(n("ay"),Sh.a,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(n("az"),Nh.a,"ck-button-cancel","cancel"),this._focusables=new fl,this._focusCycler=new Ul({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=t,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),Mh({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(t=>{this._focusables.add(t),this.focusTracker.add(t.element)}),this.keystrokes.listenTo(this.element);const t=t=>t.stopPropagation();this.keystrokes.set("arrowright",t),this.keystrokes.set("arrowleft",t),this.keystrokes.set("arrowup",t),this.keystrokes.set("arrowdown",t),this.listenTo(this.urlInputView.element,"selectstart",(t,e)=>{e.stopPropagation()},{priority:"high"})}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.inputView.element.value.trim()}set url(t){this.urlInputView.inputView.element.value=t.trim()}isValid(){this.resetFormStatus();for(const t of this._validators){const e=t(this);if(e)return this.urlInputView.errorText=e,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const t=this.locale.t,e=new Th(this.locale,Ph),n=e.inputView;return this._urlInputViewInfoDefault=t("bb"),this._urlInputViewInfoTip=t("bc"),e.label=t("bd"),e.infoText=this._urlInputViewInfoDefault,n.placeholder="https://example.com",n.on("input",()=>{e.infoText=n.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault}),e}_createButton(t,e,n,i){const o=new Wd(this.locale);return o.set({label:t,icon:e,tooltip:!0}),o.extendTemplate({attributes:{class:n}}),i&&o.delegate("execute").to(this,i),o}}var Mp=n(38),Ep=n.n(Mp);class Sp extends Gl{static get requires(){return[Ap]}static get pluginName(){return"MediaEmbedUI"}init(){const t=this.editor,e=t.commands.get("mediaEmbed"),n=t.plugins.get(Ap).registry;this.form=new Pp(function(t,e){return[e=>{if(!e.url.length)return t("am")},n=>{if(!e.hasMedia(n.url))return t("an")}]}(t.t,n),t.locale),t.ui.componentFactory.add("mediaEmbed",n=>{const i=Lf(n);return this._setUpDropdown(i,this.form,e,t),this._setUpForm(this.form,i,e),i})}_setUpDropdown(t,e,n){const i=this.editor,o=i.t,r=t.buttonView;function s(){i.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(n),t.panelView.children.add(e),r.set({label:o("al"),icon:Ep.a,tooltip:!0}),r.on("open",()=>{e.url=n.value||"",e.urlInputView.select(),e.focus()},{priority:"low"}),t.on("submit",()=>{e.isValid()&&(i.execute("mediaEmbed",e.url),s())}),t.on("change:isOpen",()=>e.resetFormStatus()),t.on("cancel",()=>s())}_setUpForm(t,e,n){t.delegate("submit","cancel").to(e),t.urlInputView.bind("value").to(n,"value"),t.urlInputView.bind("isReadOnly").to(n,"isEnabled",t=>!t),t.saveButtonView.bind("isEnabled").to(n)}}n(109);function Ip(t){return t.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(t,e)=>1===e.length?" ":Array(e.length+1).join("  ").substr(0,e.length))}function Np(t){const e=new DOMParser,n=function(t){return Ip(Ip(t)).replace(/(<span style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g," </").replace(/ <o:p><\/o:p>/g," <o:p></o:p>").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(t){const e=t.match(/<\/body>(.*?)(<\/html>|$)/);e&&e[1]&&(t=t.slice(0,e.index)+t.slice(e.index).replace(e[1],""));return t}(t=t.replace(/<!--\[if gte vml 1]>/g,""))),i=e.parseFromString(n,"text/html");!function(t){t.querySelectorAll("span[style*=spacerun]").forEach(t=>{const e=t.childNodes[0].data.length;t.innerHTML=Array(e+1).join("  ").substr(0,e)})}(i);const o=i.body.innerHTML,r=function(t){const e=new rr({blockFiller:jo}),n=t.createDocumentFragment(),i=t.body.childNodes;for(;i.length>0;)n.appendChild(i[0]);return e.domToView(n)}(i),s=function(t){const e=[],n=[],i=Array.from(t.getElementsByTagName("style"));for(const t of i)t.sheet&&t.sheet.cssRules&&t.sheet.cssRules.length&&(e.push(t.sheet),n.push(t.innerHTML));return{styles:e,stylesString:n.join(" ")}}(i);return{body:r,bodyString:o,styles:s.styles,stylesString:s.stylesString}}function Op(t,e){if(!t.childCount)return;const n=new hf,i=function(t,e){const n=e.createRangeIn(t),i=new bi({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),o=[];for(const t of n)if("elementStart"===t.type&&i.match(t.item)){const e=Rp(t.item);o.push({element:t.item,id:e.id,order:e.order,indent:e.indent})}return o}(t,n);if(!i.length)return;let o=null;i.forEach((t,r)=>{if(!o||function(t,e){if(t.id!==e.id)return!0;const n=e.element.previousSibling;if(!n)return!0;return!n.is("ul")&&!n.is("ol")}(i[r-1],t)){const i=function(t,e){const n=/mso-level-number-format:([^;]*);/gi,i=new RegExp(`@list l${t.id}:level${t.indent}\\s*({[^}]*)`,"gi").exec(e);let o="decimal";if(i&&i[1]){const t=n.exec(i[1]);t&&t[1]&&(o=t[1].trim())}return{type:"bullet"!==o&&"image"!==o?"ol":"ul",style:o}}(t,e);o=function(t,e,n){const i=new _i(t.type),o=e.parent.getChildIndex(e);return n.insertChild(o,i,e.parent),i}(i,t.element,n)}const s=function(t,e){return function(t,e){const n=new bi({name:"span",styles:{"mso-list":"Ignore"}}),i=e.createRangeIn(t);for(const t of i)"elementStart"===t.type&&n.match(t.item)&&e.remove(t.item)}(t,e),e.rename("li",t)}(t.element,n);n.appendChild(s,o)})}function Rp(t){const e={},n=t.getStyle("mso-list");return n&&(e.id=parseInt(n.match(/(^|\s+)l(\d+)/i)[2]),e.order=parseInt(n.match(/\s*lfo(\d+)/i)[1]),e.indent=parseInt(n.match(/\s*level(\d+)/i)[1])),e}function Dp(t,e){if(!t.childCount)return;const n=new hf;!function(t,e,n){const i=n.createRangeIn(e),o=new bi({name:"img"}),r=[];for(const e of i)if(o.match(e.item)){const n=e.item,i=n.getAttribute("v:shapes")?n.getAttribute("v:shapes").split(" "):[];i.length&&i.every(e=>t.indexOf(e)>-1)?r.push(n):n.getAttribute("src")||r.push(n)}for(const t of r)n.remove(t)}(function(t,e){const n=e.createRangeIn(t),i=new bi({name:/v:(.+)/}),o=[];for(const t of n){const e=t.item,n=e.previousSibling&&e.previousSibling.name||null;i.match(e)&&e.getAttribute("o:gfxdata")&&"v:shapetype"!==n&&o.push(t.item.getAttribute("id"))}return o}(t,n),t,n),function(t,e){const n=e.createRangeIn(t),i=new bi({name:/v:(.+)/}),o=[];for(const t of n)i.match(t.item)&&o.push(t.item);for(const t of o)e.remove(t)}(t,n);const i=function(t,e){const n=e.createRangeIn(t),i=new bi({name:"img"}),o=[];for(const t of n)i.match(t.item)&&t.item.getAttribute("src").startsWith("file://")&&o.push(t.item);return o}(t,n);i.length&&function(t,e,n){if(t.length===e.length)for(let i=0;i<t.length;i++){const o=`data:${e[i].type};base64,${Lp(e[i].hex)}`;n.setAttribute("src",o,t[i])}}(i,function(t){if(!t)return[];const e=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,n=new RegExp("(?:("+e.source+"))([\\da-fA-F\\s]+)\\}","g"),i=t.match(n),o=[];if(i)for(const t of i){let n=!1;t.includes("\\pngblip")?n="image/png":t.includes("\\jpegblip")&&(n="image/jpeg"),n&&o.push({hex:t.replace(e,"").replace(/[^\da-fA-F]/g,""),type:n})}return o}(e),n)}function Lp(t){return btoa(t.match(/\w{2}/g).map(t=>String.fromCharCode(parseInt(t,16))).join(""))}function jp(t,e){let n=e.parent;for(;n;){if(n.name===t)return n;n=n.parent}}function Vp(t,e,n,i,o=1){e>o?i.setAttribute(t,e,n):i.removeAttribute(t,n)}function Bp(t,e,n={}){const i=t.createElement("tableCell",n);t.insertElement("paragraph",i),t.insert(i,e)}function zp(){return t=>{t.on("element:table",(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const{rows:o,headingRows:r,headingColumns:s}=function(t){const e={headingRows:0,headingColumns:0},n=[],i=[];let o;for(const r of Array.from(t.getChildren()))if("tbody"===r.name||"thead"===r.name||"tfoot"===r.name){"thead"!==r.name||o||(o=r);const t=Array.from(r.getChildren()).filter(t=>t.is("element","tr"));for(const r of t)if("thead"===r.parent.name&&r.parent===o)e.headingRows++,n.push(r);else{i.push(r);const t=Up(r);t>e.headingColumns&&(e.headingColumns=t)}}return e.rows=[...n,...i],e}(i),a={};s&&(a.headingColumns=s),r&&(a.headingRows=r);const c=n.writer.createElement("table",a),l=n.splitToAllowedParent(c,e.modelCursor);if(l){if(n.writer.insert(c,l.position),n.consumable.consume(i,{name:!0}),o.length)o.forEach(t=>n.convertItem(t,n.writer.createPositionAt(c,"end")));else{const t=n.writer.createElement("tableRow");n.writer.insert(t,n.writer.createPositionAt(c,"end")),Bp(n.writer,n.writer.createPositionAt(t,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(c),n.writer.createPositionAfter(c)),l.cursorParent?e.modelCursor=n.writer.createPositionAt(l.cursorParent,0):e.modelCursor=e.modelRange.end}})}}function Fp(t){return e=>{e.on(`element:${t}`,(t,e,n)=>{const i=e.viewItem;if(!n.consumable.test(i,{name:!0}))return;const o=n.writer.createElement("tableCell"),r=n.splitToAllowedParent(o,e.modelCursor);if(!r)return;n.writer.insert(o,r.position),n.consumable.consume(i,{name:!0});const s=n.writer.createPositionAt(o,0);n.convertChildren(i,s),o.childCount||n.writer.insertElement("paragraph",s),e.modelRange=n.writer.createRange(n.writer.createPositionBefore(o),n.writer.createPositionAfter(o)),e.modelCursor=e.modelRange.end})}}function Up(t){let e=0,n=0;const i=Array.from(t.getChildren()).filter(t=>"th"===t.name||"td"===t.name);for(;n<i.length&&"th"===i[n].name;){const t=i[n];e+=parseInt(t.getAttribute("colspan")||1),n++}return e}class Hp{constructor(t,e={}){this.table=t,this.startRow=e.startRow||0,this.endRow="number"==typeof e.endRow?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column="number"==typeof e.column?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cell=0,this._spannedCells=new Map}[Symbol.iterator](){return this}next(){const t=this.table.getChild(this._row);if(!t||this._isOverEndRow())return{done:!0};if(this._isSpanned(this._row,this._column)){const t=this._column,e=this._formatOutValue(void 0,t);return this._column++,!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(t,1)?this.next():e}const e=t.getChild(this._cell);if(!e)return this._row++,this._column=0,this._cell=0,this.next();const n=parseInt(e.getAttribute("colspan")||1),i=parseInt(e.getAttribute("rowspan")||1);(n>1||i>1)&&this._recordSpans(this._row,this._column,i,n);const o=this._column,r=this._formatOutValue(e,o,i,n);return this._column++,this._cell++,this._shouldSkipRow()||this._shouldSkipColumn(o,n)?this.next():r}skipRow(t){this._skipRows.add(t)}_isOverEndRow(){return void 0!==this.endRow&&this._row>this.endRow}_formatOutValue(t,e,n=1,i=1){return{done:!1,value:{cell:t,row:this._row,column:e,rowspan:n,colspan:i,cellIndex:this._cell}}}_shouldSkipRow(){const t=this._row<this.startRow,e=this._skipRows.has(this._row);return t||e}_shouldSkipColumn(t,e){if(void 0===this.column)return!1;const n=t===this.column,i=t<this.column&&t+e>this.column;return!n&&!i}_isSpanned(t,e){if(!this._spannedCells.has(t))return!1;return this._spannedCells.get(t).has(e)}_recordSpans(t,e,n,i){for(let n=e+1;n<=e+i-1;n++)this._markSpannedCell(t,n);for(let o=t+1;o<t+n;o++)for(let t=e;t<=e+i-1;t++)this._markSpannedCell(o,t)}_markSpannedCell(t,e){this._spannedCells.has(t)||this._spannedCells.set(t,new Map),this._spannedCells.get(t).set(e,!0)}}function qp(t){return!!t.getCustomProperty("table")&&sh(t)}function Wp(t){const e=t.getSelectedElement();return e&&qp(e)?e:null}function Yp(t){const e=jp("table",t.getFirstPosition());return e&&qp(e.parent)?e.parent:null}function $p(t={}){return e=>e.on("insert:table",(e,n,i)=>{const o=n.item;if(!i.consumable.consume(o,"insert"))return;i.consumable.consume(o,"attribute:headingRows:table"),i.consumable.consume(o,"attribute:headingColumns:table");const r=t&&t.asWidget,s=i.writer.createContainerElement("figure",{class:"table"}),a=i.writer.createContainerElement("table");let c;i.writer.insert(i.writer.createPositionAt(s,0),a),r&&(c=function(t,e){return e.setCustomProperty("table",!0,t),ah(t,e,{hasSelectionHandler:!0})}(s,i.writer));const l=new Hp(o),d={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},u=new Map;for(const e of l){const{row:n,cell:r}=e,s=og(ig(n,d),a,i),c=o.getChild(n),l=u.get(n)||eg(c,n,s,i);u.set(n,l),i.consumable.consume(r,"insert"),tg(e,d,i.writer.createPositionAt(l,"end"),i,t)}const h=i.mapper.toViewPosition(n.range.start);i.mapper.bindElements(o,r?c:s),i.writer.insert(h,r?c:s)})}function Gp(t={}){return e=>e.on("insert:tableRow",(e,n,i)=>{const o=n.item;if(!i.consumable.consume(o,"insert"))return;const r=o.parent,s=cg(i.mapper.toViewElement(r)),a=r.getChildIndex(o),c=new Hp(r,{startRow:a,endRow:a}),l={headingRows:r.getAttribute("headingRows")||0,headingColumns:r.getAttribute("headingColumns")||0},d=new Map;for(const e of c){const n=og(ig(a,l),s,i),r=d.get(a)||eg(o,a,n,i);d.set(a,r),i.consumable.consume(e.cell,"insert"),tg(e,l,i.writer.createPositionAt(r,"end"),i,t)}})}function Qp(t={}){return e=>e.on("insert:tableCell",(e,n,i)=>{const o=n.item;if(!i.consumable.consume(o,"insert"))return;const r=o.parent,s=r.parent,a=s.getChildIndex(r),c=new Hp(s,{startRow:a,endRow:a}),l={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0};for(const e of c)if(e.cell===o){const n=i.mapper.toViewElement(r);return void tg(e,l,i.writer.createPositionAt(n,r.getChildIndex(o)),i,t)}})}function Jp(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingRows:table",(t,n,i)=>{const o=n.item;if(!i.consumable.consume(n.item,t.name))return;const r=cg(i.mapper.toViewElement(o)),s=n.attributeOldValue,a=n.attributeNewValue;if(a>s){const t=Array.from(o.getChildren()).filter(({index:t})=>c(t,s-1,a));ag(t,og("thead",r,i),i,"end");for(const n of t)for(const t of n.getChildren())Zp(t,"th",i,e);sg("tbody",r,i)}else{ag(Array.from(o.getChildren()).filter(({index:t})=>c(t,a-1,s)).reverse(),og("tbody",r,i),i,0);const t=new Hp(o,{startRow:a?a-1:a,endRow:s-1}),n={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0};for(const o of t)Xp(o,n,i,e);sg("thead",r,i)}function c(t,e,n){return t>e&&t<n}})}function Kp(t={}){const e=!!t.asWidget;return t=>t.on("attribute:headingColumns:table",(t,n,i)=>{const o=n.item;if(!i.consumable.consume(n.item,t.name))return;const r={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},s=n.attributeOldValue,a=n.attributeNewValue,c=(s>a?s:a)-1;for(const t of new Hp(o))t.column>c||Xp(t,r,i,e)})}function Zp(t,e,n,i){const o=n.writer,r=n.mapper.toViewElement(t);if(!r)return;let s;if(i){s=lh(o.createEditableElement(e,r.getAttributes()),o),o.insert(o.createPositionAfter(r),s),o.move(o.createRangeIn(r),o.createPositionAt(s,0)),o.remove(o.createRangeOn(r))}else s=o.rename(e,r);n.mapper.bindElements(t,s)}function Xp(t,e,n,i){const{cell:o}=t,r=ng(t,e),s=n.mapper.toViewElement(o);s&&s.name!==r&&Zp(o,r,n,i)}function tg(t,e,n,i,o){const r=o&&o.asWidget,s=ng(t,e),a=r?lh(i.writer.createEditableElement(s),i.writer):i.writer.createContainerElement(s),c=t.cell,l=c.getChild(0),d=1===c.childCount&&"paragraph"===l.name;if(i.writer.insert(n,a),d&&!function(t){return!![...t.getAttributeKeys()].length}(l)){const t=c.getChild(0),e=i.writer.createPositionAt(a,"end");if(i.consumable.consume(t,"insert"),o.asWidget){const n=i.writer.createContainerElement("span");i.mapper.bindElements(t,n),i.writer.insert(e,n),i.mapper.bindElements(c,a)}else i.mapper.bindElements(c,a),i.mapper.bindElements(t,a)}else i.mapper.bindElements(c,a)}function eg(t,e,n,i){i.consumable.consume(t,"insert");const o=i.writer.createContainerElement("tr");i.mapper.bindElements(t,o);const r=t.parent.getAttribute("headingRows")||0,s=r>0&&e>=r?e-r:e,a=i.writer.createPositionAt(n,s);return i.writer.insert(a,o),o}function ng(t,e){const{row:n,column:i}=t,{headingColumns:o,headingRows:r}=e;return r&&r>n?"th":o&&o>i?"th":"td"}function ig(t,e){return t<e.headingRows?"thead":"tbody"}function og(t,e,n){const i=rg(t,e);return i||function(t,e,n){const i=n.writer.createContainerElement(t),o=n.writer.createPositionAt(e,"tbody"==t?"end":0);return n.writer.insert(o,i),i}(t,e,n)}function rg(t,e){for(const n of e.getChildren())if(n.name==t)return n}function sg(t,e,n){const i=rg(t,e);i&&0===i.childCount&&n.writer.remove(n.writer.createRangeOn(i))}function ag(t,e,n,i){for(const o of t){const t=n.mapper.toViewElement(o);t&&n.writer.move(n.writer.createRangeOn(t),n.writer.createPositionAt(e,i))}}function cg(t){for(const e of t.getChildren())if("table"===e.name)return e}class lg extends Xl{refresh(){const t=this.editor.model,e=t.document.selection,n=t.schema,i=function(t){const e=t.parent;return e===e.root?e:e.parent}(e.getFirstPosition());this.isEnabled=n.checkChild(i,"table")}execute(t={}){const e=this.editor.model,n=e.document.selection,i=this.editor.plugins.get("TableUtils"),o=parseInt(t.rows)||2,r=parseInt(t.columns)||2,s=dh(n,e);e.change(t=>{const n=i.createTable(t,o,r);e.insertContent(n,s),t.setSelection(t.createPositionAt(n.getNodeByPath([0,0,0]),0))})}}class dg extends Xl{constructor(t,e={}){super(t),this.order=e.order||"below"}refresh(){const t=jp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=jp("tableCell",e.getFirstPosition()).parent,o=i.parent,r=o.getChildIndex(i),s="below"===this.order?r+1:r;n.insertRows(o,{rows:1,at:s})}}class ug extends Xl{constructor(t,e={}){super(t),this.order=e.order||"right"}refresh(){const t=jp("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=jp("tableCell",e.getFirstPosition()),o=i.parent.parent,{column:r}=n.getCellLocation(i),s="right"===this.order?r+1:r;n.insertColumns(o,{columns:1,at:s})}}class hg extends Xl{constructor(t,e={}){super(t),this.direction=e.direction||"horizontally"}refresh(){const t=jp("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}execute(){const t=jp("tableCell",this.editor.model.document.selection.getFirstPosition()),e="horizontally"===this.direction,n=this.editor.plugins.get("TableUtils");e?n.splitCellHorizontally(t,2):n.splitCellVertically(t,2)}}class fg extends Xl{constructor(t,e){super(t),this.direction=e.direction,this.isHorizontal="right"==this.direction||"left"==this.direction}refresh(){const t=this._getMergeableCell();this.isEnabled=!!t,this.value=t}execute(){const t=this.editor.model,e=jp("tableCell",t.document.selection.getFirstPosition()),n=this.value,i=this.direction;t.change(t=>{const o="right"==i||"down"==i,r=o?e:n,s=o?n:e,a=s.parent;!function(t,e,n){mg(t)||(mg(e)&&n.remove(n.createRangeIn(e)),n.move(n.createRangeIn(t),n.createPositionAt(e,"end")));n.remove(t)}(s,r,t);const c=this.isHorizontal?"colspan":"rowspan",l=parseInt(e.getAttribute(c)||1),d=parseInt(n.getAttribute(c)||1);t.setAttribute(c,l+d,r),t.setSelection(t.createRangeIn(r)),a.childCount||function(t,e){const n=t.parent,i=n.getChildIndex(t);for(const{cell:t,row:o,rowspan:r}of new Hp(n,{endRow:i})){const n=o+r-1>=i;n&&Vp("rowspan",r-1,t,e)}e.remove(t)}(a,t)})}_getMergeableCell(){const t=jp("tableCell",this.editor.model.document.selection.getFirstPosition());if(!t)return;const e=this.editor.plugins.get("TableUtils"),n=this.isHorizontal?function(t,e,n){const i="right"==e?t.nextSibling:t.previousSibling;if(!i)return;const o="right"==e?t:i,r="right"==e?i:t,{column:s}=n.getCellLocation(o),{column:a}=n.getCellLocation(r),c=parseInt(o.getAttribute("colspan")||1);return s+c===a?i:void 0}(t,this.direction,e):function(t,e){const n=t.parent,i=n.parent,o=i.getChildIndex(n);if("down"==e&&o===i.childCount-1||"up"==e&&0===o)return;const r=parseInt(t.getAttribute("rowspan")||1),s=i.getAttribute("headingRows")||0;if(s&&("down"==e&&o+r===s||"up"==e&&o===s))return;const a=parseInt(t.getAttribute("rowspan")||1),c="down"==e?o+a:o,l=[...new Hp(i,{endRow:c})],d=l.find(e=>e.cell===t).column,u=l.find(({row:t,rowspan:n,column:i})=>i===d&&("down"==e?t===c:c===t+n));return u&&u.cell}(t,this.direction);if(!n)return;const i=this.isHorizontal?"rowspan":"colspan",o=parseInt(t.getAttribute(i)||1);return parseInt(n.getAttribute(i)||1)===o?n:void 0}}function mg(t){return 1==t.childCount&&t.getChild(0).is("paragraph")&&t.getChild(0).isEmpty}class pg extends Xl{refresh(){const t=jp("tableCell",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t&&t.parent.parent.childCount>1}execute(){const t=this.editor.model,e=jp("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,i=n.getChildIndex(e),o=n.getAttribute("headingRows")||0;t.change(t=>{o&&i<=o&&Vp("headingRows",o-1,n,t,0);const r=[...new Hp(n,{endRow:i})],s=new Map;r.filter(({row:t,rowspan:e})=>t===i&&e>1).forEach(({column:t,cell:e,rowspan:n})=>s.set(t,{cell:e,rowspanToSet:n-1})),r.filter(({row:t,rowspan:e})=>t<=i-1&&t+e>i).forEach(({cell:e,rowspan:n})=>Vp("rowspan",n-1,e,t));const a=i+1,c=new Hp(n,{includeSpanned:!0,startRow:a,endRow:a});let l;for(const{row:e,column:i,cell:o}of[...c])if(s.has(i)){const{cell:o,rowspanToSet:r}=s.get(i),a=l?t.createPositionAfter(l):t.createPositionAt(n.getChild(e),0);t.move(t.createRangeOn(o),a),Vp("rowspan",r,o,t),l=o}else l=o;t.remove(e)})}}class gg extends Xl{refresh(){const t=this.editor,e=t.model.document.selection,n=t.plugins.get("TableUtils"),i=jp("tableCell",e.getFirstPosition());this.isEnabled=!!i&&n.getColumns(i.parent.parent)>1}execute(){const t=this.editor.model,e=jp("tableCell",t.document.selection.getFirstPosition()),n=e.parent,i=n.parent,o=i.getAttribute("headingColumns")||0,r=i.getChildIndex(n),s=[...new Hp(i)],a=s.find(t=>t.cell===e).column;t.change(t=>{o&&r<=o&&t.setAttribute("headingColumns",o-1,i);for(const{cell:e,column:n,colspan:i}of s)n<=a&&i>1&&n+i>a?Vp("colspan",i-1,e,t):n===a&&t.remove(e)})}}class bg extends Xl{refresh(){const t=jp("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent)}execute(){const t=this.editor.model,e=jp("tableCell",t.document.selection.getFirstPosition()).parent,n=e.parent,i=n.getAttribute("headingRows")||0,o=e.index,r=i>o?o:o+1;t.change(t=>{if(r){const e=function(t,e,n){const i=[],o=new Hp(t,{startRow:e>n?n:0,endRow:e-1});for(const{row:t,rowspan:n,cell:r}of o)n>1&&t+n>e&&i.push(r);return i}(n,r,i);for(const n of e)wg(n,r,t)}Vp("headingRows",r,n,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingRows")||0);return!!n&&t.parent.index<n}}function wg(t,e,n){const i=t.parent,o=i.parent,r=e-i.index,s={},a=parseInt(t.getAttribute("rowspan"))-r;a>1&&(s.rowspan=a);const c=o.getChildIndex(i),l=c+r,d=[...new Hp(o,{startRow:c,endRow:l,includeSpanned:!0})];let u;for(const{row:e,column:i,cell:r,colspan:a,cellIndex:c}of d)if(r===t&&(u=i,a>1&&(s.colspan=a)),void 0!==u&&u===i&&e===l){const t=o.getChild(e);Bp(n,n.createPositionAt(t,c),s)}Vp("rowspan",r,t,n)}class _g extends Xl{refresh(){const t=jp("tableCell",this.editor.model.document.selection.getFirstPosition()),e=!!t;this.isEnabled=e,this.value=e&&this._isInHeading(t,t.parent.parent)}execute(){const t=this.editor.model,e=t.document.selection,n=this.editor.plugins.get("TableUtils"),i=jp("tableCell",e.getFirstPosition().parent),o=i.parent.parent,r=parseInt(o.getAttribute("headingColumns")||0),{column:s}=n.getCellLocation(i),a=r>s?s:s+1;t.change(t=>{Vp("headingColumns",a,o,t,0)})}_isInHeading(t,e){const n=parseInt(e.getAttribute("headingColumns")||0),i=this.editor.plugins.get("TableUtils"),{column:o}=i.getCellLocation(t);return!!n&&o<n}}class kg extends Gl{static get pluginName(){return"TableUtils"}getCellLocation(t){const e=t.parent,n=e.parent,i=n.getChildIndex(e),o=new Hp(n,{startRow:i,endRow:i});for(const{cell:e,row:n,column:i}of o)if(e===t)return{row:n,column:i}}createTable(t,e,n){const i=t.createElement("table");return vg(t,i,0,e,n),i}insertRows(t,e={}){const n=this.editor.model,i=e.at||0,o=e.rows||1;n.change(e=>{const n=t.getAttribute("headingRows")||0;if(n>i&&e.setAttribute("headingRows",n+o,t),0===i||i===t.childCount)return void vg(e,t,i,o,this.getColumns(t));const r=new Hp(t,{endRow:i});let s=0;for(const{row:t,rowspan:n,colspan:a,cell:c}of r){t<i&&t+n>i&&e.setAttribute("rowspan",n+o,c),t===i&&(s+=a)}vg(e,t,i,o,s)})}insertColumns(t,e={}){const n=this.editor.model,i=e.at||0,o=e.columns||1;n.change(e=>{const n=t.getAttribute("headingColumns");i<n&&e.setAttribute("headingColumns",n+o,t);const r=this.getColumns(t);if(0===i||r===i){for(const n of t.getChildren())yg(o,e,e.createPositionAt(n,i?"end":0));return}const s=new Hp(t,{column:i,includeSpanned:!0});for(const{row:n,column:r,cell:a,colspan:c,rowspan:l,cellIndex:d}of s)if(r!==i){if(e.setAttribute("colspan",c+o,a),s.skipRow(n),l>1)for(let t=n+1;t<n+l;t++)s.skipRow(t)}else{const i=e.createPositionAt(t.getChild(n),d);yg(o,e,i)}})}splitCellVertically(t,e=2){const n=this.editor.model,i=t.parent.parent,o=parseInt(t.getAttribute("rowspan")||1),r=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(r>1){const{newCellsSpan:i,updatedSpan:s}=xg(r,e);Vp("colspan",s,t,n);const a={};i>1&&(a.colspan=i),o>1&&(a.rowspan=o),yg(r>e?e-1:r-1,n,n.createPositionAfter(t),a)}if(r<e){const s=e-r,a=[...new Hp(i)],{column:c}=a.find(({cell:e})=>e===t),l=a.filter(({cell:e,colspan:n,column:i})=>{return e!==t&&i===c||i<c&&i+n>c});for(const{cell:t,colspan:e}of l)n.setAttribute("colspan",e+s,t);const d={};o>1&&(d.rowspan=o),yg(s,n,n.createPositionAfter(t),d);const u=i.getAttribute("headingColumns")||0;u>c&&Vp("headingColumns",u+s,i,n)}})}splitCellHorizontally(t,e=2){const n=this.editor.model,i=t.parent,o=i.parent,r=o.getChildIndex(i),s=parseInt(t.getAttribute("rowspan")||1),a=parseInt(t.getAttribute("colspan")||1);n.change(n=>{if(s>1){const i=[...new Hp(o,{startRow:r,endRow:r+s-1,includeSpanned:!0})],{newCellsSpan:c,updatedSpan:l}=xg(s,e);Vp("rowspan",l,t,n);const{column:d}=i.find(({cell:e})=>e===t),u={};c>1&&(u.rowspan=c),a>1&&(u.colspan=a);for(const{column:t,row:e,cellIndex:s}of i){if(e>=r+l&&t===d&&(e+r+l)%c==0){yg(1,n,n.createPositionAt(o.getChild(e),s),u)}}}if(s<e){const i=e-s,c=[...new Hp(o,{startRow:0,endRow:r})];for(const{cell:e,rowspan:o,row:s}of c)if(e!==t&&s+o>r){const t=o+i;n.setAttribute("rowspan",t,e)}const l={};a>1&&(l.colspan=a),vg(n,o,r+1,i,1,l);const d=o.getAttribute("headingRows")||0;d>r&&Vp("headingRows",d+i,o,n)}})}getColumns(t){return[...t.getChild(0).getChildren()].reduce((t,e)=>{return t+parseInt(e.getAttribute("colspan")||1)},0)}}function vg(t,e,n,i,o,r={}){for(let s=0;s<i;s++){const i=t.createElement("tableRow");t.insert(i,e,n),yg(o,t,t.createPositionAt(i,"end"),r)}}function yg(t,e,n,i={}){for(let o=0;o<t;o++)Bp(e,n,i)}function xg(t,e){if(t<e)return{newCellsSpan:1,updatedSpan:1};const n=Math.floor(t/e);return{newCellsSpan:n,updatedSpan:t-n*e+n}}function Ag(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.differ.getChanges();let i=!1;const o=new Set;for(const e of n){let n;"table"==e.name&&"insert"==e.type&&(n=e.position.nodeAfter),"tableRow"!=e.name&&"tableCell"!=e.name||(n=jp("table",e.position)),Pg(e)&&(n=jp("table",e.range.start)),n&&!o.has(n)&&(i=Cg(n,t)||i,i=Tg(n,t)||i,o.add(n))}return i})(e,t))}function Cg(t,e){let n=!1;const i=function(t){const e=parseInt(t.getAttribute("headingRows")||0),n=t.childCount,i=[];for(const{row:o,rowspan:r,cell:s}of new Hp(t)){if(r<2)continue;const t=o<e,a=t?e:n;if(o+r>a){const t=a-o;i.push({cell:s,rowspan:t})}}return i}(t);if(i.length){n=!0;for(const t of i)Vp("rowspan",t.rowspan,t.cell,e,1)}return n}function Tg(t,e){let n=!1;const i=function(t){const e={};for(const{row:n}of new Hp(t,{includeSpanned:!0}))e[n]||(e[n]=0),e[n]+=1;return e}(t),o=i[0];if(!Object.values(i).every(t=>t===o)){const o=Object.values(i).reduce((t,e)=>e>t?e:t,0);for(const[r,s]of Object.entries(i)){const i=o-s;if(i){for(let n=0;n<i;n++)Bp(e,e.createPositionAt(t.getChild(r),"end"));n=!0}}}return n}function Pg(t){const e="attribute"===t.type,n=t.attributeKey;return e&&("headingRows"===n||"colspan"===n||"rowspan"===n)}function Mg(t){t.document.registerPostFixer(e=>(function(t,e){const n=e.document.differ.getChanges();let i=!1;for(const e of n)"remove"==e.type&&e.position.parent.is("tableCell")&&(i=Ig(e.position.parent,t)||i),"insert"==e.type&&("table"==e.name&&(i=Eg(e.position.nodeAfter,t)||i),"tableRow"==e.name&&(i=Sg(e.position.nodeAfter,t)||i),"tableCell"==e.name&&(i=Ig(e.position.nodeAfter,t)||i));return i})(e,t))}function Eg(t,e){let n=!1;for(const i of t.getChildren())n=Sg(i,e)||n;return n}function Sg(t,e){let n=!1;for(const i of t.getChildren())n=Ig(i,e)||n;return n}function Ig(t,e){if(0==t.childCount)return e.insertElement("paragraph",t),!0;const n=Array.from(t.getChildren()).filter(t=>t.is("text"));for(const t of n)e.wrap(e.createRangeOn(t),"paragraph");return!!n.length}function Ng(t,e){e.view.document.registerPostFixer(n=>(function(t,e,n,i){let o=!1;const r=function(t){const e=Array.from(t._renderer.markedAttributes).filter(t=>!!t.parent).filter(Rg).filter(t=>Dg(t.parent)),n=Array.from(t._renderer.markedChildren).filter(t=>!!t.parent).filter(Dg).reduce((t,e)=>{const n=Array.from(e.getChildren()).filter(Rg);return[...t,...n]},[]);return[...e,...n]}(i);for(const e of r)o=Og(e,n,t)||o;o&&function(t,e,n){const i=Array.from(t.getRanges()).map(t=>e.toViewRange(t));n.setSelection(i,{backward:t.isBackward})}(e.document.selection,n,t);return o})(n,t,e.mapper,e.view))}function Og(t,e,n){const i=e.toModelElement(t),o=function(t,e){const n=t.childCount>1,i=!![...e.getAttributes()].length;return n||i?"p":"span"}(i.parent,i);if(t.name!==o){e.unbindViewElement(t);const r=n.rename(o,t);return e.bindElements(i,r),!0}return!1}function Rg(t){return t.is("p")||t.is("span")}function Dg(t){return t.is("td")||t.is("th")}n(111);class Lg extends Gl{init(){const t=this.editor,e=t.model,n=e.schema,i=t.conversion;n.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),n.register("tableRow",{allowIn:"table",isLimit:!0}),n.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0}),n.extend("$block",{allowIn:"tableCell"}),n.addChildCheck((t,e)=>{if("table"==e.name&&Array.from(t.getNames()).includes("table"))return!1}),i.for("upcast").add(zp()),i.for("editingDowncast").add($p({asWidget:!0})),i.for("dataDowncast").add($p()),i.for("upcast").elementToElement({model:"tableRow",view:"tr"}),i.for("editingDowncast").add(Gp({asWidget:!0})),i.for("dataDowncast").add(Gp()),i.for("downcast").add(t=>t.on("remove:tableRow",(t,e,n)=>{t.stop();const i=n.writer,o=n.mapper,r=o.toViewPosition(e.position).getLastMatchingPosition(t=>!t.item.is("tr")).nodeAfter,s=r.parent,a=i.createRangeOn(r),c=i.remove(a);for(const t of i.createRangeIn(c).getItems())o.unbindViewElement(t);s.childCount||i.remove(i.createRangeOn(s))},{priority:"higher"})),i.for("upcast").add(Fp("td")),i.for("upcast").add(Fp("th")),i.for("editingDowncast").add(Qp({asWidget:!0})),i.for("dataDowncast").add(Qp()),i.attributeToAttribute({model:"colspan",view:"colspan"}),i.attributeToAttribute({model:"rowspan",view:"rowspan"}),i.for("editingDowncast").add(Kp({asWidget:!0})),i.for("dataDowncast").add(Kp()),i.for("editingDowncast").add(Jp({asWidget:!0})),i.for("dataDowncast").add(Jp()),Ng(t.model,t.editing),t.commands.add("insertTable",new lg(t)),t.commands.add("insertTableRowAbove",new dg(t,{order:"above"})),t.commands.add("insertTableRowBelow",new dg(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new ug(t,{order:"left"})),t.commands.add("insertTableColumnRight",new ug(t,{order:"right"})),t.commands.add("removeTableRow",new pg(t)),t.commands.add("removeTableColumn",new gg(t)),t.commands.add("splitTableCellVertically",new hg(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new hg(t,{direction:"horizontally"})),t.commands.add("mergeTableCellRight",new fg(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new fg(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new fg(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new fg(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new _g(t)),t.commands.add("setTableRowHeader",new bg(t)),Ag(e),Mg(e),this.editor.keystrokes.set("Tab",(...t)=>this._handleTabOnSelectedTable(...t),{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"})}static get requires(){return[kg]}_handleTabOnSelectedTable(t,e){const n=this.editor,i=n.model.document.selection;if(!i.isCollapsed&&1===i.rangeCount&&i.getFirstRange().isFlat){const t=i.getSelectedElement();if(!t||!t.is("table"))return;e(),n.model.change(e=>{e.setSelection(e.createRangeIn(t.getChild(0).getChild(0)))})}}_getTabHandler(t){const e=this.editor;return(n,i)=>{const o=jp("tableCell",e.model.document.selection.getFirstPosition());if(!o)return;i();const r=o.parent,s=r.parent,a=s.getChildIndex(r),c=r.getChildIndex(o),l=0===c;if(!t&&l&&0===a)return;const d=c===r.childCount-1,u=a===s.childCount-1;let h;if(t&&u&&d&&e.plugins.get("TableUtils").insertRows(s,{at:s.childCount}),t&&d){const t=s.getChild(a+1);h=t.getChild(0)}else if(!t&&l){const t=s.getChild(a-1);h=t.getChild(t.childCount-1)}else h=r.getChild(c+(t?1:-1));e.model.change(t=>{t.setSelection(t.createRangeIn(h))})}}}n(113);class jg extends Ol{constructor(t){super(t);const e=this.bindTemplate;this.items=this.createCollection(),this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(t,e)=>`${e} x ${t}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},children:this.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:e.to("label")}]}],on:{mousedown:e.to(t=>{t.preventDefault()}),click:e.to(()=>{this.fire("execute")})}});for(let t=0;t<100;t++){const e=new Vg;e.on("over",()=>{const e=Math.floor(t/10),n=t%10;this.set("rows",e+1),this.set("columns",n+1)}),this.items.add(e)}this.on("change:columns",()=>{this._highlightGridBoxes()}),this.on("change:rows",()=>{this._highlightGridBoxes()})}focus(){}focusLast(){}_highlightGridBoxes(){const t=this.rows,e=this.columns;this.items.map((n,i)=>{const o=Math.floor(i/10)<t&&i%10<e;n.set("isOn",o)})}}class Vg extends Ol{constructor(t){super(t);const e=this.bindTemplate;this.set("isOn",!1),this.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",e.if("isOn","ck-on")]},on:{mouseover:e.to("over")}})}}var Bg=n(39),zg=n.n(Bg),Fg=n(40),Ug=n.n(Fg),Hg=n(41),qg=n.n(Hg),Wg=n(42),Yg=n.n(Wg);class $g extends Gl{init(){const t=this.editor,e=this.editor.t;t.ui.componentFactory.add("insertTable",n=>{const i=t.commands.get("insertTable"),o=Lf(n);o.bind("isEnabled").to(i),o.buttonView.set({icon:zg.a,label:e("q"),tooltip:!0});const r=new jg(n);return o.panelView.children.add(r),r.delegate("execute").to(o),o.buttonView.on("open",()=>{r.rows=0,r.columns=0}),o.on("execute",()=>{t.execute("insertTable",{rows:r.rows,columns:r.columns}),t.editing.view.focus()}),o}),t.ui.componentFactory.add("tableColumn",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:e("r"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableColumnLeft",label:e("s")}},{type:"button",model:{commandName:"insertTableColumnRight",label:e("t")}},{type:"button",model:{commandName:"removeTableColumn",label:e("u")}}];return this._prepareDropdown(e("v"),Ug.a,n,t)}),t.ui.componentFactory.add("tableRow",t=>{const n=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:e("w"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowBelow",label:e("x")}},{type:"button",model:{commandName:"insertTableRowAbove",label:e("y")}},{type:"button",model:{commandName:"removeTableRow",label:e("z")}}];return this._prepareDropdown(e("aa"),qg.a,n,t)}),t.ui.componentFactory.add("mergeTableCells",t=>{const n=[{type:"button",model:{commandName:"mergeTableCellUp",label:e("ab")}},{type:"button",model:{commandName:"mergeTableCellRight",label:e("ac")}},{type:"button",model:{commandName:"mergeTableCellDown",label:e("ad")}},{type:"button",model:{commandName:"mergeTableCellLeft",label:e("ae")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:e("af")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:e("ag")}}];return this._prepareDropdown(e("ah"),Yg.a,n,t)})}_prepareDropdown(t,e,n,i){const o=this.editor,r=Lf(i),s=[],a=new oo;for(const t of n)Gg(t,o,s,a);return jf(r,a),r.buttonView.set({label:t,icon:e,tooltip:!0}),r.bind("isEnabled").toMany(s,"isEnabled",(...t)=>t.some(t=>t)),this.listenTo(r,"execute",t=>{o.execute(t.source.commandName),o.editing.view.focus()}),r}}function Gg(t,e,n,i){const o=t.model=new Tf(t.model),{commandName:r,bindIsOn:s}=t.model;if("separator"!==t.type){const t=e.commands.get(r);n.push(t),o.set({commandName:r}),o.bind("isEnabled").to(t),s&&o.bind("isOn").to(t,"value")}o.set({withText:!0}),i.add(t)}n(115);n.d(e,"default",function(){return Qg});class Qg extends $l{}Qg.builtinPlugins=[class extends Gl{static get requires(){return[Zl,od,cd,Cd,Kd]}static get pluginName(){return"Essentials"}},su,class extends Gl{static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats()}_addListAutoformats(){const t=this.editor.commands;t.get("bulletedList")&&new cu(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new cu(this.editor,/^1[.|)]\s$/,"numberedList")}_addBasicStylesAutoformats(){const t=this.editor.commands;if(t.get("bold")){const t=uu(this.editor,"bold");new lu(this.editor,/(\*\*)([^*]+)(\*\*)$/g,t),new lu(this.editor,/(__)([^_]+)(__)$/g,t)}if(t.get("italic")){const t=uu(this.editor,"italic");new lu(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,t),new lu(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,t)}if(t.get("code")){const t=uu(this.editor,"code");new lu(this.editor,/(`)([^`]+)(`)$/g,t)}}_addHeadingAutoformats(){const t=this.editor.commands.get("heading");t&&t.modelElements.filter(t=>t.match(/^heading[1-6]$/)).forEach(e=>{const n=e[7],i=new RegExp(`^(#{${n}})\\s$`);new cu(this.editor,i,()=>{if(!t.isEnabled)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&new cu(this.editor,/^>\s$/,"blockQuote")}},class extends Gl{static get requires(){return[mu,wu]}static get pluginName(){return"Bold"}},class extends Gl{static get requires(){return[ku,Au]}static get pluginName(){return"Italic"}},class extends Gl{static get requires(){return[Su,Ou]}static get pluginName(){return"BlockQuote"}},class extends Gl{static get pluginName(){return"CKFinder"}static get requires(){return[zu,Lu,su]}},class extends Gl{static get requires(){return[Gu,Qh,gf]}static get pluginName(){return"EasyImage"}},class extends Gl{static get requires(){return[Cf,Vf]}static get pluginName(){return"Heading"}},Qh,class extends Gl{static get requires(){return[Ff]}static get pluginName(){return"ImageCaption"}},class extends Gl{static get requires(){return[sm,am]}static get pluginName(){return"ImageStyle"}},class extends Gl{static get requires(){return[cm]}static get pluginName(){return"ImageToolbar"}afterInit(){const t=this.editor;t.plugins.get(cm).register("image",{items:t.config.get("image.toolbar")||[],getRelatedElement:hh})}},gf,class extends Gl{static get requires(){return[Cm,Lm]}static get pluginName(){return"Link"}},class extends Gl{static get requires(){return[sp,hp]}static get pluginName(){return"List"}},class extends Gl{static get requires(){return[Ap,Sp,Tp,vh]}static get pluginName(){return"MediaEmbed"}},_f,class extends Gl{static get pluginName(){return"PasteFromOffice"}init(){const t=this.editor;this.listenTo(t.plugins.get(Zl),"inputTransformation",(t,e)=>{const n=e.dataTransfer.getData("text/html");!0!==e.pasteFromOfficeProcessed&&function(t){return!(!t||!t.match(/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/gi)&&!t.match(/xmlns:o="urn:schemas-microsoft-com/gi))}(n)&&(e.content=this._normalizeWordInput(n,e.dataTransfer),e.pasteFromOfficeProcessed=!0)},{priority:"high"})}_normalizeWordInput(t,e){const{body:n,stylesString:i}=Np(t);return Op(n,i),Dp(n,e.getData("text/rtf")),n}},class extends Gl{static get requires(){return[Lg,$g,vh]}static get pluginName(){return"Table"}},class extends Gl{static get requires(){return[cm]}static get pluginName(){return"TableToolbar"}afterInit(){const t=this.editor,e=t.plugins.get(cm),n=t.config.get("table.contentToolbar"),i=t.config.get("table.toolbar"),o=t.config.get("table.tableToolbar");i&&console.warn("`config.table.toolbar` is deprecated and will be removed in the next major release. Use `config.table.contentToolbar` instead."),(n||i)&&e.register("tableContent",{items:n||i,getRelatedElement:Yp}),o&&e.register("table",{items:o,getRelatedElement:Wp})}}],Qg.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default});
//# sourceMappingURL=ckeditor.js.map

/***/ }),

/***/ "./node_modules/@coreui/coreui/dist/js/coreui.js":
/*!*******************************************************!*\
  !*** ./node_modules/@coreui/coreui/dist/js/coreui.js ***!
  \*******************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

/*!
  * CoreUI v2.1.9 (https://coreui.io)
  * Copyright 2019 Łukasz Holeczek
  * Licensed under MIT (https://coreui.io)
  */
(function (global, factory) {
   true ? factory(exports, __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js"), __webpack_require__(/*! perfect-scrollbar */ "./node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js")) :
  undefined;
}(this, function (exports, $, PerfectScrollbar) { 'use strict';

  $ = $ && $.hasOwnProperty('default') ? $['default'] : $;
  PerfectScrollbar = PerfectScrollbar && PerfectScrollbar.hasOwnProperty('default') ? PerfectScrollbar['default'] : PerfectScrollbar;

  var _isObject = function (it) {
    return typeof it === 'object' ? it !== null : typeof it === 'function';
  };

  var toString = {}.toString;

  var _cof = function (it) {
    return toString.call(it).slice(8, -1);
  };

  function createCommonjsModule(fn, module) {
  	return module = { exports: {} }, fn(module, module.exports), module.exports;
  }

  var _core = createCommonjsModule(function (module) {
  var core = module.exports = { version: '2.6.5' };
  if (typeof __e == 'number') __e = core; // eslint-disable-line no-undef
  });
  var _core_1 = _core.version;

  var _global = createCommonjsModule(function (module) {
  // https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
  var global = module.exports = typeof window != 'undefined' && window.Math == Math
    ? window : typeof self != 'undefined' && self.Math == Math ? self
    // eslint-disable-next-line no-new-func
    : Function('return this')();
  if (typeof __g == 'number') __g = global; // eslint-disable-line no-undef
  });

  var _shared = createCommonjsModule(function (module) {
  var SHARED = '__core-js_shared__';
  var store = _global[SHARED] || (_global[SHARED] = {});

  (module.exports = function (key, value) {
    return store[key] || (store[key] = value !== undefined ? value : {});
  })('versions', []).push({
    version: _core.version,
    mode: 'global',
    copyright: '© 2019 Denis Pushkarev (zloirock.ru)'
  });
  });

  var id = 0;
  var px = Math.random();
  var _uid = function (key) {
    return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
  };

  var _wks = createCommonjsModule(function (module) {
  var store = _shared('wks');

  var Symbol = _global.Symbol;
  var USE_SYMBOL = typeof Symbol == 'function';

  var $exports = module.exports = function (name) {
    return store[name] || (store[name] =
      USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : _uid)('Symbol.' + name));
  };

  $exports.store = store;
  });

  // 7.2.8 IsRegExp(argument)


  var MATCH = _wks('match');
  var _isRegexp = function (it) {
    var isRegExp;
    return _isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : _cof(it) == 'RegExp');
  };

  var _anObject = function (it) {
    if (!_isObject(it)) throw TypeError(it + ' is not an object!');
    return it;
  };

  var _aFunction = function (it) {
    if (typeof it != 'function') throw TypeError(it + ' is not a function!');
    return it;
  };

  // 7.3.20 SpeciesConstructor(O, defaultConstructor)


  var SPECIES = _wks('species');
  var _speciesConstructor = function (O, D) {
    var C = _anObject(O).constructor;
    var S;
    return C === undefined || (S = _anObject(C)[SPECIES]) == undefined ? D : _aFunction(S);
  };

  // 7.1.4 ToInteger
  var ceil = Math.ceil;
  var floor = Math.floor;
  var _toInteger = function (it) {
    return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
  };

  // 7.2.1 RequireObjectCoercible(argument)
  var _defined = function (it) {
    if (it == undefined) throw TypeError("Can't call method on  " + it);
    return it;
  };

  // true  -> String#at
  // false -> String#codePointAt
  var _stringAt = function (TO_STRING) {
    return function (that, pos) {
      var s = String(_defined(that));
      var i = _toInteger(pos);
      var l = s.length;
      var a, b;
      if (i < 0 || i >= l) return TO_STRING ? '' : undefined;
      a = s.charCodeAt(i);
      return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
        ? TO_STRING ? s.charAt(i) : a
        : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
    };
  };

  var at = _stringAt(true);

   // `AdvanceStringIndex` abstract operation
  // https://tc39.github.io/ecma262/#sec-advancestringindex
  var _advanceStringIndex = function (S, index, unicode) {
    return index + (unicode ? at(S, index).length : 1);
  };

  // 7.1.15 ToLength

  var min = Math.min;
  var _toLength = function (it) {
    return it > 0 ? min(_toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
  };

  // getting tag from 19.1.3.6 Object.prototype.toString()

  var TAG = _wks('toStringTag');
  // ES3 wrong here
  var ARG = _cof(function () { return arguments; }()) == 'Arguments';

  // fallback for IE11 Script Access Denied error
  var tryGet = function (it, key) {
    try {
      return it[key];
    } catch (e) { /* empty */ }
  };

  var _classof = function (it) {
    var O, T, B;
    return it === undefined ? 'Undefined' : it === null ? 'Null'
      // @@toStringTag case
      : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
      // builtinTag case
      : ARG ? _cof(O)
      // ES3 arguments fallback
      : (B = _cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
  };

  var builtinExec = RegExp.prototype.exec;

   // `RegExpExec` abstract operation
  // https://tc39.github.io/ecma262/#sec-regexpexec
  var _regexpExecAbstract = function (R, S) {
    var exec = R.exec;
    if (typeof exec === 'function') {
      var result = exec.call(R, S);
      if (typeof result !== 'object') {
        throw new TypeError('RegExp exec method returned something other than an Object or null');
      }
      return result;
    }
    if (_classof(R) !== 'RegExp') {
      throw new TypeError('RegExp#exec called on incompatible receiver');
    }
    return builtinExec.call(R, S);
  };

  // 21.2.5.3 get RegExp.prototype.flags

  var _flags = function () {
    var that = _anObject(this);
    var result = '';
    if (that.global) result += 'g';
    if (that.ignoreCase) result += 'i';
    if (that.multiline) result += 'm';
    if (that.unicode) result += 'u';
    if (that.sticky) result += 'y';
    return result;
  };

  var nativeExec = RegExp.prototype.exec;
  // This always refers to the native implementation, because the
  // String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,
  // which loads this file before patching the method.
  var nativeReplace = String.prototype.replace;

  var patchedExec = nativeExec;

  var LAST_INDEX = 'lastIndex';

  var UPDATES_LAST_INDEX_WRONG = (function () {
    var re1 = /a/,
        re2 = /b*/g;
    nativeExec.call(re1, 'a');
    nativeExec.call(re2, 'a');
    return re1[LAST_INDEX] !== 0 || re2[LAST_INDEX] !== 0;
  })();

  // nonparticipating capturing group, copied from es5-shim's String#split patch.
  var NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;

  var PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED;

  if (PATCH) {
    patchedExec = function exec(str) {
      var re = this;
      var lastIndex, reCopy, match, i;

      if (NPCG_INCLUDED) {
        reCopy = new RegExp('^' + re.source + '$(?!\\s)', _flags.call(re));
      }
      if (UPDATES_LAST_INDEX_WRONG) lastIndex = re[LAST_INDEX];

      match = nativeExec.call(re, str);

      if (UPDATES_LAST_INDEX_WRONG && match) {
        re[LAST_INDEX] = re.global ? match.index + match[0].length : lastIndex;
      }
      if (NPCG_INCLUDED && match && match.length > 1) {
        // Fix browsers whose `exec` methods don't consistently return `undefined`
        // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/
        // eslint-disable-next-line no-loop-func
        nativeReplace.call(match[0], reCopy, function () {
          for (i = 1; i < arguments.length - 2; i++) {
            if (arguments[i] === undefined) match[i] = undefined;
          }
        });
      }

      return match;
    };
  }

  var _regexpExec = patchedExec;

  var _fails = function (exec) {
    try {
      return !!exec();
    } catch (e) {
      return true;
    }
  };

  // Thank's IE8 for his funny defineProperty
  var _descriptors = !_fails(function () {
    return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;
  });

  var document$1 = _global.document;
  // typeof document.createElement is 'object' in old IE
  var is = _isObject(document$1) && _isObject(document$1.createElement);
  var _domCreate = function (it) {
    return is ? document$1.createElement(it) : {};
  };

  var _ie8DomDefine = !_descriptors && !_fails(function () {
    return Object.defineProperty(_domCreate('div'), 'a', { get: function () { return 7; } }).a != 7;
  });

  // 7.1.1 ToPrimitive(input [, PreferredType])

  // instead of the ES6 spec version, we didn't implement @@toPrimitive case
  // and the second argument - flag - preferred type is a string
  var _toPrimitive = function (it, S) {
    if (!_isObject(it)) return it;
    var fn, val;
    if (S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;
    if (typeof (fn = it.valueOf) == 'function' && !_isObject(val = fn.call(it))) return val;
    if (!S && typeof (fn = it.toString) == 'function' && !_isObject(val = fn.call(it))) return val;
    throw TypeError("Can't convert object to primitive value");
  };

  var dP = Object.defineProperty;

  var f = _descriptors ? Object.defineProperty : function defineProperty(O, P, Attributes) {
    _anObject(O);
    P = _toPrimitive(P, true);
    _anObject(Attributes);
    if (_ie8DomDefine) try {
      return dP(O, P, Attributes);
    } catch (e) { /* empty */ }
    if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');
    if ('value' in Attributes) O[P] = Attributes.value;
    return O;
  };

  var _objectDp = {
  	f: f
  };

  var _propertyDesc = function (bitmap, value) {
    return {
      enumerable: !(bitmap & 1),
      configurable: !(bitmap & 2),
      writable: !(bitmap & 4),
      value: value
    };
  };

  var _hide = _descriptors ? function (object, key, value) {
    return _objectDp.f(object, key, _propertyDesc(1, value));
  } : function (object, key, value) {
    object[key] = value;
    return object;
  };

  var hasOwnProperty = {}.hasOwnProperty;
  var _has = function (it, key) {
    return hasOwnProperty.call(it, key);
  };

  var _functionToString = _shared('native-function-to-string', Function.toString);

  var _redefine = createCommonjsModule(function (module) {
  var SRC = _uid('src');

  var TO_STRING = 'toString';
  var TPL = ('' + _functionToString).split(TO_STRING);

  _core.inspectSource = function (it) {
    return _functionToString.call(it);
  };

  (module.exports = function (O, key, val, safe) {
    var isFunction = typeof val == 'function';
    if (isFunction) _has(val, 'name') || _hide(val, 'name', key);
    if (O[key] === val) return;
    if (isFunction) _has(val, SRC) || _hide(val, SRC, O[key] ? '' + O[key] : TPL.join(String(key)));
    if (O === _global) {
      O[key] = val;
    } else if (!safe) {
      delete O[key];
      _hide(O, key, val);
    } else if (O[key]) {
      O[key] = val;
    } else {
      _hide(O, key, val);
    }
  // add fake Function#toString for correct work wrapped methods / constructors with methods like LoDash isNative
  })(Function.prototype, TO_STRING, function toString() {
    return typeof this == 'function' && this[SRC] || _functionToString.call(this);
  });
  });

  // optional / simple context binding

  var _ctx = function (fn, that, length) {
    _aFunction(fn);
    if (that === undefined) return fn;
    switch (length) {
      case 1: return function (a) {
        return fn.call(that, a);
      };
      case 2: return function (a, b) {
        return fn.call(that, a, b);
      };
      case 3: return function (a, b, c) {
        return fn.call(that, a, b, c);
      };
    }
    return function (/* ...args */) {
      return fn.apply(that, arguments);
    };
  };

  var PROTOTYPE = 'prototype';

  var $export = function (type, name, source) {
    var IS_FORCED = type & $export.F;
    var IS_GLOBAL = type & $export.G;
    var IS_STATIC = type & $export.S;
    var IS_PROTO = type & $export.P;
    var IS_BIND = type & $export.B;
    var target = IS_GLOBAL ? _global : IS_STATIC ? _global[name] || (_global[name] = {}) : (_global[name] || {})[PROTOTYPE];
    var exports = IS_GLOBAL ? _core : _core[name] || (_core[name] = {});
    var expProto = exports[PROTOTYPE] || (exports[PROTOTYPE] = {});
    var key, own, out, exp;
    if (IS_GLOBAL) source = name;
    for (key in source) {
      // contains in native
      own = !IS_FORCED && target && target[key] !== undefined;
      // export native or passed
      out = (own ? target : source)[key];
      // bind timers to global for call from export context
      exp = IS_BIND && own ? _ctx(out, _global) : IS_PROTO && typeof out == 'function' ? _ctx(Function.call, out) : out;
      // extend global
      if (target) _redefine(target, key, out, type & $export.U);
      // export
      if (exports[key] != out) _hide(exports, key, exp);
      if (IS_PROTO && expProto[key] != out) expProto[key] = out;
    }
  };
  _global.core = _core;
  // type bitmap
  $export.F = 1;   // forced
  $export.G = 2;   // global
  $export.S = 4;   // static
  $export.P = 8;   // proto
  $export.B = 16;  // bind
  $export.W = 32;  // wrap
  $export.U = 64;  // safe
  $export.R = 128; // real proto method for `library`
  var _export = $export;

  _export({
    target: 'RegExp',
    proto: true,
    forced: _regexpExec !== /./.exec
  }, {
    exec: _regexpExec
  });

  var SPECIES$1 = _wks('species');

  var REPLACE_SUPPORTS_NAMED_GROUPS = !_fails(function () {
    // #replace needs built-in support for named groups.
    // #match works fine because it just return the exec results, even if it has
    // a "grops" property.
    var re = /./;
    re.exec = function () {
      var result = [];
      result.groups = { a: '7' };
      return result;
    };
    return ''.replace(re, '$<a>') !== '7';
  });

  var SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = (function () {
    // Chrome 51 has a buggy "split" implementation when RegExp#exec !== nativeExec
    var re = /(?:)/;
    var originalExec = re.exec;
    re.exec = function () { return originalExec.apply(this, arguments); };
    var result = 'ab'.split(re);
    return result.length === 2 && result[0] === 'a' && result[1] === 'b';
  })();

  var _fixReWks = function (KEY, length, exec) {
    var SYMBOL = _wks(KEY);

    var DELEGATES_TO_SYMBOL = !_fails(function () {
      // String methods call symbol-named RegEp methods
      var O = {};
      O[SYMBOL] = function () { return 7; };
      return ''[KEY](O) != 7;
    });

    var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL ? !_fails(function () {
      // Symbol-named RegExp methods call .exec
      var execCalled = false;
      var re = /a/;
      re.exec = function () { execCalled = true; return null; };
      if (KEY === 'split') {
        // RegExp[@@split] doesn't call the regex's exec method, but first creates
        // a new one. We need to return the patched regex when creating the new one.
        re.constructor = {};
        re.constructor[SPECIES$1] = function () { return re; };
      }
      re[SYMBOL]('');
      return !execCalled;
    }) : undefined;

    if (
      !DELEGATES_TO_SYMBOL ||
      !DELEGATES_TO_EXEC ||
      (KEY === 'replace' && !REPLACE_SUPPORTS_NAMED_GROUPS) ||
      (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)
    ) {
      var nativeRegExpMethod = /./[SYMBOL];
      var fns = exec(
        _defined,
        SYMBOL,
        ''[KEY],
        function maybeCallNative(nativeMethod, regexp, str, arg2, forceStringMethod) {
          if (regexp.exec === _regexpExec) {
            if (DELEGATES_TO_SYMBOL && !forceStringMethod) {
              // The native String method already delegates to @@method (this
              // polyfilled function), leasing to infinite recursion.
              // We avoid it by directly calling the native @@method method.
              return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };
            }
            return { done: true, value: nativeMethod.call(str, regexp, arg2) };
          }
          return { done: false };
        }
      );
      var strfn = fns[0];
      var rxfn = fns[1];

      _redefine(String.prototype, KEY, strfn);
      _hide(RegExp.prototype, SYMBOL, length == 2
        // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)
        // 21.2.5.11 RegExp.prototype[@@split](string, limit)
        ? function (string, arg) { return rxfn.call(string, this, arg); }
        // 21.2.5.6 RegExp.prototype[@@match](string)
        // 21.2.5.9 RegExp.prototype[@@search](string)
        : function (string) { return rxfn.call(string, this); }
      );
    }
  };

  var $min = Math.min;
  var $push = [].push;
  var $SPLIT = 'split';
  var LENGTH = 'length';
  var LAST_INDEX$1 = 'lastIndex';
  var MAX_UINT32 = 0xffffffff;

  // babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError
  var SUPPORTS_Y = !_fails(function () { });

  // @@split logic
  _fixReWks('split', 2, function (defined, SPLIT, $split, maybeCallNative) {
    var internalSplit;
    if (
      'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||
      'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||
      'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||
      '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||
      '.'[$SPLIT](/()()/)[LENGTH] > 1 ||
      ''[$SPLIT](/.?/)[LENGTH]
    ) {
      // based on es5-shim implementation, need to rework it
      internalSplit = function (separator, limit) {
        var string = String(this);
        if (separator === undefined && limit === 0) return [];
        // If `separator` is not a regex, use native split
        if (!_isRegexp(separator)) return $split.call(string, separator, limit);
        var output = [];
        var flags = (separator.ignoreCase ? 'i' : '') +
                    (separator.multiline ? 'm' : '') +
                    (separator.unicode ? 'u' : '') +
                    (separator.sticky ? 'y' : '');
        var lastLastIndex = 0;
        var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;
        // Make `global` and avoid `lastIndex` issues by working with a copy
        var separatorCopy = new RegExp(separator.source, flags + 'g');
        var match, lastIndex, lastLength;
        while (match = _regexpExec.call(separatorCopy, string)) {
          lastIndex = separatorCopy[LAST_INDEX$1];
          if (lastIndex > lastLastIndex) {
            output.push(string.slice(lastLastIndex, match.index));
            if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));
            lastLength = match[0][LENGTH];
            lastLastIndex = lastIndex;
            if (output[LENGTH] >= splitLimit) break;
          }
          if (separatorCopy[LAST_INDEX$1] === match.index) separatorCopy[LAST_INDEX$1]++; // Avoid an infinite loop
        }
        if (lastLastIndex === string[LENGTH]) {
          if (lastLength || !separatorCopy.test('')) output.push('');
        } else output.push(string.slice(lastLastIndex));
        return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;
      };
    // Chakra, V8
    } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {
      internalSplit = function (separator, limit) {
        return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);
      };
    } else {
      internalSplit = $split;
    }

    return [
      // `String.prototype.split` method
      // https://tc39.github.io/ecma262/#sec-string.prototype.split
      function split(separator, limit) {
        var O = defined(this);
        var splitter = separator == undefined ? undefined : separator[SPLIT];
        return splitter !== undefined
          ? splitter.call(separator, O, limit)
          : internalSplit.call(String(O), separator, limit);
      },
      // `RegExp.prototype[@@split]` method
      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split
      //
      // NOTE: This cannot be properly polyfilled in engines that don't support
      // the 'y' flag.
      function (regexp, limit) {
        var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);
        if (res.done) return res.value;

        var rx = _anObject(regexp);
        var S = String(this);
        var C = _speciesConstructor(rx, RegExp);

        var unicodeMatching = rx.unicode;
        var flags = (rx.ignoreCase ? 'i' : '') +
                    (rx.multiline ? 'm' : '') +
                    (rx.unicode ? 'u' : '') +
                    (SUPPORTS_Y ? 'y' : 'g');

        // ^(? + rx + ) is needed, in combination with some S slicing, to
        // simulate the 'y' flag.
        var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);
        var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;
        if (lim === 0) return [];
        if (S.length === 0) return _regexpExecAbstract(splitter, S) === null ? [S] : [];
        var p = 0;
        var q = 0;
        var A = [];
        while (q < S.length) {
          splitter.lastIndex = SUPPORTS_Y ? q : 0;
          var z = _regexpExecAbstract(splitter, SUPPORTS_Y ? S : S.slice(q));
          var e;
          if (
            z === null ||
            (e = $min(_toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p
          ) {
            q = _advanceStringIndex(S, q, unicodeMatching);
          } else {
            A.push(S.slice(p, q));
            if (A.length === lim) return A;
            for (var i = 1; i <= z.length - 1; i++) {
              A.push(z[i]);
              if (A.length === lim) return A;
            }
            q = p = e;
          }
        }
        A.push(S.slice(p));
        return A;
      }
    ];
  });

  /*
  * required polyfills
  */
  // eslint-disable-next-line consistent-return
  (function () {
    if (typeof NodeList.prototype.forEach === 'function') {
      return false;
    }

    NodeList.prototype.forEach = Array.prototype.forEach;
  })();
  /** IE9, IE10 and IE11 requires all of the following polyfills. **/
  // import 'core-js/es6/symbol'
  // import 'core-js/es6/object'
  // import 'core-js/es6/function'
  // import 'core-js/es6/parse-int'
  // import 'core-js/es6/parse-float'
  // import 'core-js/es6/number'
  // import 'core-js/es6/math'
  // import 'core-js/es6/string'
  // import 'core-js/es6/date'
  // import 'core-js/es6/array'
  // import 'core-js/es6/regexp'
  // import 'core-js/es6/map'
  // import 'core-js/es6/weak-map'
  // import 'core-js/es6/set'
  // import 'core-js/es7/object'

  /** IE10 and IE11 requires the following for the Reflect API. */
  // import 'core-js/es6/reflect'

  /** Evergreen browsers require these. **/
  // Used for reflect-metadata in JIT. If you use AOT (and only Angular decorators), you can remove.
  // import 'core-js/es7/reflect'
  // CustomEvent() constructor functionality in IE9, IE10, IE11
  // (function () {
  //
  //   if ( typeof window.CustomEvent === "function" ) return false
  //
  //   function CustomEvent ( event, params ) {
  //     params = params || { bubbles: false, cancelable: false, detail: undefined }
  //     var evt = document.createEvent( 'CustomEvent' )
  //     evt.initCustomEvent( event, params.bubbles, params.cancelable, params.detail )
  //     return evt
  //   }
  //
  //   CustomEvent.prototype = window.Event.prototype
  //
  //   window.CustomEvent = CustomEvent
  // })()

  // fallback for non-array-like ES3 and non-enumerable old V8 strings

  // eslint-disable-next-line no-prototype-builtins
  var _iobject = Object('z').propertyIsEnumerable(0) ? Object : function (it) {
    return _cof(it) == 'String' ? it.split('') : Object(it);
  };

  // to indexed object, toObject with fallback for non-array-like ES3 strings


  var _toIobject = function (it) {
    return _iobject(_defined(it));
  };

  var max = Math.max;
  var min$1 = Math.min;
  var _toAbsoluteIndex = function (index, length) {
    index = _toInteger(index);
    return index < 0 ? max(index + length, 0) : min$1(index, length);
  };

  // false -> Array#indexOf
  // true  -> Array#includes



  var _arrayIncludes = function (IS_INCLUDES) {
    return function ($this, el, fromIndex) {
      var O = _toIobject($this);
      var length = _toLength(O.length);
      var index = _toAbsoluteIndex(fromIndex, length);
      var value;
      // Array#includes uses SameValueZero equality algorithm
      // eslint-disable-next-line no-self-compare
      if (IS_INCLUDES && el != el) while (length > index) {
        value = O[index++];
        // eslint-disable-next-line no-self-compare
        if (value != value) return true;
      // Array#indexOf ignores holes, Array#includes - not
      } else for (;length > index; index++) if (IS_INCLUDES || index in O) {
        if (O[index] === el) return IS_INCLUDES || index || 0;
      } return !IS_INCLUDES && -1;
    };
  };

  var shared = _shared('keys');

  var _sharedKey = function (key) {
    return shared[key] || (shared[key] = _uid(key));
  };

  var arrayIndexOf = _arrayIncludes(false);
  var IE_PROTO = _sharedKey('IE_PROTO');

  var _objectKeysInternal = function (object, names) {
    var O = _toIobject(object);
    var i = 0;
    var result = [];
    var key;
    for (key in O) if (key != IE_PROTO) _has(O, key) && result.push(key);
    // Don't enum bug & hidden keys
    while (names.length > i) if (_has(O, key = names[i++])) {
      ~arrayIndexOf(result, key) || result.push(key);
    }
    return result;
  };

  // IE 8- don't enum bug keys
  var _enumBugKeys = (
    'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
  ).split(',');

  // 19.1.2.14 / 15.2.3.14 Object.keys(O)



  var _objectKeys = Object.keys || function keys(O) {
    return _objectKeysInternal(O, _enumBugKeys);
  };

  var f$1 = Object.getOwnPropertySymbols;

  var _objectGops = {
  	f: f$1
  };

  var f$2 = {}.propertyIsEnumerable;

  var _objectPie = {
  	f: f$2
  };

  // 7.1.13 ToObject(argument)

  var _toObject = function (it) {
    return Object(_defined(it));
  };

  // 19.1.2.1 Object.assign(target, source, ...)





  var $assign = Object.assign;

  // should work with symbols and should have deterministic property order (V8 bug)
  var _objectAssign = !$assign || _fails(function () {
    var A = {};
    var B = {};
    // eslint-disable-next-line no-undef
    var S = Symbol();
    var K = 'abcdefghijklmnopqrst';
    A[S] = 7;
    K.split('').forEach(function (k) { B[k] = k; });
    return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;
  }) ? function assign(target, source) { // eslint-disable-line no-unused-vars
    var T = _toObject(target);
    var aLen = arguments.length;
    var index = 1;
    var getSymbols = _objectGops.f;
    var isEnum = _objectPie.f;
    while (aLen > index) {
      var S = _iobject(arguments[index++]);
      var keys = getSymbols ? _objectKeys(S).concat(getSymbols(S)) : _objectKeys(S);
      var length = keys.length;
      var j = 0;
      var key;
      while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];
    } return T;
  } : $assign;

  // 19.1.3.1 Object.assign(target, source)


  _export(_export.S + _export.F, 'Object', { assign: _objectAssign });

  var _iterators = {};

  var _objectDps = _descriptors ? Object.defineProperties : function defineProperties(O, Properties) {
    _anObject(O);
    var keys = _objectKeys(Properties);
    var length = keys.length;
    var i = 0;
    var P;
    while (length > i) _objectDp.f(O, P = keys[i++], Properties[P]);
    return O;
  };

  var document$2 = _global.document;
  var _html = document$2 && document$2.documentElement;

  // 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])



  var IE_PROTO$1 = _sharedKey('IE_PROTO');
  var Empty = function () { /* empty */ };
  var PROTOTYPE$1 = 'prototype';

  // Create object with fake `null` prototype: use iframe Object with cleared prototype
  var createDict = function () {
    // Thrash, waste and sodomy: IE GC bug
    var iframe = _domCreate('iframe');
    var i = _enumBugKeys.length;
    var lt = '<';
    var gt = '>';
    var iframeDocument;
    iframe.style.display = 'none';
    _html.appendChild(iframe);
    iframe.src = 'javascript:'; // eslint-disable-line no-script-url
    // createDict = iframe.contentWindow.Object;
    // html.removeChild(iframe);
    iframeDocument = iframe.contentWindow.document;
    iframeDocument.open();
    iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);
    iframeDocument.close();
    createDict = iframeDocument.F;
    while (i--) delete createDict[PROTOTYPE$1][_enumBugKeys[i]];
    return createDict();
  };

  var _objectCreate = Object.create || function create(O, Properties) {
    var result;
    if (O !== null) {
      Empty[PROTOTYPE$1] = _anObject(O);
      result = new Empty();
      Empty[PROTOTYPE$1] = null;
      // add "__proto__" for Object.getPrototypeOf polyfill
      result[IE_PROTO$1] = O;
    } else result = createDict();
    return Properties === undefined ? result : _objectDps(result, Properties);
  };

  var def = _objectDp.f;

  var TAG$1 = _wks('toStringTag');

  var _setToStringTag = function (it, tag, stat) {
    if (it && !_has(it = stat ? it : it.prototype, TAG$1)) def(it, TAG$1, { configurable: true, value: tag });
  };

  var IteratorPrototype = {};

  // 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
  _hide(IteratorPrototype, _wks('iterator'), function () { return this; });

  var _iterCreate = function (Constructor, NAME, next) {
    Constructor.prototype = _objectCreate(IteratorPrototype, { next: _propertyDesc(1, next) });
    _setToStringTag(Constructor, NAME + ' Iterator');
  };

  // 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)


  var IE_PROTO$2 = _sharedKey('IE_PROTO');
  var ObjectProto = Object.prototype;

  var _objectGpo = Object.getPrototypeOf || function (O) {
    O = _toObject(O);
    if (_has(O, IE_PROTO$2)) return O[IE_PROTO$2];
    if (typeof O.constructor == 'function' && O instanceof O.constructor) {
      return O.constructor.prototype;
    } return O instanceof Object ? ObjectProto : null;
  };

  var ITERATOR = _wks('iterator');
  var BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`
  var FF_ITERATOR = '@@iterator';
  var KEYS = 'keys';
  var VALUES = 'values';

  var returnThis = function () { return this; };

  var _iterDefine = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {
    _iterCreate(Constructor, NAME, next);
    var getMethod = function (kind) {
      if (!BUGGY && kind in proto) return proto[kind];
      switch (kind) {
        case KEYS: return function keys() { return new Constructor(this, kind); };
        case VALUES: return function values() { return new Constructor(this, kind); };
      } return function entries() { return new Constructor(this, kind); };
    };
    var TAG = NAME + ' Iterator';
    var DEF_VALUES = DEFAULT == VALUES;
    var VALUES_BUG = false;
    var proto = Base.prototype;
    var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];
    var $default = $native || getMethod(DEFAULT);
    var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;
    var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;
    var methods, key, IteratorPrototype;
    // Fix native
    if ($anyNative) {
      IteratorPrototype = _objectGpo($anyNative.call(new Base()));
      if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {
        // Set @@toStringTag to native iterators
        _setToStringTag(IteratorPrototype, TAG, true);
        // fix for some old engines
        if (typeof IteratorPrototype[ITERATOR] != 'function') _hide(IteratorPrototype, ITERATOR, returnThis);
      }
    }
    // fix Array#{values, @@iterator}.name in V8 / FF
    if (DEF_VALUES && $native && $native.name !== VALUES) {
      VALUES_BUG = true;
      $default = function values() { return $native.call(this); };
    }
    // Define iterator
    if (BUGGY || VALUES_BUG || !proto[ITERATOR]) {
      _hide(proto, ITERATOR, $default);
    }
    // Plug for library
    _iterators[NAME] = $default;
    _iterators[TAG] = returnThis;
    if (DEFAULT) {
      methods = {
        values: DEF_VALUES ? $default : getMethod(VALUES),
        keys: IS_SET ? $default : getMethod(KEYS),
        entries: $entries
      };
      if (FORCED) for (key in methods) {
        if (!(key in proto)) _redefine(proto, key, methods[key]);
      } else _export(_export.P + _export.F * (BUGGY || VALUES_BUG), NAME, methods);
    }
    return methods;
  };

  var $at = _stringAt(true);

  // 21.1.3.27 String.prototype[@@iterator]()
  _iterDefine(String, 'String', function (iterated) {
    this._t = String(iterated); // target
    this._i = 0;                // next index
  // 21.1.5.2.1 %StringIteratorPrototype%.next()
  }, function () {
    var O = this._t;
    var index = this._i;
    var point;
    if (index >= O.length) return { value: undefined, done: true };
    point = $at(O, index);
    this._i += point.length;
    return { value: point, done: false };
  });

  // call something on iterator step with safe closing on error

  var _iterCall = function (iterator, fn, value, entries) {
    try {
      return entries ? fn(_anObject(value)[0], value[1]) : fn(value);
    // 7.4.6 IteratorClose(iterator, completion)
    } catch (e) {
      var ret = iterator['return'];
      if (ret !== undefined) _anObject(ret.call(iterator));
      throw e;
    }
  };

  // check on default Array iterator

  var ITERATOR$1 = _wks('iterator');
  var ArrayProto = Array.prototype;

  var _isArrayIter = function (it) {
    return it !== undefined && (_iterators.Array === it || ArrayProto[ITERATOR$1] === it);
  };

  var _createProperty = function (object, index, value) {
    if (index in object) _objectDp.f(object, index, _propertyDesc(0, value));
    else object[index] = value;
  };

  var ITERATOR$2 = _wks('iterator');

  var core_getIteratorMethod = _core.getIteratorMethod = function (it) {
    if (it != undefined) return it[ITERATOR$2]
      || it['@@iterator']
      || _iterators[_classof(it)];
  };

  var ITERATOR$3 = _wks('iterator');
  var SAFE_CLOSING = false;

  try {
    var riter = [7][ITERATOR$3]();
    riter['return'] = function () { SAFE_CLOSING = true; };
  } catch (e) { /* empty */ }

  var _iterDetect = function (exec, skipClosing) {
    if (!skipClosing && !SAFE_CLOSING) return false;
    var safe = false;
    try {
      var arr = [7];
      var iter = arr[ITERATOR$3]();
      iter.next = function () { return { done: safe = true }; };
      arr[ITERATOR$3] = function () { return iter; };
      exec(arr);
    } catch (e) { /* empty */ }
    return safe;
  };

  _export(_export.S + _export.F * !_iterDetect(function (iter) { }), 'Array', {
    // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)
    from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {
      var O = _toObject(arrayLike);
      var C = typeof this == 'function' ? this : Array;
      var aLen = arguments.length;
      var mapfn = aLen > 1 ? arguments[1] : undefined;
      var mapping = mapfn !== undefined;
      var index = 0;
      var iterFn = core_getIteratorMethod(O);
      var length, result, step, iterator;
      if (mapping) mapfn = _ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);
      // if object isn't iterable or it's array with default iterator - use simple case
      if (iterFn != undefined && !(C == Array && _isArrayIter(iterFn))) {
        for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {
          _createProperty(result, index, mapping ? _iterCall(iterator, mapfn, [step.value, index], true) : step.value);
        }
      } else {
        length = _toLength(O.length);
        for (result = new C(length); length > index; index++) {
          _createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);
        }
      }
      result.length = index;
      return result;
    }
  });

  var max$1 = Math.max;
  var min$2 = Math.min;
  var floor$1 = Math.floor;
  var SUBSTITUTION_SYMBOLS = /\$([$&`']|\d\d?|<[^>]*>)/g;
  var SUBSTITUTION_SYMBOLS_NO_NAMED = /\$([$&`']|\d\d?)/g;

  var maybeToString = function (it) {
    return it === undefined ? it : String(it);
  };

  // @@replace logic
  _fixReWks('replace', 2, function (defined, REPLACE, $replace, maybeCallNative) {
    return [
      // `String.prototype.replace` method
      // https://tc39.github.io/ecma262/#sec-string.prototype.replace
      function replace(searchValue, replaceValue) {
        var O = defined(this);
        var fn = searchValue == undefined ? undefined : searchValue[REPLACE];
        return fn !== undefined
          ? fn.call(searchValue, O, replaceValue)
          : $replace.call(String(O), searchValue, replaceValue);
      },
      // `RegExp.prototype[@@replace]` method
      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace
      function (regexp, replaceValue) {
        var res = maybeCallNative($replace, regexp, this, replaceValue);
        if (res.done) return res.value;

        var rx = _anObject(regexp);
        var S = String(this);
        var functionalReplace = typeof replaceValue === 'function';
        if (!functionalReplace) replaceValue = String(replaceValue);
        var global = rx.global;
        if (global) {
          var fullUnicode = rx.unicode;
          rx.lastIndex = 0;
        }
        var results = [];
        while (true) {
          var result = _regexpExecAbstract(rx, S);
          if (result === null) break;
          results.push(result);
          if (!global) break;
          var matchStr = String(result[0]);
          if (matchStr === '') rx.lastIndex = _advanceStringIndex(S, _toLength(rx.lastIndex), fullUnicode);
        }
        var accumulatedResult = '';
        var nextSourcePosition = 0;
        for (var i = 0; i < results.length; i++) {
          result = results[i];
          var matched = String(result[0]);
          var position = max$1(min$2(_toInteger(result.index), S.length), 0);
          var captures = [];
          // NOTE: This is equivalent to
          //   captures = result.slice(1).map(maybeToString)
          // but for some reason `nativeSlice.call(result, 1, result.length)` (called in
          // the slice polyfill when slicing native arrays) "doesn't work" in safari 9 and
          // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.
          for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));
          var namedCaptures = result.groups;
          if (functionalReplace) {
            var replacerArgs = [matched].concat(captures, position, S);
            if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);
            var replacement = String(replaceValue.apply(undefined, replacerArgs));
          } else {
            replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);
          }
          if (position >= nextSourcePosition) {
            accumulatedResult += S.slice(nextSourcePosition, position) + replacement;
            nextSourcePosition = position + matched.length;
          }
        }
        return accumulatedResult + S.slice(nextSourcePosition);
      }
    ];

      // https://tc39.github.io/ecma262/#sec-getsubstitution
    function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {
      var tailPos = position + matched.length;
      var m = captures.length;
      var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;
      if (namedCaptures !== undefined) {
        namedCaptures = _toObject(namedCaptures);
        symbols = SUBSTITUTION_SYMBOLS;
      }
      return $replace.call(replacement, symbols, function (match, ch) {
        var capture;
        switch (ch.charAt(0)) {
          case '$': return '$';
          case '&': return matched;
          case '`': return str.slice(0, position);
          case "'": return str.slice(tailPos);
          case '<':
            capture = namedCaptures[ch.slice(1, -1)];
            break;
          default: // \d\d?
            var n = +ch;
            if (n === 0) return match;
            if (n > m) {
              var f = floor$1(n / 10);
              if (f === 0) return match;
              if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);
              return match;
            }
            capture = captures[n - 1];
        }
        return capture === undefined ? '' : capture;
      });
    }
  });

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  /**
   * --------------------------------------------------------------------------
   * CoreUI (v2.1.9): ajax-load.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  var AjaxLoad = function ($) {
    /**
     * ------------------------------------------------------------------------
     * Constants
     * ------------------------------------------------------------------------
     */
    var NAME = 'ajaxLoad';
    var VERSION = '2.1.9';
    var DATA_KEY = 'coreui.ajaxLoad';
    var JQUERY_NO_CONFLICT = $.fn[NAME];
    var ClassName = {
      ACTIVE: 'active',
      NAV_PILLS: 'nav-pills',
      NAV_TABS: 'nav-tabs',
      OPEN: 'open',
      VIEW_SCRIPT: 'view-script'
    };
    var Event = {
      CLICK: 'click'
    };
    var Selector = {
      HEAD: 'head',
      NAV_DROPDOWN: '.sidebar-nav .nav-dropdown',
      NAV_LINK: '.sidebar-nav .nav-link',
      NAV_ITEM: '.sidebar-nav .nav-item',
      VIEW_SCRIPT: '.view-script'
    };
    var Default = {
      defaultPage: 'main.html',
      errorPage: '404.html',
      subpagesDirectory: 'views/'
    };

    var AjaxLoad =
    /*#__PURE__*/
    function () {
      function AjaxLoad(element, config) {
        this._config = this._getConfig(config);
        this._element = element;
        var url = location.hash.replace(/^#/, '');

        if (url !== '') {
          this.setUpUrl(url);
        } else {
          this.setUpUrl(this._config.defaultPage);
        }

        this._addEventListeners();
      } // Getters


      var _proto = AjaxLoad.prototype;

      // Public
      _proto.loadPage = function loadPage(url) {
        var element = this._element;
        var config = this._config;

        var loadScripts = function loadScripts(src, element) {
          if (element === void 0) {
            element = 0;
          }

          var script = document.createElement('script');
          script.type = 'text/javascript';
          script.src = src[element];
          script.className = ClassName.VIEW_SCRIPT; // eslint-disable-next-line no-multi-assign

          script.onload = script.onreadystatechange = function () {
            if (!this.readyState || this.readyState === 'complete') {
              if (src.length > element + 1) {
                loadScripts(src, element + 1);
              }
            }
          };

          var body = document.getElementsByTagName('body')[0];
          body.appendChild(script);
        };

        $.ajax({
          type: 'GET',
          url: config.subpagesDirectory + url,
          dataType: 'html',
          beforeSend: function beforeSend() {
            $(Selector.VIEW_SCRIPT).remove();
          },
          success: function success(result) {
            var wrapper = document.createElement('div');
            wrapper.innerHTML = result;
            var scripts = Array.from(wrapper.querySelectorAll('script')).map(function (script) {
              return script.attributes.getNamedItem('src').nodeValue;
            });
            wrapper.querySelectorAll('script').forEach(function (script) {
              return script.parentNode.removeChild(script);
            });
            $('body').animate({
              scrollTop: 0
            }, 0);
            $(element).html(wrapper);

            if (scripts.length) {
              loadScripts(scripts);
            }

            window.location.hash = url;
          },
          error: function error() {
            window.location.href = config.errorPage;
          }
        });
      };

      _proto.setUpUrl = function setUpUrl(url) {
        $(Selector.NAV_LINK).removeClass(ClassName.ACTIVE);
        $(Selector.NAV_DROPDOWN).removeClass(ClassName.OPEN);
        $(Selector.NAV_DROPDOWN + ":has(a[href=\"" + url.replace(/^\//, '').split('?')[0] + "\"])").addClass(ClassName.OPEN);
        $(Selector.NAV_ITEM + " a[href=\"" + url.replace(/^\//, '').split('?')[0] + "\"]").addClass(ClassName.ACTIVE);
        this.loadPage(url);
      };

      _proto.loadBlank = function loadBlank(url) {
        window.open(url);
      };

      _proto.loadTop = function loadTop(url) {
        window.location = url;
      } // Private
      ;

      _proto._getConfig = function _getConfig(config) {
        config = Object.assign({}, Default, config);
        return config;
      };

      _proto._addEventListeners = function _addEventListeners() {
        var _this = this;

        $(document).on(Event.CLICK, Selector.NAV_LINK + "[href!=\"#\"]", function (event) {
          event.preventDefault();
          event.stopPropagation();

          if (event.currentTarget.target === '_top') {
            _this.loadTop(event.currentTarget.href);
          } else if (event.currentTarget.target === '_blank') {
            _this.loadBlank(event.currentTarget.href);
          } else {
            _this.setUpUrl(event.currentTarget.getAttribute('href'));
          }
        });
      } // Static
      ;

      AjaxLoad._jQueryInterface = function _jQueryInterface(config) {
        return this.each(function () {
          var data = $(this).data(DATA_KEY);

          var _config = typeof config === 'object' && config;

          if (!data) {
            data = new AjaxLoad(this, _config);
            $(this).data(DATA_KEY, data);
          }
        });
      };

      _createClass(AjaxLoad, null, [{
        key: "VERSION",
        get: function get() {
          return VERSION;
        }
      }, {
        key: "Default",
        get: function get() {
          return Default;
        }
      }]);

      return AjaxLoad;
    }();
    /**
     * ------------------------------------------------------------------------
     * jQuery
     * ------------------------------------------------------------------------
     */


    $.fn[NAME] = AjaxLoad._jQueryInterface;
    $.fn[NAME].Constructor = AjaxLoad;

    $.fn[NAME].noConflict = function () {
      $.fn[NAME] = JQUERY_NO_CONFLICT;
      return AjaxLoad._jQueryInterface;
    };

    return AjaxLoad;
  }($);

  /**
   * --------------------------------------------------------------------------
   * CoreUI (v2.1.9): toggle-classes.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */
  var removeClasses = function removeClasses(classNames) {
    return classNames.map(function (className) {
      return document.body.classList.contains(className);
    }).indexOf(true) !== -1;
  };

  var toggleClasses = function toggleClasses(toggleClass, classNames) {
    var breakpoint = classNames.indexOf(toggleClass);
    var newClassNames = classNames.slice(0, breakpoint + 1);

    if (removeClasses(newClassNames)) {
      newClassNames.map(function (className) {
        return document.body.classList.remove(className);
      });
    } else {
      document.body.classList.add(toggleClass);
    }
  };

  /**
   * --------------------------------------------------------------------------
   * CoreUI (v2.1.9): aside-menu.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  var AsideMenu = function ($) {
    /**
     * ------------------------------------------------------------------------
     * Constants
     * ------------------------------------------------------------------------
     */
    var NAME = 'aside-menu';
    var VERSION = '2.1.9';
    var DATA_KEY = 'coreui.aside-menu';
    var EVENT_KEY = "." + DATA_KEY;
    var DATA_API_KEY = '.data-api';
    var JQUERY_NO_CONFLICT = $.fn[NAME];
    var Event = {
      CLICK: 'click',
      LOAD_DATA_API: "load" + EVENT_KEY + DATA_API_KEY,
      TOGGLE: 'toggle'
    };
    var Selector = {
      BODY: 'body',
      ASIDE_MENU: '.aside-menu',
      ASIDE_MENU_TOGGLER: '.aside-menu-toggler'
    };
    var ShowClassNames = ['aside-menu-show', 'aside-menu-sm-show', 'aside-menu-md-show', 'aside-menu-lg-show', 'aside-menu-xl-show'];
    /**
     * ------------------------------------------------------------------------
     * Class Definition
     * ------------------------------------------------------------------------
     */

    var AsideMenu =
    /*#__PURE__*/
    function () {
      function AsideMenu(element) {
        this._element = element;

        this._addEventListeners();
      } // Getters


      var _proto = AsideMenu.prototype;

      // Private
      _proto._addEventListeners = function _addEventListeners() {
        $(document).on(Event.CLICK, Selector.ASIDE_MENU_TOGGLER, function (event) {
          event.preventDefault();
          event.stopPropagation();
          var toggle = event.currentTarget.dataset ? event.currentTarget.dataset.toggle : $(event.currentTarget).data('toggle');
          toggleClasses(toggle, ShowClassNames);
        });
      } // Static
      ;

      AsideMenu._jQueryInterface = function _jQueryInterface() {
        return this.each(function () {
          var $element = $(this);
          var data = $element.data(DATA_KEY);

          if (!data) {
            data = new AsideMenu(this);
            $element.data(DATA_KEY, data);
          }
        });
      };

      _createClass(AsideMenu, null, [{
        key: "VERSION",
        get: function get() {
          return VERSION;
        }
      }]);

      return AsideMenu;
    }();
    /**
     * ------------------------------------------------------------------------
     * Data Api implementation
     * ------------------------------------------------------------------------
     */


    $(window).on(Event.LOAD_DATA_API, function () {
      var asideMenu = $(Selector.ASIDE_MENU);

      AsideMenu._jQueryInterface.call(asideMenu);
    });
    /**
     * ------------------------------------------------------------------------
     * jQuery
     * ------------------------------------------------------------------------
     */

    $.fn[NAME] = AsideMenu._jQueryInterface;
    $.fn[NAME].Constructor = AsideMenu;

    $.fn[NAME].noConflict = function () {
      $.fn[NAME] = JQUERY_NO_CONFLICT;
      return AsideMenu._jQueryInterface;
    };

    return AsideMenu;
  }($);

  // 7.2.2 IsArray(argument)

  var _isArray = Array.isArray || function isArray(arg) {
    return _cof(arg) == 'Array';
  };

  var SPECIES$2 = _wks('species');

  var _arraySpeciesConstructor = function (original) {
    var C;
    if (_isArray(original)) {
      C = original.constructor;
      // cross-realm fallback
      if (typeof C == 'function' && (C === Array || _isArray(C.prototype))) C = undefined;
      if (_isObject(C)) {
        C = C[SPECIES$2];
        if (C === null) C = undefined;
      }
    } return C === undefined ? Array : C;
  };

  // 9.4.2.3 ArraySpeciesCreate(originalArray, length)


  var _arraySpeciesCreate = function (original, length) {
    return new (_arraySpeciesConstructor(original))(length);
  };

  // 0 -> Array#forEach
  // 1 -> Array#map
  // 2 -> Array#filter
  // 3 -> Array#some
  // 4 -> Array#every
  // 5 -> Array#find
  // 6 -> Array#findIndex





  var _arrayMethods = function (TYPE, $create) {
    var IS_MAP = TYPE == 1;
    var IS_FILTER = TYPE == 2;
    var IS_SOME = TYPE == 3;
    var IS_EVERY = TYPE == 4;
    var IS_FIND_INDEX = TYPE == 6;
    var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;
    var create = $create || _arraySpeciesCreate;
    return function ($this, callbackfn, that) {
      var O = _toObject($this);
      var self = _iobject(O);
      var f = _ctx(callbackfn, that, 3);
      var length = _toLength(self.length);
      var index = 0;
      var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;
      var val, res;
      for (;length > index; index++) if (NO_HOLES || index in self) {
        val = self[index];
        res = f(val, index, O);
        if (TYPE) {
          if (IS_MAP) result[index] = res;   // map
          else if (res) switch (TYPE) {
            case 3: return true;             // some
            case 5: return val;              // find
            case 6: return index;            // findIndex
            case 2: result.push(val);        // filter
          } else if (IS_EVERY) return false; // every
        }
      }
      return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;
    };
  };

  // 22.1.3.31 Array.prototype[@@unscopables]
  var UNSCOPABLES = _wks('unscopables');
  var ArrayProto$1 = Array.prototype;
  if (ArrayProto$1[UNSCOPABLES] == undefined) _hide(ArrayProto$1, UNSCOPABLES, {});
  var _addToUnscopables = function (key) {
    ArrayProto$1[UNSCOPABLES][key] = true;
  };

  // 22.1.3.8 Array.prototype.find(predicate, thisArg = undefined)

  var $find = _arrayMethods(5);
  var KEY = 'find';
  var forced = true;
  // Shouldn't skip holes
  if (KEY in []) Array(1)[KEY](function () { forced = false; });
  _export(_export.P + _export.F * forced, 'Array', {
    find: function find(callbackfn /* , that = undefined */) {
      return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);
    }
  });
  _addToUnscopables(KEY);

  // @@match logic
  _fixReWks('match', 1, function (defined, MATCH, $match, maybeCallNative) {
    return [
      // `String.prototype.match` method
      // https://tc39.github.io/ecma262/#sec-string.prototype.match
      function match(regexp) {
        var O = defined(this);
        var fn = regexp == undefined ? undefined : regexp[MATCH];
        return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));
      },
      // `RegExp.prototype[@@match]` method
      // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match
      function (regexp) {
        var res = maybeCallNative($match, regexp, this);
        if (res.done) return res.value;
        var rx = _anObject(regexp);
        var S = String(this);
        if (!rx.global) return _regexpExecAbstract(rx, S);
        var fullUnicode = rx.unicode;
        rx.lastIndex = 0;
        var A = [];
        var n = 0;
        var result;
        while ((result = _regexpExecAbstract(rx, S)) !== null) {
          var matchStr = String(result[0]);
          A[n] = matchStr;
          if (matchStr === '') rx.lastIndex = _advanceStringIndex(S, _toLength(rx.lastIndex), fullUnicode);
          n++;
        }
        return n === 0 ? null : A;
      }
    ];
  });

  /**
   * --------------------------------------------------------------------------
   * CoreUI Utilities (v2.1.9): get-css-custom-properties.js
   * Licensed under MIT (https://coreui.io/license)
   * @returns {string} css custom property name
   * --------------------------------------------------------------------------
   */
  var getCssCustomProperties = function getCssCustomProperties() {
    var cssCustomProperties = {};
    var sheets = document.styleSheets;
    var cssText = '';

    for (var i = sheets.length - 1; i > -1; i--) {
      var rules = sheets[i].cssRules;

      for (var j = rules.length - 1; j > -1; j--) {
        if (rules[j].selectorText === '.ie-custom-properties') {
          cssText = rules[j].cssText;
          break;
        }
      }

      if (cssText) {
        break;
      }
    }

    cssText = cssText.substring(cssText.lastIndexOf('{') + 1, cssText.lastIndexOf('}'));
    cssText.split(';').forEach(function (property) {
      if (property) {
        var name = property.split(': ')[0];
        var value = property.split(': ')[1];

        if (name && value) {
          cssCustomProperties["--" + name.trim()] = value.trim();
        }
      }
    });
    return cssCustomProperties;
  };

  var minIEVersion = 10;

  var isIE1x = function isIE1x() {
    return Boolean(document.documentMode) && document.documentMode >= minIEVersion;
  };

  var isCustomProperty = function isCustomProperty(property) {
    return property.match(/^--.*/i);
  };

  var getStyle = function getStyle(property, element) {
    if (element === void 0) {
      element = document.body;
    }

    var style;

    if (isCustomProperty(property) && isIE1x()) {
      var cssCustomProperties = getCssCustomProperties();
      style = cssCustomProperties[property];
    } else {
      style = window.getComputedStyle(element, null).getPropertyValue(property).replace(/^\s/, '');
    }

    return style;
  };

  /**
   * --------------------------------------------------------------------------
   * CoreUI (v2.1.9): sidebar.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  var Sidebar = function ($) {
    /**
     * ------------------------------------------------------------------------
     * Constants
     * ------------------------------------------------------------------------
     */
    var NAME = 'sidebar';
    var VERSION = '2.1.9';
    var DATA_KEY = 'coreui.sidebar';
    var EVENT_KEY = "." + DATA_KEY;
    var DATA_API_KEY = '.data-api';
    var JQUERY_NO_CONFLICT = $.fn[NAME];
    var Default = {
      transition: 400
    };
    var ClassName = {
      ACTIVE: 'active',
      BRAND_MINIMIZED: 'brand-minimized',
      NAV_DROPDOWN_TOGGLE: 'nav-dropdown-toggle',
      OPEN: 'open',
      SIDEBAR_FIXED: 'sidebar-fixed',
      SIDEBAR_MINIMIZED: 'sidebar-minimized',
      SIDEBAR_OFF_CANVAS: 'sidebar-off-canvas'
    };
    var Event = {
      CLICK: 'click',
      DESTROY: 'destroy',
      INIT: 'init',
      LOAD_DATA_API: "load" + EVENT_KEY + DATA_API_KEY,
      TOGGLE: 'toggle',
      UPDATE: 'update'
    };
    var Selector = {
      BODY: 'body',
      BRAND_MINIMIZER: '.brand-minimizer',
      NAV_DROPDOWN_TOGGLE: '.nav-dropdown-toggle',
      NAV_DROPDOWN_ITEMS: '.nav-dropdown-items',
      NAV_ITEM: '.nav-item',
      NAV_LINK: '.nav-link',
      NAV_LINK_QUERIED: '.nav-link-queried',
      NAVIGATION_CONTAINER: '.sidebar-nav',
      NAVIGATION: '.sidebar-nav > .nav',
      SIDEBAR: '.sidebar',
      SIDEBAR_MINIMIZER: '.sidebar-minimizer',
      SIDEBAR_TOGGLER: '.sidebar-toggler'
    };
    var ShowClassNames = ['sidebar-show', 'sidebar-sm-show', 'sidebar-md-show', 'sidebar-lg-show', 'sidebar-xl-show'];
    /**
     * ------------------------------------------------------------------------
     * Class Definition
     * ------------------------------------------------------------------------
     */

    var Sidebar =
    /*#__PURE__*/
    function () {
      function Sidebar(element) {
        this._element = element;
        this.mobile = false;
        this.ps = null;
        this.perfectScrollbar(Event.INIT);
        this.setActiveLink();
        this._breakpointTest = this._breakpointTest.bind(this);
        this._clickOutListener = this._clickOutListener.bind(this);

        this._addEventListeners();

        this._addMediaQuery();
      } // Getters


      var _proto = Sidebar.prototype;

      // Public
      _proto.perfectScrollbar = function perfectScrollbar(event) {
        var _this = this;

        if (typeof PerfectScrollbar !== 'undefined') {
          var classList = document.body.classList;

          if (event === Event.INIT && !classList.contains(ClassName.SIDEBAR_MINIMIZED)) {
            this.ps = this.makeScrollbar();
          }

          if (event === Event.DESTROY) {
            this.destroyScrollbar();
          }

          if (event === Event.TOGGLE) {
            if (classList.contains(ClassName.SIDEBAR_MINIMIZED)) {
              this.destroyScrollbar();
            } else {
              this.destroyScrollbar();
              this.ps = this.makeScrollbar();
            }
          }

          if (event === Event.UPDATE && !classList.contains(ClassName.SIDEBAR_MINIMIZED)) {
            // ToDo: Add smooth transition
            setTimeout(function () {
              _this.destroyScrollbar();

              _this.ps = _this.makeScrollbar();
            }, Default.transition);
          }
        }
      };

      _proto.makeScrollbar = function makeScrollbar(container) {
        if (container === void 0) {
          container = Selector.NAVIGATION_CONTAINER;
        }

        var ps = new PerfectScrollbar(document.querySelector(container), {
          suppressScrollX: true
        }); // ToDo: find real fix for ps rtl

        ps.isRtl = false;
        return ps;
      };

      _proto.destroyScrollbar = function destroyScrollbar() {
        if (this.ps) {
          this.ps.destroy();
          this.ps = null;
        }
      };

      _proto.setActiveLink = function setActiveLink() {
        $(Selector.NAVIGATION).find(Selector.NAV_LINK).each(function (key, value) {
          var link = value;
          var cUrl;

          if (link.classList.contains(Selector.NAV_LINK_QUERIED)) {
            cUrl = String(window.location);
          } else {
            cUrl = String(window.location).split('?')[0];
          }

          if (cUrl.substr(cUrl.length - 1) === '#') {
            cUrl = cUrl.slice(0, -1);
          }

          if ($($(link))[0].href === cUrl) {
            $(link).addClass(ClassName.ACTIVE).parents(Selector.NAV_DROPDOWN_ITEMS).add(link).each(function (key, value) {
              link = value;
              $(link).parent().addClass(ClassName.OPEN);
            });
          }
        });
      } // Private
      ;

      _proto._addMediaQuery = function _addMediaQuery() {
        var sm = getStyle('--breakpoint-sm');

        if (!sm) {
          return;
        }

        var smVal = parseInt(sm, 10) - 1;
        var mediaQueryList = window.matchMedia("(max-width: " + smVal + "px)");

        this._breakpointTest(mediaQueryList);

        mediaQueryList.addListener(this._breakpointTest);
      };

      _proto._breakpointTest = function _breakpointTest(e) {
        this.mobile = Boolean(e.matches);

        this._toggleClickOut();
      };

      _proto._clickOutListener = function _clickOutListener(event) {
        if (!this._element.contains(event.target)) {
          // or use: event.target.closest(Selector.SIDEBAR) === null
          event.preventDefault();
          event.stopPropagation();

          this._removeClickOut();

          document.body.classList.remove('sidebar-show');
        }
      };

      _proto._addClickOut = function _addClickOut() {
        document.addEventListener(Event.CLICK, this._clickOutListener, true);
      };

      _proto._removeClickOut = function _removeClickOut() {
        document.removeEventListener(Event.CLICK, this._clickOutListener, true);
      };

      _proto._toggleClickOut = function _toggleClickOut() {
        if (this.mobile && document.body.classList.contains('sidebar-show')) {
          document.body.classList.remove('aside-menu-show');

          this._addClickOut();
        } else {
          this._removeClickOut();
        }
      };

      _proto._addEventListeners = function _addEventListeners() {
        var _this2 = this;

        $(document).on(Event.CLICK, Selector.BRAND_MINIMIZER, function (event) {
          event.preventDefault();
          event.stopPropagation();
          $(Selector.BODY).toggleClass(ClassName.BRAND_MINIMIZED);
        });
        $(document).on(Event.CLICK, Selector.NAV_DROPDOWN_TOGGLE, function (event) {
          event.preventDefault();
          event.stopPropagation();
          var dropdown = event.target;
          $(dropdown).parent().toggleClass(ClassName.OPEN);

          _this2.perfectScrollbar(Event.UPDATE);
        });
        $(document).on(Event.CLICK, Selector.SIDEBAR_MINIMIZER, function (event) {
          event.preventDefault();
          event.stopPropagation();
          $(Selector.BODY).toggleClass(ClassName.SIDEBAR_MINIMIZED);

          _this2.perfectScrollbar(Event.TOGGLE);
        });
        $(document).on(Event.CLICK, Selector.SIDEBAR_TOGGLER, function (event) {
          event.preventDefault();
          event.stopPropagation();
          var toggle = event.currentTarget.dataset ? event.currentTarget.dataset.toggle : $(event.currentTarget).data('toggle');
          toggleClasses(toggle, ShowClassNames);

          _this2._toggleClickOut();
        });
        $(Selector.NAVIGATION + " > " + Selector.NAV_ITEM + " " + Selector.NAV_LINK + ":not(" + Selector.NAV_DROPDOWN_TOGGLE + ")").on(Event.CLICK, function () {
          _this2._removeClickOut();

          document.body.classList.remove('sidebar-show');
        });
      } // Static
      ;

      Sidebar._jQueryInterface = function _jQueryInterface() {
        return this.each(function () {
          var $element = $(this);
          var data = $element.data(DATA_KEY);

          if (!data) {
            data = new Sidebar(this);
            $element.data(DATA_KEY, data);
          }
        });
      };

      _createClass(Sidebar, null, [{
        key: "VERSION",
        get: function get() {
          return VERSION;
        }
      }]);

      return Sidebar;
    }();
    /**
     * ------------------------------------------------------------------------
     * Data Api implementation
     * ------------------------------------------------------------------------
     */


    $(window).on(Event.LOAD_DATA_API, function () {
      var sidebar = $(Selector.SIDEBAR);

      Sidebar._jQueryInterface.call(sidebar);
    });
    /**
     * ------------------------------------------------------------------------
     * jQuery
     * ------------------------------------------------------------------------
     */

    $.fn[NAME] = Sidebar._jQueryInterface;
    $.fn[NAME].Constructor = Sidebar;

    $.fn[NAME].noConflict = function () {
      $.fn[NAME] = JQUERY_NO_CONFLICT;
      return Sidebar._jQueryInterface;
    };

    return Sidebar;
  }($);

  /**
   * --------------------------------------------------------------------------
   * CoreUI Utilities (v2.1.9): hex-to-rgb.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  /* eslint-disable no-magic-numbers */
  var hexToRgb = function hexToRgb(color) {
    if (typeof color === 'undefined') {
      throw new Error('Hex color is not defined');
    }

    var hex = color.match(/^#(?:[0-9a-f]{3}){1,2}$/i);

    if (!hex) {
      throw new Error(color + " is not a valid hex color");
    }

    var r;
    var g;
    var b;

    if (color.length === 7) {
      r = parseInt(color.substring(1, 3), 16);
      g = parseInt(color.substring(3, 5), 16);
      b = parseInt(color.substring(5, 7), 16);
    } else {
      r = parseInt(color.substring(1, 2), 16);
      g = parseInt(color.substring(2, 3), 16);
      b = parseInt(color.substring(3, 5), 16);
    }

    return "rgba(" + r + ", " + g + ", " + b + ")";
  };

  /**
   * --------------------------------------------------------------------------
   * CoreUI Utilities (v2.1.9): hex-to-rgba.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  /* eslint-disable no-magic-numbers */
  var hexToRgba = function hexToRgba(color, opacity) {
    if (opacity === void 0) {
      opacity = 100;
    }

    if (typeof color === 'undefined') {
      throw new Error('Hex color is not defined');
    }

    var hex = color.match(/^#(?:[0-9a-f]{3}){1,2}$/i);

    if (!hex) {
      throw new Error(color + " is not a valid hex color");
    }

    var r;
    var g;
    var b;

    if (color.length === 7) {
      r = parseInt(color.substring(1, 3), 16);
      g = parseInt(color.substring(3, 5), 16);
      b = parseInt(color.substring(5, 7), 16);
    } else {
      r = parseInt(color.substring(1, 2), 16);
      g = parseInt(color.substring(2, 3), 16);
      b = parseInt(color.substring(3, 5), 16);
    }

    return "rgba(" + r + ", " + g + ", " + b + ", " + opacity / 100 + ")";
  };

  // 21.2.5.3 get RegExp.prototype.flags()
  if (_descriptors && /./g.flags != 'g') _objectDp.f(RegExp.prototype, 'flags', {
    configurable: true,
    get: _flags
  });

  var TO_STRING = 'toString';
  var $toString = /./[TO_STRING];

  var define = function (fn) {
    _redefine(RegExp.prototype, TO_STRING, fn, true);
  };

  // 21.2.5.14 RegExp.prototype.toString()
  if (_fails(function () { return $toString.call({ source: 'a', flags: 'b' }) != '/a/b'; })) {
    define(function toString() {
      var R = _anObject(this);
      return '/'.concat(R.source, '/',
        'flags' in R ? R.flags : !_descriptors && R instanceof RegExp ? _flags.call(R) : undefined);
    });
  // FF44- RegExp#toString has a wrong name
  } else if ($toString.name != TO_STRING) {
    define(function toString() {
      return $toString.call(this);
    });
  }

  // 19.1.3.6 Object.prototype.toString()

  var test = {};
  test[_wks('toStringTag')] = 'z';
  if (test + '' != '[object z]') {
    _redefine(Object.prototype, 'toString', function toString() {
      return '[object ' + _classof(this) + ']';
    }, true);
  }

  /**
   * --------------------------------------------------------------------------
   * CoreUI (v2.1.9): rgb-to-hex.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  /* eslint-disable no-magic-numbers */
  var rgbToHex = function rgbToHex(color) {
    if (typeof color === 'undefined') {
      throw new Error('Hex color is not defined');
    }

    if (color === 'transparent') {
      return '#00000000';
    }

    var rgb = color.match(/^rgba?[\s+]?\([\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?,[\s+]?(\d+)[\s+]?/i);

    if (!rgb) {
      throw new Error(color + " is not a valid rgb color");
    }

    var r = "0" + parseInt(rgb[1], 10).toString(16);
    var g = "0" + parseInt(rgb[2], 10).toString(16);
    var b = "0" + parseInt(rgb[3], 10).toString(16);
    return "#" + r.slice(-2) + g.slice(-2) + b.slice(-2);
  };

  /**
   * --------------------------------------------------------------------------
   * CoreUI (v2.1.9): index.js
   * Licensed under MIT (https://coreui.io/license)
   * --------------------------------------------------------------------------
   */

  (function ($) {
    if (typeof $ === 'undefined') {
      throw new TypeError('CoreUI\'s JavaScript requires jQuery. jQuery must be included before CoreUI\'s JavaScript.');
    }

    var version = $.fn.jquery.split(' ')[0].split('.');
    var minMajor = 1;
    var ltMajor = 2;
    var minMinor = 9;
    var minPatch = 1;
    var maxMajor = 4;

    if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {
      throw new Error('CoreUI\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');
    }
  })($);
  window.getStyle = getStyle;
  window.hexToRgb = hexToRgb;
  window.hexToRgba = hexToRgba;
  window.rgbToHex = rgbToHex;

  exports.AjaxLoad = AjaxLoad;
  exports.AsideMenu = AsideMenu;
  exports.Sidebar = Sidebar;

  Object.defineProperty(exports, '__esModule', { value: true });

}));
//# sourceMappingURL=coreui.js.map


/***/ }),

/***/ "./node_modules/is-buffer/index.js":
/*!*****************************************!*\
  !*** ./node_modules/is-buffer/index.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */

// The _isBuffer check is for Safari 5-7 support, because it's missing
// Object.prototype.constructor. Remove this eventually
module.exports = function (obj) {
  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)
}

function isBuffer (obj) {
  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)
}

// For Node v0.10 support. Remove this eventually.
function isSlowBuffer (obj) {
  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))
}


/***/ }),

/***/ "./node_modules/jquery-validation/dist/jquery.validate.js":
/*!****************************************************************!*\
  !*** ./node_modules/jquery-validation/dist/jquery.validate.js ***!
  \****************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/*!
 * jQuery Validation Plugin v1.19.0
 *
 * https://jqueryvalidation.org/
 *
 * Copyright (c) 2018 Jörn Zaefferer
 * Released under the MIT license
 */
(function( factory ) {
	if ( true ) {
		!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js")], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),
				__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?
				(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
	} else {}
}(function( $ ) {

$.extend( $.fn, {

	// https://jqueryvalidation.org/validate/
	validate: function( options ) {

		// If nothing is selected, return nothing; can't chain anyway
		if ( !this.length ) {
			if ( options && options.debug && window.console ) {
				console.warn( "Nothing selected, can't validate, returning nothing." );
			}
			return;
		}

		// Check if a validator for this form was already created
		var validator = $.data( this[ 0 ], "validator" );
		if ( validator ) {
			return validator;
		}

		// Add novalidate tag if HTML5.
		this.attr( "novalidate", "novalidate" );

		validator = new $.validator( options, this[ 0 ] );
		$.data( this[ 0 ], "validator", validator );

		if ( validator.settings.onsubmit ) {

			this.on( "click.validate", ":submit", function( event ) {

				// Track the used submit button to properly handle scripted
				// submits later.
				validator.submitButton = event.currentTarget;

				// Allow suppressing validation by adding a cancel class to the submit button
				if ( $( this ).hasClass( "cancel" ) ) {
					validator.cancelSubmit = true;
				}

				// Allow suppressing validation by adding the html5 formnovalidate attribute to the submit button
				if ( $( this ).attr( "formnovalidate" ) !== undefined ) {
					validator.cancelSubmit = true;
				}
			} );

			// Validate the form on submit
			this.on( "submit.validate", function( event ) {
				if ( validator.settings.debug ) {

					// Prevent form submit to be able to see console output
					event.preventDefault();
				}

				function handle() {
					var hidden, result;

					// Insert a hidden input as a replacement for the missing submit button
					// The hidden input is inserted in two cases:
					//   - A user defined a `submitHandler`
					//   - There was a pending request due to `remote` method and `stopRequest()`
					//     was called to submit the form in case it's valid
					if ( validator.submitButton && ( validator.settings.submitHandler || validator.formSubmitted ) ) {
						hidden = $( "<input type='hidden'/>" )
							.attr( "name", validator.submitButton.name )
							.val( $( validator.submitButton ).val() )
							.appendTo( validator.currentForm );
					}

					if ( validator.settings.submitHandler && !validator.settings.debug ) {
						result = validator.settings.submitHandler.call( validator, validator.currentForm, event );
						if ( hidden ) {

							// And clean up afterwards; thanks to no-block-scope, hidden can be referenced
							hidden.remove();
						}
						if ( result !== undefined ) {
							return result;
						}
						return false;
					}
					return true;
				}

				// Prevent submit for invalid forms or custom submit handlers
				if ( validator.cancelSubmit ) {
					validator.cancelSubmit = false;
					return handle();
				}
				if ( validator.form() ) {
					if ( validator.pendingRequest ) {
						validator.formSubmitted = true;
						return false;
					}
					return handle();
				} else {
					validator.focusInvalid();
					return false;
				}
			} );
		}

		return validator;
	},

	// https://jqueryvalidation.org/valid/
	valid: function() {
		var valid, validator, errorList;

		if ( $( this[ 0 ] ).is( "form" ) ) {
			valid = this.validate().form();
		} else {
			errorList = [];
			valid = true;
			validator = $( this[ 0 ].form ).validate();
			this.each( function() {
				valid = validator.element( this ) && valid;
				if ( !valid ) {
					errorList = errorList.concat( validator.errorList );
				}
			} );
			validator.errorList = errorList;
		}
		return valid;
	},

	// https://jqueryvalidation.org/rules/
	rules: function( command, argument ) {
		var element = this[ 0 ],
			isContentEditable = typeof this.attr( "contenteditable" ) !== "undefined" && this.attr( "contenteditable" ) !== "false",
			settings, staticRules, existingRules, data, param, filtered;

		// If nothing is selected, return empty object; can't chain anyway
		if ( element == null ) {
			return;
		}

		if ( !element.form && isContentEditable ) {
			element.form = this.closest( "form" )[ 0 ];
			element.name = this.attr( "name" );
		}

		if ( element.form == null ) {
			return;
		}

		if ( command ) {
			settings = $.data( element.form, "validator" ).settings;
			staticRules = settings.rules;
			existingRules = $.validator.staticRules( element );
			switch ( command ) {
			case "add":
				$.extend( existingRules, $.validator.normalizeRule( argument ) );

				// Remove messages from rules, but allow them to be set separately
				delete existingRules.messages;
				staticRules[ element.name ] = existingRules;
				if ( argument.messages ) {
					settings.messages[ element.name ] = $.extend( settings.messages[ element.name ], argument.messages );
				}
				break;
			case "remove":
				if ( !argument ) {
					delete staticRules[ element.name ];
					return existingRules;
				}
				filtered = {};
				$.each( argument.split( /\s/ ), function( index, method ) {
					filtered[ method ] = existingRules[ method ];
					delete existingRules[ method ];
				} );
				return filtered;
			}
		}

		data = $.validator.normalizeRules(
		$.extend(
			{},
			$.validator.classRules( element ),
			$.validator.attributeRules( element ),
			$.validator.dataRules( element ),
			$.validator.staticRules( element )
		), element );

		// Make sure required is at front
		if ( data.required ) {
			param = data.required;
			delete data.required;
			data = $.extend( { required: param }, data );
		}

		// Make sure remote is at back
		if ( data.remote ) {
			param = data.remote;
			delete data.remote;
			data = $.extend( data, { remote: param } );
		}

		return data;
	}
} );

// Custom selectors
$.extend( $.expr.pseudos || $.expr[ ":" ], {		// '|| $.expr[ ":" ]' here enables backwards compatibility to jQuery 1.7. Can be removed when dropping jQ 1.7.x support

	// https://jqueryvalidation.org/blank-selector/
	blank: function( a ) {
		return !$.trim( "" + $( a ).val() );
	},

	// https://jqueryvalidation.org/filled-selector/
	filled: function( a ) {
		var val = $( a ).val();
		return val !== null && !!$.trim( "" + val );
	},

	// https://jqueryvalidation.org/unchecked-selector/
	unchecked: function( a ) {
		return !$( a ).prop( "checked" );
	}
} );

// Constructor for validator
$.validator = function( options, form ) {
	this.settings = $.extend( true, {}, $.validator.defaults, options );
	this.currentForm = form;
	this.init();
};

// https://jqueryvalidation.org/jQuery.validator.format/
$.validator.format = function( source, params ) {
	if ( arguments.length === 1 ) {
		return function() {
			var args = $.makeArray( arguments );
			args.unshift( source );
			return $.validator.format.apply( this, args );
		};
	}
	if ( params === undefined ) {
		return source;
	}
	if ( arguments.length > 2 && params.constructor !== Array  ) {
		params = $.makeArray( arguments ).slice( 1 );
	}
	if ( params.constructor !== Array ) {
		params = [ params ];
	}
	$.each( params, function( i, n ) {
		source = source.replace( new RegExp( "\\{" + i + "\\}", "g" ), function() {
			return n;
		} );
	} );
	return source;
};

$.extend( $.validator, {

	defaults: {
		messages: {},
		groups: {},
		rules: {},
		errorClass: "error",
		pendingClass: "pending",
		validClass: "valid",
		errorElement: "label",
		focusCleanup: false,
		focusInvalid: true,
		errorContainer: $( [] ),
		errorLabelContainer: $( [] ),
		onsubmit: true,
		ignore: ":hidden",
		ignoreTitle: false,
		onfocusin: function( element ) {
			this.lastActive = element;

			// Hide error label and remove error class on focus if enabled
			if ( this.settings.focusCleanup ) {
				if ( this.settings.unhighlight ) {
					this.settings.unhighlight.call( this, element, this.settings.errorClass, this.settings.validClass );
				}
				this.hideThese( this.errorsFor( element ) );
			}
		},
		onfocusout: function( element ) {
			if ( !this.checkable( element ) && ( element.name in this.submitted || !this.optional( element ) ) ) {
				this.element( element );
			}
		},
		onkeyup: function( element, event ) {

			// Avoid revalidate the field when pressing one of the following keys
			// Shift       => 16
			// Ctrl        => 17
			// Alt         => 18
			// Caps lock   => 20
			// End         => 35
			// Home        => 36
			// Left arrow  => 37
			// Up arrow    => 38
			// Right arrow => 39
			// Down arrow  => 40
			// Insert      => 45
			// Num lock    => 144
			// AltGr key   => 225
			var excludedKeys = [
				16, 17, 18, 20, 35, 36, 37,
				38, 39, 40, 45, 144, 225
			];

			if ( event.which === 9 && this.elementValue( element ) === "" || $.inArray( event.keyCode, excludedKeys ) !== -1 ) {
				return;
			} else if ( element.name in this.submitted || element.name in this.invalid ) {
				this.element( element );
			}
		},
		onclick: function( element ) {

			// Click on selects, radiobuttons and checkboxes
			if ( element.name in this.submitted ) {
				this.element( element );

			// Or option elements, check parent select in that case
			} else if ( element.parentNode.name in this.submitted ) {
				this.element( element.parentNode );
			}
		},
		highlight: function( element, errorClass, validClass ) {
			if ( element.type === "radio" ) {
				this.findByName( element.name ).addClass( errorClass ).removeClass( validClass );
			} else {
				$( element ).addClass( errorClass ).removeClass( validClass );
			}
		},
		unhighlight: function( element, errorClass, validClass ) {
			if ( element.type === "radio" ) {
				this.findByName( element.name ).removeClass( errorClass ).addClass( validClass );
			} else {
				$( element ).removeClass( errorClass ).addClass( validClass );
			}
		}
	},

	// https://jqueryvalidation.org/jQuery.validator.setDefaults/
	setDefaults: function( settings ) {
		$.extend( $.validator.defaults, settings );
	},

	messages: {
		required: "This field is required.",
		remote: "Please fix this field.",
		email: "Please enter a valid email address.",
		url: "Please enter a valid URL.",
		date: "Please enter a valid date.",
		dateISO: "Please enter a valid date (ISO).",
		number: "Please enter a valid number.",
		digits: "Please enter only digits.",
		equalTo: "Please enter the same value again.",
		maxlength: $.validator.format( "Please enter no more than {0} characters." ),
		minlength: $.validator.format( "Please enter at least {0} characters." ),
		rangelength: $.validator.format( "Please enter a value between {0} and {1} characters long." ),
		range: $.validator.format( "Please enter a value between {0} and {1}." ),
		max: $.validator.format( "Please enter a value less than or equal to {0}." ),
		min: $.validator.format( "Please enter a value greater than or equal to {0}." ),
		step: $.validator.format( "Please enter a multiple of {0}." )
	},

	autoCreateRanges: false,

	prototype: {

		init: function() {
			this.labelContainer = $( this.settings.errorLabelContainer );
			this.errorContext = this.labelContainer.length && this.labelContainer || $( this.currentForm );
			this.containers = $( this.settings.errorContainer ).add( this.settings.errorLabelContainer );
			this.submitted = {};
			this.valueCache = {};
			this.pendingRequest = 0;
			this.pending = {};
			this.invalid = {};
			this.reset();

			var currentForm = this.currentForm,
				groups = ( this.groups = {} ),
				rules;
			$.each( this.settings.groups, function( key, value ) {
				if ( typeof value === "string" ) {
					value = value.split( /\s/ );
				}
				$.each( value, function( index, name ) {
					groups[ name ] = key;
				} );
			} );
			rules = this.settings.rules;
			$.each( rules, function( key, value ) {
				rules[ key ] = $.validator.normalizeRule( value );
			} );

			function delegate( event ) {
				var isContentEditable = typeof $( this ).attr( "contenteditable" ) !== "undefined" && $( this ).attr( "contenteditable" ) !== "false";

				// Set form expando on contenteditable
				if ( !this.form && isContentEditable ) {
					this.form = $( this ).closest( "form" )[ 0 ];
					this.name = $( this ).attr( "name" );
				}

				// Ignore the element if it belongs to another form. This will happen mainly
				// when setting the `form` attribute of an input to the id of another form.
				if ( currentForm !== this.form ) {
					return;
				}

				var validator = $.data( this.form, "validator" ),
					eventType = "on" + event.type.replace( /^validate/, "" ),
					settings = validator.settings;
				if ( settings[ eventType ] && !$( this ).is( settings.ignore ) ) {
					settings[ eventType ].call( validator, this, event );
				}
			}

			$( this.currentForm )
				.on( "focusin.validate focusout.validate keyup.validate",
					":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], " +
					"[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], " +
					"[type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], " +
					"[type='radio'], [type='checkbox'], [contenteditable], [type='button']", delegate )

				// Support: Chrome, oldIE
				// "select" is provided as event.target when clicking a option
				.on( "click.validate", "select, option, [type='radio'], [type='checkbox']", delegate );

			if ( this.settings.invalidHandler ) {
				$( this.currentForm ).on( "invalid-form.validate", this.settings.invalidHandler );
			}
		},

		// https://jqueryvalidation.org/Validator.form/
		form: function() {
			this.checkForm();
			$.extend( this.submitted, this.errorMap );
			this.invalid = $.extend( {}, this.errorMap );
			if ( !this.valid() ) {
				$( this.currentForm ).triggerHandler( "invalid-form", [ this ] );
			}
			this.showErrors();
			return this.valid();
		},

		checkForm: function() {
			this.prepareForm();
			for ( var i = 0, elements = ( this.currentElements = this.elements() ); elements[ i ]; i++ ) {
				this.check( elements[ i ] );
			}
			return this.valid();
		},

		// https://jqueryvalidation.org/Validator.element/
		element: function( element ) {
			var cleanElement = this.clean( element ),
				checkElement = this.validationTargetFor( cleanElement ),
				v = this,
				result = true,
				rs, group;

			if ( checkElement === undefined ) {
				delete this.invalid[ cleanElement.name ];
			} else {
				this.prepareElement( checkElement );
				this.currentElements = $( checkElement );

				// If this element is grouped, then validate all group elements already
				// containing a value
				group = this.groups[ checkElement.name ];
				if ( group ) {
					$.each( this.groups, function( name, testgroup ) {
						if ( testgroup === group && name !== checkElement.name ) {
							cleanElement = v.validationTargetFor( v.clean( v.findByName( name ) ) );
							if ( cleanElement && cleanElement.name in v.invalid ) {
								v.currentElements.push( cleanElement );
								result = v.check( cleanElement ) && result;
							}
						}
					} );
				}

				rs = this.check( checkElement ) !== false;
				result = result && rs;
				if ( rs ) {
					this.invalid[ checkElement.name ] = false;
				} else {
					this.invalid[ checkElement.name ] = true;
				}

				if ( !this.numberOfInvalids() ) {

					// Hide error containers on last error
					this.toHide = this.toHide.add( this.containers );
				}
				this.showErrors();

				// Add aria-invalid status for screen readers
				$( element ).attr( "aria-invalid", !rs );
			}

			return result;
		},

		// https://jqueryvalidation.org/Validator.showErrors/
		showErrors: function( errors ) {
			if ( errors ) {
				var validator = this;

				// Add items to error list and map
				$.extend( this.errorMap, errors );
				this.errorList = $.map( this.errorMap, function( message, name ) {
					return {
						message: message,
						element: validator.findByName( name )[ 0 ]
					};
				} );

				// Remove items from success list
				this.successList = $.grep( this.successList, function( element ) {
					return !( element.name in errors );
				} );
			}
			if ( this.settings.showErrors ) {
				this.settings.showErrors.call( this, this.errorMap, this.errorList );
			} else {
				this.defaultShowErrors();
			}
		},

		// https://jqueryvalidation.org/Validator.resetForm/
		resetForm: function() {
			if ( $.fn.resetForm ) {
				$( this.currentForm ).resetForm();
			}
			this.invalid = {};
			this.submitted = {};
			this.prepareForm();
			this.hideErrors();
			var elements = this.elements()
				.removeData( "previousValue" )
				.removeAttr( "aria-invalid" );

			this.resetElements( elements );
		},

		resetElements: function( elements ) {
			var i;

			if ( this.settings.unhighlight ) {
				for ( i = 0; elements[ i ]; i++ ) {
					this.settings.unhighlight.call( this, elements[ i ],
						this.settings.errorClass, "" );
					this.findByName( elements[ i ].name ).removeClass( this.settings.validClass );
				}
			} else {
				elements
					.removeClass( this.settings.errorClass )
					.removeClass( this.settings.validClass );
			}
		},

		numberOfInvalids: function() {
			return this.objectLength( this.invalid );
		},

		objectLength: function( obj ) {
			/* jshint unused: false */
			var count = 0,
				i;
			for ( i in obj ) {

				// This check allows counting elements with empty error
				// message as invalid elements
				if ( obj[ i ] !== undefined && obj[ i ] !== null && obj[ i ] !== false ) {
					count++;
				}
			}
			return count;
		},

		hideErrors: function() {
			this.hideThese( this.toHide );
		},

		hideThese: function( errors ) {
			errors.not( this.containers ).text( "" );
			this.addWrapper( errors ).hide();
		},

		valid: function() {
			return this.size() === 0;
		},

		size: function() {
			return this.errorList.length;
		},

		focusInvalid: function() {
			if ( this.settings.focusInvalid ) {
				try {
					$( this.findLastActive() || this.errorList.length && this.errorList[ 0 ].element || [] )
					.filter( ":visible" )
					.focus()

					// Manually trigger focusin event; without it, focusin handler isn't called, findLastActive won't have anything to find
					.trigger( "focusin" );
				} catch ( e ) {

					// Ignore IE throwing errors when focusing hidden elements
				}
			}
		},

		findLastActive: function() {
			var lastActive = this.lastActive;
			return lastActive && $.grep( this.errorList, function( n ) {
				return n.element.name === lastActive.name;
			} ).length === 1 && lastActive;
		},

		elements: function() {
			var validator = this,
				rulesCache = {};

			// Select all valid inputs inside the form (no submit or reset buttons)
			return $( this.currentForm )
			.find( "input, select, textarea, [contenteditable]" )
			.not( ":submit, :reset, :image, :disabled" )
			.not( this.settings.ignore )
			.filter( function() {
				var name = this.name || $( this ).attr( "name" ); // For contenteditable
				var isContentEditable = typeof $( this ).attr( "contenteditable" ) !== "undefined" && $( this ).attr( "contenteditable" ) !== "false";

				if ( !name && validator.settings.debug && window.console ) {
					console.error( "%o has no name assigned", this );
				}

				// Set form expando on contenteditable
				if ( isContentEditable ) {
					this.form = $( this ).closest( "form" )[ 0 ];
					this.name = name;
				}

				// Ignore elements that belong to other/nested forms
				if ( this.form !== validator.currentForm ) {
					return false;
				}

				// Select only the first element for each name, and only those with rules specified
				if ( name in rulesCache || !validator.objectLength( $( this ).rules() ) ) {
					return false;
				}

				rulesCache[ name ] = true;
				return true;
			} );
		},

		clean: function( selector ) {
			return $( selector )[ 0 ];
		},

		errors: function() {
			var errorClass = this.settings.errorClass.split( " " ).join( "." );
			return $( this.settings.errorElement + "." + errorClass, this.errorContext );
		},

		resetInternals: function() {
			this.successList = [];
			this.errorList = [];
			this.errorMap = {};
			this.toShow = $( [] );
			this.toHide = $( [] );
		},

		reset: function() {
			this.resetInternals();
			this.currentElements = $( [] );
		},

		prepareForm: function() {
			this.reset();
			this.toHide = this.errors().add( this.containers );
		},

		prepareElement: function( element ) {
			this.reset();
			this.toHide = this.errorsFor( element );
		},

		elementValue: function( element ) {
			var $element = $( element ),
				type = element.type,
				isContentEditable = typeof $element.attr( "contenteditable" ) !== "undefined" && $element.attr( "contenteditable" ) !== "false",
				val, idx;

			if ( type === "radio" || type === "checkbox" ) {
				return this.findByName( element.name ).filter( ":checked" ).val();
			} else if ( type === "number" && typeof element.validity !== "undefined" ) {
				return element.validity.badInput ? "NaN" : $element.val();
			}

			if ( isContentEditable ) {
				val = $element.text();
			} else {
				val = $element.val();
			}

			if ( type === "file" ) {

				// Modern browser (chrome & safari)
				if ( val.substr( 0, 12 ) === "C:\\fakepath\\" ) {
					return val.substr( 12 );
				}

				// Legacy browsers
				// Unix-based path
				idx = val.lastIndexOf( "/" );
				if ( idx >= 0 ) {
					return val.substr( idx + 1 );
				}

				// Windows-based path
				idx = val.lastIndexOf( "\\" );
				if ( idx >= 0 ) {
					return val.substr( idx + 1 );
				}

				// Just the file name
				return val;
			}

			if ( typeof val === "string" ) {
				return val.replace( /\r/g, "" );
			}
			return val;
		},

		check: function( element ) {
			element = this.validationTargetFor( this.clean( element ) );

			var rules = $( element ).rules(),
				rulesCount = $.map( rules, function( n, i ) {
					return i;
				} ).length,
				dependencyMismatch = false,
				val = this.elementValue( element ),
				result, method, rule, normalizer;

			// Prioritize the local normalizer defined for this element over the global one
			// if the former exists, otherwise user the global one in case it exists.
			if ( typeof rules.normalizer === "function" ) {
				normalizer = rules.normalizer;
			} else if (	typeof this.settings.normalizer === "function" ) {
				normalizer = this.settings.normalizer;
			}

			// If normalizer is defined, then call it to retreive the changed value instead
			// of using the real one.
			// Note that `this` in the normalizer is `element`.
			if ( normalizer ) {
				val = normalizer.call( element, val );

				// Delete the normalizer from rules to avoid treating it as a pre-defined method.
				delete rules.normalizer;
			}

			for ( method in rules ) {
				rule = { method: method, parameters: rules[ method ] };
				try {
					result = $.validator.methods[ method ].call( this, val, element, rule.parameters );

					// If a method indicates that the field is optional and therefore valid,
					// don't mark it as valid when there are no other rules
					if ( result === "dependency-mismatch" && rulesCount === 1 ) {
						dependencyMismatch = true;
						continue;
					}
					dependencyMismatch = false;

					if ( result === "pending" ) {
						this.toHide = this.toHide.not( this.errorsFor( element ) );
						return;
					}

					if ( !result ) {
						this.formatAndAdd( element, rule );
						return false;
					}
				} catch ( e ) {
					if ( this.settings.debug && window.console ) {
						console.log( "Exception occurred when checking element " + element.id + ", check the '" + rule.method + "' method.", e );
					}
					if ( e instanceof TypeError ) {
						e.message += ".  Exception occurred when checking element " + element.id + ", check the '" + rule.method + "' method.";
					}

					throw e;
				}
			}
			if ( dependencyMismatch ) {
				return;
			}
			if ( this.objectLength( rules ) ) {
				this.successList.push( element );
			}
			return true;
		},

		// Return the custom message for the given element and validation method
		// specified in the element's HTML5 data attribute
		// return the generic message if present and no method specific message is present
		customDataMessage: function( element, method ) {
			return $( element ).data( "msg" + method.charAt( 0 ).toUpperCase() +
				method.substring( 1 ).toLowerCase() ) || $( element ).data( "msg" );
		},

		// Return the custom message for the given element name and validation method
		customMessage: function( name, method ) {
			var m = this.settings.messages[ name ];
			return m && ( m.constructor === String ? m : m[ method ] );
		},

		// Return the first defined argument, allowing empty strings
		findDefined: function() {
			for ( var i = 0; i < arguments.length; i++ ) {
				if ( arguments[ i ] !== undefined ) {
					return arguments[ i ];
				}
			}
			return undefined;
		},

		// The second parameter 'rule' used to be a string, and extended to an object literal
		// of the following form:
		// rule = {
		//     method: "method name",
		//     parameters: "the given method parameters"
		// }
		//
		// The old behavior still supported, kept to maintain backward compatibility with
		// old code, and will be removed in the next major release.
		defaultMessage: function( element, rule ) {
			if ( typeof rule === "string" ) {
				rule = { method: rule };
			}

			var message = this.findDefined(
					this.customMessage( element.name, rule.method ),
					this.customDataMessage( element, rule.method ),

					// 'title' is never undefined, so handle empty string as undefined
					!this.settings.ignoreTitle && element.title || undefined,
					$.validator.messages[ rule.method ],
					"<strong>Warning: No message defined for " + element.name + "</strong>"
				),
				theregex = /\$?\{(\d+)\}/g;
			if ( typeof message === "function" ) {
				message = message.call( this, rule.parameters, element );
			} else if ( theregex.test( message ) ) {
				message = $.validator.format( message.replace( theregex, "{$1}" ), rule.parameters );
			}

			return message;
		},

		formatAndAdd: function( element, rule ) {
			var message = this.defaultMessage( element, rule );

			this.errorList.push( {
				message: message,
				element: element,
				method: rule.method
			} );

			this.errorMap[ element.name ] = message;
			this.submitted[ element.name ] = message;
		},

		addWrapper: function( toToggle ) {
			if ( this.settings.wrapper ) {
				toToggle = toToggle.add( toToggle.parent( this.settings.wrapper ) );
			}
			return toToggle;
		},

		defaultShowErrors: function() {
			var i, elements, error;
			for ( i = 0; this.errorList[ i ]; i++ ) {
				error = this.errorList[ i ];
				if ( this.settings.highlight ) {
					this.settings.highlight.call( this, error.element, this.settings.errorClass, this.settings.validClass );
				}
				this.showLabel( error.element, error.message );
			}
			if ( this.errorList.length ) {
				this.toShow = this.toShow.add( this.containers );
			}
			if ( this.settings.success ) {
				for ( i = 0; this.successList[ i ]; i++ ) {
					this.showLabel( this.successList[ i ] );
				}
			}
			if ( this.settings.unhighlight ) {
				for ( i = 0, elements = this.validElements(); elements[ i ]; i++ ) {
					this.settings.unhighlight.call( this, elements[ i ], this.settings.errorClass, this.settings.validClass );
				}
			}
			this.toHide = this.toHide.not( this.toShow );
			this.hideErrors();
			this.addWrapper( this.toShow ).show();
		},

		validElements: function() {
			return this.currentElements.not( this.invalidElements() );
		},

		invalidElements: function() {
			return $( this.errorList ).map( function() {
				return this.element;
			} );
		},

		showLabel: function( element, message ) {
			var place, group, errorID, v,
				error = this.errorsFor( element ),
				elementID = this.idOrName( element ),
				describedBy = $( element ).attr( "aria-describedby" );

			if ( error.length ) {

				// Refresh error/success class
				error.removeClass( this.settings.validClass ).addClass( this.settings.errorClass );

				// Replace message on existing label
				error.html( message );
			} else {

				// Create error element
				error = $( "<" + this.settings.errorElement + ">" )
					.attr( "id", elementID + "-error" )
					.addClass( this.settings.errorClass )
					.html( message || "" );

				// Maintain reference to the element to be placed into the DOM
				place = error;
				if ( this.settings.wrapper ) {

					// Make sure the element is visible, even in IE
					// actually showing the wrapped element is handled elsewhere
					place = error.hide().show().wrap( "<" + this.settings.wrapper + "/>" ).parent();
				}
				if ( this.labelContainer.length ) {
					this.labelContainer.append( place );
				} else if ( this.settings.errorPlacement ) {
					this.settings.errorPlacement.call( this, place, $( element ) );
				} else {
					place.insertAfter( element );
				}

				// Link error back to the element
				if ( error.is( "label" ) ) {

					// If the error is a label, then associate using 'for'
					error.attr( "for", elementID );

					// If the element is not a child of an associated label, then it's necessary
					// to explicitly apply aria-describedby
				} else if ( error.parents( "label[for='" + this.escapeCssMeta( elementID ) + "']" ).length === 0 ) {
					errorID = error.attr( "id" );

					// Respect existing non-error aria-describedby
					if ( !describedBy ) {
						describedBy = errorID;
					} else if ( !describedBy.match( new RegExp( "\\b" + this.escapeCssMeta( errorID ) + "\\b" ) ) ) {

						// Add to end of list if not already present
						describedBy += " " + errorID;
					}
					$( element ).attr( "aria-describedby", describedBy );

					// If this element is grouped, then assign to all elements in the same group
					group = this.groups[ element.name ];
					if ( group ) {
						v = this;
						$.each( v.groups, function( name, testgroup ) {
							if ( testgroup === group ) {
								$( "[name='" + v.escapeCssMeta( name ) + "']", v.currentForm )
									.attr( "aria-describedby", error.attr( "id" ) );
							}
						} );
					}
				}
			}
			if ( !message && this.settings.success ) {
				error.text( "" );
				if ( typeof this.settings.success === "string" ) {
					error.addClass( this.settings.success );
				} else {
					this.settings.success( error, element );
				}
			}
			this.toShow = this.toShow.add( error );
		},

		errorsFor: function( element ) {
			var name = this.escapeCssMeta( this.idOrName( element ) ),
				describer = $( element ).attr( "aria-describedby" ),
				selector = "label[for='" + name + "'], label[for='" + name + "'] *";

			// 'aria-describedby' should directly reference the error element
			if ( describer ) {
				selector = selector + ", #" + this.escapeCssMeta( describer )
					.replace( /\s+/g, ", #" );
			}

			return this
				.errors()
				.filter( selector );
		},

		// See https://api.jquery.com/category/selectors/, for CSS
		// meta-characters that should be escaped in order to be used with JQuery
		// as a literal part of a name/id or any selector.
		escapeCssMeta: function( string ) {
			return string.replace( /([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g, "\\$1" );
		},

		idOrName: function( element ) {
			return this.groups[ element.name ] || ( this.checkable( element ) ? element.name : element.id || element.name );
		},

		validationTargetFor: function( element ) {

			// If radio/checkbox, validate first element in group instead
			if ( this.checkable( element ) ) {
				element = this.findByName( element.name );
			}

			// Always apply ignore filter
			return $( element ).not( this.settings.ignore )[ 0 ];
		},

		checkable: function( element ) {
			return ( /radio|checkbox/i ).test( element.type );
		},

		findByName: function( name ) {
			return $( this.currentForm ).find( "[name='" + this.escapeCssMeta( name ) + "']" );
		},

		getLength: function( value, element ) {
			switch ( element.nodeName.toLowerCase() ) {
			case "select":
				return $( "option:selected", element ).length;
			case "input":
				if ( this.checkable( element ) ) {
					return this.findByName( element.name ).filter( ":checked" ).length;
				}
			}
			return value.length;
		},

		depend: function( param, element ) {
			return this.dependTypes[ typeof param ] ? this.dependTypes[ typeof param ]( param, element ) : true;
		},

		dependTypes: {
			"boolean": function( param ) {
				return param;
			},
			"string": function( param, element ) {
				return !!$( param, element.form ).length;
			},
			"function": function( param, element ) {
				return param( element );
			}
		},

		optional: function( element ) {
			var val = this.elementValue( element );
			return !$.validator.methods.required.call( this, val, element ) && "dependency-mismatch";
		},

		startRequest: function( element ) {
			if ( !this.pending[ element.name ] ) {
				this.pendingRequest++;
				$( element ).addClass( this.settings.pendingClass );
				this.pending[ element.name ] = true;
			}
		},

		stopRequest: function( element, valid ) {
			this.pendingRequest--;

			// Sometimes synchronization fails, make sure pendingRequest is never < 0
			if ( this.pendingRequest < 0 ) {
				this.pendingRequest = 0;
			}
			delete this.pending[ element.name ];
			$( element ).removeClass( this.settings.pendingClass );
			if ( valid && this.pendingRequest === 0 && this.formSubmitted && this.form() ) {
				$( this.currentForm ).submit();

				// Remove the hidden input that was used as a replacement for the
				// missing submit button. The hidden input is added by `handle()`
				// to ensure that the value of the used submit button is passed on
				// for scripted submits triggered by this method
				if ( this.submitButton ) {
					$( "input:hidden[name='" + this.submitButton.name + "']", this.currentForm ).remove();
				}

				this.formSubmitted = false;
			} else if ( !valid && this.pendingRequest === 0 && this.formSubmitted ) {
				$( this.currentForm ).triggerHandler( "invalid-form", [ this ] );
				this.formSubmitted = false;
			}
		},

		previousValue: function( element, method ) {
			method = typeof method === "string" && method || "remote";

			return $.data( element, "previousValue" ) || $.data( element, "previousValue", {
				old: null,
				valid: true,
				message: this.defaultMessage( element, { method: method } )
			} );
		},

		// Cleans up all forms and elements, removes validator-specific events
		destroy: function() {
			this.resetForm();

			$( this.currentForm )
				.off( ".validate" )
				.removeData( "validator" )
				.find( ".validate-equalTo-blur" )
					.off( ".validate-equalTo" )
					.removeClass( "validate-equalTo-blur" )
				.find( ".validate-lessThan-blur" )
					.off( ".validate-lessThan" )
					.removeClass( "validate-lessThan-blur" )
				.find( ".validate-lessThanEqual-blur" )
					.off( ".validate-lessThanEqual" )
					.removeClass( "validate-lessThanEqual-blur" )
				.find( ".validate-greaterThanEqual-blur" )
					.off( ".validate-greaterThanEqual" )
					.removeClass( "validate-greaterThanEqual-blur" )
				.find( ".validate-greaterThan-blur" )
					.off( ".validate-greaterThan" )
					.removeClass( "validate-greaterThan-blur" );
		}

	},

	classRuleSettings: {
		required: { required: true },
		email: { email: true },
		url: { url: true },
		date: { date: true },
		dateISO: { dateISO: true },
		number: { number: true },
		digits: { digits: true },
		creditcard: { creditcard: true }
	},

	addClassRules: function( className, rules ) {
		if ( className.constructor === String ) {
			this.classRuleSettings[ className ] = rules;
		} else {
			$.extend( this.classRuleSettings, className );
		}
	},

	classRules: function( element ) {
		var rules = {},
			classes = $( element ).attr( "class" );

		if ( classes ) {
			$.each( classes.split( " " ), function() {
				if ( this in $.validator.classRuleSettings ) {
					$.extend( rules, $.validator.classRuleSettings[ this ] );
				}
			} );
		}
		return rules;
	},

	normalizeAttributeRule: function( rules, type, method, value ) {

		// Convert the value to a number for number inputs, and for text for backwards compability
		// allows type="date" and others to be compared as strings
		if ( /min|max|step/.test( method ) && ( type === null || /number|range|text/.test( type ) ) ) {
			value = Number( value );

			// Support Opera Mini, which returns NaN for undefined minlength
			if ( isNaN( value ) ) {
				value = undefined;
			}
		}

		if ( value || value === 0 ) {
			rules[ method ] = value;
		} else if ( type === method && type !== "range" ) {

			// Exception: the jquery validate 'range' method
			// does not test for the html5 'range' type
			rules[ method ] = true;
		}
	},

	attributeRules: function( element ) {
		var rules = {},
			$element = $( element ),
			type = element.getAttribute( "type" ),
			method, value;

		for ( method in $.validator.methods ) {

			// Support for <input required> in both html5 and older browsers
			if ( method === "required" ) {
				value = element.getAttribute( method );

				// Some browsers return an empty string for the required attribute
				// and non-HTML5 browsers might have required="" markup
				if ( value === "" ) {
					value = true;
				}

				// Force non-HTML5 browsers to return bool
				value = !!value;
			} else {
				value = $element.attr( method );
			}

			this.normalizeAttributeRule( rules, type, method, value );
		}

		// 'maxlength' may be returned as -1, 2147483647 ( IE ) and 524288 ( safari ) for text inputs
		if ( rules.maxlength && /-1|2147483647|524288/.test( rules.maxlength ) ) {
			delete rules.maxlength;
		}

		return rules;
	},

	dataRules: function( element ) {
		var rules = {},
			$element = $( element ),
			type = element.getAttribute( "type" ),
			method, value;

		for ( method in $.validator.methods ) {
			value = $element.data( "rule" + method.charAt( 0 ).toUpperCase() + method.substring( 1 ).toLowerCase() );

			// Cast empty attributes like `data-rule-required` to `true`
			if ( value === "" ) {
				value = true;
			}

			this.normalizeAttributeRule( rules, type, method, value );
		}
		return rules;
	},

	staticRules: function( element ) {
		var rules = {},
			validator = $.data( element.form, "validator" );

		if ( validator.settings.rules ) {
			rules = $.validator.normalizeRule( validator.settings.rules[ element.name ] ) || {};
		}
		return rules;
	},

	normalizeRules: function( rules, element ) {

		// Handle dependency check
		$.each( rules, function( prop, val ) {

			// Ignore rule when param is explicitly false, eg. required:false
			if ( val === false ) {
				delete rules[ prop ];
				return;
			}
			if ( val.param || val.depends ) {
				var keepRule = true;
				switch ( typeof val.depends ) {
				case "string":
					keepRule = !!$( val.depends, element.form ).length;
					break;
				case "function":
					keepRule = val.depends.call( element, element );
					break;
				}
				if ( keepRule ) {
					rules[ prop ] = val.param !== undefined ? val.param : true;
				} else {
					$.data( element.form, "validator" ).resetElements( $( element ) );
					delete rules[ prop ];
				}
			}
		} );

		// Evaluate parameters
		$.each( rules, function( rule, parameter ) {
			rules[ rule ] = $.isFunction( parameter ) && rule !== "normalizer" ? parameter( element ) : parameter;
		} );

		// Clean number parameters
		$.each( [ "minlength", "maxlength" ], function() {
			if ( rules[ this ] ) {
				rules[ this ] = Number( rules[ this ] );
			}
		} );
		$.each( [ "rangelength", "range" ], function() {
			var parts;
			if ( rules[ this ] ) {
				if ( $.isArray( rules[ this ] ) ) {
					rules[ this ] = [ Number( rules[ this ][ 0 ] ), Number( rules[ this ][ 1 ] ) ];
				} else if ( typeof rules[ this ] === "string" ) {
					parts = rules[ this ].replace( /[\[\]]/g, "" ).split( /[\s,]+/ );
					rules[ this ] = [ Number( parts[ 0 ] ), Number( parts[ 1 ] ) ];
				}
			}
		} );

		if ( $.validator.autoCreateRanges ) {

			// Auto-create ranges
			if ( rules.min != null && rules.max != null ) {
				rules.range = [ rules.min, rules.max ];
				delete rules.min;
				delete rules.max;
			}
			if ( rules.minlength != null && rules.maxlength != null ) {
				rules.rangelength = [ rules.minlength, rules.maxlength ];
				delete rules.minlength;
				delete rules.maxlength;
			}
		}

		return rules;
	},

	// Converts a simple string to a {string: true} rule, e.g., "required" to {required:true}
	normalizeRule: function( data ) {
		if ( typeof data === "string" ) {
			var transformed = {};
			$.each( data.split( /\s/ ), function() {
				transformed[ this ] = true;
			} );
			data = transformed;
		}
		return data;
	},

	// https://jqueryvalidation.org/jQuery.validator.addMethod/
	addMethod: function( name, method, message ) {
		$.validator.methods[ name ] = method;
		$.validator.messages[ name ] = message !== undefined ? message : $.validator.messages[ name ];
		if ( method.length < 3 ) {
			$.validator.addClassRules( name, $.validator.normalizeRule( name ) );
		}
	},

	// https://jqueryvalidation.org/jQuery.validator.methods/
	methods: {

		// https://jqueryvalidation.org/required-method/
		required: function( value, element, param ) {

			// Check if dependency is met
			if ( !this.depend( param, element ) ) {
				return "dependency-mismatch";
			}
			if ( element.nodeName.toLowerCase() === "select" ) {

				// Could be an array for select-multiple or a string, both are fine this way
				var val = $( element ).val();
				return val && val.length > 0;
			}
			if ( this.checkable( element ) ) {
				return this.getLength( value, element ) > 0;
			}
			return value !== undefined && value !== null && value.length > 0;
		},

		// https://jqueryvalidation.org/email-method/
		email: function( value, element ) {

			// From https://html.spec.whatwg.org/multipage/forms.html#valid-e-mail-address
			// Retrieved 2014-01-14
			// If you have a problem with this implementation, report a bug against the above spec
			// Or use custom methods to implement your own email validation
			return this.optional( element ) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test( value );
		},

		// https://jqueryvalidation.org/url-method/
		url: function( value, element ) {

			// Copyright (c) 2010-2013 Diego Perini, MIT licensed
			// https://gist.github.com/dperini/729294
			// see also https://mathiasbynens.be/demo/url-regex
			// modified to allow protocol-relative URLs
			return this.optional( element ) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test( value );
		},

		// https://jqueryvalidation.org/date-method/
		date: ( function() {
			var called = false;

			return function( value, element ) {
				if ( !called ) {
					called = true;
					if ( this.settings.debug && window.console ) {
						console.warn(
							"The `date` method is deprecated and will be removed in version '2.0.0'.\n" +
							"Please don't use it, since it relies on the Date constructor, which\n" +
							"behaves very differently across browsers and locales. Use `dateISO`\n" +
							"instead or one of the locale specific methods in `localizations/`\n" +
							"and `additional-methods.js`."
						);
					}
				}

				return this.optional( element ) || !/Invalid|NaN/.test( new Date( value ).toString() );
			};
		}() ),

		// https://jqueryvalidation.org/dateISO-method/
		dateISO: function( value, element ) {
			return this.optional( element ) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test( value );
		},

		// https://jqueryvalidation.org/number-method/
		number: function( value, element ) {
			return this.optional( element ) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test( value );
		},

		// https://jqueryvalidation.org/digits-method/
		digits: function( value, element ) {
			return this.optional( element ) || /^\d+$/.test( value );
		},

		// https://jqueryvalidation.org/minlength-method/
		minlength: function( value, element, param ) {
			var length = $.isArray( value ) ? value.length : this.getLength( value, element );
			return this.optional( element ) || length >= param;
		},

		// https://jqueryvalidation.org/maxlength-method/
		maxlength: function( value, element, param ) {
			var length = $.isArray( value ) ? value.length : this.getLength( value, element );
			return this.optional( element ) || length <= param;
		},

		// https://jqueryvalidation.org/rangelength-method/
		rangelength: function( value, element, param ) {
			var length = $.isArray( value ) ? value.length : this.getLength( value, element );
			return this.optional( element ) || ( length >= param[ 0 ] && length <= param[ 1 ] );
		},

		// https://jqueryvalidation.org/min-method/
		min: function( value, element, param ) {
			return this.optional( element ) || value >= param;
		},

		// https://jqueryvalidation.org/max-method/
		max: function( value, element, param ) {
			return this.optional( element ) || value <= param;
		},

		// https://jqueryvalidation.org/range-method/
		range: function( value, element, param ) {
			return this.optional( element ) || ( value >= param[ 0 ] && value <= param[ 1 ] );
		},

		// https://jqueryvalidation.org/step-method/
		step: function( value, element, param ) {
			var type = $( element ).attr( "type" ),
				errorMessage = "Step attribute on input type " + type + " is not supported.",
				supportedTypes = [ "text", "number", "range" ],
				re = new RegExp( "\\b" + type + "\\b" ),
				notSupported = type && !re.test( supportedTypes.join() ),
				decimalPlaces = function( num ) {
					var match = ( "" + num ).match( /(?:\.(\d+))?$/ );
					if ( !match ) {
						return 0;
					}

					// Number of digits right of decimal point.
					return match[ 1 ] ? match[ 1 ].length : 0;
				},
				toInt = function( num ) {
					return Math.round( num * Math.pow( 10, decimals ) );
				},
				valid = true,
				decimals;

			// Works only for text, number and range input types
			// TODO find a way to support input types date, datetime, datetime-local, month, time and week
			if ( notSupported ) {
				throw new Error( errorMessage );
			}

			decimals = decimalPlaces( param );

			// Value can't have too many decimals
			if ( decimalPlaces( value ) > decimals || toInt( value ) % toInt( param ) !== 0 ) {
				valid = false;
			}

			return this.optional( element ) || valid;
		},

		// https://jqueryvalidation.org/equalTo-method/
		equalTo: function( value, element, param ) {

			// Bind to the blur event of the target in order to revalidate whenever the target field is updated
			var target = $( param );
			if ( this.settings.onfocusout && target.not( ".validate-equalTo-blur" ).length ) {
				target.addClass( "validate-equalTo-blur" ).on( "blur.validate-equalTo", function() {
					$( element ).valid();
				} );
			}
			return value === target.val();
		},

		// https://jqueryvalidation.org/remote-method/
		remote: function( value, element, param, method ) {
			if ( this.optional( element ) ) {
				return "dependency-mismatch";
			}

			method = typeof method === "string" && method || "remote";

			var previous = this.previousValue( element, method ),
				validator, data, optionDataString;

			if ( !this.settings.messages[ element.name ] ) {
				this.settings.messages[ element.name ] = {};
			}
			previous.originalMessage = previous.originalMessage || this.settings.messages[ element.name ][ method ];
			this.settings.messages[ element.name ][ method ] = previous.message;

			param = typeof param === "string" && { url: param } || param;
			optionDataString = $.param( $.extend( { data: value }, param.data ) );
			if ( previous.old === optionDataString ) {
				return previous.valid;
			}

			previous.old = optionDataString;
			validator = this;
			this.startRequest( element );
			data = {};
			data[ element.name ] = value;
			$.ajax( $.extend( true, {
				mode: "abort",
				port: "validate" + element.name,
				dataType: "json",
				data: data,
				context: validator.currentForm,
				success: function( response ) {
					var valid = response === true || response === "true",
						errors, message, submitted;

					validator.settings.messages[ element.name ][ method ] = previous.originalMessage;
					if ( valid ) {
						submitted = validator.formSubmitted;
						validator.resetInternals();
						validator.toHide = validator.errorsFor( element );
						validator.formSubmitted = submitted;
						validator.successList.push( element );
						validator.invalid[ element.name ] = false;
						validator.showErrors();
					} else {
						errors = {};
						message = response || validator.defaultMessage( element, { method: method, parameters: value } );
						errors[ element.name ] = previous.message = message;
						validator.invalid[ element.name ] = true;
						validator.showErrors( errors );
					}
					previous.valid = valid;
					validator.stopRequest( element, valid );
				}
			}, param ) );
			return "pending";
		}
	}

} );

// Ajax mode: abort
// usage: $.ajax({ mode: "abort"[, port: "uniqueport"]});
// if mode:"abort" is used, the previous request on that port (port can be undefined) is aborted via XMLHttpRequest.abort()

var pendingRequests = {},
	ajax;

// Use a prefilter if available (1.5+)
if ( $.ajaxPrefilter ) {
	$.ajaxPrefilter( function( settings, _, xhr ) {
		var port = settings.port;
		if ( settings.mode === "abort" ) {
			if ( pendingRequests[ port ] ) {
				pendingRequests[ port ].abort();
			}
			pendingRequests[ port ] = xhr;
		}
	} );
} else {

	// Proxy ajax
	ajax = $.ajax;
	$.ajax = function( settings ) {
		var mode = ( "mode" in settings ? settings : $.ajaxSettings ).mode,
			port = ( "port" in settings ? settings : $.ajaxSettings ).port;
		if ( mode === "abort" ) {
			if ( pendingRequests[ port ] ) {
				pendingRequests[ port ].abort();
			}
			pendingRequests[ port ] = ajax.apply( this, arguments );
			return pendingRequests[ port ];
		}
		return ajax.apply( this, arguments );
	};
}
return $;
}));

/***/ }),

/***/ "./node_modules/moment/locale sync recursive ^\\.\\/.*$":
/*!**************************************************!*\
  !*** ./node_modules/moment/locale sync ^\.\/.*$ ***!
  \**************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var map = {
	"./af": "./node_modules/moment/locale/af.js",
	"./af.js": "./node_modules/moment/locale/af.js",
	"./ar": "./node_modules/moment/locale/ar.js",
	"./ar-dz": "./node_modules/moment/locale/ar-dz.js",
	"./ar-dz.js": "./node_modules/moment/locale/ar-dz.js",
	"./ar-kw": "./node_modules/moment/locale/ar-kw.js",
	"./ar-kw.js": "./node_modules/moment/locale/ar-kw.js",
	"./ar-ly": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ly.js": "./node_modules/moment/locale/ar-ly.js",
	"./ar-ma": "./node_modules/moment/locale/ar-ma.js",
	"./ar-ma.js": "./node_modules/moment/locale/ar-ma.js",
	"./ar-sa": "./node_modules/moment/locale/ar-sa.js",
	"./ar-sa.js": "./node_modules/moment/locale/ar-sa.js",
	"./ar-tn": "./node_modules/moment/locale/ar-tn.js",
	"./ar-tn.js": "./node_modules/moment/locale/ar-tn.js",
	"./ar.js": "./node_modules/moment/locale/ar.js",
	"./az": "./node_modules/moment/locale/az.js",
	"./az.js": "./node_modules/moment/locale/az.js",
	"./be": "./node_modules/moment/locale/be.js",
	"./be.js": "./node_modules/moment/locale/be.js",
	"./bg": "./node_modules/moment/locale/bg.js",
	"./bg.js": "./node_modules/moment/locale/bg.js",
	"./bm": "./node_modules/moment/locale/bm.js",
	"./bm.js": "./node_modules/moment/locale/bm.js",
	"./bn": "./node_modules/moment/locale/bn.js",
	"./bn.js": "./node_modules/moment/locale/bn.js",
	"./bo": "./node_modules/moment/locale/bo.js",
	"./bo.js": "./node_modules/moment/locale/bo.js",
	"./br": "./node_modules/moment/locale/br.js",
	"./br.js": "./node_modules/moment/locale/br.js",
	"./bs": "./node_modules/moment/locale/bs.js",
	"./bs.js": "./node_modules/moment/locale/bs.js",
	"./ca": "./node_modules/moment/locale/ca.js",
	"./ca.js": "./node_modules/moment/locale/ca.js",
	"./cs": "./node_modules/moment/locale/cs.js",
	"./cs.js": "./node_modules/moment/locale/cs.js",
	"./cv": "./node_modules/moment/locale/cv.js",
	"./cv.js": "./node_modules/moment/locale/cv.js",
	"./cy": "./node_modules/moment/locale/cy.js",
	"./cy.js": "./node_modules/moment/locale/cy.js",
	"./da": "./node_modules/moment/locale/da.js",
	"./da.js": "./node_modules/moment/locale/da.js",
	"./de": "./node_modules/moment/locale/de.js",
	"./de-at": "./node_modules/moment/locale/de-at.js",
	"./de-at.js": "./node_modules/moment/locale/de-at.js",
	"./de-ch": "./node_modules/moment/locale/de-ch.js",
	"./de-ch.js": "./node_modules/moment/locale/de-ch.js",
	"./de.js": "./node_modules/moment/locale/de.js",
	"./dv": "./node_modules/moment/locale/dv.js",
	"./dv.js": "./node_modules/moment/locale/dv.js",
	"./el": "./node_modules/moment/locale/el.js",
	"./el.js": "./node_modules/moment/locale/el.js",
	"./en-SG": "./node_modules/moment/locale/en-SG.js",
	"./en-SG.js": "./node_modules/moment/locale/en-SG.js",
	"./en-au": "./node_modules/moment/locale/en-au.js",
	"./en-au.js": "./node_modules/moment/locale/en-au.js",
	"./en-ca": "./node_modules/moment/locale/en-ca.js",
	"./en-ca.js": "./node_modules/moment/locale/en-ca.js",
	"./en-gb": "./node_modules/moment/locale/en-gb.js",
	"./en-gb.js": "./node_modules/moment/locale/en-gb.js",
	"./en-ie": "./node_modules/moment/locale/en-ie.js",
	"./en-ie.js": "./node_modules/moment/locale/en-ie.js",
	"./en-il": "./node_modules/moment/locale/en-il.js",
	"./en-il.js": "./node_modules/moment/locale/en-il.js",
	"./en-nz": "./node_modules/moment/locale/en-nz.js",
	"./en-nz.js": "./node_modules/moment/locale/en-nz.js",
	"./eo": "./node_modules/moment/locale/eo.js",
	"./eo.js": "./node_modules/moment/locale/eo.js",
	"./es": "./node_modules/moment/locale/es.js",
	"./es-do": "./node_modules/moment/locale/es-do.js",
	"./es-do.js": "./node_modules/moment/locale/es-do.js",
	"./es-us": "./node_modules/moment/locale/es-us.js",
	"./es-us.js": "./node_modules/moment/locale/es-us.js",
	"./es.js": "./node_modules/moment/locale/es.js",
	"./et": "./node_modules/moment/locale/et.js",
	"./et.js": "./node_modules/moment/locale/et.js",
	"./eu": "./node_modules/moment/locale/eu.js",
	"./eu.js": "./node_modules/moment/locale/eu.js",
	"./fa": "./node_modules/moment/locale/fa.js",
	"./fa.js": "./node_modules/moment/locale/fa.js",
	"./fi": "./node_modules/moment/locale/fi.js",
	"./fi.js": "./node_modules/moment/locale/fi.js",
	"./fo": "./node_modules/moment/locale/fo.js",
	"./fo.js": "./node_modules/moment/locale/fo.js",
	"./fr": "./node_modules/moment/locale/fr.js",
	"./fr-ca": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ca.js": "./node_modules/moment/locale/fr-ca.js",
	"./fr-ch": "./node_modules/moment/locale/fr-ch.js",
	"./fr-ch.js": "./node_modules/moment/locale/fr-ch.js",
	"./fr.js": "./node_modules/moment/locale/fr.js",
	"./fy": "./node_modules/moment/locale/fy.js",
	"./fy.js": "./node_modules/moment/locale/fy.js",
	"./ga": "./node_modules/moment/locale/ga.js",
	"./ga.js": "./node_modules/moment/locale/ga.js",
	"./gd": "./node_modules/moment/locale/gd.js",
	"./gd.js": "./node_modules/moment/locale/gd.js",
	"./gl": "./node_modules/moment/locale/gl.js",
	"./gl.js": "./node_modules/moment/locale/gl.js",
	"./gom-latn": "./node_modules/moment/locale/gom-latn.js",
	"./gom-latn.js": "./node_modules/moment/locale/gom-latn.js",
	"./gu": "./node_modules/moment/locale/gu.js",
	"./gu.js": "./node_modules/moment/locale/gu.js",
	"./he": "./node_modules/moment/locale/he.js",
	"./he.js": "./node_modules/moment/locale/he.js",
	"./hi": "./node_modules/moment/locale/hi.js",
	"./hi.js": "./node_modules/moment/locale/hi.js",
	"./hr": "./node_modules/moment/locale/hr.js",
	"./hr.js": "./node_modules/moment/locale/hr.js",
	"./hu": "./node_modules/moment/locale/hu.js",
	"./hu.js": "./node_modules/moment/locale/hu.js",
	"./hy-am": "./node_modules/moment/locale/hy-am.js",
	"./hy-am.js": "./node_modules/moment/locale/hy-am.js",
	"./id": "./node_modules/moment/locale/id.js",
	"./id.js": "./node_modules/moment/locale/id.js",
	"./is": "./node_modules/moment/locale/is.js",
	"./is.js": "./node_modules/moment/locale/is.js",
	"./it": "./node_modules/moment/locale/it.js",
	"./it-ch": "./node_modules/moment/locale/it-ch.js",
	"./it-ch.js": "./node_modules/moment/locale/it-ch.js",
	"./it.js": "./node_modules/moment/locale/it.js",
	"./ja": "./node_modules/moment/locale/ja.js",
	"./ja.js": "./node_modules/moment/locale/ja.js",
	"./jv": "./node_modules/moment/locale/jv.js",
	"./jv.js": "./node_modules/moment/locale/jv.js",
	"./ka": "./node_modules/moment/locale/ka.js",
	"./ka.js": "./node_modules/moment/locale/ka.js",
	"./kk": "./node_modules/moment/locale/kk.js",
	"./kk.js": "./node_modules/moment/locale/kk.js",
	"./km": "./node_modules/moment/locale/km.js",
	"./km.js": "./node_modules/moment/locale/km.js",
	"./kn": "./node_modules/moment/locale/kn.js",
	"./kn.js": "./node_modules/moment/locale/kn.js",
	"./ko": "./node_modules/moment/locale/ko.js",
	"./ko.js": "./node_modules/moment/locale/ko.js",
	"./ku": "./node_modules/moment/locale/ku.js",
	"./ku.js": "./node_modules/moment/locale/ku.js",
	"./ky": "./node_modules/moment/locale/ky.js",
	"./ky.js": "./node_modules/moment/locale/ky.js",
	"./lb": "./node_modules/moment/locale/lb.js",
	"./lb.js": "./node_modules/moment/locale/lb.js",
	"./lo": "./node_modules/moment/locale/lo.js",
	"./lo.js": "./node_modules/moment/locale/lo.js",
	"./lt": "./node_modules/moment/locale/lt.js",
	"./lt.js": "./node_modules/moment/locale/lt.js",
	"./lv": "./node_modules/moment/locale/lv.js",
	"./lv.js": "./node_modules/moment/locale/lv.js",
	"./me": "./node_modules/moment/locale/me.js",
	"./me.js": "./node_modules/moment/locale/me.js",
	"./mi": "./node_modules/moment/locale/mi.js",
	"./mi.js": "./node_modules/moment/locale/mi.js",
	"./mk": "./node_modules/moment/locale/mk.js",
	"./mk.js": "./node_modules/moment/locale/mk.js",
	"./ml": "./node_modules/moment/locale/ml.js",
	"./ml.js": "./node_modules/moment/locale/ml.js",
	"./mn": "./node_modules/moment/locale/mn.js",
	"./mn.js": "./node_modules/moment/locale/mn.js",
	"./mr": "./node_modules/moment/locale/mr.js",
	"./mr.js": "./node_modules/moment/locale/mr.js",
	"./ms": "./node_modules/moment/locale/ms.js",
	"./ms-my": "./node_modules/moment/locale/ms-my.js",
	"./ms-my.js": "./node_modules/moment/locale/ms-my.js",
	"./ms.js": "./node_modules/moment/locale/ms.js",
	"./mt": "./node_modules/moment/locale/mt.js",
	"./mt.js": "./node_modules/moment/locale/mt.js",
	"./my": "./node_modules/moment/locale/my.js",
	"./my.js": "./node_modules/moment/locale/my.js",
	"./nb": "./node_modules/moment/locale/nb.js",
	"./nb.js": "./node_modules/moment/locale/nb.js",
	"./ne": "./node_modules/moment/locale/ne.js",
	"./ne.js": "./node_modules/moment/locale/ne.js",
	"./nl": "./node_modules/moment/locale/nl.js",
	"./nl-be": "./node_modules/moment/locale/nl-be.js",
	"./nl-be.js": "./node_modules/moment/locale/nl-be.js",
	"./nl.js": "./node_modules/moment/locale/nl.js",
	"./nn": "./node_modules/moment/locale/nn.js",
	"./nn.js": "./node_modules/moment/locale/nn.js",
	"./pa-in": "./node_modules/moment/locale/pa-in.js",
	"./pa-in.js": "./node_modules/moment/locale/pa-in.js",
	"./pl": "./node_modules/moment/locale/pl.js",
	"./pl.js": "./node_modules/moment/locale/pl.js",
	"./pt": "./node_modules/moment/locale/pt.js",
	"./pt-br": "./node_modules/moment/locale/pt-br.js",
	"./pt-br.js": "./node_modules/moment/locale/pt-br.js",
	"./pt.js": "./node_modules/moment/locale/pt.js",
	"./ro": "./node_modules/moment/locale/ro.js",
	"./ro.js": "./node_modules/moment/locale/ro.js",
	"./ru": "./node_modules/moment/locale/ru.js",
	"./ru.js": "./node_modules/moment/locale/ru.js",
	"./sd": "./node_modules/moment/locale/sd.js",
	"./sd.js": "./node_modules/moment/locale/sd.js",
	"./se": "./node_modules/moment/locale/se.js",
	"./se.js": "./node_modules/moment/locale/se.js",
	"./si": "./node_modules/moment/locale/si.js",
	"./si.js": "./node_modules/moment/locale/si.js",
	"./sk": "./node_modules/moment/locale/sk.js",
	"./sk.js": "./node_modules/moment/locale/sk.js",
	"./sl": "./node_modules/moment/locale/sl.js",
	"./sl.js": "./node_modules/moment/locale/sl.js",
	"./sq": "./node_modules/moment/locale/sq.js",
	"./sq.js": "./node_modules/moment/locale/sq.js",
	"./sr": "./node_modules/moment/locale/sr.js",
	"./sr-cyrl": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr-cyrl.js": "./node_modules/moment/locale/sr-cyrl.js",
	"./sr.js": "./node_modules/moment/locale/sr.js",
	"./ss": "./node_modules/moment/locale/ss.js",
	"./ss.js": "./node_modules/moment/locale/ss.js",
	"./sv": "./node_modules/moment/locale/sv.js",
	"./sv.js": "./node_modules/moment/locale/sv.js",
	"./sw": "./node_modules/moment/locale/sw.js",
	"./sw.js": "./node_modules/moment/locale/sw.js",
	"./ta": "./node_modules/moment/locale/ta.js",
	"./ta.js": "./node_modules/moment/locale/ta.js",
	"./te": "./node_modules/moment/locale/te.js",
	"./te.js": "./node_modules/moment/locale/te.js",
	"./tet": "./node_modules/moment/locale/tet.js",
	"./tet.js": "./node_modules/moment/locale/tet.js",
	"./tg": "./node_modules/moment/locale/tg.js",
	"./tg.js": "./node_modules/moment/locale/tg.js",
	"./th": "./node_modules/moment/locale/th.js",
	"./th.js": "./node_modules/moment/locale/th.js",
	"./tl-ph": "./node_modules/moment/locale/tl-ph.js",
	"./tl-ph.js": "./node_modules/moment/locale/tl-ph.js",
	"./tlh": "./node_modules/moment/locale/tlh.js",
	"./tlh.js": "./node_modules/moment/locale/tlh.js",
	"./tr": "./node_modules/moment/locale/tr.js",
	"./tr.js": "./node_modules/moment/locale/tr.js",
	"./tzl": "./node_modules/moment/locale/tzl.js",
	"./tzl.js": "./node_modules/moment/locale/tzl.js",
	"./tzm": "./node_modules/moment/locale/tzm.js",
	"./tzm-latn": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm-latn.js": "./node_modules/moment/locale/tzm-latn.js",
	"./tzm.js": "./node_modules/moment/locale/tzm.js",
	"./ug-cn": "./node_modules/moment/locale/ug-cn.js",
	"./ug-cn.js": "./node_modules/moment/locale/ug-cn.js",
	"./uk": "./node_modules/moment/locale/uk.js",
	"./uk.js": "./node_modules/moment/locale/uk.js",
	"./ur": "./node_modules/moment/locale/ur.js",
	"./ur.js": "./node_modules/moment/locale/ur.js",
	"./uz": "./node_modules/moment/locale/uz.js",
	"./uz-latn": "./node_modules/moment/locale/uz-latn.js",
	"./uz-latn.js": "./node_modules/moment/locale/uz-latn.js",
	"./uz.js": "./node_modules/moment/locale/uz.js",
	"./vi": "./node_modules/moment/locale/vi.js",
	"./vi.js": "./node_modules/moment/locale/vi.js",
	"./x-pseudo": "./node_modules/moment/locale/x-pseudo.js",
	"./x-pseudo.js": "./node_modules/moment/locale/x-pseudo.js",
	"./yo": "./node_modules/moment/locale/yo.js",
	"./yo.js": "./node_modules/moment/locale/yo.js",
	"./zh-cn": "./node_modules/moment/locale/zh-cn.js",
	"./zh-cn.js": "./node_modules/moment/locale/zh-cn.js",
	"./zh-hk": "./node_modules/moment/locale/zh-hk.js",
	"./zh-hk.js": "./node_modules/moment/locale/zh-hk.js",
	"./zh-tw": "./node_modules/moment/locale/zh-tw.js",
	"./zh-tw.js": "./node_modules/moment/locale/zh-tw.js"
};


function webpackContext(req) {
	var id = webpackContextResolve(req);
	return __webpack_require__(id);
}
function webpackContextResolve(req) {
	if(!__webpack_require__.o(map, req)) {
		var e = new Error("Cannot find module '" + req + "'");
		e.code = 'MODULE_NOT_FOUND';
		throw e;
	}
	return map[req];
}
webpackContext.keys = function webpackContextKeys() {
	return Object.keys(map);
};
webpackContext.resolve = webpackContextResolve;
module.exports = webpackContext;
webpackContext.id = "./node_modules/moment/locale sync recursive ^\\.\\/.*$";

/***/ }),

/***/ "./node_modules/pace/pace.js":
/*!***********************************!*\
  !*** ./node_modules/pace/pace.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function() {
  var AjaxMonitor, Bar, DocumentMonitor, ElementMonitor, ElementTracker, EventLagMonitor, Evented, Events, NoTargetError, Pace, RequestIntercept, SOURCE_KEYS, Scaler, SocketRequestTracker, XHRRequestTracker, animation, avgAmplitude, bar, cancelAnimation, cancelAnimationFrame, defaultOptions, extend, extendNative, getFromDOM, getIntercept, handlePushState, ignoreStack, init, now, options, requestAnimationFrame, result, runAnimation, scalers, shouldIgnoreURL, shouldTrack, source, sources, uniScaler, _WebSocket, _XDomainRequest, _XMLHttpRequest, _i, _intercept, _len, _pushState, _ref, _ref1, _replaceState,
    __slice = [].slice,
    __hasProp = {}.hasOwnProperty,
    __extends = function(child, parent) { for (var key in parent) { if (__hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },
    __indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };

  defaultOptions = {
    catchupTime: 100,
    initialRate: .03,
    minTime: 250,
    ghostTime: 100,
    maxProgressPerFrame: 20,
    easeFactor: 1.25,
    startOnPageLoad: true,
    restartOnPushState: true,
    restartOnRequestAfter: 500,
    target: 'body',
    elements: {
      checkInterval: 100,
      selectors: ['body']
    },
    eventLag: {
      minSamples: 10,
      sampleCount: 3,
      lagThreshold: 3
    },
    ajax: {
      trackMethods: ['GET'],
      trackWebSockets: true,
      ignoreURLs: []
    }
  };

  now = function() {
    var _ref;
    return (_ref = typeof performance !== "undefined" && performance !== null ? typeof performance.now === "function" ? performance.now() : void 0 : void 0) != null ? _ref : +(new Date);
  };

  requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame;

  cancelAnimationFrame = window.cancelAnimationFrame || window.mozCancelAnimationFrame;

  if (requestAnimationFrame == null) {
    requestAnimationFrame = function(fn) {
      return setTimeout(fn, 50);
    };
    cancelAnimationFrame = function(id) {
      return clearTimeout(id);
    };
  }

  runAnimation = function(fn) {
    var last, tick;
    last = now();
    tick = function() {
      var diff;
      diff = now() - last;
      if (diff >= 33) {
        last = now();
        return fn(diff, function() {
          return requestAnimationFrame(tick);
        });
      } else {
        return setTimeout(tick, 33 - diff);
      }
    };
    return tick();
  };

  result = function() {
    var args, key, obj;
    obj = arguments[0], key = arguments[1], args = 3 <= arguments.length ? __slice.call(arguments, 2) : [];
    if (typeof obj[key] === 'function') {
      return obj[key].apply(obj, args);
    } else {
      return obj[key];
    }
  };

  extend = function() {
    var key, out, source, sources, val, _i, _len;
    out = arguments[0], sources = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
    for (_i = 0, _len = sources.length; _i < _len; _i++) {
      source = sources[_i];
      if (source) {
        for (key in source) {
          if (!__hasProp.call(source, key)) continue;
          val = source[key];
          if ((out[key] != null) && typeof out[key] === 'object' && (val != null) && typeof val === 'object') {
            extend(out[key], val);
          } else {
            out[key] = val;
          }
        }
      }
    }
    return out;
  };

  avgAmplitude = function(arr) {
    var count, sum, v, _i, _len;
    sum = count = 0;
    for (_i = 0, _len = arr.length; _i < _len; _i++) {
      v = arr[_i];
      sum += Math.abs(v);
      count++;
    }
    return sum / count;
  };

  getFromDOM = function(key, json) {
    var data, e, el;
    if (key == null) {
      key = 'options';
    }
    if (json == null) {
      json = true;
    }
    el = document.querySelector("[data-pace-" + key + "]");
    if (!el) {
      return;
    }
    data = el.getAttribute("data-pace-" + key);
    if (!json) {
      return data;
    }
    try {
      return JSON.parse(data);
    } catch (_error) {
      e = _error;
      return typeof console !== "undefined" && console !== null ? console.error("Error parsing inline pace options", e) : void 0;
    }
  };

  Evented = (function() {
    function Evented() {}

    Evented.prototype.on = function(event, handler, ctx, once) {
      var _base;
      if (once == null) {
        once = false;
      }
      if (this.bindings == null) {
        this.bindings = {};
      }
      if ((_base = this.bindings)[event] == null) {
        _base[event] = [];
      }
      return this.bindings[event].push({
        handler: handler,
        ctx: ctx,
        once: once
      });
    };

    Evented.prototype.once = function(event, handler, ctx) {
      return this.on(event, handler, ctx, true);
    };

    Evented.prototype.off = function(event, handler) {
      var i, _ref, _results;
      if (((_ref = this.bindings) != null ? _ref[event] : void 0) == null) {
        return;
      }
      if (handler == null) {
        return delete this.bindings[event];
      } else {
        i = 0;
        _results = [];
        while (i < this.bindings[event].length) {
          if (this.bindings[event][i].handler === handler) {
            _results.push(this.bindings[event].splice(i, 1));
          } else {
            _results.push(i++);
          }
        }
        return _results;
      }
    };

    Evented.prototype.trigger = function() {
      var args, ctx, event, handler, i, once, _ref, _ref1, _results;
      event = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
      if ((_ref = this.bindings) != null ? _ref[event] : void 0) {
        i = 0;
        _results = [];
        while (i < this.bindings[event].length) {
          _ref1 = this.bindings[event][i], handler = _ref1.handler, ctx = _ref1.ctx, once = _ref1.once;
          handler.apply(ctx != null ? ctx : this, args);
          if (once) {
            _results.push(this.bindings[event].splice(i, 1));
          } else {
            _results.push(i++);
          }
        }
        return _results;
      }
    };

    return Evented;

  })();

  Pace = window.Pace || {};

  window.Pace = Pace;

  extend(Pace, Evented.prototype);

  options = Pace.options = extend({}, defaultOptions, window.paceOptions, getFromDOM());

  _ref = ['ajax', 'document', 'eventLag', 'elements'];
  for (_i = 0, _len = _ref.length; _i < _len; _i++) {
    source = _ref[_i];
    if (options[source] === true) {
      options[source] = defaultOptions[source];
    }
  }

  NoTargetError = (function(_super) {
    __extends(NoTargetError, _super);

    function NoTargetError() {
      _ref1 = NoTargetError.__super__.constructor.apply(this, arguments);
      return _ref1;
    }

    return NoTargetError;

  })(Error);

  Bar = (function() {
    function Bar() {
      this.progress = 0;
    }

    Bar.prototype.getElement = function() {
      var targetElement;
      if (this.el == null) {
        targetElement = document.querySelector(options.target);
        if (!targetElement) {
          throw new NoTargetError;
        }
        this.el = document.createElement('div');
        this.el.className = "pace pace-active";
        document.body.className = document.body.className.replace(/pace-done/g, '');
        document.body.className += ' pace-running';
        this.el.innerHTML = '<div class="pace-progress">\n  <div class="pace-progress-inner"></div>\n</div>\n<div class="pace-activity"></div>';
        if (targetElement.firstChild != null) {
          targetElement.insertBefore(this.el, targetElement.firstChild);
        } else {
          targetElement.appendChild(this.el);
        }
      }
      return this.el;
    };

    Bar.prototype.finish = function() {
      var el;
      el = this.getElement();
      el.className = el.className.replace('pace-active', '');
      el.className += ' pace-inactive';
      document.body.className = document.body.className.replace('pace-running', '');
      return document.body.className += ' pace-done';
    };

    Bar.prototype.update = function(prog) {
      this.progress = prog;
      return this.render();
    };

    Bar.prototype.destroy = function() {
      try {
        this.getElement().parentNode.removeChild(this.getElement());
      } catch (_error) {
        NoTargetError = _error;
      }
      return this.el = void 0;
    };

    Bar.prototype.render = function() {
      var el, key, progressStr, transform, _j, _len1, _ref2;
      if (document.querySelector(options.target) == null) {
        return false;
      }
      el = this.getElement();
      transform = "translate3d(" + this.progress + "%, 0, 0)";
      _ref2 = ['webkitTransform', 'msTransform', 'transform'];
      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
        key = _ref2[_j];
        el.children[0].style[key] = transform;
      }
      if (!this.lastRenderedProgress || this.lastRenderedProgress | 0 !== this.progress | 0) {
        el.children[0].setAttribute('data-progress-text', "" + (this.progress | 0) + "%");
        if (this.progress >= 100) {
          progressStr = '99';
        } else {
          progressStr = this.progress < 10 ? "0" : "";
          progressStr += this.progress | 0;
        }
        el.children[0].setAttribute('data-progress', "" + progressStr);
      }
      return this.lastRenderedProgress = this.progress;
    };

    Bar.prototype.done = function() {
      return this.progress >= 100;
    };

    return Bar;

  })();

  Events = (function() {
    function Events() {
      this.bindings = {};
    }

    Events.prototype.trigger = function(name, val) {
      var binding, _j, _len1, _ref2, _results;
      if (this.bindings[name] != null) {
        _ref2 = this.bindings[name];
        _results = [];
        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
          binding = _ref2[_j];
          _results.push(binding.call(this, val));
        }
        return _results;
      }
    };

    Events.prototype.on = function(name, fn) {
      var _base;
      if ((_base = this.bindings)[name] == null) {
        _base[name] = [];
      }
      return this.bindings[name].push(fn);
    };

    return Events;

  })();

  _XMLHttpRequest = window.XMLHttpRequest;

  _XDomainRequest = window.XDomainRequest;

  _WebSocket = window.WebSocket;

  extendNative = function(to, from) {
    var e, key, _results;
    _results = [];
    for (key in from.prototype) {
      try {
        if ((to[key] == null) && typeof from[key] !== 'function') {
          if (typeof Object.defineProperty === 'function') {
            _results.push(Object.defineProperty(to, key, {
              get: function() {
                return from.prototype[key];
              },
              configurable: true,
              enumerable: true
            }));
          } else {
            _results.push(to[key] = from.prototype[key]);
          }
        } else {
          _results.push(void 0);
        }
      } catch (_error) {
        e = _error;
      }
    }
    return _results;
  };

  ignoreStack = [];

  Pace.ignore = function() {
    var args, fn, ret;
    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
    ignoreStack.unshift('ignore');
    ret = fn.apply(null, args);
    ignoreStack.shift();
    return ret;
  };

  Pace.track = function() {
    var args, fn, ret;
    fn = arguments[0], args = 2 <= arguments.length ? __slice.call(arguments, 1) : [];
    ignoreStack.unshift('track');
    ret = fn.apply(null, args);
    ignoreStack.shift();
    return ret;
  };

  shouldTrack = function(method) {
    var _ref2;
    if (method == null) {
      method = 'GET';
    }
    if (ignoreStack[0] === 'track') {
      return 'force';
    }
    if (!ignoreStack.length && options.ajax) {
      if (method === 'socket' && options.ajax.trackWebSockets) {
        return true;
      } else if (_ref2 = method.toUpperCase(), __indexOf.call(options.ajax.trackMethods, _ref2) >= 0) {
        return true;
      }
    }
    return false;
  };

  RequestIntercept = (function(_super) {
    __extends(RequestIntercept, _super);

    function RequestIntercept() {
      var monitorXHR,
        _this = this;
      RequestIntercept.__super__.constructor.apply(this, arguments);
      monitorXHR = function(req) {
        var _open;
        _open = req.open;
        return req.open = function(type, url, async) {
          if (shouldTrack(type)) {
            _this.trigger('request', {
              type: type,
              url: url,
              request: req
            });
          }
          return _open.apply(req, arguments);
        };
      };
      window.XMLHttpRequest = function(flags) {
        var req;
        req = new _XMLHttpRequest(flags);
        monitorXHR(req);
        return req;
      };
      try {
        extendNative(window.XMLHttpRequest, _XMLHttpRequest);
      } catch (_error) {}
      if (_XDomainRequest != null) {
        window.XDomainRequest = function() {
          var req;
          req = new _XDomainRequest;
          monitorXHR(req);
          return req;
        };
        try {
          extendNative(window.XDomainRequest, _XDomainRequest);
        } catch (_error) {}
      }
      if ((_WebSocket != null) && options.ajax.trackWebSockets) {
        window.WebSocket = function(url, protocols) {
          var req;
          if (protocols != null) {
            req = new _WebSocket(url, protocols);
          } else {
            req = new _WebSocket(url);
          }
          if (shouldTrack('socket')) {
            _this.trigger('request', {
              type: 'socket',
              url: url,
              protocols: protocols,
              request: req
            });
          }
          return req;
        };
        try {
          extendNative(window.WebSocket, _WebSocket);
        } catch (_error) {}
      }
    }

    return RequestIntercept;

  })(Events);

  _intercept = null;

  getIntercept = function() {
    if (_intercept == null) {
      _intercept = new RequestIntercept;
    }
    return _intercept;
  };

  shouldIgnoreURL = function(url) {
    var pattern, _j, _len1, _ref2;
    _ref2 = options.ajax.ignoreURLs;
    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
      pattern = _ref2[_j];
      if (typeof pattern === 'string') {
        if (url.indexOf(pattern) !== -1) {
          return true;
        }
      } else {
        if (pattern.test(url)) {
          return true;
        }
      }
    }
    return false;
  };

  getIntercept().on('request', function(_arg) {
    var after, args, request, type, url;
    type = _arg.type, request = _arg.request, url = _arg.url;
    if (shouldIgnoreURL(url)) {
      return;
    }
    if (!Pace.running && (options.restartOnRequestAfter !== false || shouldTrack(type) === 'force')) {
      args = arguments;
      after = options.restartOnRequestAfter || 0;
      if (typeof after === 'boolean') {
        after = 0;
      }
      return setTimeout(function() {
        var stillActive, _j, _len1, _ref2, _ref3, _results;
        if (type === 'socket') {
          stillActive = request.readyState < 2;
        } else {
          stillActive = (0 < (_ref2 = request.readyState) && _ref2 < 4);
        }
        if (stillActive) {
          Pace.restart();
          _ref3 = Pace.sources;
          _results = [];
          for (_j = 0, _len1 = _ref3.length; _j < _len1; _j++) {
            source = _ref3[_j];
            if (source instanceof AjaxMonitor) {
              source.watch.apply(source, args);
              break;
            } else {
              _results.push(void 0);
            }
          }
          return _results;
        }
      }, after);
    }
  });

  AjaxMonitor = (function() {
    function AjaxMonitor() {
      var _this = this;
      this.elements = [];
      getIntercept().on('request', function() {
        return _this.watch.apply(_this, arguments);
      });
    }

    AjaxMonitor.prototype.watch = function(_arg) {
      var request, tracker, type, url;
      type = _arg.type, request = _arg.request, url = _arg.url;
      if (shouldIgnoreURL(url)) {
        return;
      }
      if (type === 'socket') {
        tracker = new SocketRequestTracker(request);
      } else {
        tracker = new XHRRequestTracker(request);
      }
      return this.elements.push(tracker);
    };

    return AjaxMonitor;

  })();

  XHRRequestTracker = (function() {
    function XHRRequestTracker(request) {
      var event, size, _j, _len1, _onreadystatechange, _ref2,
        _this = this;
      this.progress = 0;
      if (window.ProgressEvent != null) {
        size = null;
        request.addEventListener('progress', function(evt) {
          if (evt.lengthComputable) {
            return _this.progress = 100 * evt.loaded / evt.total;
          } else {
            return _this.progress = _this.progress + (100 - _this.progress) / 2;
          }
        }, false);
        _ref2 = ['load', 'abort', 'timeout', 'error'];
        for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
          event = _ref2[_j];
          request.addEventListener(event, function() {
            return _this.progress = 100;
          }, false);
        }
      } else {
        _onreadystatechange = request.onreadystatechange;
        request.onreadystatechange = function() {
          var _ref3;
          if ((_ref3 = request.readyState) === 0 || _ref3 === 4) {
            _this.progress = 100;
          } else if (request.readyState === 3) {
            _this.progress = 50;
          }
          return typeof _onreadystatechange === "function" ? _onreadystatechange.apply(null, arguments) : void 0;
        };
      }
    }

    return XHRRequestTracker;

  })();

  SocketRequestTracker = (function() {
    function SocketRequestTracker(request) {
      var event, _j, _len1, _ref2,
        _this = this;
      this.progress = 0;
      _ref2 = ['error', 'open'];
      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
        event = _ref2[_j];
        request.addEventListener(event, function() {
          return _this.progress = 100;
        }, false);
      }
    }

    return SocketRequestTracker;

  })();

  ElementMonitor = (function() {
    function ElementMonitor(options) {
      var selector, _j, _len1, _ref2;
      if (options == null) {
        options = {};
      }
      this.elements = [];
      if (options.selectors == null) {
        options.selectors = [];
      }
      _ref2 = options.selectors;
      for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
        selector = _ref2[_j];
        this.elements.push(new ElementTracker(selector));
      }
    }

    return ElementMonitor;

  })();

  ElementTracker = (function() {
    function ElementTracker(selector) {
      this.selector = selector;
      this.progress = 0;
      this.check();
    }

    ElementTracker.prototype.check = function() {
      var _this = this;
      if (document.querySelector(this.selector)) {
        return this.done();
      } else {
        return setTimeout((function() {
          return _this.check();
        }), options.elements.checkInterval);
      }
    };

    ElementTracker.prototype.done = function() {
      return this.progress = 100;
    };

    return ElementTracker;

  })();

  DocumentMonitor = (function() {
    DocumentMonitor.prototype.states = {
      loading: 0,
      interactive: 50,
      complete: 100
    };

    function DocumentMonitor() {
      var _onreadystatechange, _ref2,
        _this = this;
      this.progress = (_ref2 = this.states[document.readyState]) != null ? _ref2 : 100;
      _onreadystatechange = document.onreadystatechange;
      document.onreadystatechange = function() {
        if (_this.states[document.readyState] != null) {
          _this.progress = _this.states[document.readyState];
        }
        return typeof _onreadystatechange === "function" ? _onreadystatechange.apply(null, arguments) : void 0;
      };
    }

    return DocumentMonitor;

  })();

  EventLagMonitor = (function() {
    function EventLagMonitor() {
      var avg, interval, last, points, samples,
        _this = this;
      this.progress = 0;
      avg = 0;
      samples = [];
      points = 0;
      last = now();
      interval = setInterval(function() {
        var diff;
        diff = now() - last - 50;
        last = now();
        samples.push(diff);
        if (samples.length > options.eventLag.sampleCount) {
          samples.shift();
        }
        avg = avgAmplitude(samples);
        if (++points >= options.eventLag.minSamples && avg < options.eventLag.lagThreshold) {
          _this.progress = 100;
          return clearInterval(interval);
        } else {
          return _this.progress = 100 * (3 / (avg + 3));
        }
      }, 50);
    }

    return EventLagMonitor;

  })();

  Scaler = (function() {
    function Scaler(source) {
      this.source = source;
      this.last = this.sinceLastUpdate = 0;
      this.rate = options.initialRate;
      this.catchup = 0;
      this.progress = this.lastProgress = 0;
      if (this.source != null) {
        this.progress = result(this.source, 'progress');
      }
    }

    Scaler.prototype.tick = function(frameTime, val) {
      var scaling;
      if (val == null) {
        val = result(this.source, 'progress');
      }
      if (val >= 100) {
        this.done = true;
      }
      if (val === this.last) {
        this.sinceLastUpdate += frameTime;
      } else {
        if (this.sinceLastUpdate) {
          this.rate = (val - this.last) / this.sinceLastUpdate;
        }
        this.catchup = (val - this.progress) / options.catchupTime;
        this.sinceLastUpdate = 0;
        this.last = val;
      }
      if (val > this.progress) {
        this.progress += this.catchup * frameTime;
      }
      scaling = 1 - Math.pow(this.progress / 100, options.easeFactor);
      this.progress += scaling * this.rate * frameTime;
      this.progress = Math.min(this.lastProgress + options.maxProgressPerFrame, this.progress);
      this.progress = Math.max(0, this.progress);
      this.progress = Math.min(100, this.progress);
      this.lastProgress = this.progress;
      return this.progress;
    };

    return Scaler;

  })();

  sources = null;

  scalers = null;

  bar = null;

  uniScaler = null;

  animation = null;

  cancelAnimation = null;

  Pace.running = false;

  handlePushState = function() {
    if (options.restartOnPushState) {
      return Pace.restart();
    }
  };

  if (window.history.pushState != null) {
    _pushState = window.history.pushState;
    window.history.pushState = function() {
      handlePushState();
      return _pushState.apply(window.history, arguments);
    };
  }

  if (window.history.replaceState != null) {
    _replaceState = window.history.replaceState;
    window.history.replaceState = function() {
      handlePushState();
      return _replaceState.apply(window.history, arguments);
    };
  }

  SOURCE_KEYS = {
    ajax: AjaxMonitor,
    elements: ElementMonitor,
    document: DocumentMonitor,
    eventLag: EventLagMonitor
  };

  (init = function() {
    var type, _j, _k, _len1, _len2, _ref2, _ref3, _ref4;
    Pace.sources = sources = [];
    _ref2 = ['ajax', 'elements', 'document', 'eventLag'];
    for (_j = 0, _len1 = _ref2.length; _j < _len1; _j++) {
      type = _ref2[_j];
      if (options[type] !== false) {
        sources.push(new SOURCE_KEYS[type](options[type]));
      }
    }
    _ref4 = (_ref3 = options.extraSources) != null ? _ref3 : [];
    for (_k = 0, _len2 = _ref4.length; _k < _len2; _k++) {
      source = _ref4[_k];
      sources.push(new source(options));
    }
    Pace.bar = bar = new Bar;
    scalers = [];
    return uniScaler = new Scaler;
  })();

  Pace.stop = function() {
    Pace.trigger('stop');
    Pace.running = false;
    bar.destroy();
    cancelAnimation = true;
    if (animation != null) {
      if (typeof cancelAnimationFrame === "function") {
        cancelAnimationFrame(animation);
      }
      animation = null;
    }
    return init();
  };

  Pace.restart = function() {
    Pace.trigger('restart');
    Pace.stop();
    return Pace.start();
  };

  Pace.go = function() {
    var start;
    Pace.running = true;
    bar.render();
    start = now();
    cancelAnimation = false;
    return animation = runAnimation(function(frameTime, enqueueNextFrame) {
      var avg, count, done, element, elements, i, j, remaining, scaler, scalerList, sum, _j, _k, _len1, _len2, _ref2;
      remaining = 100 - bar.progress;
      count = sum = 0;
      done = true;
      for (i = _j = 0, _len1 = sources.length; _j < _len1; i = ++_j) {
        source = sources[i];
        scalerList = scalers[i] != null ? scalers[i] : scalers[i] = [];
        elements = (_ref2 = source.elements) != null ? _ref2 : [source];
        for (j = _k = 0, _len2 = elements.length; _k < _len2; j = ++_k) {
          element = elements[j];
          scaler = scalerList[j] != null ? scalerList[j] : scalerList[j] = new Scaler(element);
          done &= scaler.done;
          if (scaler.done) {
            continue;
          }
          count++;
          sum += scaler.tick(frameTime);
        }
      }
      avg = sum / count;
      bar.update(uniScaler.tick(frameTime, avg));
      if (bar.done() || done || cancelAnimation) {
        bar.update(100);
        Pace.trigger('done');
        return setTimeout(function() {
          bar.finish();
          Pace.running = false;
          return Pace.trigger('hide');
        }, Math.max(options.ghostTime, Math.max(options.minTime - (now() - start), 0)));
      } else {
        return enqueueNextFrame();
      }
    });
  };

  Pace.start = function(_options) {
    extend(options, _options);
    Pace.running = true;
    try {
      bar.render();
    } catch (_error) {
      NoTargetError = _error;
    }
    if (!document.querySelector('.pace')) {
      return setTimeout(Pace.start, 50);
    } else {
      Pace.trigger('start');
      return Pace.go();
    }
  };

  if (true) {
    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! pace */ "./node_modules/pace/pace.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function() {
      return Pace;
    }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),
				__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));
  } else {}

}).call(this);


/***/ }),

/***/ "./node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js":
/*!**********************************************************************!*\
  !*** ./node_modules/perfect-scrollbar/dist/perfect-scrollbar.esm.js ***!
  \**********************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/*!
 * perfect-scrollbar v1.4.0
 * (c) 2018 Hyunje Jun
 * @license MIT
 */
function get(element) {
  return getComputedStyle(element);
}

function set(element, obj) {
  for (var key in obj) {
    var val = obj[key];
    if (typeof val === 'number') {
      val = val + "px";
    }
    element.style[key] = val;
  }
  return element;
}

function div(className) {
  var div = document.createElement('div');
  div.className = className;
  return div;
}

var elMatches =
  typeof Element !== 'undefined' &&
  (Element.prototype.matches ||
    Element.prototype.webkitMatchesSelector ||
    Element.prototype.mozMatchesSelector ||
    Element.prototype.msMatchesSelector);

function matches(element, query) {
  if (!elMatches) {
    throw new Error('No element matching method supported');
  }

  return elMatches.call(element, query);
}

function remove(element) {
  if (element.remove) {
    element.remove();
  } else {
    if (element.parentNode) {
      element.parentNode.removeChild(element);
    }
  }
}

function queryChildren(element, selector) {
  return Array.prototype.filter.call(element.children, function (child) { return matches(child, selector); }
  );
}

var cls = {
  main: 'ps',
  element: {
    thumb: function (x) { return ("ps__thumb-" + x); },
    rail: function (x) { return ("ps__rail-" + x); },
    consuming: 'ps__child--consume',
  },
  state: {
    focus: 'ps--focus',
    clicking: 'ps--clicking',
    active: function (x) { return ("ps--active-" + x); },
    scrolling: function (x) { return ("ps--scrolling-" + x); },
  },
};

/*
 * Helper methods
 */
var scrollingClassTimeout = { x: null, y: null };

function addScrollingClass(i, x) {
  var classList = i.element.classList;
  var className = cls.state.scrolling(x);

  if (classList.contains(className)) {
    clearTimeout(scrollingClassTimeout[x]);
  } else {
    classList.add(className);
  }
}

function removeScrollingClass(i, x) {
  scrollingClassTimeout[x] = setTimeout(
    function () { return i.isAlive && i.element.classList.remove(cls.state.scrolling(x)); },
    i.settings.scrollingThreshold
  );
}

function setScrollingClassInstantly(i, x) {
  addScrollingClass(i, x);
  removeScrollingClass(i, x);
}

var EventElement = function EventElement(element) {
  this.element = element;
  this.handlers = {};
};

var prototypeAccessors = { isEmpty: { configurable: true } };

EventElement.prototype.bind = function bind (eventName, handler) {
  if (typeof this.handlers[eventName] === 'undefined') {
    this.handlers[eventName] = [];
  }
  this.handlers[eventName].push(handler);
  this.element.addEventListener(eventName, handler, false);
};

EventElement.prototype.unbind = function unbind (eventName, target) {
    var this$1 = this;

  this.handlers[eventName] = this.handlers[eventName].filter(function (handler) {
    if (target && handler !== target) {
      return true;
    }
    this$1.element.removeEventListener(eventName, handler, false);
    return false;
  });
};

EventElement.prototype.unbindAll = function unbindAll () {
    var this$1 = this;

  for (var name in this$1.handlers) {
    this$1.unbind(name);
  }
};

prototypeAccessors.isEmpty.get = function () {
    var this$1 = this;

  return Object.keys(this.handlers).every(
    function (key) { return this$1.handlers[key].length === 0; }
  );
};

Object.defineProperties( EventElement.prototype, prototypeAccessors );

var EventManager = function EventManager() {
  this.eventElements = [];
};

EventManager.prototype.eventElement = function eventElement (element) {
  var ee = this.eventElements.filter(function (ee) { return ee.element === element; })[0];
  if (!ee) {
    ee = new EventElement(element);
    this.eventElements.push(ee);
  }
  return ee;
};

EventManager.prototype.bind = function bind (element, eventName, handler) {
  this.eventElement(element).bind(eventName, handler);
};

EventManager.prototype.unbind = function unbind (element, eventName, handler) {
  var ee = this.eventElement(element);
  ee.unbind(eventName, handler);

  if (ee.isEmpty) {
    // remove
    this.eventElements.splice(this.eventElements.indexOf(ee), 1);
  }
};

EventManager.prototype.unbindAll = function unbindAll () {
  this.eventElements.forEach(function (e) { return e.unbindAll(); });
  this.eventElements = [];
};

EventManager.prototype.once = function once (element, eventName, handler) {
  var ee = this.eventElement(element);
  var onceHandler = function (evt) {
    ee.unbind(eventName, onceHandler);
    handler(evt);
  };
  ee.bind(eventName, onceHandler);
};

function createEvent(name) {
  if (typeof window.CustomEvent === 'function') {
    return new CustomEvent(name);
  } else {
    var evt = document.createEvent('CustomEvent');
    evt.initCustomEvent(name, false, false, undefined);
    return evt;
  }
}

var processScrollDiff = function(
  i,
  axis,
  diff,
  useScrollingClass,
  forceFireReachEvent
) {
  if ( useScrollingClass === void 0 ) useScrollingClass = true;
  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;

  var fields;
  if (axis === 'top') {
    fields = [
      'contentHeight',
      'containerHeight',
      'scrollTop',
      'y',
      'up',
      'down' ];
  } else if (axis === 'left') {
    fields = [
      'contentWidth',
      'containerWidth',
      'scrollLeft',
      'x',
      'left',
      'right' ];
  } else {
    throw new Error('A proper axis should be provided');
  }

  processScrollDiff$1(i, diff, fields, useScrollingClass, forceFireReachEvent);
};

function processScrollDiff$1(
  i,
  diff,
  ref,
  useScrollingClass,
  forceFireReachEvent
) {
  var contentHeight = ref[0];
  var containerHeight = ref[1];
  var scrollTop = ref[2];
  var y = ref[3];
  var up = ref[4];
  var down = ref[5];
  if ( useScrollingClass === void 0 ) useScrollingClass = true;
  if ( forceFireReachEvent === void 0 ) forceFireReachEvent = false;

  var element = i.element;

  // reset reach
  i.reach[y] = null;

  // 1 for subpixel rounding
  if (element[scrollTop] < 1) {
    i.reach[y] = 'start';
  }

  // 1 for subpixel rounding
  if (element[scrollTop] > i[contentHeight] - i[containerHeight] - 1) {
    i.reach[y] = 'end';
  }

  if (diff) {
    element.dispatchEvent(createEvent(("ps-scroll-" + y)));

    if (diff < 0) {
      element.dispatchEvent(createEvent(("ps-scroll-" + up)));
    } else if (diff > 0) {
      element.dispatchEvent(createEvent(("ps-scroll-" + down)));
    }

    if (useScrollingClass) {
      setScrollingClassInstantly(i, y);
    }
  }

  if (i.reach[y] && (diff || forceFireReachEvent)) {
    element.dispatchEvent(createEvent(("ps-" + y + "-reach-" + (i.reach[y]))));
  }
}

function toInt(x) {
  return parseInt(x, 10) || 0;
}

function isEditable(el) {
  return (
    matches(el, 'input,[contenteditable]') ||
    matches(el, 'select,[contenteditable]') ||
    matches(el, 'textarea,[contenteditable]') ||
    matches(el, 'button,[contenteditable]')
  );
}

function outerWidth(element) {
  var styles = get(element);
  return (
    toInt(styles.width) +
    toInt(styles.paddingLeft) +
    toInt(styles.paddingRight) +
    toInt(styles.borderLeftWidth) +
    toInt(styles.borderRightWidth)
  );
}

var env = {
  isWebKit:
    typeof document !== 'undefined' &&
    'WebkitAppearance' in document.documentElement.style,
  supportsTouch:
    typeof window !== 'undefined' &&
    ('ontouchstart' in window ||
      (window.DocumentTouch && document instanceof window.DocumentTouch)),
  supportsIePointer:
    typeof navigator !== 'undefined' && navigator.msMaxTouchPoints,
  isChrome:
    typeof navigator !== 'undefined' &&
    /Chrome/i.test(navigator && navigator.userAgent),
};

var updateGeometry = function(i) {
  var element = i.element;
  var roundedScrollTop = Math.floor(element.scrollTop);

  i.containerWidth = element.clientWidth;
  i.containerHeight = element.clientHeight;
  i.contentWidth = element.scrollWidth;
  i.contentHeight = element.scrollHeight;

  if (!element.contains(i.scrollbarXRail)) {
    // clean up and append
    queryChildren(element, cls.element.rail('x')).forEach(function (el) { return remove(el); }
    );
    element.appendChild(i.scrollbarXRail);
  }
  if (!element.contains(i.scrollbarYRail)) {
    // clean up and append
    queryChildren(element, cls.element.rail('y')).forEach(function (el) { return remove(el); }
    );
    element.appendChild(i.scrollbarYRail);
  }

  if (
    !i.settings.suppressScrollX &&
    i.containerWidth + i.settings.scrollXMarginOffset < i.contentWidth
  ) {
    i.scrollbarXActive = true;
    i.railXWidth = i.containerWidth - i.railXMarginWidth;
    i.railXRatio = i.containerWidth / i.railXWidth;
    i.scrollbarXWidth = getThumbSize(
      i,
      toInt(i.railXWidth * i.containerWidth / i.contentWidth)
    );
    i.scrollbarXLeft = toInt(
      (i.negativeScrollAdjustment + element.scrollLeft) *
        (i.railXWidth - i.scrollbarXWidth) /
        (i.contentWidth - i.containerWidth)
    );
  } else {
    i.scrollbarXActive = false;
  }

  if (
    !i.settings.suppressScrollY &&
    i.containerHeight + i.settings.scrollYMarginOffset < i.contentHeight
  ) {
    i.scrollbarYActive = true;
    i.railYHeight = i.containerHeight - i.railYMarginHeight;
    i.railYRatio = i.containerHeight / i.railYHeight;
    i.scrollbarYHeight = getThumbSize(
      i,
      toInt(i.railYHeight * i.containerHeight / i.contentHeight)
    );
    i.scrollbarYTop = toInt(
      roundedScrollTop *
        (i.railYHeight - i.scrollbarYHeight) /
        (i.contentHeight - i.containerHeight)
    );
  } else {
    i.scrollbarYActive = false;
  }

  if (i.scrollbarXLeft >= i.railXWidth - i.scrollbarXWidth) {
    i.scrollbarXLeft = i.railXWidth - i.scrollbarXWidth;
  }
  if (i.scrollbarYTop >= i.railYHeight - i.scrollbarYHeight) {
    i.scrollbarYTop = i.railYHeight - i.scrollbarYHeight;
  }

  updateCss(element, i);

  if (i.scrollbarXActive) {
    element.classList.add(cls.state.active('x'));
  } else {
    element.classList.remove(cls.state.active('x'));
    i.scrollbarXWidth = 0;
    i.scrollbarXLeft = 0;
    element.scrollLeft = 0;
  }
  if (i.scrollbarYActive) {
    element.classList.add(cls.state.active('y'));
  } else {
    element.classList.remove(cls.state.active('y'));
    i.scrollbarYHeight = 0;
    i.scrollbarYTop = 0;
    element.scrollTop = 0;
  }
};

function getThumbSize(i, thumbSize) {
  if (i.settings.minScrollbarLength) {
    thumbSize = Math.max(thumbSize, i.settings.minScrollbarLength);
  }
  if (i.settings.maxScrollbarLength) {
    thumbSize = Math.min(thumbSize, i.settings.maxScrollbarLength);
  }
  return thumbSize;
}

function updateCss(element, i) {
  var xRailOffset = { width: i.railXWidth };
  var roundedScrollTop = Math.floor(element.scrollTop);

  if (i.isRtl) {
    xRailOffset.left =
      i.negativeScrollAdjustment +
      element.scrollLeft +
      i.containerWidth -
      i.contentWidth;
  } else {
    xRailOffset.left = element.scrollLeft;
  }
  if (i.isScrollbarXUsingBottom) {
    xRailOffset.bottom = i.scrollbarXBottom - roundedScrollTop;
  } else {
    xRailOffset.top = i.scrollbarXTop + roundedScrollTop;
  }
  set(i.scrollbarXRail, xRailOffset);

  var yRailOffset = { top: roundedScrollTop, height: i.railYHeight };
  if (i.isScrollbarYUsingRight) {
    if (i.isRtl) {
      yRailOffset.right =
        i.contentWidth -
        (i.negativeScrollAdjustment + element.scrollLeft) -
        i.scrollbarYRight -
        i.scrollbarYOuterWidth;
    } else {
      yRailOffset.right = i.scrollbarYRight - element.scrollLeft;
    }
  } else {
    if (i.isRtl) {
      yRailOffset.left =
        i.negativeScrollAdjustment +
        element.scrollLeft +
        i.containerWidth * 2 -
        i.contentWidth -
        i.scrollbarYLeft -
        i.scrollbarYOuterWidth;
    } else {
      yRailOffset.left = i.scrollbarYLeft + element.scrollLeft;
    }
  }
  set(i.scrollbarYRail, yRailOffset);

  set(i.scrollbarX, {
    left: i.scrollbarXLeft,
    width: i.scrollbarXWidth - i.railBorderXWidth,
  });
  set(i.scrollbarY, {
    top: i.scrollbarYTop,
    height: i.scrollbarYHeight - i.railBorderYWidth,
  });
}

var clickRail = function(i) {
  i.event.bind(i.scrollbarY, 'mousedown', function (e) { return e.stopPropagation(); });
  i.event.bind(i.scrollbarYRail, 'mousedown', function (e) {
    var positionTop =
      e.pageY -
      window.pageYOffset -
      i.scrollbarYRail.getBoundingClientRect().top;
    var direction = positionTop > i.scrollbarYTop ? 1 : -1;

    i.element.scrollTop += direction * i.containerHeight;
    updateGeometry(i);

    e.stopPropagation();
  });

  i.event.bind(i.scrollbarX, 'mousedown', function (e) { return e.stopPropagation(); });
  i.event.bind(i.scrollbarXRail, 'mousedown', function (e) {
    var positionLeft =
      e.pageX -
      window.pageXOffset -
      i.scrollbarXRail.getBoundingClientRect().left;
    var direction = positionLeft > i.scrollbarXLeft ? 1 : -1;

    i.element.scrollLeft += direction * i.containerWidth;
    updateGeometry(i);

    e.stopPropagation();
  });
};

var dragThumb = function(i) {
  bindMouseScrollHandler(i, [
    'containerWidth',
    'contentWidth',
    'pageX',
    'railXWidth',
    'scrollbarX',
    'scrollbarXWidth',
    'scrollLeft',
    'x',
    'scrollbarXRail' ]);
  bindMouseScrollHandler(i, [
    'containerHeight',
    'contentHeight',
    'pageY',
    'railYHeight',
    'scrollbarY',
    'scrollbarYHeight',
    'scrollTop',
    'y',
    'scrollbarYRail' ]);
};

function bindMouseScrollHandler(
  i,
  ref
) {
  var containerHeight = ref[0];
  var contentHeight = ref[1];
  var pageY = ref[2];
  var railYHeight = ref[3];
  var scrollbarY = ref[4];
  var scrollbarYHeight = ref[5];
  var scrollTop = ref[6];
  var y = ref[7];
  var scrollbarYRail = ref[8];

  var element = i.element;

  var startingScrollTop = null;
  var startingMousePageY = null;
  var scrollBy = null;

  function mouseMoveHandler(e) {
    element[scrollTop] =
      startingScrollTop + scrollBy * (e[pageY] - startingMousePageY);
    addScrollingClass(i, y);
    updateGeometry(i);

    e.stopPropagation();
    e.preventDefault();
  }

  function mouseUpHandler() {
    removeScrollingClass(i, y);
    i[scrollbarYRail].classList.remove(cls.state.clicking);
    i.event.unbind(i.ownerDocument, 'mousemove', mouseMoveHandler);
  }

  i.event.bind(i[scrollbarY], 'mousedown', function (e) {
    startingScrollTop = element[scrollTop];
    startingMousePageY = e[pageY];
    scrollBy =
      (i[contentHeight] - i[containerHeight]) /
      (i[railYHeight] - i[scrollbarYHeight]);

    i.event.bind(i.ownerDocument, 'mousemove', mouseMoveHandler);
    i.event.once(i.ownerDocument, 'mouseup', mouseUpHandler);

    i[scrollbarYRail].classList.add(cls.state.clicking);

    e.stopPropagation();
    e.preventDefault();
  });
}

var keyboard = function(i) {
  var element = i.element;

  var elementHovered = function () { return matches(element, ':hover'); };
  var scrollbarFocused = function () { return matches(i.scrollbarX, ':focus') || matches(i.scrollbarY, ':focus'); };

  function shouldPreventDefault(deltaX, deltaY) {
    var scrollTop = Math.floor(element.scrollTop);
    if (deltaX === 0) {
      if (!i.scrollbarYActive) {
        return false;
      }
      if (
        (scrollTop === 0 && deltaY > 0) ||
        (scrollTop >= i.contentHeight - i.containerHeight && deltaY < 0)
      ) {
        return !i.settings.wheelPropagation;
      }
    }

    var scrollLeft = element.scrollLeft;
    if (deltaY === 0) {
      if (!i.scrollbarXActive) {
        return false;
      }
      if (
        (scrollLeft === 0 && deltaX < 0) ||
        (scrollLeft >= i.contentWidth - i.containerWidth && deltaX > 0)
      ) {
        return !i.settings.wheelPropagation;
      }
    }
    return true;
  }

  i.event.bind(i.ownerDocument, 'keydown', function (e) {
    if (
      (e.isDefaultPrevented && e.isDefaultPrevented()) ||
      e.defaultPrevented
    ) {
      return;
    }

    if (!elementHovered() && !scrollbarFocused()) {
      return;
    }

    var activeElement = document.activeElement
      ? document.activeElement
      : i.ownerDocument.activeElement;
    if (activeElement) {
      if (activeElement.tagName === 'IFRAME') {
        activeElement = activeElement.contentDocument.activeElement;
      } else {
        // go deeper if element is a webcomponent
        while (activeElement.shadowRoot) {
          activeElement = activeElement.shadowRoot.activeElement;
        }
      }
      if (isEditable(activeElement)) {
        return;
      }
    }

    var deltaX = 0;
    var deltaY = 0;

    switch (e.which) {
      case 37: // left
        if (e.metaKey) {
          deltaX = -i.contentWidth;
        } else if (e.altKey) {
          deltaX = -i.containerWidth;
        } else {
          deltaX = -30;
        }
        break;
      case 38: // up
        if (e.metaKey) {
          deltaY = i.contentHeight;
        } else if (e.altKey) {
          deltaY = i.containerHeight;
        } else {
          deltaY = 30;
        }
        break;
      case 39: // right
        if (e.metaKey) {
          deltaX = i.contentWidth;
        } else if (e.altKey) {
          deltaX = i.containerWidth;
        } else {
          deltaX = 30;
        }
        break;
      case 40: // down
        if (e.metaKey) {
          deltaY = -i.contentHeight;
        } else if (e.altKey) {
          deltaY = -i.containerHeight;
        } else {
          deltaY = -30;
        }
        break;
      case 32: // space bar
        if (e.shiftKey) {
          deltaY = i.containerHeight;
        } else {
          deltaY = -i.containerHeight;
        }
        break;
      case 33: // page up
        deltaY = i.containerHeight;
        break;
      case 34: // page down
        deltaY = -i.containerHeight;
        break;
      case 36: // home
        deltaY = i.contentHeight;
        break;
      case 35: // end
        deltaY = -i.contentHeight;
        break;
      default:
        return;
    }

    if (i.settings.suppressScrollX && deltaX !== 0) {
      return;
    }
    if (i.settings.suppressScrollY && deltaY !== 0) {
      return;
    }

    element.scrollTop -= deltaY;
    element.scrollLeft += deltaX;
    updateGeometry(i);

    if (shouldPreventDefault(deltaX, deltaY)) {
      e.preventDefault();
    }
  });
};

var wheel = function(i) {
  var element = i.element;

  function shouldPreventDefault(deltaX, deltaY) {
    var roundedScrollTop = Math.floor(element.scrollTop);
    var isTop = element.scrollTop === 0;
    var isBottom =
      roundedScrollTop + element.offsetHeight === element.scrollHeight;
    var isLeft = element.scrollLeft === 0;
    var isRight =
      element.scrollLeft + element.offsetWidth === element.scrollWidth;

    var hitsBound;

    // pick axis with primary direction
    if (Math.abs(deltaY) > Math.abs(deltaX)) {
      hitsBound = isTop || isBottom;
    } else {
      hitsBound = isLeft || isRight;
    }

    return hitsBound ? !i.settings.wheelPropagation : true;
  }

  function getDeltaFromEvent(e) {
    var deltaX = e.deltaX;
    var deltaY = -1 * e.deltaY;

    if (typeof deltaX === 'undefined' || typeof deltaY === 'undefined') {
      // OS X Safari
      deltaX = -1 * e.wheelDeltaX / 6;
      deltaY = e.wheelDeltaY / 6;
    }

    if (e.deltaMode && e.deltaMode === 1) {
      // Firefox in deltaMode 1: Line scrolling
      deltaX *= 10;
      deltaY *= 10;
    }

    if (deltaX !== deltaX && deltaY !== deltaY /* NaN checks */) {
      // IE in some mouse drivers
      deltaX = 0;
      deltaY = e.wheelDelta;
    }

    if (e.shiftKey) {
      // reverse axis with shift key
      return [-deltaY, -deltaX];
    }
    return [deltaX, deltaY];
  }

  function shouldBeConsumedByChild(target, deltaX, deltaY) {
    // FIXME: this is a workaround for <select> issue in FF and IE #571
    if (!env.isWebKit && element.querySelector('select:focus')) {
      return true;
    }

    if (!element.contains(target)) {
      return false;
    }

    var cursor = target;

    while (cursor && cursor !== element) {
      if (cursor.classList.contains(cls.element.consuming)) {
        return true;
      }

      var style = get(cursor);
      var overflow = [style.overflow, style.overflowX, style.overflowY].join(
        ''
      );

      // if scrollable
      if (overflow.match(/(scroll|auto)/)) {
        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;
        if (maxScrollTop > 0) {
          if (
            !(cursor.scrollTop === 0 && deltaY > 0) &&
            !(cursor.scrollTop === maxScrollTop && deltaY < 0)
          ) {
            return true;
          }
        }
        var maxScrollLeft = cursor.scrollWidth - cursor.clientWidth;
        if (maxScrollLeft > 0) {
          if (
            !(cursor.scrollLeft === 0 && deltaX < 0) &&
            !(cursor.scrollLeft === maxScrollLeft && deltaX > 0)
          ) {
            return true;
          }
        }
      }

      cursor = cursor.parentNode;
    }

    return false;
  }

  function mousewheelHandler(e) {
    var ref = getDeltaFromEvent(e);
    var deltaX = ref[0];
    var deltaY = ref[1];

    if (shouldBeConsumedByChild(e.target, deltaX, deltaY)) {
      return;
    }

    var shouldPrevent = false;
    if (!i.settings.useBothWheelAxes) {
      // deltaX will only be used for horizontal scrolling and deltaY will
      // only be used for vertical scrolling - this is the default
      element.scrollTop -= deltaY * i.settings.wheelSpeed;
      element.scrollLeft += deltaX * i.settings.wheelSpeed;
    } else if (i.scrollbarYActive && !i.scrollbarXActive) {
      // only vertical scrollbar is active and useBothWheelAxes option is
      // active, so let's scroll vertical bar using both mouse wheel axes
      if (deltaY) {
        element.scrollTop -= deltaY * i.settings.wheelSpeed;
      } else {
        element.scrollTop += deltaX * i.settings.wheelSpeed;
      }
      shouldPrevent = true;
    } else if (i.scrollbarXActive && !i.scrollbarYActive) {
      // useBothWheelAxes and only horizontal bar is active, so use both
      // wheel axes for horizontal bar
      if (deltaX) {
        element.scrollLeft += deltaX * i.settings.wheelSpeed;
      } else {
        element.scrollLeft -= deltaY * i.settings.wheelSpeed;
      }
      shouldPrevent = true;
    }

    updateGeometry(i);

    shouldPrevent = shouldPrevent || shouldPreventDefault(deltaX, deltaY);
    if (shouldPrevent && !e.ctrlKey) {
      e.stopPropagation();
      e.preventDefault();
    }
  }

  if (typeof window.onwheel !== 'undefined') {
    i.event.bind(element, 'wheel', mousewheelHandler);
  } else if (typeof window.onmousewheel !== 'undefined') {
    i.event.bind(element, 'mousewheel', mousewheelHandler);
  }
};

var touch = function(i) {
  if (!env.supportsTouch && !env.supportsIePointer) {
    return;
  }

  var element = i.element;

  function shouldPrevent(deltaX, deltaY) {
    var scrollTop = Math.floor(element.scrollTop);
    var scrollLeft = element.scrollLeft;
    var magnitudeX = Math.abs(deltaX);
    var magnitudeY = Math.abs(deltaY);

    if (magnitudeY > magnitudeX) {
      // user is perhaps trying to swipe up/down the page

      if (
        (deltaY < 0 && scrollTop === i.contentHeight - i.containerHeight) ||
        (deltaY > 0 && scrollTop === 0)
      ) {
        // set prevent for mobile Chrome refresh
        return window.scrollY === 0 && deltaY > 0 && env.isChrome;
      }
    } else if (magnitudeX > magnitudeY) {
      // user is perhaps trying to swipe left/right across the page

      if (
        (deltaX < 0 && scrollLeft === i.contentWidth - i.containerWidth) ||
        (deltaX > 0 && scrollLeft === 0)
      ) {
        return true;
      }
    }

    return true;
  }

  function applyTouchMove(differenceX, differenceY) {
    element.scrollTop -= differenceY;
    element.scrollLeft -= differenceX;

    updateGeometry(i);
  }

  var startOffset = {};
  var startTime = 0;
  var speed = {};
  var easingLoop = null;

  function getTouch(e) {
    if (e.targetTouches) {
      return e.targetTouches[0];
    } else {
      // Maybe IE pointer
      return e;
    }
  }

  function shouldHandle(e) {
    if (e.pointerType && e.pointerType === 'pen' && e.buttons === 0) {
      return false;
    }
    if (e.targetTouches && e.targetTouches.length === 1) {
      return true;
    }
    if (
      e.pointerType &&
      e.pointerType !== 'mouse' &&
      e.pointerType !== e.MSPOINTER_TYPE_MOUSE
    ) {
      return true;
    }
    return false;
  }

  function touchStart(e) {
    if (!shouldHandle(e)) {
      return;
    }

    var touch = getTouch(e);

    startOffset.pageX = touch.pageX;
    startOffset.pageY = touch.pageY;

    startTime = new Date().getTime();

    if (easingLoop !== null) {
      clearInterval(easingLoop);
    }
  }

  function shouldBeConsumedByChild(target, deltaX, deltaY) {
    if (!element.contains(target)) {
      return false;
    }

    var cursor = target;

    while (cursor && cursor !== element) {
      if (cursor.classList.contains(cls.element.consuming)) {
        return true;
      }

      var style = get(cursor);
      var overflow = [style.overflow, style.overflowX, style.overflowY].join(
        ''
      );

      // if scrollable
      if (overflow.match(/(scroll|auto)/)) {
        var maxScrollTop = cursor.scrollHeight - cursor.clientHeight;
        if (maxScrollTop > 0) {
          if (
            !(cursor.scrollTop === 0 && deltaY > 0) &&
            !(cursor.scrollTop === maxScrollTop && deltaY < 0)
          ) {
            return true;
          }
        }
        var maxScrollLeft = cursor.scrollLeft - cursor.clientWidth;
        if (maxScrollLeft > 0) {
          if (
            !(cursor.scrollLeft === 0 && deltaX < 0) &&
            !(cursor.scrollLeft === maxScrollLeft && deltaX > 0)
          ) {
            return true;
          }
        }
      }

      cursor = cursor.parentNode;
    }

    return false;
  }

  function touchMove(e) {
    if (shouldHandle(e)) {
      var touch = getTouch(e);

      var currentOffset = { pageX: touch.pageX, pageY: touch.pageY };

      var differenceX = currentOffset.pageX - startOffset.pageX;
      var differenceY = currentOffset.pageY - startOffset.pageY;

      if (shouldBeConsumedByChild(e.target, differenceX, differenceY)) {
        return;
      }

      applyTouchMove(differenceX, differenceY);
      startOffset = currentOffset;

      var currentTime = new Date().getTime();

      var timeGap = currentTime - startTime;
      if (timeGap > 0) {
        speed.x = differenceX / timeGap;
        speed.y = differenceY / timeGap;
        startTime = currentTime;
      }

      if (shouldPrevent(differenceX, differenceY)) {
        e.preventDefault();
      }
    }
  }
  function touchEnd() {
    if (i.settings.swipeEasing) {
      clearInterval(easingLoop);
      easingLoop = setInterval(function() {
        if (i.isInitialized) {
          clearInterval(easingLoop);
          return;
        }

        if (!speed.x && !speed.y) {
          clearInterval(easingLoop);
          return;
        }

        if (Math.abs(speed.x) < 0.01 && Math.abs(speed.y) < 0.01) {
          clearInterval(easingLoop);
          return;
        }

        applyTouchMove(speed.x * 30, speed.y * 30);

        speed.x *= 0.8;
        speed.y *= 0.8;
      }, 10);
    }
  }

  if (env.supportsTouch) {
    i.event.bind(element, 'touchstart', touchStart);
    i.event.bind(element, 'touchmove', touchMove);
    i.event.bind(element, 'touchend', touchEnd);
  } else if (env.supportsIePointer) {
    if (window.PointerEvent) {
      i.event.bind(element, 'pointerdown', touchStart);
      i.event.bind(element, 'pointermove', touchMove);
      i.event.bind(element, 'pointerup', touchEnd);
    } else if (window.MSPointerEvent) {
      i.event.bind(element, 'MSPointerDown', touchStart);
      i.event.bind(element, 'MSPointerMove', touchMove);
      i.event.bind(element, 'MSPointerUp', touchEnd);
    }
  }
};

var defaultSettings = function () { return ({
  handlers: ['click-rail', 'drag-thumb', 'keyboard', 'wheel', 'touch'],
  maxScrollbarLength: null,
  minScrollbarLength: null,
  scrollingThreshold: 1000,
  scrollXMarginOffset: 0,
  scrollYMarginOffset: 0,
  suppressScrollX: false,
  suppressScrollY: false,
  swipeEasing: true,
  useBothWheelAxes: false,
  wheelPropagation: true,
  wheelSpeed: 1,
}); };

var handlers = {
  'click-rail': clickRail,
  'drag-thumb': dragThumb,
  keyboard: keyboard,
  wheel: wheel,
  touch: touch,
};

var PerfectScrollbar = function PerfectScrollbar(element, userSettings) {
  var this$1 = this;
  if ( userSettings === void 0 ) userSettings = {};

  if (typeof element === 'string') {
    element = document.querySelector(element);
  }

  if (!element || !element.nodeName) {
    throw new Error('no element is specified to initialize PerfectScrollbar');
  }

  this.element = element;

  element.classList.add(cls.main);

  this.settings = defaultSettings();
  for (var key in userSettings) {
    this$1.settings[key] = userSettings[key];
  }

  this.containerWidth = null;
  this.containerHeight = null;
  this.contentWidth = null;
  this.contentHeight = null;

  var focus = function () { return element.classList.add(cls.state.focus); };
  var blur = function () { return element.classList.remove(cls.state.focus); };

  this.isRtl = get(element).direction === 'rtl';
  this.isNegativeScroll = (function () {
    var originalScrollLeft = element.scrollLeft;
    var result = null;
    element.scrollLeft = -1;
    result = element.scrollLeft < 0;
    element.scrollLeft = originalScrollLeft;
    return result;
  })();
  this.negativeScrollAdjustment = this.isNegativeScroll
    ? element.scrollWidth - element.clientWidth
    : 0;
  this.event = new EventManager();
  this.ownerDocument = element.ownerDocument || document;

  this.scrollbarXRail = div(cls.element.rail('x'));
  element.appendChild(this.scrollbarXRail);
  this.scrollbarX = div(cls.element.thumb('x'));
  this.scrollbarXRail.appendChild(this.scrollbarX);
  this.scrollbarX.setAttribute('tabindex', 0);
  this.event.bind(this.scrollbarX, 'focus', focus);
  this.event.bind(this.scrollbarX, 'blur', blur);
  this.scrollbarXActive = null;
  this.scrollbarXWidth = null;
  this.scrollbarXLeft = null;
  var railXStyle = get(this.scrollbarXRail);
  this.scrollbarXBottom = parseInt(railXStyle.bottom, 10);
  if (isNaN(this.scrollbarXBottom)) {
    this.isScrollbarXUsingBottom = false;
    this.scrollbarXTop = toInt(railXStyle.top);
  } else {
    this.isScrollbarXUsingBottom = true;
  }
  this.railBorderXWidth =
    toInt(railXStyle.borderLeftWidth) + toInt(railXStyle.borderRightWidth);
  // Set rail to display:block to calculate margins
  set(this.scrollbarXRail, { display: 'block' });
  this.railXMarginWidth =
    toInt(railXStyle.marginLeft) + toInt(railXStyle.marginRight);
  set(this.scrollbarXRail, { display: '' });
  this.railXWidth = null;
  this.railXRatio = null;

  this.scrollbarYRail = div(cls.element.rail('y'));
  element.appendChild(this.scrollbarYRail);
  this.scrollbarY = div(cls.element.thumb('y'));
  this.scrollbarYRail.appendChild(this.scrollbarY);
  this.scrollbarY.setAttribute('tabindex', 0);
  this.event.bind(this.scrollbarY, 'focus', focus);
  this.event.bind(this.scrollbarY, 'blur', blur);
  this.scrollbarYActive = null;
  this.scrollbarYHeight = null;
  this.scrollbarYTop = null;
  var railYStyle = get(this.scrollbarYRail);
  this.scrollbarYRight = parseInt(railYStyle.right, 10);
  if (isNaN(this.scrollbarYRight)) {
    this.isScrollbarYUsingRight = false;
    this.scrollbarYLeft = toInt(railYStyle.left);
  } else {
    this.isScrollbarYUsingRight = true;
  }
  this.scrollbarYOuterWidth = this.isRtl ? outerWidth(this.scrollbarY) : null;
  this.railBorderYWidth =
    toInt(railYStyle.borderTopWidth) + toInt(railYStyle.borderBottomWidth);
  set(this.scrollbarYRail, { display: 'block' });
  this.railYMarginHeight =
    toInt(railYStyle.marginTop) + toInt(railYStyle.marginBottom);
  set(this.scrollbarYRail, { display: '' });
  this.railYHeight = null;
  this.railYRatio = null;

  this.reach = {
    x:
      element.scrollLeft <= 0
        ? 'start'
        : element.scrollLeft >= this.contentWidth - this.containerWidth
          ? 'end'
          : null,
    y:
      element.scrollTop <= 0
        ? 'start'
        : element.scrollTop >= this.contentHeight - this.containerHeight
          ? 'end'
          : null,
  };

  this.isAlive = true;

  this.settings.handlers.forEach(function (handlerName) { return handlers[handlerName](this$1); });

  this.lastScrollTop = Math.floor(element.scrollTop); // for onScroll only
  this.lastScrollLeft = element.scrollLeft; // for onScroll only
  this.event.bind(this.element, 'scroll', function (e) { return this$1.onScroll(e); });
  updateGeometry(this);
};

PerfectScrollbar.prototype.update = function update () {
  if (!this.isAlive) {
    return;
  }

  // Recalcuate negative scrollLeft adjustment
  this.negativeScrollAdjustment = this.isNegativeScroll
    ? this.element.scrollWidth - this.element.clientWidth
    : 0;

  // Recalculate rail margins
  set(this.scrollbarXRail, { display: 'block' });
  set(this.scrollbarYRail, { display: 'block' });
  this.railXMarginWidth =
    toInt(get(this.scrollbarXRail).marginLeft) +
    toInt(get(this.scrollbarXRail).marginRight);
  this.railYMarginHeight =
    toInt(get(this.scrollbarYRail).marginTop) +
    toInt(get(this.scrollbarYRail).marginBottom);

  // Hide scrollbars not to affect scrollWidth and scrollHeight
  set(this.scrollbarXRail, { display: 'none' });
  set(this.scrollbarYRail, { display: 'none' });

  updateGeometry(this);

  processScrollDiff(this, 'top', 0, false, true);
  processScrollDiff(this, 'left', 0, false, true);

  set(this.scrollbarXRail, { display: '' });
  set(this.scrollbarYRail, { display: '' });
};

PerfectScrollbar.prototype.onScroll = function onScroll (e) {
  if (!this.isAlive) {
    return;
  }

  updateGeometry(this);
  processScrollDiff(this, 'top', this.element.scrollTop - this.lastScrollTop);
  processScrollDiff(
    this,
    'left',
    this.element.scrollLeft - this.lastScrollLeft
  );

  this.lastScrollTop = Math.floor(this.element.scrollTop);
  this.lastScrollLeft = this.element.scrollLeft;
};

PerfectScrollbar.prototype.destroy = function destroy () {
  if (!this.isAlive) {
    return;
  }

  this.event.unbindAll();
  remove(this.scrollbarX);
  remove(this.scrollbarY);
  remove(this.scrollbarXRail);
  remove(this.scrollbarYRail);
  this.removePsClasses();

  // unset elements
  this.element = null;
  this.scrollbarX = null;
  this.scrollbarY = null;
  this.scrollbarXRail = null;
  this.scrollbarYRail = null;

  this.isAlive = false;
};

PerfectScrollbar.prototype.removePsClasses = function removePsClasses () {
  this.element.className = this.element.className
    .split(' ')
    .filter(function (name) { return !name.match(/^ps([-_].+|)$/); })
    .join(' ');
};

/* harmony default export */ __webpack_exports__["default"] = (PerfectScrollbar);


/***/ }),

/***/ "./node_modules/process/browser.js":
/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };


/***/ }),

/***/ "./node_modules/webpack/buildin/global.js":
/*!***********************************!*\
  !*** (webpack)/buildin/global.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

var g;

// This works in non-strict mode
g = (function() {
	return this;
})();

try {
	// This works if eval is allowed (see CSP)
	g = g || new Function("return this")();
} catch (e) {
	// This works if the window reference is available
	if (typeof window === "object") g = window;
}

// g can still be undefined, but nothing to do about it...
// We return undefined, instead of nothing here, so it's
// easier to handle this case. if(!global) { ...}

module.exports = g;


/***/ }),

/***/ "./node_modules/webpack/buildin/module.js":
/*!***********************************!*\
  !*** (webpack)/buildin/module.js ***!
  \***********************************/
/*! no static exports found */
/***/ (function(module, exports) {

module.exports = function(module) {
	if (!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if (!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),

/***/ "./resources/js/backend/after.js":
/*!***************************************!*\
  !*** ./resources/js/backend/after.js ***!
  \***************************************/
/*! no static exports found */
/***/ (function(module, exports) {

// Loaded after CoreUI app.js

/***/ }),

/***/ "./resources/js/backend/app.js":
/*!*************************************!*\
  !*** ./resources/js/backend/app.js ***!
  \*************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _coreui_coreui__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @coreui/coreui */ "./node_modules/@coreui/coreui/dist/js/coreui.js");
/* harmony import */ var _coreui_coreui__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_coreui_coreui__WEBPACK_IMPORTED_MODULE_0__);


/***/ }),

/***/ "./resources/js/backend/before.js":
/*!****************************************!*\
  !*** ./resources/js/backend/before.js ***!
  \****************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _bootstrap__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../bootstrap */ "./resources/js/bootstrap.js");
/* harmony import */ var pace__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pace */ "./node_modules/pace/pace.js");
/* harmony import */ var pace__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pace__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _plugins__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../plugins */ "./resources/js/plugins.js");
/* harmony import */ var _plugins__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_plugins__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var moment_moment__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! moment/moment */ "./node_modules/moment/moment.js");
/* harmony import */ var moment_moment__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(moment_moment__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var daterangepicker__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! daterangepicker */ "./node_modules/daterangepicker/daterangepicker.js");
/* harmony import */ var daterangepicker__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(daterangepicker__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _daterank__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../daterank */ "./resources/js/daterank.js");
/* harmony import */ var _daterank__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_daterank__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var jquery_validation__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! jquery-validation */ "./node_modules/jquery-validation/dist/jquery.validate.js");
/* harmony import */ var jquery_validation__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(jquery_validation__WEBPACK_IMPORTED_MODULE_7__);
/**
 * First we will load all of this project's JavaScript dependencies which
 * includes Vue and other libraries. It is a great starting point when
 * building robust, powerful web applications using Vue and Laravel.
 */
// Loaded before CoreUI app.js







 // import 'jquery-loading/dist/jquery.loading'

/***/ }),

/***/ "./resources/js/backend/ckeditor.js":
/*!******************************************!*\
  !*** ./resources/js/backend/ckeditor.js ***!
  \******************************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ckeditor_ckeditor5_build_classic__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @ckeditor/ckeditor5-build-classic */ "./node_modules/@ckeditor/ckeditor5-build-classic/build/ckeditor.js");
/* harmony import */ var _ckeditor_ckeditor5_build_classic__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ckeditor_ckeditor5_build_classic__WEBPACK_IMPORTED_MODULE_0__);
 // Or using the CommonJS version:
// const ClassicEditor = require( '@ckeditor/ckeditor5-build-classic' );

$(function () {
  if ($('.editor').length > 0) {
    _ckeditor_ckeditor5_build_classic__WEBPACK_IMPORTED_MODULE_0___default.a.create(document.querySelector('.editor'), {
      ckfinder: {
        uploadUrl: '/ckfinder/connector?command=QuickUpload&type=Files&responseType=json'
      }
    }).then(function (editor) {
      window.editor = editor;
    }).catch(function (err) {
      console.error(err.stack);
    });
  }
});

/***/ }),

/***/ "./resources/js/bootstrap.js":
/*!***********************************!*\
  !*** ./resources/js/bootstrap.js ***!
  \***********************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lodash */ "./node_modules/lodash/lodash.js");
/* harmony import */ var lodash__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! axios */ "./node_modules/axios/index.js");
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! sweetalert2 */ "./node_modules/sweetalert2/dist/sweetalert2.all.js");
/* harmony import */ var sweetalert2__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(sweetalert2__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! jquery */ "./node_modules/jquery/dist/jquery.js");
/* harmony import */ var jquery__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var popper_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! popper.js */ "./node_modules/popper.js/dist/esm/popper.js");
/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! bootstrap */ "./node_modules/bootstrap/dist/js/bootstrap.js");
/* harmony import */ var bootstrap__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(bootstrap__WEBPACK_IMPORTED_MODULE_5__);
/**
 * This bootstrap file is used for both frontend and backend
 */




 // Required for BS4


/**
 * We'll load jQuery and the Bootstrap jQuery plugin which provides support
 * for JavaScript based Bootstrap features such as modals and tabs. This
 * code may be modified to fit the specific needs of your application.
 */

window.$ = window.jQuery = jquery__WEBPACK_IMPORTED_MODULE_3___default.a;
window.Swal = sweetalert2__WEBPACK_IMPORTED_MODULE_2___default.a;
window._ = lodash__WEBPACK_IMPORTED_MODULE_0___default.a; // Lodash

/**
 * We'll load the axios HTTP library which allows us to easily issue requests
 * to our Laravel back-end. This library automatically handles sending the
 * CSRF token as a header based on the value of the "XSRF" token cookie.
 */

window.axios = axios__WEBPACK_IMPORTED_MODULE_1___default.a;
window.axios.defaults.headers.common['X-Requested-With'] = 'XMLHttpRequest';
/**
 * Next we will register the CSRF Token as a common header with Axios so that
 * all outgoing HTTP requests automatically have it attached. This is just
 * a simple convenience so we don't have to attach every token manually.
 */

var token = document.head.querySelector('meta[name="csrf-token"]');

if (token) {
  window.axios.defaults.headers.common['X-CSRF-TOKEN'] = token.content;
} else {
  console.error('CSRF token not found: https://laravel.com/docs/csrf#csrf-x-csrf-token');
}
/**
 * Echo exposes an expressive API for subscribing to channels and listening
 * for events that are broadcast by Laravel. Echo and event broadcasting
 * allows your team to easily build robust real-time web applications.
 */
// import Echo from 'laravel-echo'
// window.Pusher = require('pusher-js');
// window.Echo = new Echo({
//     broadcaster: 'pusher',
//     key: process.env.MIX_PUSHER_APP_KEY
//     cluster: process.env.MIX_PUSHER_APP_CLUSTER,
//     encrypted: true
// });

/***/ }),

/***/ "./resources/js/daterank.js":
/*!**********************************!*\
  !*** ./resources/js/daterank.js ***!
  \**********************************/
/*! no static exports found */
/***/ (function(module, exports) {

$(function () {
  $('.datetime').daterangepicker({
    singleDatePicker: true,
    showDropdowns: true,
    minYear: 1901,
    maxYear: 2030
  });
});

/***/ }),

/***/ "./resources/js/plugins.js":
/*!*********************************!*\
  !*** ./resources/js/plugins.js ***!
  \*********************************/
/*! no static exports found */
/***/ (function(module, exports) {

/**
 * Allows you to add data-method="METHOD to links to automatically inject a form
 * with the method on click
 *
 * Example: <a href="{{route('customers.destroy', $customer->id)}}"
 * data-method="delete" name="delete_item">Delete</a>
 *
 * Injects a form with that's fired on click of the link with a DELETE request.
 * Good because you don't have to dirty your HTML with delete forms everywhere.
 */
function addDeleteForms() {
  $('[data-method]').append(function () {
    if (!$(this).find('form').length > 0) {
      return "\n<form action='" + $(this).attr('href') + "' method='POST' name='delete_item' style='display:none'>\n" + "<input type='hidden' name='_method' value='" + $(this).attr('data-method') + "'>\n" + "<input type='hidden' name='_token' value='" + $('meta[name="csrf-token"]').attr('content') + "'>\n" + '</form>\n';
    } else {
      return '';
    }
  }).attr('href', '#').attr('style', 'cursor:pointer;').attr('onclick', '$(this).find("form").submit();');
}
/**
 * Place any jQuery/helper plugins in here.
 */


$(function () {
  /**
   * Add the data-method="delete" forms to all delete links
   */
  addDeleteForms(); // /**
  //  * Disable all submit buttons once clicked
  //  */
  // $('form').submit(function () {
  //     $(this).find('input[type="submit"]').attr('disabled', true);
  //     $(this).find('button[type="submit"]').attr('disabled', true);
  //     return true;
  // });

  /**
   * Generic confirm form delete using Sweet Alert
   */

  $('body').on('submit', 'form[name=delete_item]', function (e) {
    e.preventDefault();
    var form = this;
    var link = $('a[data-method="delete"]');
    var cancel = link.attr('data-trans-button-cancel') ? link.attr('data-trans-button-cancel') : 'Cancel';
    var confirm = link.attr('data-trans-button-confirm') ? link.attr('data-trans-button-confirm') : 'Yes, delete';
    var title = link.attr('data-trans-title') ? link.attr('data-trans-title') : 'Are you sure you want to delete this item?';
    Swal.fire({
      title: title,
      showCancelButton: true,
      confirmButtonText: confirm,
      cancelButtonText: cancel,
      type: 'warning'
    }).then(function (result) {
      result.value && form.submit();
    });
  }).on('click', 'a[name=confirm_item]', function (e) {
    /**
     * Generic 'are you sure' confirm box
     */
    e.preventDefault();
    var link = $(this);
    var title = link.attr('data-trans-title') ? link.attr('data-trans-title') : 'Are you sure you want to do this?';
    var cancel = link.attr('data-trans-button-cancel') ? link.attr('data-trans-button-cancel') : 'Cancel';
    var confirm = link.attr('data-trans-button-confirm') ? link.attr('data-trans-button-confirm') : 'Continue';
    Swal.fire({
      title: title,
      showCancelButton: true,
      confirmButtonText: confirm,
      cancelButtonText: cancel,
      type: 'info'
    }).then(function (result) {
      result.value && window.location.assign(link.attr('href'));
    });
  });
  $('[data-toggle="tooltip"]').tooltip();
});

/***/ }),

/***/ 1:
/*!***********************************************************************************************************************************************!*\
  !*** multi ./resources/js/backend/before.js ./resources/js/backend/app.js ./resources/js/backend/after.js ./resources/js/backend/ckeditor.js ***!
  \***********************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! /var/www/html/resources/js/backend/before.js */"./resources/js/backend/before.js");
__webpack_require__(/*! /var/www/html/resources/js/backend/app.js */"./resources/js/backend/app.js");
__webpack_require__(/*! /var/www/html/resources/js/backend/after.js */"./resources/js/backend/after.js");
module.exports = __webpack_require__(/*! /var/www/html/resources/js/backend/ckeditor.js */"./resources/js/backend/ckeditor.js");


/***/ })

},[[1,"/js/manifest","/js/vendor"]]]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGNrZWRpdG9yL2NrZWRpdG9yNS1idWlsZC1jbGFzc2ljL2J1aWxkL2NrZWRpdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AY29yZXVpL2NvcmV1aS9kaXN0L2pzL2NvcmV1aS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaXMtYnVmZmVyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qcXVlcnktdmFsaWRhdGlvbi9kaXN0L2pxdWVyeS52YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZSBzeW5jIF5cXC5cXC8uKiQiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3BhY2UvcGFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcGVyZmVjdC1zY3JvbGxiYXIvZGlzdC9wZXJmZWN0LXNjcm9sbGJhci5lc20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2JhY2tlbmQvYWZ0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2pzL2JhY2tlbmQvYXBwLmpzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9iYWNrZW5kL2JlZm9yZS5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYmFja2VuZC9ja2VkaXRvci5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvYm9vdHN0cmFwLmpzIiwid2VicGFjazovLy8uL3Jlc291cmNlcy9qcy9kYXRlcmFuay5qcyIsIndlYnBhY2s6Ly8vLi9yZXNvdXJjZXMvanMvcGx1Z2lucy5qcyJdLCJuYW1lcyI6WyIkIiwibGVuZ3RoIiwiQ2xhc3NpY0VkaXRvciIsImNyZWF0ZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNrZmluZGVyIiwidXBsb2FkVXJsIiwidGhlbiIsImVkaXRvciIsIndpbmRvdyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwic3RhY2siLCJqUXVlcnkiLCJTd2FsIiwiXyIsImF4aW9zIiwiZGVmYXVsdHMiLCJoZWFkZXJzIiwiY29tbW9uIiwidG9rZW4iLCJoZWFkIiwiY29udGVudCIsImRhdGVyYW5nZXBpY2tlciIsInNpbmdsZURhdGVQaWNrZXIiLCJzaG93RHJvcGRvd25zIiwibWluWWVhciIsIm1heFllYXIiLCJhZGREZWxldGVGb3JtcyIsImFwcGVuZCIsImZpbmQiLCJhdHRyIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCJmb3JtIiwibGluayIsImNhbmNlbCIsImNvbmZpcm0iLCJ0aXRsZSIsImZpcmUiLCJzaG93Q2FuY2VsQnV0dG9uIiwiY29uZmlybUJ1dHRvblRleHQiLCJjYW5jZWxCdXR0b25UZXh0IiwidHlwZSIsInJlc3VsdCIsInZhbHVlIiwic3VibWl0IiwibG9jYXRpb24iLCJhc3NpZ24iLCJ0b29sdGlwIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsMkJBQTJCLEVBQUUsMDVDQUEwNUMsRUFBRSwrREFBK0QsaUJBQWlCLEtBQWlELG9CQUFvQixTQUF5SCxDQUFDLG1CQUFtQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELG1CQUFtQixrQkFBa0Is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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSwyQkFBMkIsbUJBQW1CO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU8sWUFBWSxlQUFlO0FBQ2xDO0FBQ0EsT0FBTztBQUNQO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjOztBQUVk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QUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsb0JBQW9CO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixtQkFBbUI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQSxtQkFBbUIsa0JBQWtCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBOztBQUVBO0FBQ0EsT0FBTzs7O0FBR1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFD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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBLE9BQU87OztBQUdQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsU0FBUyxFQUFFOztBQUVYO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFT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R0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsdUNBQXVDO0FBQ3ZDO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFEQUFxRDtBQUNyRDs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsbUJBQW1CLHNCQUFzQjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLE9BQU87QUFDNUI7QUFDQTtBQUNBLElBQUk7QUFDSiwrREFBK0QsR0FBRztBQUNsRTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLGVBQWUscUJBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHVCQUF1QjtBQUN2QztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxlQUFlO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0MsWUFBWSxFQUFFO0FBQzdELEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxH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LHFDQUFxQztBQUN2RDs7QUFFQSx3QkFBd0I7QUFDeEI7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsRzs7Ozs7Ozs7Ozs7QUNqbkREO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkU7Ozs7Ozs7Ozs7O0FDblJBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQix5Q0FBeUMsMEJBQTBCLDJEQUEyRCxFQUFFLGtCQUFrQiwwQkFBMEIsRUFBRSxtQ0FBbUMsOEJBQThCLG9DQUFvQyxjQUFjLEVBQUU7QUFDblMsOENBQThDLGlDQUFpQyxPQUFPLE9BQU8sNkNBQTZDLEVBQUUsV0FBVzs7QUFFdko7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsV0FBVztBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsV0FBVztBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIOztBQUVBOztBQUVBOztBQUVBLG9DQUFvQzs7QUFFcEM7QUFDQSxrQ0FBa0MsV0FBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxZQUFZO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsWUFBWTtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLFlBQVk7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsWUFBWTtBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSwwQ0FBMEMsWUFBWTtBQUN0RDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3Q0FBd0MsWUFBWTtBQUNwRDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBOztBQUVBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUEsR0FBRzs7QUFFSDs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxZQUFZO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxZQUFZO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFlBQVk7QUFDMUQ7QUFDQTtBQUNBO0FBQ0EsaURBQWlELFlBQVk7QUFDN0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxNQUFNLElBQTBDO0FBQ2hELElBQUksaUNBQU8sQ0FBQyw4REFBTSxDQUFDLG1DQUFFO0FBQ3JCO0FBQ0EsS0FBSztBQUFBLG9HQUFDO0FBQ04sR0FBRyxNQUFNLEVBTU47O0FBRUgsQ0FBQzs7Ozs7Ozs7Ozs7OztBQ3Q2QkQ7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSx5RUFBeUUsaUNBQWlDO0FBQzFHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDJCQUEyQixFQUFFO0FBQ3RELHdCQUF3QiwwQkFBMEIsRUFBRTtBQUNwRDtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNEJBQTRCLEVBQUU7QUFDeEQsNkJBQTZCLCtCQUErQixFQUFFO0FBQzlELEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7O0FBRTdCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsaUJBQWlCLHdFQUF3RSxFQUFFO0FBQzNGO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSwwQkFBMEIsV0FBVyxxQkFBcUI7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLG9CQUFvQiwwQ0FBMEM7QUFDOUQ7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxvREFBb0QsK0JBQStCLEVBQUU7QUFDckY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDJDQUEyQyxzQkFBc0IsRUFBRTtBQUNuRTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLHlFQUF5RSxtQkFBbUI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlFQUF5RSxtQkFBbUI7QUFDNUY7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EscUJBQXFCO0FBQ3JCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRUEscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0Esd0RBQXdELDRCQUE0QixFQUFFO0FBQ3RGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSCx3REFBd0QsNEJBQTRCLEVBQUU7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBLG9DQUFvQyxtQ0FBbUM7QUFDdkUsc0NBQXNDLDJFQUEyRTs7QUFFakg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQSwyQkFBMkI7O0FBRTNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFD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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsdUJBQXVCLHNCQUFzQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEscUNBQXFDOztBQUVyQztBQUNBO0FBQ0E7O0FBRUEsMkJBQTJCO0FBQzNCO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixVQUFVOzs7Ozs7Ozs7Ozs7QUN2THRDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsNENBQTRDOztBQUU1Qzs7Ozs7Ozs7Ozs7O0FDbkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7O0FDckJBLDZCOzs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7Ozs7Ozs7Ozs7Ozs7QUNBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7Q0FJQSw4Qzs7Ozs7Ozs7Ozs7O0FDbkJBO0FBQUE7QUFBQTtDQUVBO0FBQ0E7O0FBRUFBLENBQUMsQ0FBQyxZQUFZO0FBQ1YsTUFBSUEsQ0FBQyxDQUFDLFNBQUQsQ0FBRCxDQUFhQyxNQUFiLEdBQXNCLENBQTFCLEVBQTZCO0FBQ3pCQyw0RUFBYSxDQUNSQyxNQURMLENBQ1lDLFFBQVEsQ0FBQ0MsYUFBVCxDQUF1QixTQUF2QixDQURaLEVBQytDO0FBQ3ZDQyxjQUFRLEVBQUU7QUFDTkMsaUJBQVMsRUFBRTtBQURMO0FBRDZCLEtBRC9DLEVBTUtDLElBTkwsQ0FNVSxVQUFBQyxNQUFNLEVBQUk7QUFDWkMsWUFBTSxDQUFDRCxNQUFQLEdBQWdCQSxNQUFoQjtBQUNILEtBUkwsRUFTS0UsS0FUTCxDQVNXLFVBQUFDLEdBQUcsRUFBSTtBQUNWQyxhQUFPLENBQUNDLEtBQVIsQ0FBY0YsR0FBRyxDQUFDRyxLQUFsQjtBQUNILEtBWEw7QUFhSDtBQUVKLENBakJBLENBQUQsQzs7Ozs7Ozs7Ozs7O0FDTEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7OztBQUlBO0FBQ0E7QUFDQTtBQUVBO0NBQ29COztBQUNwQjtBQUtBOzs7Ozs7QUFNQUwsTUFBTSxDQUFDVixDQUFQLEdBQVdVLE1BQU0sQ0FBQ00sTUFBUCxHQUFnQmhCLDZDQUEzQjtBQUNBVSxNQUFNLENBQUNPLElBQVAsR0FBY0Esa0RBQWQ7QUFDQVAsTUFBTSxDQUFDUSxDQUFQLEdBQVdBLDZDQUFYLEMsQ0FBYzs7QUFFZDs7Ozs7O0FBTUFSLE1BQU0sQ0FBQ1MsS0FBUCxHQUFlQSw0Q0FBZjtBQUNBVCxNQUFNLENBQUNTLEtBQVAsQ0FBYUMsUUFBYixDQUFzQkMsT0FBdEIsQ0FBOEJDLE1BQTlCLENBQXFDLGtCQUFyQyxJQUEyRCxnQkFBM0Q7QUFFQTs7Ozs7O0FBTUEsSUFBTUMsS0FBSyxHQUFHbkIsUUFBUSxDQUFDb0IsSUFBVCxDQUFjbkIsYUFBZCxDQUE0Qix5QkFBNUIsQ0FBZDs7QUFFQSxJQUFJa0IsS0FBSixFQUFXO0FBQ1BiLFFBQU0sQ0FBQ1MsS0FBUCxDQUFhQyxRQUFiLENBQXNCQyxPQUF0QixDQUE4QkMsTUFBOUIsQ0FBcUMsY0FBckMsSUFBdURDLEtBQUssQ0FBQ0UsT0FBN0Q7QUFDSCxDQUZELE1BRU87QUFDSFosU0FBTyxDQUFDQyxLQUFSLENBQWMsdUVBQWQ7QUFDSDtBQUVEOzs7OztBQU1BO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTTs7Ozs7Ozs7Ozs7QUMvREFkLENBQUMsQ0FBQyxZQUFXO0FBQ1RBLEdBQUMsQ0FBQyxXQUFELENBQUQsQ0FBZTBCLGVBQWYsQ0FBK0I7QUFDM0JDLG9CQUFnQixFQUFFLElBRFM7QUFFM0JDLGlCQUFhLEVBQUUsSUFGWTtBQUczQkMsV0FBTyxFQUFFLElBSGtCO0FBSTNCQyxXQUFPLEVBQUU7QUFKa0IsR0FBL0I7QUFNSCxDQVBBLENBQUQsQzs7Ozs7Ozs7Ozs7QUNBQTs7Ozs7Ozs7OztBQVVBLFNBQVNDLGNBQVQsR0FBMEI7QUFDdEIvQixHQUFDLENBQUMsZUFBRCxDQUFELENBQW1CZ0MsTUFBbkIsQ0FBMEIsWUFBWTtBQUNsQyxRQUFJLENBQUNoQyxDQUFDLENBQUMsSUFBRCxDQUFELENBQVFpQyxJQUFSLENBQWEsTUFBYixFQUFxQmhDLE1BQXRCLEdBQStCLENBQW5DLEVBQXNDO0FBQ2xDLGFBQU8scUJBQXFCRCxDQUFDLENBQUMsSUFBRCxDQUFELENBQVFrQyxJQUFSLENBQWEsTUFBYixDQUFyQixHQUE0Qyw0REFBNUMsR0FDSCw2Q0FERyxHQUM2Q2xDLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUWtDLElBQVIsQ0FBYSxhQUFiLENBRDdDLEdBQzJFLE1BRDNFLEdBRUgsNENBRkcsR0FFNENsQyxDQUFDLENBQUMseUJBQUQsQ0FBRCxDQUE2QmtDLElBQTdCLENBQWtDLFNBQWxDLENBRjVDLEdBRTJGLE1BRjNGLEdBR0gsV0FISjtBQUlILEtBTEQsTUFLTztBQUFFLGFBQU8sRUFBUDtBQUFXO0FBQ3ZCLEdBUEQsRUFRS0EsSUFSTCxDQVFVLE1BUlYsRUFRa0IsR0FSbEIsRUFTS0EsSUFUTCxDQVNVLE9BVFYsRUFTbUIsaUJBVG5CLEVBVUtBLElBVkwsQ0FVVSxTQVZWLEVBVXFCLGdDQVZyQjtBQVdIO0FBRUQ7Ozs7O0FBR0FsQyxDQUFDLENBQUMsWUFBWTtBQUNWOzs7QUFHQStCLGdCQUFjLEdBSkosQ0FNVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBR0EvQixHQUFDLENBQUMsTUFBRCxDQUFELENBQVVtQyxFQUFWLENBQWEsUUFBYixFQUF1Qix3QkFBdkIsRUFBaUQsVUFBVUMsQ0FBVixFQUFhO0FBQzFEQSxLQUFDLENBQUNDLGNBQUY7QUFFQSxRQUFNQyxJQUFJLEdBQUcsSUFBYjtBQUNBLFFBQU1DLElBQUksR0FBR3ZDLENBQUMsQ0FBQyx5QkFBRCxDQUFkO0FBQ0EsUUFBTXdDLE1BQU0sR0FBSUQsSUFBSSxDQUFDTCxJQUFMLENBQVUsMEJBQVYsQ0FBRCxHQUEwQ0ssSUFBSSxDQUFDTCxJQUFMLENBQVUsMEJBQVYsQ0FBMUMsR0FBa0YsUUFBakc7QUFDQSxRQUFNTyxPQUFPLEdBQUlGLElBQUksQ0FBQ0wsSUFBTCxDQUFVLDJCQUFWLENBQUQsR0FBMkNLLElBQUksQ0FBQ0wsSUFBTCxDQUFVLDJCQUFWLENBQTNDLEdBQW9GLGFBQXBHO0FBQ0EsUUFBTVEsS0FBSyxHQUFJSCxJQUFJLENBQUNMLElBQUwsQ0FBVSxrQkFBVixDQUFELEdBQWtDSyxJQUFJLENBQUNMLElBQUwsQ0FBVSxrQkFBVixDQUFsQyxHQUFrRSw0Q0FBaEY7QUFFQWpCLFFBQUksQ0FBQzBCLElBQUwsQ0FBVTtBQUNORCxXQUFLLEVBQUVBLEtBREQ7QUFFTkUsc0JBQWdCLEVBQUUsSUFGWjtBQUdOQyx1QkFBaUIsRUFBRUosT0FIYjtBQUlOSyxzQkFBZ0IsRUFBRU4sTUFKWjtBQUtOTyxVQUFJLEVBQUU7QUFMQSxLQUFWLEVBTUd2QyxJQU5ILENBTVEsVUFBQ3dDLE1BQUQsRUFBWTtBQUNoQkEsWUFBTSxDQUFDQyxLQUFQLElBQWdCWCxJQUFJLENBQUNZLE1BQUwsRUFBaEI7QUFDSCxLQVJEO0FBU0gsR0FsQkQsRUFrQkdmLEVBbEJILENBa0JNLE9BbEJOLEVBa0JlLHNCQWxCZixFQWtCdUMsVUFBVUMsQ0FBVixFQUFhO0FBQ2hEOzs7QUFHQUEsS0FBQyxDQUFDQyxjQUFGO0FBRUEsUUFBTUUsSUFBSSxHQUFHdkMsQ0FBQyxDQUFDLElBQUQsQ0FBZDtBQUNBLFFBQU0wQyxLQUFLLEdBQUlILElBQUksQ0FBQ0wsSUFBTCxDQUFVLGtCQUFWLENBQUQsR0FBa0NLLElBQUksQ0FBQ0wsSUFBTCxDQUFVLGtCQUFWLENBQWxDLEdBQWtFLG1DQUFoRjtBQUNBLFFBQU1NLE1BQU0sR0FBSUQsSUFBSSxDQUFDTCxJQUFMLENBQVUsMEJBQVYsQ0FBRCxHQUEwQ0ssSUFBSSxDQUFDTCxJQUFMLENBQVUsMEJBQVYsQ0FBMUMsR0FBa0YsUUFBakc7QUFDQSxRQUFNTyxPQUFPLEdBQUlGLElBQUksQ0FBQ0wsSUFBTCxDQUFVLDJCQUFWLENBQUQsR0FBMkNLLElBQUksQ0FBQ0wsSUFBTCxDQUFVLDJCQUFWLENBQTNDLEdBQW9GLFVBQXBHO0FBRUFqQixRQUFJLENBQUMwQixJQUFMLENBQVU7QUFDTkQsV0FBSyxFQUFFQSxLQUREO0FBRU5FLHNCQUFnQixFQUFFLElBRlo7QUFHTkMsdUJBQWlCLEVBQUVKLE9BSGI7QUFJTkssc0JBQWdCLEVBQUVOLE1BSlo7QUFLTk8sVUFBSSxFQUFFO0FBTEEsS0FBVixFQU1HdkMsSUFOSCxDQU1RLFVBQUN3QyxNQUFELEVBQVk7QUFDaEJBLFlBQU0sQ0FBQ0MsS0FBUCxJQUFnQnZDLE1BQU0sQ0FBQ3lDLFFBQVAsQ0FBZ0JDLE1BQWhCLENBQXVCYixJQUFJLENBQUNMLElBQUwsQ0FBVSxNQUFWLENBQXZCLENBQWhCO0FBQ0gsS0FSRDtBQVNILEdBdENEO0FBd0NBbEMsR0FBQyxDQUFDLHlCQUFELENBQUQsQ0FBNkJxRCxPQUE3QjtBQUNILENBM0RBLENBQUQsQyIsImZpbGUiOiIvanMvYmFja2VuZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIVxuICogQGxpY2Vuc2UgQ29weXJpZ2h0IChjKSAyMDAzLTIwMTksIENLU291cmNlIC0gRnJlZGVyaWNvIEtuYWJiZW4uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKiBGb3IgbGljZW5zaW5nLCBzZWUgTElDRU5TRS5tZC5cbiAqL1xuIWZ1bmN0aW9uKHQpe3QuZW49T2JqZWN0LmFzc2lnbih0LmVufHx7fSx7YTpcIkNhbm5vdCB1cGxvYWQgZmlsZTpcIixiOlwiQm9sZFwiLGM6XCJJdGFsaWNcIixkOlwiSW5zZXJ0IGltYWdlIG9yIGZpbGVcIixlOlwiaW1hZ2Ugd2lkZ2V0XCIsZjpcIkJsb2NrIHF1b3RlXCIsZzpcIkZ1bGwgc2l6ZSBpbWFnZVwiLGg6XCJTaWRlIGltYWdlXCIsaTpcIkxlZnQgYWxpZ25lZCBpbWFnZVwiLGo6XCJDZW50ZXJlZCBpbWFnZVwiLGs6XCJSaWdodCBhbGlnbmVkIGltYWdlXCIsbDpcIkNob29zZSBoZWFkaW5nXCIsbTpcIkhlYWRpbmdcIixuOlwiSW5zZXJ0IGltYWdlXCIsbzpcIk51bWJlcmVkIExpc3RcIixwOlwiQnVsbGV0ZWQgTGlzdFwiLHE6XCJJbnNlcnQgdGFibGVcIixyOlwiSGVhZGVyIGNvbHVtblwiLHM6XCJJbnNlcnQgY29sdW1uIGxlZnRcIix0OlwiSW5zZXJ0IGNvbHVtbiByaWdodFwiLHU6XCJEZWxldGUgY29sdW1uXCIsdjpcIkNvbHVtblwiLHc6XCJIZWFkZXIgcm93XCIseDpcIkluc2VydCByb3cgYmVsb3dcIix5OlwiSW5zZXJ0IHJvdyBhYm92ZVwiLHo6XCJEZWxldGUgcm93XCIsYWE6XCJSb3dcIixhYjpcIk1lcmdlIGNlbGwgdXBcIixhYzpcIk1lcmdlIGNlbGwgcmlnaHRcIixhZDpcIk1lcmdlIGNlbGwgZG93blwiLGFlOlwiTWVyZ2UgY2VsbCBsZWZ0XCIsYWY6XCJTcGxpdCBjZWxsIHZlcnRpY2FsbHlcIixhZzpcIlNwbGl0IGNlbGwgaG9yaXpvbnRhbGx5XCIsYWg6XCJNZXJnZSBjZWxsc1wiLGFpOlwiRW50ZXIgaW1hZ2UgY2FwdGlvblwiLGFqOlwiVXBsb2FkIGZhaWxlZFwiLGFrOlwibWVkaWEgd2lkZ2V0XCIsYWw6XCJJbnNlcnQgbWVkaWFcIixhbTpcIlRoZSBVUkwgbXVzdCBub3QgYmUgZW1wdHkuXCIsYW46XCJUaGlzIG1lZGlhIFVSTCBpcyBub3Qgc3VwcG9ydGVkLlwiLGFvOlwiTGlua1wiLGFwOlwiQ291bGQgbm90IG9idGFpbiByZXNpemVkIGltYWdlIFVSTC5cIixhcTpcIlNlbGVjdGluZyByZXNpemVkIGltYWdlIGZhaWxlZFwiLGFyOlwiQ291bGQgbm90IGluc2VydCBpbWFnZSBhdCB0aGUgY3VycmVudCBwb3NpdGlvbi5cIixhczpcIkluc2VydGluZyBpbWFnZSBmYWlsZWRcIixhdDpcIlVwbG9hZCBpbiBwcm9ncmVzc1wiLGF1OlwiVW5saW5rXCIsYXY6XCJFZGl0IGxpbmtcIixhdzpcIk9wZW4gbGluayBpbiBuZXcgdGFiXCIsYXg6XCJUaGlzIGxpbmsgaGFzIG5vIFVSTFwiLGF5OlwiU2F2ZVwiLGF6OlwiQ2FuY2VsXCIsYmE6XCJMaW5rIFVSTFwiLGJiOlwiUGFzdGUgdGhlIG1lZGlhIFVSTCBpbiB0aGUgaW5wdXQuXCIsYmM6XCJUaXA6IFBhc3RlIHRoZSBVUkwgaW50byB0aGUgY29udGVudCB0byBlbWJlZCBmYXN0ZXIuXCIsYmQ6XCJNZWRpYSBVUkxcIixiZTpcIlJpY2ggVGV4dCBFZGl0b3JcIixiZjpcIlJpY2ggVGV4dCBFZGl0b3IsICUwXCIsYmc6XCJVbmRvXCIsYmg6XCJSZWRvXCIsYmk6XCJQYXJhZ3JhcGhcIixiajpcIkhlYWRpbmcgMVwiLGJrOlwiSGVhZGluZyAyXCIsYmw6XCJIZWFkaW5nIDNcIixibTpcIkhlYWRpbmcgNFwiLGJuOlwiSGVhZGluZyA1XCIsYm86XCJIZWFkaW5nIDZcIixicDpcIkNoYW5nZSBpbWFnZSB0ZXh0IGFsdGVybmF0aXZlXCIsYnE6XCJUZXh0IGFsdGVybmF0aXZlXCJ9KX0od2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU3x8KHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlM9e30pKSxmdW5jdGlvbih0LGUpe1wib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlP21vZHVsZS5leHBvcnRzPWUoKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQ/ZGVmaW5lKFtdLGUpOlwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHMuQ2xhc3NpY0VkaXRvcj1lKCk6dC5DbGFzc2ljRWRpdG9yPWUoKX0od2luZG93LGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBlPXt9O2Z1bmN0aW9uIG4oaSl7aWYoZVtpXSlyZXR1cm4gZVtpXS5leHBvcnRzO3ZhciBvPWVbaV09e2k6aSxsOiExLGV4cG9ydHM6e319O3JldHVybiB0W2ldLmNhbGwoby5leHBvcnRzLG8sby5leHBvcnRzLG4pLG8ubD0hMCxvLmV4cG9ydHN9cmV0dXJuIG4ubT10LG4uYz1lLG4uZD1mdW5jdGlvbih0LGUsaSl7bi5vKHQsZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LGUse2VudW1lcmFibGU6ITAsZ2V0Oml9KX0sbi5yPWZ1bmN0aW9uKHQpe1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LG4udD1mdW5jdGlvbih0LGUpe2lmKDEmZSYmKHQ9bih0KSksOCZlKXJldHVybiB0O2lmKDQmZSYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJnQuX19lc01vZHVsZSlyZXR1cm4gdDt2YXIgaT1PYmplY3QuY3JlYXRlKG51bGwpO2lmKG4ucihpKSxPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxcImRlZmF1bHRcIix7ZW51bWVyYWJsZTohMCx2YWx1ZTp0fSksMiZlJiZcInN0cmluZ1wiIT10eXBlb2YgdClmb3IodmFyIG8gaW4gdCluLmQoaSxvLGZ1bmN0aW9uKGUpe3JldHVybiB0W2VdfS5iaW5kKG51bGwsbykpO3JldHVybiBpfSxuLm49ZnVuY3Rpb24odCl7dmFyIGU9dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIG4uZChlLFwiYVwiLGUpLGV9LG4ubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sbi5wPVwiXCIsbihuLnM9MTE3KX0oW2Z1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjtuLmQoZSxcImJcIixmdW5jdGlvbigpe3JldHVybiBvfSksbi5kKGUsXCJhXCIsZnVuY3Rpb24oKXtyZXR1cm4gcn0pO2NvbnN0IGk9XCJodHRwczovL2NrZWRpdG9yLmNvbS9kb2NzL2NrZWRpdG9yNS9sYXRlc3QvZnJhbWV3b3JrL2d1aWRlcy9zdXBwb3J0L2Vycm9yLWNvZGVzLmh0bWxcIjtjbGFzcyBvIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxlKXt0PXIodCksZSYmKHQrPVwiIFwiK0pTT04uc3RyaW5naWZ5KGUpKSxzdXBlcih0KSx0aGlzLm5hbWU9XCJDS0VkaXRvckVycm9yXCIsdGhpcy5kYXRhPWV9c3RhdGljIGlzQ0tFZGl0b3JFcnJvcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIG99fWZ1bmN0aW9uIHIodCl7Y29uc3QgZT10Lm1hdGNoKC9eKFteOl0rKTovKTtyZXR1cm4gZT90K2AgUmVhZCBtb3JlOiAke2l9I2Vycm9yLSR7ZVsxXX1cXG5gOnR9fSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7dmFyIGk9bigwKTtjb25zdCBvPXtlcnJvcih0LGUpe2NvbnNvbGUuZXJyb3IoT2JqZWN0KGkuYSkodCksZSl9LHdhcm4odCxlKXtjb25zb2xlLndhcm4oT2JqZWN0KGkuYSkodCksZSl9fTtlLmE9b30sZnVuY3Rpb24odCxlLG4pe3ZhciBpPXt9LG89ZnVuY3Rpb24odCl7dmFyIGU7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMD09PWUmJihlPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSxlfX0oZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93JiZkb2N1bWVudCYmZG9jdW1lbnQuYWxsJiYhd2luZG93LmF0b2J9KSxyPWZ1bmN0aW9uKHQpe3ZhciBlPXt9O3JldHVybiBmdW5jdGlvbih0LG4pe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQpcmV0dXJuIHQoKTtpZih2b2lkIDA9PT1lW3RdKXt2YXIgaT1mdW5jdGlvbih0LGUpe3JldHVybiBlP2UucXVlcnlTZWxlY3Rvcih0KTpkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHQpfS5jYWxsKHRoaXMsdCxuKTtpZih3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQmJmkgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpdHJ5e2k9aS5jb250ZW50RG9jdW1lbnQuaGVhZH1jYXRjaCh0KXtpPW51bGx9ZVt0XT1pfXJldHVybiBlW3RdfX0oKSxzPW51bGwsYT0wLGM9W10sbD1uKDQ1KTtmdW5jdGlvbiBkKHQsZSl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBvPXRbbl0scj1pW28uaWRdO2lmKHIpe3IucmVmcysrO2Zvcih2YXIgcz0wO3M8ci5wYXJ0cy5sZW5ndGg7cysrKXIucGFydHNbc10oby5wYXJ0c1tzXSk7Zm9yKDtzPG8ucGFydHMubGVuZ3RoO3MrKylyLnBhcnRzLnB1c2goZyhvLnBhcnRzW3NdLGUpKX1lbHNle3ZhciBhPVtdO2ZvcihzPTA7czxvLnBhcnRzLmxlbmd0aDtzKyspYS5wdXNoKGcoby5wYXJ0c1tzXSxlKSk7aVtvLmlkXT17aWQ6by5pZCxyZWZzOjEscGFydHM6YX19fX1mdW5jdGlvbiB1KHQsZSl7Zm9yKHZhciBuPVtdLGk9e30sbz0wO288dC5sZW5ndGg7bysrKXt2YXIgcj10W29dLHM9ZS5iYXNlP3JbMF0rZS5iYXNlOnJbMF0sYT17Y3NzOnJbMV0sbWVkaWE6clsyXSxzb3VyY2VNYXA6clszXX07aVtzXT9pW3NdLnBhcnRzLnB1c2goYSk6bi5wdXNoKGlbc109e2lkOnMscGFydHM6W2FdfSl9cmV0dXJuIG59ZnVuY3Rpb24gaCh0LGUpe3ZhciBuPXIodC5pbnNlcnRJbnRvKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydEludG8nIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTt2YXIgaT1jW2MubGVuZ3RoLTFdO2lmKFwidG9wXCI9PT10Lmluc2VydEF0KWk/aS5uZXh0U2libGluZz9uLmluc2VydEJlZm9yZShlLGkubmV4dFNpYmxpbmcpOm4uYXBwZW5kQ2hpbGQoZSk6bi5pbnNlcnRCZWZvcmUoZSxuLmZpcnN0Q2hpbGQpLGMucHVzaChlKTtlbHNlIGlmKFwiYm90dG9tXCI9PT10Lmluc2VydEF0KW4uYXBwZW5kQ2hpbGQoZSk7ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgdC5pbnNlcnRBdHx8IXQuaW5zZXJ0QXQuYmVmb3JlKXRocm93IG5ldyBFcnJvcihcIltTdHlsZSBMb2FkZXJdXFxuXFxuIEludmFsaWQgdmFsdWUgZm9yIHBhcmFtZXRlciAnaW5zZXJ0QXQnICgnb3B0aW9ucy5pbnNlcnRBdCcpIGZvdW5kLlxcbiBNdXN0IGJlICd0b3AnLCAnYm90dG9tJywgb3IgT2JqZWN0LlxcbiAoaHR0cHM6Ly9naXRodWIuY29tL3dlYnBhY2stY29udHJpYi9zdHlsZS1sb2FkZXIjaW5zZXJ0YXQpXFxuXCIpO3ZhciBvPXIodC5pbnNlcnRBdC5iZWZvcmUsbik7bi5pbnNlcnRCZWZvcmUoZSxvKX19ZnVuY3Rpb24gZih0KXtpZihudWxsPT09dC5wYXJlbnROb2RlKXJldHVybiExO3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTt2YXIgZT1jLmluZGV4T2YodCk7ZT49MCYmYy5zcGxpY2UoZSwxKX1mdW5jdGlvbiBtKHQpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtpZih2b2lkIDA9PT10LmF0dHJzLnR5cGUmJih0LmF0dHJzLnR5cGU9XCJ0ZXh0L2Nzc1wiKSx2b2lkIDA9PT10LmF0dHJzLm5vbmNlKXt2YXIgaT1mdW5jdGlvbigpezA7cmV0dXJuIG4ubmN9KCk7aSYmKHQuYXR0cnMubm9uY2U9aSl9cmV0dXJuIHAoZSx0LmF0dHJzKSxoKHQsZSksZX1mdW5jdGlvbiBwKHQsZSl7T2JqZWN0LmtleXMoZSkuZm9yRWFjaChmdW5jdGlvbihuKXt0LnNldEF0dHJpYnV0ZShuLGVbbl0pfSl9ZnVuY3Rpb24gZyh0LGUpe3ZhciBuLGksbyxyO2lmKGUudHJhbnNmb3JtJiZ0LmNzcyl7aWYoIShyPVwiZnVuY3Rpb25cIj09dHlwZW9mIGUudHJhbnNmb3JtP2UudHJhbnNmb3JtKHQuY3NzKTplLnRyYW5zZm9ybS5kZWZhdWx0KHQuY3NzKSkpcmV0dXJuIGZ1bmN0aW9uKCl7fTt0LmNzcz1yfWlmKGUuc2luZ2xldG9uKXt2YXIgYz1hKys7bj1zfHwocz1tKGUpKSxpPXcuYmluZChudWxsLG4sYywhMSksbz13LmJpbmQobnVsbCxuLGMsITApfWVsc2UgdC5zb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLmNyZWF0ZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVVJMLnJldm9rZU9iamVjdFVSTCYmXCJmdW5jdGlvblwiPT10eXBlb2YgQmxvYiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYT8obj1mdW5jdGlvbih0KXt2YXIgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlua1wiKTtyZXR1cm4gdm9pZCAwPT09dC5hdHRycy50eXBlJiYodC5hdHRycy50eXBlPVwidGV4dC9jc3NcIiksdC5hdHRycy5yZWw9XCJzdHlsZXNoZWV0XCIscChlLHQuYXR0cnMpLGgodCxlKSxlfShlKSxpPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uLmNzcyxvPW4uc291cmNlTWFwLHI9dm9pZCAwPT09ZS5jb252ZXJ0VG9BYnNvbHV0ZVVybHMmJm87KGUuY29udmVydFRvQWJzb2x1dGVVcmxzfHxyKSYmKGk9bChpKSk7byYmKGkrPVwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvKSkpKStcIiAqL1wiKTt2YXIgcz1uZXcgQmxvYihbaV0se3R5cGU6XCJ0ZXh0L2Nzc1wifSksYT10LmhyZWY7dC5ocmVmPVVSTC5jcmVhdGVPYmplY3RVUkwocyksYSYmVVJMLnJldm9rZU9iamVjdFVSTChhKX0uYmluZChudWxsLG4sZSksbz1mdW5jdGlvbigpe2Yobiksbi5ocmVmJiZVUkwucmV2b2tlT2JqZWN0VVJMKG4uaHJlZil9KToobj1tKGUpLGk9ZnVuY3Rpb24odCxlKXt2YXIgbj1lLmNzcyxpPWUubWVkaWE7aSYmdC5zZXRBdHRyaWJ1dGUoXCJtZWRpYVwiLGkpO2lmKHQuc3R5bGVTaGVldCl0LnN0eWxlU2hlZXQuY3NzVGV4dD1uO2Vsc2V7Zm9yKDt0LmZpcnN0Q2hpbGQ7KXQucmVtb3ZlQ2hpbGQodC5maXJzdENoaWxkKTt0LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG4pKX19LmJpbmQobnVsbCxuKSxvPWZ1bmN0aW9uKCl7ZihuKX0pO3JldHVybiBpKHQpLGZ1bmN0aW9uKGUpe2lmKGUpe2lmKGUuY3NzPT09dC5jc3MmJmUubWVkaWE9PT10Lm1lZGlhJiZlLnNvdXJjZU1hcD09PXQuc291cmNlTWFwKXJldHVybjtpKHQ9ZSl9ZWxzZSBvKCl9fXQuZXhwb3J0cz1mdW5jdGlvbih0LGUpe2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBERUJVRyYmREVCVUcmJlwib2JqZWN0XCIhPXR5cGVvZiBkb2N1bWVudCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7KGU9ZXx8e30pLmF0dHJzPVwib2JqZWN0XCI9PXR5cGVvZiBlLmF0dHJzP2UuYXR0cnM6e30sZS5zaW5nbGV0b258fFwiYm9vbGVhblwiPT10eXBlb2YgZS5zaW5nbGV0b258fChlLnNpbmdsZXRvbj1vKCkpLGUuaW5zZXJ0SW50b3x8KGUuaW5zZXJ0SW50bz1cImhlYWRcIiksZS5pbnNlcnRBdHx8KGUuaW5zZXJ0QXQ9XCJib3R0b21cIik7dmFyIG49dSh0LGUpO3JldHVybiBkKG4sZSksZnVuY3Rpb24odCl7Zm9yKHZhciBvPVtdLHI9MDtyPG4ubGVuZ3RoO3IrKyl7dmFyIHM9bltyXTsoYT1pW3MuaWRdKS5yZWZzLS0sby5wdXNoKGEpfXQmJmQodSh0LGUpLGUpO2ZvcihyPTA7cjxvLmxlbmd0aDtyKyspe3ZhciBhO2lmKDA9PT0oYT1vW3JdKS5yZWZzKXtmb3IodmFyIGM9MDtjPGEucGFydHMubGVuZ3RoO2MrKylhLnBhcnRzW2NdKCk7ZGVsZXRlIGlbYS5pZF19fX19O3ZhciBiPWZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuIGZ1bmN0aW9uKGUsbil7cmV0dXJuIHRbZV09bix0LmZpbHRlcihCb29sZWFuKS5qb2luKFwiXFxuXCIpfX0oKTtmdW5jdGlvbiB3KHQsZSxuLGkpe3ZhciBvPW4/XCJcIjppLmNzcztpZih0LnN0eWxlU2hlZXQpdC5zdHlsZVNoZWV0LmNzc1RleHQ9YihlLG8pO2Vsc2V7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUobykscz10LmNoaWxkTm9kZXM7c1tlXSYmdC5yZW1vdmVDaGlsZChzW2VdKSxzLmxlbmd0aD90Lmluc2VydEJlZm9yZShyLHNbZV0pOnQuYXBwZW5kQ2hpbGQocil9fX0sLGZ1bmN0aW9uKHQsZSxuKXtcInVzZSBzdHJpY3RcIjt2YXIgaT1uKDEwKSxvPVwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmJiZzZWxmLk9iamVjdD09PU9iamVjdCYmc2VsZixyPWkuYXx8b3x8RnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO2UuYT1yfSxmdW5jdGlvbih0LGUsbil7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKHQpe3ZhciBpPW4oMTApLG89XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlJiZleHBvcnRzLHI9byYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJiF0Lm5vZGVUeXBlJiZ0LHM9ciYmci5leHBvcnRzPT09byYmaS5hLnByb2Nlc3MsYT1mdW5jdGlvbigpe3RyeXt2YXIgdD1yJiZyLnJlcXVpcmUmJnIucmVxdWlyZShcInV0aWxcIikudHlwZXM7cmV0dXJuIHR8fHMmJnMuYmluZGluZyYmcy5iaW5kaW5nKFwidXRpbFwiKX1jYXRjaCh0KXt9fSgpO2UuYT1hfSkuY2FsbCh0aGlzLG4oMTIpKHQpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgaT1uKDQpLG89bigxOCkscj1cIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmZXhwb3J0cyYmIWV4cG9ydHMubm9kZVR5cGUmJmV4cG9ydHMscz1yJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmIXQubm9kZVR5cGUmJnQsYT1zJiZzLmV4cG9ydHM9PT1yP2kuYS5CdWZmZXI6dm9pZCAwLGM9KGE/YS5pc0J1ZmZlcjp2b2lkIDApfHxvLmE7ZS5hPWN9KS5jYWxsKHRoaXMsbigxMikodCkpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNi45NzIgMTYuNjE1YS45OTcuOTk3IDAgMCAxLS43NDQtLjI5MmwtNC41OTYtNC41OTZhMSAxIDAgMSAxIDEuNDE0LTEuNDE0bDMuOTI2IDMuOTI2IDkuOTM3LTkuOTM3YTEgMSAwIDAgMSAxLjQxNCAxLjQxNUw3LjcxNyAxNi4zMjNhLjk5Ny45OTcgMCAwIDEtLjc0NS4yOTJ6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS41OTEgMTAuMTc3bDQuMjQzIDQuMjQyYTEgMSAwIDAgMS0xLjQxNSAxLjQxNWwtNC4yNDItNC4yNDMtNC4yNDMgNC4yNDNhMSAxIDAgMCAxLTEuNDE0LTEuNDE1bDQuMjQzLTQuMjQyTDQuNTIgNS45MzRBMSAxIDAgMCAxIDUuOTM0IDQuNTJsNC4yNDMgNC4yNDMgNC4yNDItNC4yNDNhMSAxIDAgMSAxIDEuNDE1IDEuNDE0bC00LjI0MyA0LjI0M3pcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgZT1uKDEpLGk9bigyMCk7Y29uc3Qgbz1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93P3dpbmRvdzp0O28uQ0tFRElUT1JfVkVSU0lPTj9lLmEuZXJyb3IoXCJja2VkaXRvci1kdXBsaWNhdGVkLW1vZHVsZXM6IFNvbWUgQ0tFZGl0b3IgNSBtb2R1bGVzIGFyZSBkdXBsaWNhdGVkLlwiKTpvLkNLRURJVE9SX1ZFUlNJT049aS5hfSkuY2FsbCh0aGlzLG4oMTYpKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgbj1cIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5PYmplY3Q9PT1PYmplY3QmJnQ7ZS5hPW59KS5jYWxsKHRoaXMsbigxNikpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6bTAgM1Y2aDUuNjc0djEuNXptMCAzVjloNS42NzR2MS41em0wIDNWMTJoNS42NzR2MS41em04LjUtNlYxMmg2VjcuNWgtNnpNOS42ODIgNmg3LjYzNmMuMzc3IDAgLjY4Mi40MDcuNjgyLjkxdjUuNjhjMCAuNTAzLS4zMDUuOTEtLjY4Mi45MUg5LjY4MmMtLjM3NyAwLS42ODItLjQwNy0uNjgyLS45MVY2LjkxYzAtLjUwMy4zMDUtLjkxLjY4Mi0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPWZ1bmN0aW9uKHQpe2lmKCF0LndlYnBhY2tQb2x5ZmlsbCl7dmFyIGU9T2JqZWN0LmNyZWF0ZSh0KTtlLmNoaWxkcmVufHwoZS5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZS5pfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZXhwb3J0c1wiLHtlbnVtZXJhYmxlOiEwfSksZS53ZWJwYWNrUG9seWZpbGw9MX1yZXR1cm4gZX19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0yIDQuNVYzaDE2djEuNXptMi41IDNWMTJoMTFWNy41aC0xMXpNNC4wNjEgNkgxNS45NGMuNTg2IDAgMS4wNjEuNDA3IDEuMDYxLjkxdjUuNjhjMCAuNTAzLS40NzUuOTEtMS4wNjEuOTFINC4wNmMtLjU4NSAwLTEuMDYtLjQwNy0xLjA2LS45MVY2LjkxQzMgNi40MDYgMy40NzUgNiA0LjA2MSA2ek0yIDE2LjVWMTVoMTZ2MS41elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS1taXRlcmxpbWl0PVwiMS40MTRcIj48cGF0aCBkPVwiTTE4IDQuNVYzSDJ2MS41aDE2em0wIDNWNmgtNS42NzR2MS41SDE4em0wIDNWOWgtNS42NzR2MS41SDE4em0wIDNWMTJoLTUuNjc0djEuNUgxOHptLTguNS02VjEyaC02VjcuNWg2em0uODE4LTEuNUgyLjY4MkMyLjMwNSA2IDIgNi40MDcgMiA2LjkxdjUuNjhjMCAuNTAzLjMwNS45MS42ODIuOTFoNy42MzZjLjM3NyAwIC42ODItLjQwNy42ODItLjkxVjYuOTFjMC0uNTAzLS4zMDUtLjkxLS42ODItLjkxek0xOCAxNi41VjE1SDJ2MS41aDE2elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMiA0LjVWM2gxNnYxLjV6bTQuNSAzVjEyaDdWNy41aC03ek01Ljc1OCA2aDguNDg0Yy40MTkgMCAuNzU4LjQwNy43NTguOTF2NS42ODFjMCAuNTAyLS4zNC45MDktLjc1OC45MDlINS43NThjLS40MTkgMC0uNzU4LS40MDctLjc1OC0uOTFWNi45MWMwLS41MDMuMzQtLjkxLjc1OC0uOTF6TTIgMTYuNVYxNWgxNnYxLjV6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dmFyIG47bj1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtuPW58fG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9Y2F0Y2godCl7XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmKG49d2luZG93KX10LmV4cG9ydHM9bn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oOTQpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO2UuYT1mdW5jdGlvbigpe3JldHVybiExfX0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbih0KXt2YXIgaT1uKDQpLG89XCJvYmplY3RcIj09dHlwZW9mIGV4cG9ydHMmJmV4cG9ydHMmJiFleHBvcnRzLm5vZGVUeXBlJiZleHBvcnRzLHI9byYmXCJvYmplY3RcIj09dHlwZW9mIHQmJnQmJiF0Lm5vZGVUeXBlJiZ0LHM9ciYmci5leHBvcnRzPT09bz9pLmEuQnVmZmVyOnZvaWQgMCxhPXM/cy5hbGxvY1Vuc2FmZTp2b2lkIDA7ZS5hPWZ1bmN0aW9uKHQsZSl7aWYoZSlyZXR1cm4gdC5zbGljZSgpO3ZhciBuPXQubGVuZ3RoLGk9YT9hKG4pOm5ldyB0LmNvbnN0cnVjdG9yKG4pO3JldHVybiB0LmNvcHkoaSksaX19KS5jYWxsKHRoaXMsbigxMikodCkpfSxmdW5jdGlvbih0KXt0LmV4cG9ydHM9e2E6XCIxMi4xLjBcIn19LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk01LjA0MiA5LjM2N2wyLjE4OSAxLjgzN2EuNzUuNzUgMCAwIDEtLjk2NSAxLjE0OWwtMy43ODgtMy4xOGEuNzQ3Ljc0NyAwIDAgMS0uMjEtLjI4NC43NS43NSAwIDAgMSAuMTctLjk0NUw2LjIzIDQuNzYyYS43NS43NSAwIDEgMSAuOTY0IDEuMTVMNC44NjMgNy44NjZoOC45MTdBLjc1Ljc1IDAgMCAxIDE0IDcuOWE0IDQgMCAxIDEtMS40NzcgNy43MThsLjM0NC0xLjQ4OWEyLjUgMi41IDAgMSAwIDEuMDk0LTQuNzNsLjAwOC0uMDMySDUuMDQyelwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMTQuOTU4IDkuMzY3bC0yLjE4OSAxLjgzN2EuNzUuNzUgMCAwIDAgLjk2NSAxLjE0OWwzLjc4OC0zLjE4YS43NDcuNzQ3IDAgMCAwIC4yMS0uMjg0Ljc1Ljc1IDAgMCAwLS4xNy0uOTQ1TDEzLjc3IDQuNzYyYS43NS43NSAwIDEgMC0uOTY0IDEuMTVsMi4zMzEgMS45NTVINi4yMkEuNzUuNzUgMCAwIDAgNiA3LjlhNCA0IDAgMSAwIDEuNDc3IDcuNzE4bC0uMzQ0LTEuNDg5QTIuNSAyLjUgMCAxIDEgNi4wMzkgOS40bC0uMDA4LS4wMzJoOC45Mjd6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMC4xODcgMTdINS43NzNjLS42MzcgMC0xLjA5Mi0uMTM4LTEuMzY0LS40MTUtLjI3My0uMjc3LS40MDktLjcxOC0uNDA5LTEuMzIzVjQuNzM4YzAtLjYxNy4xNC0xLjA2Mi40MTktMS4zMzIuMjc5LS4yNy43My0uNDA2IDEuMzU0LS40MDZoNC42OGMuNjkgMCAxLjI4OC4wNDEgMS43OTMuMTI0LjUwNi4wODMuOTYuMjQyIDEuMzYuNDc4LjM0MS4xOTcuNjQ0LjQ0Ny45MDYuNzVhMy4yNjIgMy4yNjIgMCAwIDEgLjgwOCAyLjE2MmMwIDEuNDAxLS43MjIgMi40MjYtMi4xNjcgMy4wNzVDMTUuMDUgMTAuMTc1IDE2IDExLjMxNSAxNiAxMy4wMWEzLjc1NiAzLjc1NiAwIDAgMS0yLjI5NiAzLjUwNCA2LjEgNi4xIDAgMCAxLTEuNTE3LjM3N2MtLjU3MS4wNzMtMS4yMzguMTEtMiAuMTF6bS0uMjE3LTYuMjE3SDd2NC4wODdoMy4wNjljMS45NzcgMCAyLjk2NS0uNjkgMi45NjUtMi4wNzIgMC0uNzA3LS4yNTYtMS4yMi0uNzY4LTEuNTM3LS41MTItLjMxOS0xLjI3Ny0uNDc4LTIuMjk2LS40Nzh6TTcgNS4xM3YzLjYxOWgyLjYwNmMuNzI5IDAgMS4yOTItLjA2NyAxLjY5LS4yYTEuNiAxLjYgMCAwIDAgLjkxLS43NjVjLjE2NS0uMjY3LjI0Ny0uNTY2LjI0Ny0uODk3IDAtLjcwNy0uMjYtMS4xNzYtLjc3OC0xLjQwOS0uNTE5LS4yMzItMS4zMS0uMzQ4LTIuMzc1LS4zNDhIN3pcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTkuNTg2IDE0LjYzM2wuMDIxLjAwNGMtLjAzNi4zMzUuMDk1LjY1NS4zOTMuOTYyLjA4Mi4wODMuMTczLjE1LjI3NC4yMDFoMS40NzRhLjYuNiAwIDEgMSAwIDEuMkg1LjMwNGEuNi42IDAgMCAxIDAtMS4yaDEuMTVjLjQ3NC0uMDcuODA5LS4xODIgMS4wMDUtLjMzNC4xNTctLjEyMi4yOTEtLjMyLjQwNC0uNTk3bDIuNDE2LTkuNTVhMS4wNTMgMS4wNTMgMCAwIDAtLjI4MS0uODIzIDEuMTIgMS4xMiAwIDAgMC0uNDQyLS4yOTZIOC4xNWEuNi42IDAgMCAxIDAtMS4yaDYuNDQzYS42LjYgMCAxIDEgMCAxLjJoLTEuMTk1Yy0uMzc2LjA1Ni0uNjUuMTU1LS44MjMuMjk2LS4yMTUuMTc1LS40MjMuNDM5LS42MjMuNzlsLTIuMzY2IDkuMzQ3elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMyAxMC40MjNhNi41IDYuNSAwIDAgMSA2LjA1Ni02LjQwOGwuMDM4LjY3QzYuNDQ4IDUuNDIzIDUuMzU0IDcuNjYzIDUuMjIgMTBIOWMuNTUyIDAgLjUuNDMyLjUuOTg2djQuNTExYzAgLjU1NC0uNDQ4LjUwMy0xIC41MDNoLTVjLS41NTIgMC0uNS0uNDQ5LS41LTEuMDAzdi00LjU3NHptOCAwYTYuNSA2LjUgMCAwIDEgNi4wNTYtNi40MDhsLjAzOC42N2MtMi42NDYuNzM5LTMuNzQgMi45NzktMy44NzMgNS4zMTVIMTdjLjU1MiAwIC41LjQzMi41Ljk4NnY0LjUxMWMwIC41NTQtLjQ0OC41MDMtMSAuNTAzaC01Yy0uNTUyIDAtLjUtLjQ0OS0uNS0xLjAwM3YtNC41NzR6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS42MjcgMTYuNXptNS44NzMtLjE5NnptMC03LjAwMVY4aC0xM3Y4LjVoNC4zNDFjLjE5MS41NC40NTcgMS4wNDQuNzg1IDEuNUgyYTEuNSAxLjUgMCAwIDEtMS41LTEuNXYtMTNBMS41IDEuNSAwIDAgMSAyIDJoNC41YTEuNSAxLjUgMCAwIDEgMS4wNi40NEw5LjEyMiA0SDE2YTEuNSAxLjUgMCAwIDEgMS41IDEuNXYxQTEuNSAxLjUgMCAwIDEgMTkgOHYyLjUzMWE2LjAyNyA2LjAyNyAwIDAgMC0xLjUtMS4yMjh6TTE2IDYuNXYtMUg4LjVsLTItMkgydjEzaDFWOGExLjUgMS41IDAgMCAxIDEuNS0xLjVIMTZ6XCIvPjxwYXRoIGQ9XCJNMTQuNSAxOS41YTUgNSAwIDEgMSAwLTEwIDUgNSAwIDAgMSAwIDEwek0xNSAxNHYtMmgtMXYyaC0ydjFoMnYyaDF2LTJoMnYtMWgtMnpcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgdmlld0JveD1cIjAgMCAxNiAxNlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTQgMHYxSDF2M0gwVi41QS41LjUgMCAwIDEgLjUgMEg0em04IDBoMy41YS41LjUgMCAwIDEgLjUuNVY0aC0xVjFoLTNWMHpNNCAxNkguNWEuNS41IDAgMCAxLS41LS41VjEyaDF2M2gzdjF6bTggMHYtMWgzdi0zaDF2My41YS41LjUgMCAwIDEtLjUuNUgxMnpcIi8+PHBhdGggZmlsbC1vcGFjaXR5PVwiLjI1NlwiIGQ9XCJNMSAxaDE0djE0SDF6XCIvPjxnIGNsYXNzPVwiY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9yXCI+PHBhdGggZD1cIk03IDBoMnYxSDdWMHpNMCA3aDF2MkgwVjd6bTE1IDBoMXYyaC0xVjd6bS04IDhoMnYxSDd2LTF6XCIvPjxwYXRoIGZpbGwtb3BhY2l0eT1cIi4yNTRcIiBkPVwiTTEgMWgxNHYxNEgxelwiLz48L2c+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTUuMDg1IDYuMjJMMi45NDMgNC4wNzhhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwyLjU5MiAyLjU5QTExLjA5NCAxMS4wOTQgMCAwIDEgMTAgNS4wNjhjNC43MzggMCA4LjU3OCAzLjEwMSA4LjU3OCA1LjA4MyAwIDEuMTk3LTEuNDAxIDIuODAzLTMuNTU1IDMuODg3bDEuNzE0IDEuNzEzYS43NS43NSAwIDAgMS0uMDkgMS4xMzguNDg4LjQ4OCAwIDAgMS0uMTUuMDg0Ljc1Ljc1IDAgMCAxLS44MjEtLjE2TDYuMTcgNy4zMDRjLS4yNTguMTEtLjUxLjIzMy0uNzU3LjM2NWw2LjIzOSA2LjI0LS4wMDYuMDA1Ljc4Ljc4Yy0uMzg4LjA5NC0uNzguMTY2LTEuMTc0LjIxNWwtMS4xMS0xLjExaC4wMTFMNC41NSA4LjE5N2E3LjIgNy4yIDAgMCAwLS42NjUuNTE0bC0uMTEyLjA5OCA0Ljg5NyA0Ljg5Ny0uMDA1LjAwNiAxLjI3NiAxLjI3NmExMC4xNjQgMTAuMTY0IDAgMCAxLTEuNDc3LS4xMTdsLS40NzktLjQ3OS0uMDA5LjAwOS00Ljg2My00Ljg2My0uMDIyLjAzMWEyLjU2MyAyLjU2MyAwIDAgMC0uMTI0LjJjLS4wNDMuMDc3LS4wOC4xNTgtLjEwOC4yNDFhLjUzNC41MzQgMCAwIDAtLjAyOC4xMzMuMjkuMjkgMCAwIDAgLjAwOC4wNzIuOTI3LjkyNyAwIDAgMCAuMDgyLjIyNmMuMDY3LjEzMy4xNDUuMjYuMjM0LjM3OWwzLjI0MiAzLjM2NS4wMjUuMDEuNTkuNjIzYy0zLjI2NS0uOTE4LTUuNTktMy4xNTUtNS41OS00LjY2OCAwLTEuMTk0IDEuNDQ4LTIuODM4IDMuNjYzLTMuOTN6bTcuMDcuNTMxYTQuNjMyIDQuNjMyIDAgMCAxIDEuMTA4IDUuOTkybC4zNDUuMzQ0LjA0Ni0uMDE4YTkuMzEzIDkuMzEzIDAgMCAwIDItMS4xMTJjLjI1Ni0uMTg3LjUtLjM5Mi43MjctLjYxMy4xMzctLjEzNC4yNy0uMjc3LjM5Mi0uNDMxLjA3Mi0uMDkxLjE0MS0uMTg1LjIwMy0uMjg2LjA1Ny0uMDkzLjEwNy0uMTkuMTQ4LS4yOTJhLjcyLjcyIDAgMCAwIC4wMzYtLjEyLjI5LjI5IDAgMCAwIC4wMDgtLjA3Mi40OTIuNDkyIDAgMCAwLS4wMjgtLjEzMy45OTkuOTk5IDAgMCAwLS4wMzYtLjA5NiAyLjE2NSAyLjE2NSAwIDAgMC0uMDcxLS4xNDUgMi45MTcgMi45MTcgMCAwIDAtLjEyNS0uMiAzLjU5MiAzLjU5MiAwIDAgMC0uMjYzLS4zMzUgNS40NDQgNS40NDQgMCAwIDAtLjUzLS41MjMgNy45NTUgNy45NTUgMCAwIDAtMS4wNTQtLjc2OCA5Ljc2NiA5Ljc2NiAwIDAgMC0xLjg3OS0uODkxYy0uMzM3LS4xMTgtLjY4LS4yMTktMS4wMjctLjMwMXptLTIuODUuMjFsLS4wNjkuMDAyYS41MDguNTA4IDAgMCAwLS4yNTQuMDk3LjQ5Ni40OTYgMCAwIDAtLjEwNC42NzkuNDk4LjQ5OCAwIDAgMCAuMzI2LjE5OWwuMDQ1LjAwNWMuMDkxLjAwMy4xODEuMDAzLjI3Mi4wMTJhMi40NSAyLjQ1IDAgMCAxIDIuMDE3IDEuNTEzYy4wMjQuMDYxLjA0My4xMjUuMDY5LjE4NWEuNDk0LjQ5NCAwIDAgMCAuNDUuMjg3aC4wMDhhLjQ5Ni40OTYgMCAwIDAgLjM1LS4xNTguNDgyLjQ4MiAwIDAgMCAuMTMtLjMzNS42MzguNjM4IDAgMCAwLS4wNDgtLjIxOSAzLjM3OSAzLjM3OSAwIDAgMC0uMzYtLjcyMyAzLjQzOCAzLjQzOCAwIDAgMC0yLjc5MS0xLjU0M2wtLjAyOC0uMDAxaC0uMDEzelwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNi45MSAxMC41NGMuMjYtLjIzLjY0LS4yMS44OC4wM2wzLjM2IDMuMTQgMi4yMy0yLjA2YS42NC42NCAwIDAgMSAuODcgMGwyLjUyIDIuOTdWNC41SDMuMnYxMC4xMmwzLjcxLTQuMDh6bTEwLjI3LTcuNTFjLjYgMCAxLjA5LjQ3IDEuMDkgMS4wNXYxMS44NGMwIC41OS0uNDkgMS4wNi0xLjA5IDEuMDZIMi43OWMtLjYgMC0xLjA5LS40Ny0xLjA5LTEuMDZWNC4wOGMwLS41OC40OS0xLjA1IDEuMS0xLjA1aDE0LjM4em0tNS4yMiA1LjU2YTEuOTYgMS45NiAwIDEgMSAzLjQtMS45NiAxLjk2IDEuOTYgMCAwIDEtMy40IDEuOTZ6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDcwMCAyNTBcIj48cmVjdCByeD1cIjRcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgdmlld0JveD1cIjAgMCAxMCAxMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTS45NDEgNC41MjNhLjc1Ljc1IDAgMSAxIDEuMDYtMS4wNmwzLjAwNiAzLjAwNSAzLjAwNS0zLjAwNWEuNzUuNzUgMCAxIDEgMS4wNiAxLjA2bC0zLjU0OSAzLjU1YS43NS43NSAwIDAgMS0xLjE2OC0uMTM2TC45NDEgNC41MjN6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNzQxLjc0MSAwIDAgMSAuMTItLjI3NGwxLjE0Ny0xLjYzOWEuNzUuNzUgMCAxIDEgMS4yMjguODZMNC45MzMgMTAuN2wuMDA2LjAwM2EzLjc1IDMuNzUgMCAwIDAgNi4xMzIgNC4yOTRsLjAwNi4wMDR6bTUuNDk0LTUuMzM1YS43NDguNzQ4IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NDguNzQ4IDAgMCAxIC4yMTctLjIwNiA1LjI1MSA1LjI1MSAwIDAgMSA4LjUwMyA1Ljk1NXptLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0em00LjkxOSAxMC41NjJsLTEuNDE0IDEuNDE0YS43NS43NSAwIDEgMS0xLjA2LTEuMDZsMS40MTQtMS40MTUtMS40MTUtMS40MTRhLjc1Ljc1IDAgMCAxIDEuMDYxLTEuMDZsMS40MTQgMS40MTQgMS40MTQtMS40MTVhLjc1Ljc1IDAgMCAxIDEuMDYxIDEuMDYxbC0xLjQxNCAxLjQxNCAxLjQxNCAxLjQxNWEuNzUuNzUgMCAwIDEtMS4wNiAxLjA2bC0xLjQxNS0xLjQxNHpcIi8+PC9zdmc+J30sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzxzdmcgdmlld0JveD1cIjAgMCAyMCAyMFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj48cGF0aCBkPVwiTTcuMyAxNy4zN2wtLjA2MS4wODhhMS41MTggMS41MTggMCAwIDEtLjkzNC41MzVsLTQuMTc4LjY2My0uODA2LTQuMTUzYTEuNDk1IDEuNDk1IDAgMCAxIC4xODctMS4wNThsLjA1Ni0uMDg2TDguNzcgMi42MzljLjk1OC0xLjM1MSAyLjgwMy0xLjA3NiA0LjI5Ni0uMDMgMS40OTcgMS4wNDcgMi4zODcgMi42OTMgMS40MzMgNC4wNTVMNy4zIDE3LjM3ek05LjE0IDQuNzI4bC01LjU0NSA4LjM0NiAzLjI3NyAyLjI5NCA1LjU0NC04LjM0Nkw5LjE0IDQuNzI4ek02LjA3IDE2LjUxMmwtMy4yNzYtMi4yOTUuNTMgMi43MyAyLjc0Ni0uNDM1ek05Ljk5NCAzLjUwNkwxMy4yNzEgNS44Yy4zMTYtLjQ1Mi0uMTYtMS4zMzMtMS4wNjUtMS45NjYtLjkwNS0uNjM0LTEuODk1LS43OC0yLjIxMi0uMzI4ek04IDE4LjVMOS4zNzUgMTdIMTl2MS41SDh6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xMS4wNzcgMTVsLjk5MS0xLjQxNmEuNzUuNzUgMCAxIDEgMS4yMjkuODZsLTEuMTQ4IDEuNjRhLjc0OC43NDggMCAwIDEtLjIxNy4yMDYgNS4yNTEgNS4yNTEgMCAwIDEtOC41MDMtNS45NTUuNzQxLjc0MSAwIDAgMSAuMTItLjI3NGwxLjE0Ny0xLjYzOWEuNzUuNzUgMCAxIDEgMS4yMjguODZMNC45MzMgMTAuN2wuMDA2LjAwM2EzLjc1IDMuNzUgMCAwIDAgNi4xMzIgNC4yOTRsLjAwNi4wMDR6bTUuNDk0LTUuMzM1YS43NDguNzQ4IDAgMCAxLS4xMi4yNzRsLTEuMTQ3IDEuNjM5YS43NS43NSAwIDEgMS0xLjIyOC0uODZsLjg2LTEuMjNhMy43NSAzLjc1IDAgMCAwLTYuMTQ0LTQuMzAxbC0uODYgMS4yMjlhLjc1Ljc1IDAgMCAxLTEuMjI5LS44NmwxLjE0OC0xLjY0YS43NDguNzQ4IDAgMCAxIC4yMTctLjIwNiA1LjI1MSA1LjI1MSAwIDAgMSA4LjUwMyA1Ljk1NXptLTQuNTYzLTIuNTMyYS43NS43NSAwIDAgMSAuMTg0IDEuMDQ1bC0zLjE1NSA0LjUwNWEuNzUuNzUgMCAxIDEtMS4yMjktLjg2bDMuMTU1LTQuNTA2YS43NS43NSAwIDAgMSAxLjA0NS0uMTg0elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNyA1Ljc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6TTMuNSAzdjVIMlYzLjdIMXYtMWgyLjVWM3pNLjM0MyAxNy44NTdsMi41OS0zLjI1N0gyLjkyYS42LjYgMCAxIDAtMS4wNCAwSC4zMDJhMiAyIDAgMSAxIDMuOTk1IDBoLS4wMDFjLS4wNDguNDA1LS4xNi43MzQtLjMzMy45ODgtLjE3NS4yNTQtLjU5LjY5Mi0xLjI0NCAxLjMxMkg0LjN2MWgtNGwuMDQzLS4wNDN6TTcgMTQuNzVhLjc1Ljc1IDAgMCAxIC43NS0uNzVoOS41YS43NS43NSAwIDEgMSAwIDEuNWgtOS41YS43NS43NSAwIDAgMS0uNzUtLjc1elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNNyA1Ljc1YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6bS02IDBDMSA0Ljc4NCAxLjc3NyA0IDIuNzUgNGMuOTY2IDAgMS43NS43NzcgMS43NSAxLjc1IDAgLjk2Ni0uNzc3IDEuNzUtMS43NSAxLjc1QzEuNzg0IDcuNSAxIDYuNzIzIDEgNS43NXptNiA5YzAgLjQxNC4zMzYuNzUuNzUuNzVoOS41YS43NS43NSAwIDEgMCAwLTEuNWgtOS41YS43NS43NSAwIDAgMC0uNzUuNzV6bS02IDBjMC0uOTY2Ljc3Ny0xLjc1IDEuNzUtMS43NS45NjYgMCAxLjc1Ljc3NyAxLjc1IDEuNzUgMCAuOTY2LS43NzcgMS43NS0xLjc1IDEuNzUtLjk2NiAwLTEuNzUtLjc3Ny0xLjc1LTEuNzV6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgNjQgNDJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk00Ny40MjYgMTdWMy43MTNMNjMuMTAyIDB2MTkuMzg5aC0uMDAxbC4wMDEuMjcyYzAgMS41OTUtMi4wMzIgMy40My00LjUzOCA0LjA5OC0yLjUwNi42NjgtNC41MzgtLjA4My00LjUzOC0xLjY3OCAwLTEuNTk0IDIuMDMyLTMuNDMgNC41MzgtNC4wOTguOTE0LS4yNDQgMi4wMzItLjU2NSAyLjg4OC0uNjAzVjQuNTE2TDQ5LjA3NiA3LjQ0N3Y5LjU1NkExLjAxNCAxLjAxNCAwIDAgMCA0OSAxN2gtMS41NzR6TTI5LjUgMTdoLTguMzQzYTcuMDczIDcuMDczIDAgMSAwLTQuNjU3IDQuMDZ2My43ODFIMy4zYTIuODAzIDIuODAzIDAgMCAxLTIuOC0yLjgwNFY4LjYzYTIuODAzIDIuODAzIDAgMCAxIDIuOC0yLjgwNWg0LjA4Mkw4LjU4IDIuNzY4QTEuOTk0IDEuOTk0IDAgMCAxIDEwLjQzNSAxLjVoOC45ODVjLjc3MyAwIDEuNDc3LjQ0OCAxLjgwNSAxLjE0OWwxLjQ4OCAzLjE3N0gyNi43YzEuNTQ2IDAgMi44IDEuMjU2IDIuOCAyLjgwNVYxN3ptLTExLjYzNyAwSDE3LjVhMSAxIDAgMCAwLTEgMXYuMDVBNC4yNDQgNC4yNDQgMCAxIDEgMTcuODYzIDE3em0yOS42ODQgMmMuOTcgMCAuOTUzLS4wNDguOTUzLjg4OXYyMC43NDNjMCAuOTUzLjAxNi45MDUtLjk1My45MDVIMTkuNDUzYy0uOTcgMC0uOTUzLjA0OC0uOTUzLS45MDVWMTkuODljMC0uOTM3LS4wMTYtLjg4OS45Ny0uODg5aDI4LjA3N3ptLTQuNzAxIDE5LjMzOFYyMi4xODNIMjQuMTU0djE2LjE1NWgxOC42OTJ6TTIwLjYgMjEuMzc1djEuNjE2aDEuNjE2di0xLjYxNkgyMC42em0wIDMuMjMxdjEuNjE2aDEuNjE2di0xLjYxNkgyMC42em0wIDMuMjMxdjEuNjE2aDEuNjE2di0xLjYxNkgyMC42em0wIDMuMjMxdjEuNjE2aDEuNjE2di0xLjYxNkgyMC42em0wIDMuMjMxdjEuNjE2aDEuNjE2di0xLjYxNkgyMC42em0wIDMuMjMxdjEuNjE2aDEuNjE2VjM3LjUzSDIwLjZ6bTI0LjIzMy0xNi4xNTV2MS42MTZoMS42MTV2LTEuNjE2aC0xLjYxNXptMCAzLjIzMXYxLjYxNmgxLjYxNXYtMS42MTZoLTEuNjE1em0wIDMuMjMxdjEuNjE2aDEuNjE1di0xLjYxNmgtMS42MTV6bTAgMy4yMzF2MS42MTZoMS42MTV2LTEuNjE2aC0xLjYxNXptMCAzLjIzMXYxLjYxNmgxLjYxNXYtMS42MTZoLTEuNjE1em0wIDMuMjMxdjEuNjE2aDEuNjE1VjM3LjUzaC0xLjYxNXpNMjkuNDg1IDI1LjI4M2EuNC40IDAgMCAxIC41OTMtLjM1bDkuMDUgNC45NzdhLjQuNCAwIDAgMSAwIC43MDFsLTkuMDUgNC45NzhhLjQuNCAwIDAgMS0uNTkzLS4zNXYtOS45NTZ6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0xOC42OCAyLjUzYy42IDAgLjU5LS4wMy41OS41NXYxMi44NGMwIC41OS4wMS41Ni0uNTkuNTZIMS4yOWMtLjYgMC0uNTkuMDMtLjU5LS41NlYzLjA4YzAtLjU4LS4wMS0uNTUuNi0uNTVoMTcuMzh6TTE1Ljc3IDE0LjV2LTEwSDQuMnYxMGgxMS41N3pNMiA0djFoMVY0SDJ6bTAgMnYxaDFWNkgyem0wIDJ2MWgxVjhIMnptMCAydjFoMXYtMUgyem0wIDJ2MWgxdi0xSDJ6bTAgMnYxaDF2LTFIMnpNMTcgNHYxaDFWNGgtMXptMCAydjFoMVY2aC0xem0wIDJ2MWgxVjhoLTF6bTAgMnYxaDF2LTFoLTF6bTAgMnYxaDF2LTFoLTF6bTAgMnYxaDF2LTFoLTF6TTcuNSA2LjY3N2EuNC40IDAgMCAxIC41OTMtLjM1MWw1LjEzMyAyLjgyNGEuNC40IDAgMCAxIDAgLjdsLTUuMTMzIDIuODI0YS40LjQgMCAwIDEtLjU5My0uMzVWNi42NzZ6XCIvPjwvc3ZnPid9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPSc8c3ZnIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+PHBhdGggZD1cIk0zIDZ2M2g0VjZIM3ptMCA0djNoNHYtM0gzem0wIDR2M2g0di0zSDN6bTUgM2g0di0zSDh2M3ptNSAwaDR2LTNoLTR2M3ptNC00di0zaC00djNoNHptMC00VjZoLTR2M2g0em0xLjUgOGExLjUgMS41IDAgMCAxLTEuNSAxLjVIM0ExLjUgMS41IDAgMCAxIDEuNSAxN1Y0Yy4yMjItLjg2MyAxLjA2OC0xLjUgMi0xLjVoMTNjLjkzMiAwIDEuNzc4LjYzNyAyIDEuNXYxM3pNMTIgMTN2LTNIOHYzaDR6bTAtNFY2SDh2M2g0elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMi41IDFoMTVBMS41IDEuNSAwIDAgMSAxOSAyLjV2MTVhMS41IDEuNSAwIDAgMS0xLjUgMS41aC0xNUExLjUgMS41IDAgMCAxIDEgMTcuNXYtMTVBMS41IDEuNSAwIDAgMSAyLjUgMXpNMiAydjE2aDE2VjJIMnpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk0xOCA3djFIMlY3aDE2em0wIDV2MUgydi0xaDE2elwiIG9wYWNpdHk9XCIuNlwiLz48cGF0aCBkPVwiTTE0IDF2MThhMSAxIDAgMCAxLTEgMUg3YTEgMSAwIDAgMS0xLTFWMWExIDEgMCAwIDEgMS0xaDZhMSAxIDAgMCAxIDEgMXptLTIgMUg4djRoNFYyem0wIDZIOHY0aDRWOHptMCA2SDh2NGg0di00elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMi41IDFoMTVBMS41IDEuNSAwIDAgMSAxOSAyLjV2MTVhMS41IDEuNSAwIDAgMS0xLjUgMS41aC0xNUExLjUgMS41IDAgMCAxIDEgMTcuNXYtMTVBMS41IDEuNSAwIDAgMSAyLjUgMXpNMiAydjE2aDE2VjJIMnpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk03IDJoMXYxNkg3VjJ6bTUgMGgxdjE2aC0xVjJ6XCIgb3BhY2l0eT1cIi42XCIvPjxwYXRoIGQ9XCJNMSA2aDE4YTEgMSAwIDAgMSAxIDF2NmExIDEgMCAwIDEtMSAxSDFhMSAxIDAgMCAxLTEtMVY3YTEgMSAwIDAgMSAxLTF6bTEgMnY0aDRWOEgyem02IDB2NGg0VjhIOHptNiAwdjRoNFY4aC00elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nPHN2ZyB2aWV3Qm94PVwiMCAwIDIwIDIwXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPjxwYXRoIGQ9XCJNMi41IDFoMTVBMS41IDEuNSAwIDAgMSAxOSAyLjV2MTVhMS41IDEuNSAwIDAgMS0xLjUgMS41aC0xNUExLjUgMS41IDAgMCAxIDEgMTcuNXYtMTVBMS41IDEuNSAwIDAgMSAyLjUgMXpNMiAydjE2aDE2VjJIMnpcIiBvcGFjaXR5PVwiLjZcIi8+PHBhdGggZD1cIk03IDJoMXYxNkg3VjJ6bTUgMGgxdjdoLTFWMnptNiA1djFIMlY3aDE2ek04IDEydjFIMnYtMWg2elwiIG9wYWNpdHk9XCIuNlwiLz48cGF0aCBkPVwiTTcgN2gxMmExIDEgMCAwIDEgMSAxdjExYTEgMSAwIDAgMS0xIDFIN2ExIDEgMCAwIDEtMS0xVjhhMSAxIDAgMCAxIDEtMXptMSAydjloMTBWOUg4elwiLz48L3N2Zz4nfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0NCk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1wbGFjZWhvbGRlcjpiZWZvcmUsLmNrIC5jay1wbGFjZWhvbGRlcjpiZWZvcmV7Y29udGVudDphdHRyKGRhdGEtcGxhY2Vob2xkZXIpO3BvaW50ZXItZXZlbnRzOm5vbmU7Y3Vyc29yOnRleHQ7Y29sb3I6dmFyKC0tY2stY29sb3ItZW5naW5lLXBsYWNlaG9sZGVyLXRleHQpfVwifSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1mdW5jdGlvbih0KXt2YXIgZT1cInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93JiZ3aW5kb3cubG9jYXRpb247aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiZml4VXJscyByZXF1aXJlcyB3aW5kb3cubG9jYXRpb25cIik7aWYoIXR8fFwic3RyaW5nXCIhPXR5cGVvZiB0KXJldHVybiB0O3ZhciBuPWUucHJvdG9jb2wrXCIvL1wiK2UuaG9zdCxpPW4rZS5wYXRobmFtZS5yZXBsYWNlKC9cXC9bXlxcL10qJC8sXCIvXCIpO3JldHVybiB0LnJlcGxhY2UoL3VybFxccypcXCgoKD86W14pKF18XFwoKD86W14pKF0rfFxcKFteKShdKlxcKSkqXFwpKSopXFwpL2dpLGZ1bmN0aW9uKHQsZSl7dmFyIG8scj1lLnRyaW0oKS5yZXBsYWNlKC9eXCIoLiopXCIkLyxmdW5jdGlvbih0LGUpe3JldHVybiBlfSkucmVwbGFjZSgvXicoLiopJyQvLGZ1bmN0aW9uKHQsZSl7cmV0dXJuIGV9KTtyZXR1cm4vXigjfGRhdGE6fGh0dHA6XFwvXFwvfGh0dHBzOlxcL1xcL3xmaWxlOlxcL1xcL1xcL3xcXHMqJCkvaS50ZXN0KHIpP3Q6KG89MD09PXIuaW5kZXhPZihcIi8vXCIpP3I6MD09PXIuaW5kZXhPZihcIi9cIik/bityOmkrci5yZXBsYWNlKC9eXFwuXFwvLyxcIlwiKSxcInVybChcIitKU09OLnN0cmluZ2lmeShvKStcIilcIil9KX19LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDQ3KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWhpZGRlbntkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5jay5jay1yZXNldCwuY2suY2stcmVzZXRfYWxsLC5jay5jay1yZXNldF9hbGwgKntib3gtc2l6aW5nOmJvcmRlci1ib3g7d2lkdGg6YXV0bztoZWlnaHQ6YXV0bztwb3NpdGlvbjpzdGF0aWN9OnJvb3R7LS1jay16LWRlZmF1bHQ6MTstLWNrLXotbW9kYWw6Y2FsYyh2YXIoLS1jay16LWRlZmF1bHQpICsgOTk5KTstLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZDojZmFmYWZhOy0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kOiNmZmY7LS1jay1jb2xvci1iYXNlLWJvcmRlcjojYzRjNGM0Oy0tY2stY29sb3ItYmFzZS1hY3Rpb246IzYxYjA0NTstLWNrLWNvbG9yLWJhc2UtZm9jdXM6IzZjYjVmOTstLWNrLWNvbG9yLWJhc2UtdGV4dDojMzMzOy0tY2stY29sb3ItYmFzZS1hY3RpdmU6IzE5OGNmMDstLWNrLWNvbG9yLWJhc2UtYWN0aXZlLWZvY3VzOiMwZTdmZTE7LS1jay1jb2xvci1iYXNlLWVycm9yOiNkYjM3MDA7LS1jay1jb2xvci1mb2N1cy1ib3JkZXI6IzQ3YTRmNTstLWNrLWNvbG9yLWZvY3VzLXNoYWRvdzpyZ2JhKDExOSwxODYsMjQ4LDAuNSk7LS1jay1jb2xvci1mb2N1cy1kaXNhYmxlZC1zaGFkb3c6cmdiYSgxMTksMTg2LDI0OCwwLjMpOy0tY2stY29sb3ItZm9jdXMtZXJyb3Itc2hhZG93OnJnYmEoMjU1LDY0LDMxLDAuMyk7LS1jay1jb2xvci10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCk7LS1jay1jb2xvci1zaGFkb3ctZHJvcDpyZ2JhKDAsMCwwLDAuMTUpOy0tY2stY29sb3Itc2hhZG93LWRyb3AtYWN0aXZlOnJnYmEoMCwwLDAsMC4yKTstLWNrLWNvbG9yLXNoYWRvdy1pbm5lcjpyZ2JhKDAsMCwwLDAuMSk7LS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1iYWNrZ3JvdW5kOnRyYW5zcGFyZW50Oy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtaG92ZXItYmFja2dyb3VuZDojZTZlNmU2Oy0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYWN0aXZlLWJhY2tncm91bmQ6I2Q5ZDlkOTstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1zaGFkb3c6I2JmYmZiZjstLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWRpc2FibGVkLWJhY2tncm91bmQ6dHJhbnNwYXJlbnQ7LS1jay1jb2xvci1idXR0b24tb24tYmFja2dyb3VuZDojZGVkZWRlOy0tY2stY29sb3ItYnV0dG9uLW9uLWhvdmVyLWJhY2tncm91bmQ6I2M0YzRjNDstLWNrLWNvbG9yLWJ1dHRvbi1vbi1hY3RpdmUtYmFja2dyb3VuZDojYmFiYWJhOy0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1zaGFkb3c6I2ExYTFhMTstLWNrLWNvbG9yLWJ1dHRvbi1vbi1kaXNhYmxlZC1iYWNrZ3JvdW5kOiNkZWRlZGU7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1hY3Rpb24pOy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1ob3Zlci1iYWNrZ3JvdW5kOiM1NzllM2Q7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1iYWNrZ3JvdW5kOiM1Mzk3M2I7LS1jay1jb2xvci1idXR0b24tYWN0aW9uLWFjdGl2ZS1zaGFkb3c6IzQ5ODQzMzstLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tZGlzYWJsZWQtYmFja2dyb3VuZDojN2VjMzY1Oy0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1idXR0b24tc2F2ZTojMDA4YTAwOy0tY2stY29sb3ItYnV0dG9uLWNhbmNlbDojZGIzNzAwOy0tY2stY29sb3Itc3dpdGNoLWJ1dHRvbi1vZmYtYmFja2dyb3VuZDojYjBiMGIwOy0tY2stY29sb3Itc3dpdGNoLWJ1dHRvbi1vbi1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYmFja2dyb3VuZCk7LS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLWlubmVyLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWRyb3Bkb3duLXBhbmVsLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLWRyb3Bkb3duLXBhbmVsLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci1pbnB1dC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1pbnB1dC1ib3JkZXI6I2M3YzdjNzstLWNrLWNvbG9yLWlucHV0LWVycm9yLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWVycm9yKTstLWNrLWNvbG9yLWlucHV0LXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS10ZXh0KTstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJhY2tncm91bmQ6I2YyZjJmMjstLWNrLWNvbG9yLWlucHV0LWRpc2FibGVkLWJvcmRlcjojYzdjN2M3Oy0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtdGV4dDojNWM1YzVjOy0tY2stY29sb3ItbGlzdC1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1saXN0LWJ1dHRvbi1ob3Zlci1iYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWhvdmVyLWJhY2tncm91bmQpOy0tY2stY29sb3ItbGlzdC1idXR0b24tb24tYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWFjdGl2ZSk7LS1jay1jb2xvci1saXN0LWJ1dHRvbi1vbi1iYWNrZ3JvdW5kLWZvY3VzOnZhcigtLWNrLWNvbG9yLWJhc2UtYWN0aXZlLWZvY3VzKTstLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLXRleHQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXBhbmVsLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXBhbmVsLWJvcmRlcjp2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcik7LS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKTstLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKTstLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLXRleHQpOy0tY2stY29sb3ItdG9vbHRpcC10ZXh0OnZhcigtLWNrLWNvbG9yLWJhc2UtYmFja2dyb3VuZCk7LS1jay1jb2xvci1lbmdpbmUtcGxhY2Vob2xkZXItdGV4dDojNzA3MDcwOy0tY2stY29sb3ItdXBsb2FkLWJhci1iYWNrZ3JvdW5kOiM2Y2I1Zjk7LS1jay1jb2xvci11cGxvYWQtaW5maW5pdGUtYmFja2dyb3VuZDpyZ2JhKDAsMCwwLDAuMSk7LS1jay1jb2xvci1saW5rLWRlZmF1bHQ6IzAwMDBmMDstLWNrLWNvbG9yLWxpbmstc2VsZWN0ZWQtYmFja2dyb3VuZDpyZ2JhKDMxLDE3NywyNTUsMC4xKTstLWNrLWRpc2FibGVkLW9wYWNpdHk6LjU7LS1jay1mb2N1cy1vdXRlci1zaGFkb3ctZ2VvbWV0cnk6MCAwIDAgM3B4Oy0tY2stZm9jdXMtb3V0ZXItc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdy1nZW9tZXRyeSkgdmFyKC0tY2stY29sb3ItZm9jdXMtc2hhZG93KTstLWNrLWZvY3VzLWRpc2FibGVkLW91dGVyLXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3ctZ2VvbWV0cnkpIHZhcigtLWNrLWNvbG9yLWZvY3VzLWRpc2FibGVkLXNoYWRvdyk7LS1jay1mb2N1cy1lcnJvci1vdXRlci1zaGFkb3c6dmFyKC0tY2stZm9jdXMtb3V0ZXItc2hhZG93LWdlb21ldHJ5KSB2YXIoLS1jay1jb2xvci1mb2N1cy1lcnJvci1zaGFkb3cpOy0tY2stZm9jdXMtcmluZzoxcHggc29saWQgdmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKTstLWNrLWZvbnQtc2l6ZS1iYXNlOjEzcHg7LS1jay1saW5lLWhlaWdodC1iYXNlOjEuODQ2MTU7LS1jay1mb250LWZhY2U6SGVsdmV0aWNhLEFyaWFsLFRhaG9tYSxWZXJkYW5hLFNhbnMtU2VyaWY7LS1jay1mb250LXNpemUtdGlueTowLjdlbTstLWNrLWZvbnQtc2l6ZS1zbWFsbDowLjc1ZW07LS1jay1mb250LXNpemUtbm9ybWFsOjFlbTstLWNrLWZvbnQtc2l6ZS1iaWc6MS40ZW07LS1jay1mb250LXNpemUtbGFyZ2U6MS44ZW07LS1jay11aS1jb21wb25lbnQtbWluLWhlaWdodDoyLjNlbX0uY2suY2stcmVzZXQsLmNrLmNrLXJlc2V0X2FsbCwuY2suY2stcmVzZXRfYWxsICp7bWFyZ2luOjA7cGFkZGluZzowO2JvcmRlcjowO2JhY2tncm91bmQ6dHJhbnNwYXJlbnQ7dGV4dC1kZWNvcmF0aW9uOm5vbmU7dmVydGljYWwtYWxpZ246bWlkZGxlO3RyYW5zaXRpb246bm9uZTt3b3JkLXdyYXA6YnJlYWstd29yZH0uY2suY2stcmVzZXRfYWxsLC5jay5jay1yZXNldF9hbGwgKntib3JkZXItY29sbGFwc2U6Y29sbGFwc2U7Zm9udDpub3JtYWwgbm9ybWFsIG5vcm1hbCB2YXIoLS1jay1mb250LXNpemUtYmFzZSkvdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkgdmFyKC0tY2stZm9udC1mYWNlKTtjb2xvcjp2YXIoLS1jay1jb2xvci10ZXh0KTt0ZXh0LWFsaWduOmxlZnQ7d2hpdGUtc3BhY2U6bm93cmFwO2N1cnNvcjphdXRvO2Zsb2F0Om5vbmV9LmNrLmNrLXJlc2V0X2FsbCAuY2stcnRsICp7dGV4dC1hbGlnbjpyaWdodH0uY2suY2stcmVzZXRfYWxsIGlmcmFtZXt2ZXJ0aWNhbC1hbGlnbjppbmhlcml0fS5jay5jay1yZXNldF9hbGwgdGV4dGFyZWF7d2hpdGUtc3BhY2U6cHJlLXdyYXB9LmNrLmNrLXJlc2V0X2FsbCBpbnB1dFt0eXBlPXBhc3N3b3JkXSwuY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9dGV4dF0sLmNrLmNrLXJlc2V0X2FsbCB0ZXh0YXJlYXtjdXJzb3I6dGV4dH0uY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9cGFzc3dvcmRdW2Rpc2FibGVkXSwuY2suY2stcmVzZXRfYWxsIGlucHV0W3R5cGU9dGV4dF1bZGlzYWJsZWRdLC5jay5jay1yZXNldF9hbGwgdGV4dGFyZWFbZGlzYWJsZWRde2N1cnNvcjpkZWZhdWx0fS5jay5jay1yZXNldF9hbGwgZmllbGRzZXR7cGFkZGluZzoxMHB4O2JvcmRlcjoycHggZ3Jvb3ZlICNkZmRlZTN9LmNrLmNrLXJlc2V0X2FsbCBidXR0b246Oi1tb3otZm9jdXMtaW5uZXJ7cGFkZGluZzowO2JvcmRlcjowfTpyb290ey0tY2stYm9yZGVyLXJhZGl1czoycHg7LS1jay1pbm5lci1zaGFkb3c6MnB4IDJweCAzcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWlubmVyKSBpbnNldDstLWNrLWRyb3Atc2hhZG93OjAgMXB4IDJweCAxcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWRyb3ApOy0tY2stZHJvcC1zaGFkb3ctYWN0aXZlOjAgM3B4IDZweCAxcHggdmFyKC0tY2stY29sb3Itc2hhZG93LWRyb3AtYWN0aXZlKTstLWNrLXNwYWNpbmctdW5pdDowLjZlbTstLWNrLXNwYWNpbmctbGFyZ2U6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjEuNSk7LS1jay1zcGFjaW5nLXN0YW5kYXJkOnZhcigtLWNrLXNwYWNpbmctdW5pdCk7LS1jay1zcGFjaW5nLW1lZGl1bTpjYWxjKHZhcigtLWNrLXNwYWNpbmctdW5pdCkqMC44KTstLWNrLXNwYWNpbmctc21hbGw6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjAuNSk7LS1jay1zcGFjaW5nLXRpbnk6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjAuMyk7LS1jay1zcGFjaW5nLWV4dHJhLXRpbnk6Y2FsYyh2YXIoLS1jay1zcGFjaW5nLXVuaXQpKjAuMTYpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big0OSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpe2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpLC5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUpLmNrLWZvY3VzZWR7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWlubmVyLXNoYWRvdyksMCAwfS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZXtvdmVyZmxvdzphdXRvO3BhZGRpbmc6MCB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jay5jay1lZGl0b3JfX2VkaXRhYmxlX2lubGluZT46Zmlyc3QtY2hpbGR7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stZWRpdG9yX19lZGl0YWJsZV9pbmxpbmU+Omxhc3QtY2hpbGR7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1zcGFjaW5nLWxhcmdlKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay10b29sYmFyLWNvbnRhaW5lcltjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWZvcmVncm91bmQpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLXRvb2xiYXItY29udGFpbmVyW2NsYXNzKj1hcnJvd19zXTphZnRlcntib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtZm9yZWdyb3VuZCl9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDUxKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWxhYmVse2Rpc3BsYXk6YmxvY2t9LmNrLmNrLXZvaWNlLWxhYmVse2Rpc3BsYXk6bm9uZX0uY2suY2stbGFiZWx7Zm9udC13ZWlnaHQ6NzAwfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1Myk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3l7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKTtwb3NpdGlvbjpmaXhlZDt0b3A6MH0uY2suY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5X2JvdHRvbS1saW1pdHt0b3A6YXV0bztwb3NpdGlvbjphYnNvbHV0ZX0uY2suY2stc3RpY2t5LXBhbmVsIC5jay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5e2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMDtib3JkZXItd2lkdGg6MCAxcHggMXB4O2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big1NSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay10b29sYmFyey1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtkaXNwbGF5OmZsZXg7ZmxleC1mbG93OnJvdyB3cmFwO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2suY2stdG9vbGJhci5jay10b29sYmFyX3ZlcnRpY2Fse2ZsZXgtZGlyZWN0aW9uOmNvbHVtbn0uY2suY2stdG9vbGJhci5jay10b29sYmFyX2Zsb2F0aW5ne2ZsZXgtd3JhcDpub3dyYXB9LmNrLmNrLXRvb2xiYXJfX3NlcGFyYXRvcntkaXNwbGF5OmlubGluZS1ibG9ja30uY2suY2stdG9vbGJhcl9fbmV3bGluZXtkaXNwbGF5OmJsb2NrO3dpZHRoOjEwMCV9LmNrLmNrLXRvb2xiYXJ7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLXRvb2xiYXIsLmNrLmNrLXRvb2xiYXIuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLXRvb2xiYXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci10b29sYmFyLWJhY2tncm91bmQpO3BhZGRpbmc6MCB2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyKX0uY2suY2stdG9vbGJhcj4qe21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTttYXJnaW4tdG9wOnZhcigtLWNrLXNwYWNpbmctc21hbGwpO21hcmdpbi1ib3R0b206dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl92ZXJ0aWNhbHtwYWRkaW5nOjB9LmNrLmNrLXRvb2xiYXIuY2stdG9vbGJhcl92ZXJ0aWNhbD4qe3dpZHRoOjEwMCU7bWFyZ2luOjA7Ym9yZGVyLXJhZGl1czowO2JvcmRlcjowfS5jay5jay10b29sYmFyPjpsYXN0LWNoaWxke21hcmdpbi1yaWdodDowfS5jay10b29sYmFyLWNvbnRhaW5lciAuY2suY2stdG9vbGJhcntib3JkZXI6MH0uY2suY2stdG9vbGJhcl9fc2VwYXJhdG9ye2FsaWduLXNlbGY6c3RyZXRjaDt3aWR0aDoxcHg7bWFyZ2luLXRvcDowO21hcmdpbi1ib3R0b206MDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXRvb2xiYXItYm9yZGVyKX0uY2suY2stdG9vbGJhcl9fbmV3bGluZXttYXJnaW46MH1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNTcpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stZWRpdG9ye3Bvc2l0aW9uOnJlbGF0aXZlfS5jay5jay1lZGl0b3IgLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXRvb2xiYXJ7ei1pbmRleDp2YXIoLS1jay16LW1vZGFsKX0uY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhcntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhciwuY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhci5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uY2suY2stZWRpdG9yX190b3AgLmNrLXN0aWNreS1wYW5lbCAuY2stdG9vbGJhcntib3JkZXItYm90dG9tLXdpZHRoOjB9LmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3kgLmNrLXRvb2xiYXJ7Ym9yZGVyLWJvdHRvbS13aWR0aDoxcHg7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3kgLmNrLXRvb2xiYXIsLmNrLmNrLWVkaXRvcl9fdG9wIC5jay1zdGlja3ktcGFuZWwgLmNrLXN0aWNreS1wYW5lbF9fY29udGVudF9zdGlja3kgLmNrLXRvb2xiYXIuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXJhZGl1czowfS5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGV7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpO2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1lZGl0b3JfX21haW4+LmNrLWVkaXRvcl9fZWRpdGFibGUsLmNrLmNrLWVkaXRvcl9fbWFpbj4uY2stZWRpdG9yX19lZGl0YWJsZS5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uY2suY2stZWRpdG9yX19tYWluPi5jay1lZGl0b3JfX2VkaXRhYmxlOm5vdCguY2stZm9jdXNlZCl7Ym9yZGVyLWNvbG9yOnZhcigtLWNrLWNvbG9yLWJhc2UtYm9yZGVyKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNTkpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2staWNvbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9OnJvb3R7LS1jay1pY29uLXNpemU6Y2FsYyh2YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSp2YXIoLS1jay1mb250LXNpemUtbm9ybWFsKSl9LmNrLmNrLWljb257d2lkdGg6dmFyKC0tY2staWNvbi1zaXplKTtoZWlnaHQ6dmFyKC0tY2staWNvbi1zaXplKTtmb250LXNpemU6LjgzMzMzNTA2OTRlbTt3aWxsLWNoYW5nZTp0cmFuc2Zvcm19LmNrLmNrLWljb24sLmNrLmNrLWljb24gKntjb2xvcjppbmhlcml0O2N1cnNvcjppbmhlcml0fS5jay5jay1pY29uIDpub3QoW2ZpbGxdKXtmaWxsOmN1cnJlbnRDb2xvcn1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNjEpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jy5jay5jay10b29sdGlwLC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0OmFmdGVye3Bvc2l0aW9uOmFic29sdXRlO3BvaW50ZXItZXZlbnRzOm5vbmU7LXdlYmtpdC1iYWNrZmFjZS12aXNpYmlsaXR5OmhpZGRlbn0uY2stdG9vbHRpcHt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjA7ZGlzcGxheTpub25lO3otaW5kZXg6dmFyKC0tY2stei1tb2RhbCl9LmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Y29udGVudDpcIlwiO3dpZHRoOjA7aGVpZ2h0OjB9OnJvb3R7LS1jay10b29sdGlwLWFycm93LXNpemU6NXB4fS5jay5jay10b29sdGlwe2xlZnQ6NTAlfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfc3tib3R0b206Y2FsYygtMSp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpKTt0cmFuc2Zvcm06dHJhbnNsYXRlWSgxMDAlKX0uY2suY2stdG9vbHRpcC5jay10b29sdGlwX3MgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7dG9wOmNhbGMoLTEqdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTUwJSk7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp2YXIoLS1jay1jb2xvci10b29sdGlwLWJhY2tncm91bmQpO2JvcmRlci1yaWdodC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItdG9wLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1sZWZ0LXdpZHRoOnZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSk7Ym9yZGVyLWJvdHRvbS13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpO2JvcmRlci1yaWdodC13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpO2JvcmRlci10b3Atd2lkdGg6MH0uY2suY2stdG9vbHRpcC5jay10b29sdGlwX257dG9wOmNhbGMoLTEqdmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKSk7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpfS5jay5jay10b29sdGlwLmNrLXRvb2x0aXBfbiAuY2stdG9vbHRpcF9fdGV4dDphZnRlcntib3R0b206Y2FsYygtMSp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpKTt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtNTAlKTtib3JkZXItbGVmdC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItYm90dG9tLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yaWdodC1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLXRvb2x0aXAtYmFja2dyb3VuZCk7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stdG9vbHRpcC1hcnJvdy1zaXplKTtib3JkZXItYm90dG9tLXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOnZhcigtLWNrLXRvb2x0aXAtYXJyb3ctc2l6ZSk7Ym9yZGVyLXRvcC13aWR0aDp2YXIoLS1jay10b29sdGlwLWFycm93LXNpemUpfS5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0LC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0e2ZvbnQtc2l6ZTouOWVtO2xpbmUtaGVpZ2h0OjEuNTtjb2xvcjp2YXIoLS1jay1jb2xvci10b29sdGlwLXRleHQpO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zbWFsbCkgdmFyKC0tY2stc3BhY2luZy1tZWRpdW0pO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdG9vbHRpcC1iYWNrZ3JvdW5kKTtwb3NpdGlvbjpyZWxhdGl2ZTtsZWZ0Oi01MCV9LmNrLmNrLXRvb2x0aXAgLmNrLXRvb2x0aXBfX3RleHQ6YWZ0ZXJ7Ym9yZGVyLXN0eWxlOnNvbGlkO2xlZnQ6NTAlfS5jay5jay10b29sdGlwLC5jay5jay10b29sdGlwIC5jay10b29sdGlwX190ZXh0OmFmdGVye3RyYW5zaXRpb246b3BhY2l0eSAuMnMgZWFzZS1pbi1vdXQgLjJzfSd9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDYzKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbnstbW96LXVzZXItc2VsZWN0Om5vbmU7LXdlYmtpdC11c2VyLXNlbGVjdDpub25lOy1tcy11c2VyLXNlbGVjdDpub25lO3VzZXItc2VsZWN0Om5vbmV9LmNrLmNrLWJ1dHRvbiAuY2stdG9vbHRpcCxhLmNrLmNrLWJ1dHRvbiAuY2stdG9vbHRpcHtkaXNwbGF5OmJsb2NrfUBtZWRpYSAoaG92ZXI6bm9uZSl7LmNrLmNrLWJ1dHRvbiAuY2stdG9vbHRpcCxhLmNrLmNrLWJ1dHRvbiAuY2stdG9vbHRpcHtkaXNwbGF5Om5vbmV9fS5jay5jay1idXR0b24sYS5jay5jay1idXR0b257cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTppbmxpbmUtZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmxlZnR9LmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQgLmNrLWJ1dHRvbl9fbGFiZWx7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWJ1dHRvbl93aXRoLXRleHQpLGEuY2suY2stYnV0dG9uOm5vdCguY2stYnV0dG9uX3dpdGgtdGV4dCl7anVzdGlmeS1jb250ZW50OmNlbnRlcn0uY2suY2stYnV0dG9uOmhvdmVyIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uOmhvdmVyIC5jay10b29sdGlwe3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjF9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbCwuY2suY2stYnV0dG9uOmZvY3VzOm5vdCg6aG92ZXIpIC5jay10b29sdGlwLGEuY2suY2stYnV0dG9uIC5jay1idXR0b25fX2xhYmVsLGEuY2suY2stYnV0dG9uOmZvY3VzOm5vdCg6aG92ZXIpIC5jay10b29sdGlwe2Rpc3BsYXk6bm9uZX0uY2suY2stYnV0dG9uLGEuY2suY2stYnV0dG9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcixhLmNrLmNrLWJ1dHRvbjpub3QoLmNrLWRpc2FibGVkKTpob3ZlcntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWhvdmVyLWJhY2tncm91bmQpfS5jay5jay1idXR0b246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZlLGEuY2suY2stYnV0dG9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1kZWZhdWx0LWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tZGVmYXVsdC1hY3RpdmUtc2hhZG93KX0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkLGEuY2suY2stYnV0dG9uLmNrLWRpc2FibGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWRlZmF1bHQtZGlzYWJsZWQtYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbntib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2stYnV0dG9uLC5jay1yb3VuZGVkLWNvcm5lcnMgYS5jay5jay1idXR0b24sLmNrLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnMsYS5jay5jay1idXR0b24uY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJ1dHRvbixhLmNrLmNrLWJ1dHRvbnt3aGl0ZS1zcGFjZTpub3dyYXA7Y3Vyc29yOmRlZmF1bHQ7dmVydGljYWwtYWxpZ246bWlkZGxlO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy10aW55KTt0ZXh0LWFsaWduOmNlbnRlcjttaW4td2lkdGg6dmFyKC0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQpO21pbi1oZWlnaHQ6dmFyKC0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQpO2xpbmUtaGVpZ2h0OjE7Zm9udC1zaXplOmluaGVyaXQ7Ym9yZGVyOjFweCBzb2xpZCB0cmFuc3BhcmVudDt0cmFuc2l0aW9uOmJveC1zaGFkb3cgLjJzIGVhc2UtaW4tb3V0Oy13ZWJraXQtYXBwZWFyYW5jZTpub25lfS5jay5jay1idXR0b246YWN0aXZlLC5jay5jay1idXR0b246Zm9jdXMsYS5jay5jay1idXR0b246YWN0aXZlLGEuY2suY2stYnV0dG9uOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1vdXRlci1zaGFkb3cpLDAgMDtib3JkZXItY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDphY3RpdmUsLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDpmb2N1cyxhLmNrLmNrLWJ1dHRvbi5jay1kaXNhYmxlZDphY3RpdmUsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWQ6Zm9jdXN7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1kaXNhYmxlZC1vdXRlci1zaGFkb3cpLDAgMH0uY2suY2stYnV0dG9uLmNrLWRpc2FibGVkIC5jay1idXR0b25fX2ljb24sYS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9faWNvbntvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fbGFiZWwsYS5jay5jay1idXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fbGFiZWx7b3BhY2l0eTp2YXIoLS1jay1kaXNhYmxlZC1vcGFjaXR5KX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbl93aXRoLXRleHQsYS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dHtwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctdGlueSkgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLWJ1dHRvbi5jay1idXR0b25fd2l0aC10ZXh0IC5jay1idXR0b25fX2ljb24sYS5jay5jay1idXR0b24uY2stYnV0dG9uX3dpdGgtdGV4dCAuY2stYnV0dG9uX19pY29ue21hcmdpbi1sZWZ0OmNhbGMoLTEqdmFyKC0tY2stc3BhY2luZy1zbWFsbCkpO21hcmdpbi1yaWdodDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stYnV0dG9uLmNrLW9uLGEuY2suY2stYnV0dG9uLmNrLW9ue2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXIsYS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXJ7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1idXR0b24tb24taG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi5jay1vbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b24uY2stb246bm90KC5jay1kaXNhYmxlZCk6YWN0aXZle2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLW9uLWFjdGl2ZS1iYWNrZ3JvdW5kKTtib3gtc2hhZG93Omluc2V0IDAgMnB4IDJweCB2YXIoLS1jay1jb2xvci1idXR0b24tb24tYWN0aXZlLXNoYWRvdyl9LmNrLmNrLWJ1dHRvbi5jay1vbi5jay1kaXNhYmxlZCxhLmNrLmNrLWJ1dHRvbi5jay1vbi5jay1kaXNhYmxlZHtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1vbi1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1zYXZlLGEuY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1zYXZle2NvbG9yOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1zYXZlKX0uY2suY2stYnV0dG9uLmNrLWJ1dHRvbi1jYW5jZWwsYS5jay5jay1idXR0b24uY2stYnV0dG9uLWNhbmNlbHtjb2xvcjp2YXIoLS1jay1jb2xvci1idXR0b24tY2FuY2VsKX0uY2suY2stYnV0dG9uIC5jay1idXR0b25fX2ljb24gdXNlLC5jay5jay1idXR0b24gLmNrLWJ1dHRvbl9faWNvbiB1c2UgKixhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSxhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19pY29uIHVzZSAqe2NvbG9yOmluaGVyaXR9LmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbCxhLmNrLmNrLWJ1dHRvbiAuY2stYnV0dG9uX19sYWJlbHtmb250LXNpemU6aW5oZXJpdDtmb250LXdlaWdodDppbmhlcml0O2NvbG9yOmluaGVyaXQ7Y3Vyc29yOmluaGVyaXQ7dmVydGljYWwtYWxpZ246bWlkZGxlfS5jay5jay1idXR0b24tYWN0aW9uLGEuY2suY2stYnV0dG9uLWFjdGlvbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi1hY3Rpb246bm90KC5jay1kaXNhYmxlZCk6aG92ZXIsYS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1ob3Zlci1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLWFjdGlvbjpub3QoLmNrLWRpc2FibGVkKTphY3RpdmUsYS5jay5jay1idXR0b24tYWN0aW9uOm5vdCguY2stZGlzYWJsZWQpOmFjdGl2ZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLWJhY2tncm91bmQpO2JveC1zaGFkb3c6aW5zZXQgMCAycHggMnB4IHZhcigtLWNrLWNvbG9yLWJ1dHRvbi1hY3Rpb24tYWN0aXZlLXNoYWRvdyl9LmNrLmNrLWJ1dHRvbi1hY3Rpb24uY2stZGlzYWJsZWQsYS5jay5jay1idXR0b24tYWN0aW9uLmNrLWRpc2FibGVke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi1kaXNhYmxlZC1iYWNrZ3JvdW5kKX0uY2suY2stYnV0dG9uLWFjdGlvbixhLmNrLmNrLWJ1dHRvbi1hY3Rpb257Y29sb3I6dmFyKC0tY2stY29sb3ItYnV0dG9uLWFjdGlvbi10ZXh0KX0uY2suY2stYnV0dG9uLWJvbGQsYS5jay5jay1idXR0b24tYm9sZHtmb250LXdlaWdodDo3MDB9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDY1KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWNvbnRlbnQgYmxvY2txdW90ZXtvdmVyZmxvdzpoaWRkZW47cGFkZGluZy1yaWdodDoxLjVlbTtwYWRkaW5nLWxlZnQ6MS41ZW07bWFyZ2luLWxlZnQ6MDtmb250LXN0eWxlOml0YWxpYztib3JkZXItbGVmdDo1cHggc29saWQgI2NjY31cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNjcpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlcntwb3NpdGlvbjpyZWxhdGl2ZX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcnt2aXNpYmlsaXR5OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciAuY2staWNvbntkaXNwbGF5OmJsb2NrfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGVyLmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciwuY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlcjpob3ZlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcnt2aXNpYmlsaXR5OnZpc2libGV9OnJvb3R7LS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3M6M3B4Oy0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplOjE2cHg7LS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb246MjAwbXM7LS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmU6ZWFzZTstLWNrLWNvbG9yLXdpZGdldC1ibHVycmVkLWJvcmRlcjojZGVkZWRlOy0tY2stY29sb3Itd2lkZ2V0LWhvdmVyLWJvcmRlcjojZmZjODNkOy0tY2stY29sb3Itd2lkZ2V0LWVkaXRhYmxlLWZvY3VzLWJhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1iYWNrZ3JvdW5kKTstLWNrLWNvbG9yLXdpZGdldC1kcmFnLWhhbmRsZXItaWNvbi1jb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWJhY2tncm91bmQpfS5jayAuY2std2lkZ2V0e291dGxpbmUtd2lkdGg6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKTtvdXRsaW5lLXN0eWxlOnNvbGlkO291dGxpbmUtY29sb3I6dHJhbnNwYXJlbnQ7dHJhbnNpdGlvbjpvdXRsaW5lLWNvbG9yIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1kdXJhdGlvbikgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItYW5pbWF0aW9uLWN1cnZlKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQsLmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVye291dGxpbmU6dmFyKC0tY2std2lkZ2V0LW91dGxpbmUtdGhpY2tuZXNzKSBzb2xpZCB2YXIoLS1jay1jb2xvci1mb2N1cy1ib3JkZXIpfS5jayAuY2std2lkZ2V0OmhvdmVye291dGxpbmUtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWhvdmVyLWJvcmRlcil9LmNrIC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZXtib3JkZXI6MXB4IHNvbGlkIHRyYW5zcGFyZW50fS5jayAuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGUuY2stZWRpdG9yX19uZXN0ZWQtZWRpdGFibGVfZm9jdXNlZCwuY2sgLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlOmZvY3Vze291dGxpbmU6bm9uZTtib3JkZXI6dmFyKC0tY2stZm9jdXMtcmluZyk7Ym94LXNoYWRvdzp2YXIoLS1jay1pbm5lci1zaGFkb3cpLDAgMDtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1lZGl0YWJsZS1mb2N1cy1iYWNrZ3JvdW5kKX0uY2stZWRpdG9yX19lZGl0YWJsZT4uY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGVyOmZpcnN0LWNoaWxkLC5jay1lZGl0b3JfX2VkaXRhYmxlIGJsb2NrcXVvdGU+LmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlcjpmaXJzdC1jaGlsZHttYXJnaW4tdG9wOmNhbGMoMWVtICsgdmFyKC0tY2std2lkZ2V0LWhhbmRsZXItaWNvbi1zaXplKSl9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXJ7cGFkZGluZzo0cHg7Ym94LXNpemluZzpib3JkZXItYm94O2JhY2tncm91bmQtY29sb3I6dHJhbnNwYXJlbnQ7b3BhY2l0eTowO3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb24pIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSksdmlzaWJpbGl0eSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb24pIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSksb3BhY2l0eSB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tZHVyYXRpb24pIHZhcigtLWNrLXdpZGdldC1oYW5kbGVyLWFuaW1hdGlvbi1jdXJ2ZSk7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKSB2YXIoLS1jay1ib3JkZXItcmFkaXVzKSAwIDA7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTEwMCUpO2xlZnQ6Y2FsYygwcHggLSB2YXIoLS1jay13aWRnZXQtb3V0bGluZS10aGlja25lc3MpKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlcjpob3ZlciAuY2staWNvbiAuY2staWNvbl9fc2VsZWN0ZWQtaW5kaWNhdG9ye29wYWNpdHk6MX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciAuY2staWNvbnt3aWR0aDp2YXIoLS1jay13aWRnZXQtaGFuZGxlci1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay13aWRnZXQtaGFuZGxlci1pY29uLXNpemUpO2NvbG9yOnZhcigtLWNrLWNvbG9yLXdpZGdldC1kcmFnLWhhbmRsZXItaWNvbi1jb2xvcil9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIgLmNrLWljb24gLmNrLWljb25fX3NlbGVjdGVkLWluZGljYXRvcntvcGFjaXR5OjA7dHJhbnNpdGlvbjpvcGFjaXR5IC4zcyB2YXIoLS1jay13aWRnZXQtaGFuZGxlci1hbmltYXRpb24tY3VydmUpfS5jayAuY2std2lkZ2V0LmNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGVyLmNrLXdpZGdldF9zZWxlY3RlZCAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciwuY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlci5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXJ7b3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2stY29sb3ItZm9jdXMtYm9yZGVyKX0uY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlci5jay13aWRnZXRfc2VsZWN0ZWQgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIgLmNrLWljb24gLmNrLWljb25fX3NlbGVjdGVkLWluZGljYXRvciwuY2sgLmNrLXdpZGdldC5jay13aWRnZXRfd2l0aC1zZWxlY3Rpb24taGFuZGxlci5jay13aWRnZXRfc2VsZWN0ZWQ6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXIgLmNrLWljb24gLmNrLWljb25fX3NlbGVjdGVkLWluZGljYXRvcntvcGFjaXR5OjF9LmNrIC5jay13aWRnZXQuY2std2lkZ2V0X3dpdGgtc2VsZWN0aW9uLWhhbmRsZXI6aG92ZXIgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXJ7b3BhY2l0eToxO2JhY2tncm91bmQtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWhvdmVyLWJvcmRlcil9LmNrLWVkaXRvcl9fZWRpdGFibGUuY2stYmx1cnJlZCAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZCwuY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVye291dGxpbmUtY29sb3I6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWJsdXJyZWQtYm9yZGVyKX0uY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyLC5jay1lZGl0b3JfX2VkaXRhYmxlLmNrLWJsdXJyZWQgLmNrLXdpZGdldC5jay13aWRnZXRfc2VsZWN0ZWQgLmNrLXdpZGdldF9fc2VsZWN0aW9uLWhhbmRsZXI6aG92ZXIsLmNrLWVkaXRvcl9fZWRpdGFibGUuY2stYmx1cnJlZCAuY2std2lkZ2V0LmNrLXdpZGdldF9zZWxlY3RlZDpob3ZlciAuY2std2lkZ2V0X19zZWxlY3Rpb24taGFuZGxlciwuY2stZWRpdG9yX19lZGl0YWJsZS5jay1ibHVycmVkIC5jay13aWRnZXQuY2std2lkZ2V0X3NlbGVjdGVkOmhvdmVyIC5jay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyOmhvdmVye2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3Itd2lkZ2V0LWJsdXJyZWQtYm9yZGVyKX0uY2stZWRpdG9yX19lZGl0YWJsZS5jay1yZWFkLW9ubHkgLmNrLXdpZGdldHstLWNrLXdpZGdldC1vdXRsaW5lLXRoaWNrbmVzczowfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big2OSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1sYWJlbGVkLWlucHV0IC5jay1sYWJlbGVkLWlucHV0X19zdGF0dXN7Zm9udC1zaXplOnZhcigtLWNrLWZvbnQtc2l6ZS1zbWFsbCk7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKTt3aGl0ZS1zcGFjZTpub3JtYWx9LmNrLmNrLWxhYmVsZWQtaW5wdXQgLmNrLWxhYmVsZWQtaW5wdXRfX3N0YXR1c19lcnJvcntjb2xvcjp2YXIoLS1jay1jb2xvci1iYXNlLWVycm9yKX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNzEpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCI6cm9vdHstLWNrLWlucHV0LXRleHQtd2lkdGg6MThlbX0uY2suY2staW5wdXQtdGV4dHtib3JkZXItcmFkaXVzOjB9LmNrLXJvdW5kZWQtY29ybmVycyAuY2suY2staW5wdXQtdGV4dCwuY2suY2staW5wdXQtdGV4dC5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKX0uY2suY2staW5wdXQtdGV4dHtib3gtc2hhZG93OnZhcigtLWNrLWlubmVyLXNoYWRvdyksMCAwO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW5wdXQtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1ib3JkZXIpO3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1leHRyYS10aW55KSB2YXIoLS1jay1zcGFjaW5nLW1lZGl1bSk7bWluLXdpZHRoOnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpO21pbi1oZWlnaHQ6dmFyKC0tY2stdWktY29tcG9uZW50LW1pbi1oZWlnaHQpO3RyYW5zaXRpb24tcHJvcGVydHk6Ym94LXNoYWRvdyxib3JkZXI7dHJhbnNpdGlvbjouMnMgZWFzZS1pbi1vdXR9LmNrLmNrLWlucHV0LXRleHQ6Zm9jdXN7b3V0bGluZTpub25lO2JvcmRlcjp2YXIoLS1jay1mb2N1cy1yaW5nKTtib3gtc2hhZG93OnZhcigtLWNrLWZvY3VzLW91dGVyLXNoYWRvdyksdmFyKC0tY2staW5uZXItc2hhZG93KX0uY2suY2staW5wdXQtdGV4dFtyZWFkb25seV17Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1pbnB1dC1kaXNhYmxlZC1ib3JkZXIpO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtYmFja2dyb3VuZCk7Y29sb3I6dmFyKC0tY2stY29sb3ItaW5wdXQtZGlzYWJsZWQtdGV4dCl9LmNrLmNrLWlucHV0LXRleHRbcmVhZG9ubHldOmZvY3Vze2JveC1zaGFkb3c6dmFyKC0tY2stZm9jdXMtZGlzYWJsZWQtb3V0ZXItc2hhZG93KSx2YXIoLS1jay1pbm5lci1zaGFkb3cpfS5jay5jay1pbnB1dC10ZXh0LmNrLWVycm9ye2JvcmRlci1jb2xvcjp2YXIoLS1jay1jb2xvci1pbnB1dC1lcnJvci1ib3JkZXIpO2FuaW1hdGlvbjpjay10ZXh0LWlucHV0LXNoYWtlIC4zcyBlYXNlIGJvdGh9LmNrLmNrLWlucHV0LXRleHQuY2stZXJyb3I6Zm9jdXN7Ym94LXNoYWRvdzp2YXIoLS1jay1mb2N1cy1lcnJvci1vdXRlci1zaGFkb3cpLHZhcigtLWNrLWlubmVyLXNoYWRvdyl9QGtleWZyYW1lcyBjay10ZXh0LWlucHV0LXNoYWtlezIwJXt0cmFuc2Zvcm06dHJhbnNsYXRlWCgtMnB4KX00MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMnB4KX02MCV7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoLTFweCl9ODAle3RyYW5zZm9ybTp0cmFuc2xhdGVYKDFweCl9fVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big3Myk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm17ZGlzcGxheTpmbGV4O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWx7ZGlzcGxheTpub25lfUBtZWRpYSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6NjAwcHgpey5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm17ZmxleC13cmFwOndyYXB9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWxlZC1pbnB1dHtmbGV4LWJhc2lzOjEwMCV9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stYnV0dG9ue2ZsZXgtYmFzaXM6NTAlfX0uY2suY2stdGV4dC1hbHRlcm5hdGl2ZS1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybTpmb2N1c3tvdXRsaW5lOm5vbmV9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybT46bm90KDpmaXJzdC1jaGlsZCl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo2MDBweCl7LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybXtwYWRkaW5nOjA7d2lkdGg6Y2FsYygwLjgqdmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCkpfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7bWFyZ2luOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIDB9LmNrLmNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybSAuY2stbGFiZWxlZC1pbnB1dCAuY2staW5wdXQtdGV4dHttaW4td2lkdGg6MDt3aWR0aDoxMDAlfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWJ1dHRvbntwYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpO21hcmdpbi10b3A6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7bWFyZ2luLWxlZnQ6MDtib3JkZXItcmFkaXVzOjA7Ym9yZGVyOjA7Ym9yZGVyLXRvcDoxcHggc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfS5jay5jay10ZXh0LWFsdGVybmF0aXZlLWZvcm0gLmNrLWJ1dHRvbjpmaXJzdC1vZi10eXBle2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNzUpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9Jzpyb290ey0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4OmNhbGModmFyKC0tY2stei1kZWZhdWx0KSAtIDMpfS5jay5jay1iYWxsb29uLXBhbmVse2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle2NvbnRlbnQ6XCJcIjtwb3NpdGlvbjphYnNvbHV0ZX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3dpdGgtYXJyb3c6YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfbl06YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YmVmb3Jle3otaW5kZXg6dmFyKC0tY2stYmFsbG9vbi1wYW5lbC1hcnJvdy16LWluZGV4KX0uY2suY2stYmFsbG9vbi1wYW5lbFtjbGFzcyo9YXJyb3dfc106YWZ0ZXJ7ei1pbmRleDpjYWxjKHZhcigtLWNrLWJhbGxvb24tcGFuZWwtYXJyb3ctei1pbmRleCkgKyAxKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX3Zpc2libGV7ZGlzcGxheTpibG9ja306cm9vdHstLWNrLWJhbGxvb24tYXJyb3ctb2Zmc2V0OjJweDstLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0OjEwcHg7LS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGg6OHB4fS5jay5jay1iYWxsb29uLXBhbmVse2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1iYWxsb29uLXBhbmVsLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1iYWxsb29uLXBhbmVse2JveC1zaGFkb3c6dmFyKC0tY2stZHJvcC1zaGFkb3cpLDAgMDttaW4taGVpZ2h0OjE1cHg7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1wYW5lbC1iYWNrZ3JvdW5kKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF93aXRoLWFycm93OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvdzpiZWZvcmV7d2lkdGg6MDtoZWlnaHQ6MDtib3JkZXItc3R5bGU6c29saWR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItYm90dG9tLXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KTtib3JkZXItcmlnaHQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItdG9wLXdpZHRoOjB9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmJlZm9yZXtib3JkZXItYm90dG9tLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19uXTpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLXJpZ2h0LWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci10b3AtY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X25dOmFmdGVye2JvcmRlci1ib3R0b20tY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6dmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKTtib3JkZXItYm90dG9tLXdpZHRoOjA7Ym9yZGVyLXJpZ2h0LXdpZHRoOnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCk7Ym9yZGVyLXRvcC13aWR0aDp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCl9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmJlZm9yZXtib3JkZXItdG9wLWNvbG9yOnZhcigtLWNrLWNvbG9yLXBhbmVsLWJvcmRlcil9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsW2NsYXNzKj1hcnJvd19zXTpiZWZvcmV7Ym9yZGVyLWxlZnQtY29sb3I6dHJhbnNwYXJlbnQ7Ym9yZGVyLWJvdHRvbS1jb2xvcjp0cmFuc3BhcmVudDtib3JkZXItcmlnaHQtY29sb3I6dHJhbnNwYXJlbnR9LmNrLmNrLWJhbGxvb24tcGFuZWxbY2xhc3MqPWFycm93X3NdOmFmdGVye2JvcmRlci10b3AtY29sb3I6dmFyKC0tY2stY29sb3ItcGFuZWwtYmFja2dyb3VuZCk7bWFyZ2luLWJvdHRvbTp2YXIoLS1jay1iYWxsb29uLWFycm93LW9mZnNldCl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19uOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbjpiZWZvcmV7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbnc6YWZ0ZXIsLmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19udzpiZWZvcmV7bGVmdDpjYWxjKDIqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7dG9wOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X25lOmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfbmU6YmVmb3Jle3JpZ2h0OmNhbGMoMip2YXIoLS1jay1iYWxsb29uLWFycm93LWhhbGYtd2lkdGgpKTt0b3A6Y2FsYygtMSp2YXIoLS1jay1iYWxsb29uLWFycm93LWhlaWdodCkpfS5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfczphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3M6YmVmb3Jle2xlZnQ6NTAlO21hcmdpbi1sZWZ0OmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0uY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3N3OmFmdGVyLC5jay5jay1iYWxsb29uLXBhbmVsLmNrLWJhbGxvb24tcGFuZWxfYXJyb3dfc3c6YmVmb3Jle2xlZnQ6Y2FsYygyKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGFsZi13aWR0aCkpO2JvdHRvbTpjYWxjKC0xKnZhcigtLWNrLWJhbGxvb24tYXJyb3ctaGVpZ2h0KSl9LmNrLmNrLWJhbGxvb24tcGFuZWwuY2stYmFsbG9vbi1wYW5lbF9hcnJvd19zZTphZnRlciwuY2suY2stYmFsbG9vbi1wYW5lbC5jay1iYWxsb29uLXBhbmVsX2Fycm93X3NlOmJlZm9yZXtyaWdodDpjYWxjKDIqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oYWxmLXdpZHRoKSk7Ym90dG9tOmNhbGMoLTEqdmFyKC0tY2stYmFsbG9vbi1hcnJvdy1oZWlnaHQpKX0nfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big3Nyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IC5pbWFnZXtjbGVhcjpib3RoO3RleHQtYWxpZ246Y2VudGVyO21hcmdpbjoxZW0gMH0uY2stY29udGVudCAuaW1hZ2U+aW1ne2Rpc3BsYXk6YmxvY2s7bWFyZ2luOjAgYXV0bzttYXgtd2lkdGg6MTAwJX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oNzkpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2stY29udGVudCAuaW1hZ2V7cG9zaXRpb246cmVsYXRpdmU7b3ZlcmZsb3c6aGlkZGVufS5jay1jb250ZW50IC5pbWFnZSAuY2stcHJvZ3Jlc3MtYmFye3Bvc2l0aW9uOmFic29sdXRlO3RvcDowO2xlZnQ6MH06cm9vdHstLWNrLWltYWdlLXVwbG9hZC1wcm9ncmVzcy1saW5lLXdpZHRoOjMwcHh9LmNrLWNvbnRlbnQgLmltYWdlLmNrLWFwcGVhcnthbmltYXRpb246ZmFkZUluIC43c30uY2stY29udGVudCAuaW1hZ2UgLmNrLXByb2dyZXNzLWJhcntoZWlnaHQ6MnB4O3dpZHRoOjA7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci11cGxvYWQtYmFyLWJhY2tncm91bmQpO3RyYW5zaXRpb246d2lkdGggLjFzfUBrZXlmcmFtZXMgZmFkZUluezAle29wYWNpdHk6MH10b3tvcGFjaXR5OjF9fVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4MSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nLmNrLWltYWdlLXVwbG9hZC1jb21wbGV0ZS1pY29ue2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7dG9wOjEwcHg7cmlnaHQ6MTBweDtib3JkZXItcmFkaXVzOjUwJX0uY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb246YWZ0ZXJ7Y29udGVudDpcIlwiO3Bvc2l0aW9uOmFic29sdXRlfTpyb290ey0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb246I2ZmZjstLWNrLWNvbG9yLWltYWdlLXVwbG9hZC1pY29uLWJhY2tncm91bmQ6IzAwOGEwMDstLWNrLWltYWdlLXVwbG9hZC1pY29uLXNpemU6MjBweDstLWNrLWltYWdlLXVwbG9hZC1pY29uLXdpZHRoOjJweH0uY2staW1hZ2UtdXBsb2FkLWNvbXBsZXRlLWljb257d2lkdGg6dmFyKC0tY2staW1hZ2UtdXBsb2FkLWljb24tc2l6ZSk7aGVpZ2h0OnZhcigtLWNrLWltYWdlLXVwbG9hZC1pY29uLXNpemUpO29wYWNpdHk6MDtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWltYWdlLXVwbG9hZC1pY29uLWJhY2tncm91bmQpO2FuaW1hdGlvbi1uYW1lOmNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLXNob3csY2stdXBsb2FkLWNvbXBsZXRlLWljb24taGlkZTthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzLGZvcndhcmRzO2FuaW1hdGlvbi1kdXJhdGlvbjouNXMsLjVzO2ZvbnQtc2l6ZTp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi1zaXplKTthbmltYXRpb24tZGVsYXk6MG1zLDNzfS5jay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvbjphZnRlcntsZWZ0OjI1JTt0b3A6NTAlO29wYWNpdHk6MDtoZWlnaHQ6MDt3aWR0aDowO3RyYW5zZm9ybTpzY2FsZVgoLTEpIHJvdGF0ZSgxMzVkZWcpO3RyYW5zZm9ybS1vcmlnaW46bGVmdCB0b3A7Ym9yZGVyLXRvcDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi13aWR0aCkgc29saWQgdmFyKC0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24pO2JvcmRlci1yaWdodDp2YXIoLS1jay1pbWFnZS11cGxvYWQtaWNvbi13aWR0aCkgc29saWQgdmFyKC0tY2stY29sb3ItaW1hZ2UtdXBsb2FkLWljb24pO2FuaW1hdGlvbi1uYW1lOmNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLWNoZWNrO2FuaW1hdGlvbi1kdXJhdGlvbjouNXM7YW5pbWF0aW9uLWRlbGF5Oi41czthbmltYXRpb24tZmlsbC1tb2RlOmZvcndhcmRzO2JveC1zaXppbmc6Ym9yZGVyLWJveH1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1jb21wbGV0ZS1pY29uLXNob3d7MCV7b3BhY2l0eTowfXRve29wYWNpdHk6MX19QGtleWZyYW1lcyBjay11cGxvYWQtY29tcGxldGUtaWNvbi1oaWRlezAle29wYWNpdHk6MX10b3tvcGFjaXR5OjB9fUBrZXlmcmFtZXMgY2stdXBsb2FkLWNvbXBsZXRlLWljb24tY2hlY2t7MCV7b3BhY2l0eToxO3dpZHRoOjA7aGVpZ2h0OjB9MzMle3dpZHRoOi4zZW07aGVpZ2h0OjB9dG97b3BhY2l0eToxO3dpZHRoOi4zZW07aGVpZ2h0Oi40NWVtfX0nfSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4Myk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz0nLmNrIC5jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVye3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpjZW50ZXI7anVzdGlmeS1jb250ZW50OmNlbnRlcjt0b3A6MDtsZWZ0OjB9LmNrIC5jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyOmJlZm9yZXtjb250ZW50OlwiXCI7cG9zaXRpb246cmVsYXRpdmV9OnJvb3R7LS1jay1jb2xvci11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyOiNiM2IzYjM7LS1jay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyLXNpemU6MzJweH0uY2sgLmNrLWltYWdlLXVwbG9hZC1wbGFjZWhvbGRlcnt3aWR0aDoxMDAlO21hcmdpbjowfS5jayAuY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcnt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS5jayAuY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlcjpiZWZvcmV7d2lkdGg6dmFyKC0tY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlci1zaXplKTtoZWlnaHQ6dmFyKC0tY2stdXBsb2FkLXBsYWNlaG9sZGVyLWxvYWRlci1zaXplKTtib3JkZXItcmFkaXVzOjUwJTtib3JkZXItdG9wOjNweCBzb2xpZCB2YXIoLS1jay1jb2xvci11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyKTtib3JkZXItcmlnaHQ6MnB4IHNvbGlkIHRyYW5zcGFyZW50O2FuaW1hdGlvbjpjay11cGxvYWQtcGxhY2Vob2xkZXItbG9hZGVyIDFzIGxpbmVhciBpbmZpbml0ZX1Aa2V5ZnJhbWVzIGNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXJ7dG97dHJhbnNmb3JtOnJvdGF0ZSgxdHVybil9fSd9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDg1KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWRyb3Bkb3due2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX2Fycm93e3BvaW50ZXItZXZlbnRzOm5vbmU7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b257d2lkdGg6MTAwJX0uY2suY2stZHJvcGRvd24gLmNrLWJ1dHRvbi5jay1kcm9wZG93bl9fYnV0dG9uLmNrLW9uIC5jay10b29sdGlwe2Rpc3BsYXk6bm9uZX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbHstd2Via2l0LWJhY2tmYWNlLXZpc2liaWxpdHk6aGlkZGVuO2Rpc3BsYXk6bm9uZTt6LWluZGV4OnZhcigtLWNrLXotbW9kYWwpO3Bvc2l0aW9uOmFic29sdXRlfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbC12aXNpYmxle2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpbGwtY2hhbmdlOnRyYW5zZm9ybX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfbmUsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX253e2JvdHRvbToxMDAlfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsLmNrLWRyb3Bkb3duX19wYW5lbF9zZSwuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfc3d7dHJhbnNmb3JtOnRyYW5zbGF0ZTNkKDAsMTAwJSwwKX0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfbmUsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX3Nle2xlZnQ6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbC5jay1kcm9wZG93bl9fcGFuZWxfbncsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwuY2stZHJvcGRvd25fX3BhbmVsX3N3e3JpZ2h0OjB9OnJvb3R7LS1jay1kcm9wZG93bi1hcnJvdy1zaXplOmNhbGMoMC41KnZhcigtLWNrLWljb24tc2l6ZSkpfS5jay5jay1kcm9wZG93bntmb250LXNpemU6aW5oZXJpdH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19hcnJvd3tyaWdodDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTt3aWR0aDp2YXIoLS1jay1kcm9wZG93bi1hcnJvdy1zaXplKTttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXNtYWxsKX0uY2suY2stZHJvcGRvd24uY2stZGlzYWJsZWQgLmNrLWRyb3Bkb3duX19hcnJvd3tvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b246bm90KC5jay1idXR0b25fd2l0aC10ZXh0KXtwYWRkaW5nLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zbWFsbCl9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbi5jay1kaXNhYmxlZCAuY2stYnV0dG9uX19sYWJlbHtvcGFjaXR5OnZhcigtLWNrLWRpc2FibGVkLW9wYWNpdHkpfS5jay5jay1kcm9wZG93biAuY2stYnV0dG9uLmNrLWRyb3Bkb3duX19idXR0b24uY2stb257Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmNrLmNrLWRyb3Bkb3duIC5jay1idXR0b24uY2stZHJvcGRvd25fX2J1dHRvbiAuY2stYnV0dG9uX19sYWJlbHt3aWR0aDo3ZW07b3ZlcmZsb3c6aGlkZGVuO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXN9LmNrLmNrLWRyb3Bkb3duX19wYW5lbHtib3gtc2hhZG93OnZhcigtLWNrLWRyb3Atc2hhZG93KSwwIDA7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duX19wYW5lbCwuY2suY2stZHJvcGRvd25fX3BhbmVsLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd25fX3BhbmVse2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItZHJvcGRvd24tcGFuZWwtYmFja2dyb3VuZCk7Ym9yZGVyOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1kcm9wZG93bi1wYW5lbC1ib3JkZXIpO2JvdHRvbTowO21pbi13aWR0aDoxMDAlfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4Nyk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1saXN0ey1tb3otdXNlci1zZWxlY3Q6bm9uZTstd2Via2l0LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZTtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1ufS5jay5jay1saXN0IC5jay1saXN0X19pdGVtLC5jay5jay1saXN0IC5jay1saXN0X19zZXBhcmF0b3J7ZGlzcGxheTpibG9ja30uY2suY2stbGlzdCAuY2stbGlzdF9faXRlbT46Zm9jdXN7cG9zaXRpb246cmVsYXRpdmU7ei1pbmRleDp2YXIoLS1jay16LWRlZmF1bHQpfS5jay5jay1saXN0e2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1saXN0LC5jay5jay1saXN0LmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpfS5jay5jay1saXN0e2xpc3Qtc3R5bGUtdHlwZTpub25lO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1iYWNrZ3JvdW5kKX0uY2suY2stbGlzdF9faXRlbXtjdXJzb3I6ZGVmYXVsdDttaW4td2lkdGg6MTJlbX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9ue21pbi1oZWlnaHQ6dW5zZXQ7d2lkdGg6MTAwJTt0ZXh0LWFsaWduOmxlZnQ7Ym9yZGVyLXJhZGl1czowO2JvcmRlcjowO3BhZGRpbmc6Y2FsYygwLjIqdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkqdmFyKC0tY2stZm9udC1zaXplLWJhc2UpKSBjYWxjKDAuNCp2YXIoLS1jay1saW5lLWhlaWdodC1iYXNlKSp2YXIoLS1jay1mb250LXNpemUtYmFzZSkpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7bGluZS1oZWlnaHQ6Y2FsYygxLjIqdmFyKC0tY2stbGluZS1oZWlnaHQtYmFzZSkqdmFyKC0tY2stZm9udC1zaXplLWJhc2UpKX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uOmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLWJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQpO2NvbG9yOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLXRleHQpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb246aG92ZXI6bm90KGNrLWRpc2FibGVkKXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYnV0dG9uLW9uLWJhY2tncm91bmQtZm9jdXMpfS5jay5jay1saXN0X19pdGVtIC5jay1idXR0b24uY2stb246YWN0aXZle2JveC1zaGFkb3c6bm9uZX0uY2suY2stbGlzdF9faXRlbSAuY2stYnV0dG9uOmhvdmVyOm5vdCguY2stZGlzYWJsZWQpe2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItbGlzdC1idXR0b24taG92ZXItYmFja2dyb3VuZCl9LmNrLmNrLWxpc3RfX2l0ZW0gLmNrLXN3aXRjaGJ1dHRvbi5jay1vbntiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLWxpc3QtYmFja2dyb3VuZCk7Y29sb3I6aW5oZXJpdH0uY2suY2stbGlzdF9faXRlbSAuY2stc3dpdGNoYnV0dG9uLmNrLW9uOmhvdmVyOm5vdChjay1kaXNhYmxlZCl7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saXN0LWJ1dHRvbi1ob3Zlci1iYWNrZ3JvdW5kKTtjb2xvcjppbmhlcml0fS5jay5jay1saXN0X19zZXBhcmF0b3J7aGVpZ2h0OjFweDt3aWR0aDoxMDAlO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big4OSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSwuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUgLmNrLWJ1dHRvbl9fdG9nZ2xlX19pbm5lcntkaXNwbGF5OmJsb2NrfTpyb290ey0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtd2lkdGg6Mi42MTUzODQ2MTU0ZW07LS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1pbm5lci1zaXplOjEuMDc2OTIzMDc2OWVtOy0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtc3BhY2luZzoxcHh9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fbGFiZWx7bWFyZ2luLXJpZ2h0OmNhbGMoMip2YXIoLS1jay1zcGFjaW5nLWxhcmdlKSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24uY2stZGlzYWJsZWQgLmNrLWJ1dHRvbl9fdG9nZ2xle29wYWNpdHk6dmFyKC0tY2stZGlzYWJsZWQtb3BhY2l0eSl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSwuY2suY2stYnV0dG9uLmNrLXN3aXRjaGJ1dHRvbiAuY2stYnV0dG9uX190b2dnbGUuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24gLmNrLWJ1dHRvbl9fdG9nZ2xle21hcmdpbi1sZWZ0OmF1dG87dHJhbnNpdGlvbjpiYWNrZ3JvdW5kIC40cyBlYXNlO3dpZHRoOnZhcigtLWNrLXN3aXRjaC1idXR0b24tdG9nZ2xlLXdpZHRoKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb2ZmLWJhY2tncm91bmQpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye2JvcmRlci1yYWRpdXM6MH0uY2stcm91bmRlZC1jb3JuZXJzIC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLC5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVyLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci1yYWRpdXM6Y2FsYygwLjUqdmFyKC0tY2stYm9yZGVyLXJhZGl1cykpfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uIC5jay1idXR0b25fX3RvZ2dsZSAuY2stYnV0dG9uX190b2dnbGVfX2lubmVye21hcmdpbjp2YXIoLS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1zcGFjaW5nKTt3aWR0aDp2YXIoLS1jay1zd2l0Y2gtYnV0dG9uLXRvZ2dsZS1pbm5lci1zaXplKTtoZWlnaHQ6dmFyKC0tY2stc3dpdGNoLWJ1dHRvbi10b2dnbGUtaW5uZXItc2l6ZSk7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1zd2l0Y2gtYnV0dG9uLWlubmVyLWJhY2tncm91bmQpO3RyYW5zaXRpb246dHJhbnNmb3JtIC4zcyBlYXNlfS5jay5jay1idXR0b24uY2stc3dpdGNoYnV0dG9uLmNrLW9uIC5jay1idXR0b25fX3RvZ2dsZXtiYWNrZ3JvdW5kOnZhcigtLWNrLWNvbG9yLXN3aXRjaC1idXR0b24tb24tYmFja2dyb3VuZCl9LmNrLmNrLWJ1dHRvbi5jay1zd2l0Y2hidXR0b24uY2stb24gLmNrLWJ1dHRvbl9fdG9nZ2xlIC5jay1idXR0b25fX3RvZ2dsZV9faW5uZXJ7dHJhbnNmb3JtOnRyYW5zbGF0ZVgoMS4zODQ2MTUzODQ3ZW0pfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big5MSk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay10b29sYmFyLWRyb3Bkb3duIC5jay10b29sYmFye2ZsZXgtd3JhcDpub3dyYXB9LmNrLmNrLXRvb2xiYXItZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stYnV0dG9uOmZvY3Vze3otaW5kZXg6Y2FsYyh2YXIoLS1jay16LWRlZmF1bHQpICsgMSl9LmNrLmNrLXRvb2xiYXItZHJvcGRvd24gLmNrLXRvb2xiYXJ7Ym9yZGVyOjB9XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDkzKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3R7Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QsLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QuY2stcm91bmRlZC1jb3JuZXJze2JvcmRlci1yYWRpdXM6dmFyKC0tY2stYm9yZGVyLXJhZGl1cyk7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmZpcnN0LWNoaWxkIC5jay1idXR0b257Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06Zmlyc3QtY2hpbGQgLmNrLWJ1dHRvbiwuY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpmaXJzdC1jaGlsZCAuY2stYnV0dG9uLmNrLXJvdW5kZWQtY29ybmVyc3tib3JkZXItcmFkaXVzOnZhcigtLWNrLWJvcmRlci1yYWRpdXMpO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MH0uY2suY2stZHJvcGRvd24gLmNrLWRyb3Bkb3duX19wYW5lbCAuY2stbGlzdCAuY2stbGlzdF9faXRlbTpsYXN0LWNoaWxkIC5jay1idXR0b257Ym9yZGVyLXJhZGl1czowfS5jay1yb3VuZGVkLWNvcm5lcnMgLmNrLmNrLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fcGFuZWwgLmNrLWxpc3QgLmNrLWxpc3RfX2l0ZW06bGFzdC1jaGlsZCAuY2stYnV0dG9uLC5jay5jay1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0IC5jay1saXN0X19pdGVtOmxhc3QtY2hpbGQgLmNrLWJ1dHRvbi5jay1yb3VuZGVkLWNvcm5lcnN7Ym9yZGVyLXJhZGl1czp2YXIoLS1jay1ib3JkZXItcmFkaXVzKTtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH1cIn0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2staGVhZGluZ19oZWFkaW5nMXtmb250LXNpemU6MjBweH0uY2suY2staGVhZGluZ19oZWFkaW5nMntmb250LXNpemU6MTdweH0uY2suY2staGVhZGluZ19oZWFkaW5nM3tmb250LXNpemU6MTRweH0uY2tbY2xhc3MqPWNrLWhlYWRpbmdfaGVhZGluZ117Zm9udC13ZWlnaHQ6NzAwfS5jay5jay1kcm9wZG93bi5jay1oZWFkaW5nLWRyb3Bkb3duIC5jay1kcm9wZG93bl9fYnV0dG9uIC5jay1idXR0b25fX2xhYmVse3dpZHRoOjhlbX0uY2suY2stZHJvcGRvd24uY2staGVhZGluZy1kcm9wZG93biAuY2stZHJvcGRvd25fX3BhbmVsIC5jay1saXN0X19pdGVte21pbi13aWR0aDoxOGVtfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9big5Nik7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay1jb250ZW50IC5pbWFnZT5maWdjYXB0aW9ue2NvbG9yOiMzMzM7YmFja2dyb3VuZC1jb2xvcjojZjdmN2Y3O3BhZGRpbmc6LjZlbTtmb250LXNpemU6Ljc1ZW07b3V0bGluZS1vZmZzZXQ6LTFweH1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oOTgpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCI6cm9vdHstLWNrLWltYWdlLXN0eWxlLXNwYWNpbmc6MS41ZW19LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLWNlbnRlciwuY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdCwuY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tcmlnaHQsLmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLXNpZGV7bWF4LXdpZHRoOjUwJX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtc2lkZXtmbG9hdDpyaWdodDttYXJnaW4tbGVmdDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tbGVmdHtmbG9hdDpsZWZ0O21hcmdpbi1yaWdodDp2YXIoLS1jay1pbWFnZS1zdHlsZS1zcGFjaW5nKX0uY2stY29udGVudCAuaW1hZ2Utc3R5bGUtYWxpZ24tY2VudGVye21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG99LmNrLWNvbnRlbnQgLmltYWdlLXN0eWxlLWFsaWduLXJpZ2h0e2Zsb2F0OnJpZ2h0O21hcmdpbi1sZWZ0OnZhcigtLWNrLWltYWdlLXN0eWxlLXNwYWNpbmcpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMDApO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2sgLmNrLWxpbmtfc2VsZWN0ZWR7YmFja2dyb3VuZDp2YXIoLS1jay1jb2xvci1saW5rLXNlbGVjdGVkLWJhY2tncm91bmQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMDIpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGluay1mb3Jte2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stbGluay1mb3JtIC5jay1sYWJlbHtkaXNwbGF5Om5vbmV9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo2MDBweCl7LmNrLmNrLWxpbmstZm9ybXtmbGV4LXdyYXA6d3JhcH0uY2suY2stbGluay1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2ZsZXgtYmFzaXM6MTAwJX0uY2suY2stbGluay1mb3JtIC5jay1idXR0b257ZmxleC1iYXNpczo1MCV9fS5jay5jay1saW5rLWZvcm17cGFkZGluZzp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX0uY2suY2stbGluay1mb3JtOmZvY3Vze291dGxpbmU6bm9uZX0uY2suY2stbGluay1mb3JtPjpub3QoOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuY2suY2stbGluay1mb3Jte3BhZGRpbmc6MDt3aWR0aDpjYWxjKDAuOCp2YXIoLS1jay1pbnB1dC10ZXh0LXdpZHRoKSl9LmNrLmNrLWxpbmstZm9ybSAuY2stbGFiZWxlZC1pbnB1dHttYXJnaW46dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkgdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkgMH0uY2suY2stbGluay1mb3JtIC5jay1sYWJlbGVkLWlucHV0IC5jay1pbnB1dC10ZXh0e21pbi13aWR0aDowO3dpZHRoOjEwMCV9LmNrLmNrLWxpbmstZm9ybSAuY2stYnV0dG9ue3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTttYXJnaW4tbGVmdDowO2JvcmRlci1yYWRpdXM6MDtib3JkZXI6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9LmNrLmNrLWxpbmstZm9ybSAuY2stYnV0dG9uOmZpcnN0LW9mLXR5cGV7Ym9yZGVyLXJpZ2h0OjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9fVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMDQpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2suY2stbGluay1hY3Rpb25ze2Rpc3BsYXk6ZmxleDtmbGV4LWRpcmVjdGlvbjpyb3c7ZmxleC13cmFwOm5vd3JhcH0uY2suY2stbGluay1hY3Rpb25zIC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7ZGlzcGxheTppbmxpbmUtYmxvY2t9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stbGluay1hY3Rpb25zX19wcmV2aWV3IC5jay1idXR0b25fX2xhYmVse292ZXJmbG93OmhpZGRlbn1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuY2suY2stbGluay1hY3Rpb25ze2ZsZXgtd3JhcDp3cmFwfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWxpbmstYWN0aW9uc19fcHJldmlld3tmbGV4LWJhc2lzOjEwMCV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uOm5vdCguY2stbGluay1hY3Rpb25zX19wcmV2aWV3KXtmbGV4LWJhc2lzOjUwJX19LmNrLmNrLWxpbmstYWN0aW9uc3twYWRkaW5nOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7cGFkZGluZy1sZWZ0OjA7cGFkZGluZy1yaWdodDowfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcsLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzphY3RpdmUsLmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzpmb2N1cywuY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmhvdmVye2JhY2tncm91bmQ6bm9uZX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b24uY2stbGluay1hY3Rpb25zX19wcmV2aWV3OmFjdGl2ZXtib3gtc2hhZG93Om5vbmV9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldzpmb2N1cyAuY2stYnV0dG9uX19sYWJlbHt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcgLmNrLWJ1dHRvbl9fbGFiZWx7cGFkZGluZzowIHZhcigtLWNrLXNwYWNpbmctbWVkaXVtKTtjb2xvcjp2YXIoLS1jay1jb2xvci1saW5rLWRlZmF1bHQpO3RleHQtb3ZlcmZsb3c6ZWxsaXBzaXM7Y3Vyc29yOnBvaW50ZXI7bWF4LXdpZHRoOnZhcigtLWNrLWlucHV0LXRleHQtd2lkdGgpO21pbi13aWR0aDozZW07dGV4dC1hbGlnbjpjZW50ZXJ9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbDpob3Zlcnt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay5jay1saW5rLWFjdGlvbnM6Zm9jdXN7b3V0bGluZTpub25lfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbjpub3QoLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyl7bWFyZ2luLWxlZnQ6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo2MDBweCl7LmNrLmNrLWxpbmstYWN0aW9uc3twYWRkaW5nOjA7d2lkdGg6Y2FsYygwLjgqdmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCkpfS5jay5jay1saW5rLWFjdGlvbnMgLmNrLWJ1dHRvbi5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXd7bWFyZ2luOnZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIHZhcigtLWNrLXNwYWNpbmctc3RhbmRhcmQpIDB9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uLmNrLWxpbmstYWN0aW9uc19fcHJldmlldyAuY2stYnV0dG9uX19sYWJlbHttaW4td2lkdGg6MDttYXgtd2lkdGg6MTAwJX0uY2suY2stbGluay1hY3Rpb25zIC5jay1idXR0b246bm90KC5jay1saW5rLWFjdGlvbnNfX3ByZXZpZXcpe3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTttYXJnaW4tbGVmdDowO2JvcmRlci1yYWRpdXM6MDtib3JkZXI6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9LmNrLmNrLWxpbmstYWN0aW9ucyAuY2stYnV0dG9uOm5vdCguY2stbGluay1hY3Rpb25zX19wcmV2aWV3KTpmaXJzdC1vZi10eXBle2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTA2KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPScuY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcntkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246Y29sdW1uO2FsaWduLWl0ZW1zOmNlbnRlcn0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmwgLmNrLXRvb2x0aXB7ZGlzcGxheTpibG9ja31AbWVkaWEgKGhvdmVyOm5vbmUpey5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybCAuY2stdG9vbHRpcHtkaXNwbGF5Om5vbmV9fS5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybHttYXgtd2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmw6aG92ZXIgLmNrLXRvb2x0aXB7dmlzaWJpbGl0eTp2aXNpYmxlO29wYWNpdHk6MX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmwgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0e292ZXJmbG93OmhpZGRlbjtkaXNwbGF5OmJsb2NrfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiZmFjZWJvb2suY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gKiwuY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImdvb2dsZS5jb20vbWFwc1wiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29uICosLmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJpbnN0YWdyYW0uY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gKiwuY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cInR3aXR0ZXIuY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gKntkaXNwbGF5Om5vbmV9LmNrLWVkaXRvcl9fZWRpdGFibGU6bm90KC5jay1yZWFkLW9ubHkpIC5jay1tZWRpYV9fd3JhcHBlcj46bm90KC5jay1tZWRpYV9fcGxhY2Vob2xkZXIpe3BvaW50ZXItZXZlbnRzOm5vbmV9OnJvb3R7LS1jay1tZWRpYS1lbWJlZC1wbGFjZWhvbGRlci1pY29uLXNpemU6M2VtOy0tY2stY29sb3ItbWVkaWEtZW1iZWQtcGxhY2Vob2xkZXItdXJsLXRleHQ6Izc1NzU3NTstLWNrLWNvbG9yLW1lZGlhLWVtYmVkLXBsYWNlaG9sZGVyLXVybC10ZXh0LWhvdmVyOnZhcigtLWNrLWNvbG9yLWJhc2UtdGV4dCl9LmNrLW1lZGlhX193cmFwcGVye21hcmdpbjowIGF1dG99LmNrLW1lZGlhX193cmFwcGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJ7cGFkZGluZzpjYWxjKDMqdmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCkpO2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItYmFzZS1mb3JlZ3JvdW5kKX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29ue21pbi13aWR0aDp2YXIoLS1jay1tZWRpYS1lbWJlZC1wbGFjZWhvbGRlci1pY29uLXNpemUpO2hlaWdodDp2YXIoLS1jay1tZWRpYS1lbWJlZC1wbGFjZWhvbGRlci1pY29uLXNpemUpO21hcmdpbi1ib3R0b206dmFyKC0tY2stc3BhY2luZy1sYXJnZSk7YmFja2dyb3VuZC1wb3NpdGlvbjo1MCU7YmFja2dyb3VuZC1zaXplOmNvdmVyfS5jay1tZWRpYV9fd3JhcHBlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX2ljb24gLmNrLWljb257d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJX0uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmwgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0e2NvbG9yOnZhcigtLWNrLWNvbG9yLW1lZGlhLWVtYmVkLXBsYWNlaG9sZGVyLXVybC10ZXh0KTt3aGl0ZS1zcGFjZTpub3dyYXA7dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC1zdHlsZTppdGFsaWM7dGV4dC1vdmVyZmxvdzplbGxpcHNpc30uY2stbWVkaWFfX3dyYXBwZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmwgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0OmhvdmVye2NvbG9yOnZhcigtLWNrLWNvbG9yLW1lZGlhLWVtYmVkLXBsYWNlaG9sZGVyLXVybC10ZXh0LWhvdmVyKTtjdXJzb3I6cG9pbnRlcjt0ZXh0LWRlY29yYXRpb246dW5kZXJsaW5lfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwib3Blbi5zcG90aWZ5LmNvbVwiXXttYXgtd2lkdGg6MzAwcHg7bWF4LWhlaWdodDozODBweH0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cInR3aXR0ZXIuY29tXCJdIC5jay5jay1tZWRpYV9fcGxhY2Vob2xkZXJ7YmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQoOTBkZWcsIzcxYzZmNCwjMGQ3MGE1KX0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cInR3aXR0ZXIuY29tXCJdIC5jay5jay1tZWRpYV9fcGxhY2Vob2xkZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9faWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBITjJaeUI0Yld4dWN6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNakF3TUM5emRtY2lJSFpwWlhkQ2IzZzlJakFnTUNBME1EQWdOREF3SWo0OGNHRjBhQ0JrUFNKTk5EQXdJREl3TUdNd0lERXhNQzQxTFRnNUxqVWdNakF3TFRJd01DQXlNREJUTUNBek1UQXVOU0F3SURJd01DQTRPUzQxSURBZ01qQXdJREJ6TWpBd0lEZzVMalVnTWpBd0lESXdNSHBOTVRZekxqUWdNekExTGpWak9EZ3VOeUF3SURFek55NHlMVGN6TGpVZ01UTTNMakl0TVRNM0xqSWdNQzB5TGpFZ01DMDBMakl0TGpFdE5pNHlJRGt1TkMwMkxqZ2dNVGN1TmkweE5TNHpJREkwTGpFdE1qVXRPQzQySURNdU9DMHhOeTQ1SURZdU5DMHlOeTQzSURjdU5pQXhNQzAySURFM0xqWXRNVFV1TkNBeU1TNHlMVEkyTGpjdE9TNHpJRFV1TlMweE9TNDJJRGt1TlMwek1DNDJJREV4TGpjdE9DNDRMVGt1TkMweU1TNHpMVEUxTGpJdE16VXVNaTB4TlM0eUxUSTJMallnTUMwME9DNHlJREl4TGpZdE5EZ3VNaUEwT0M0eUlEQWdNeTQ0TGpRZ055NDFJREV1TXlBeE1TMDBNQzR4TFRJdE56VXVOaTB5TVM0eUxUazVMalF0TlRBdU5DMDBMakVnTnk0eExUWXVOU0F4TlM0MExUWXVOU0F5TkM0eUlEQWdNVFl1TnlBNExqVWdNekV1TlNBeU1TNDFJRFF3TGpFdE55NDVMUzR5TFRFMUxqTXRNaTQwTFRJeExqZ3RObll1Tm1Nd0lESXpMalFnTVRZdU5pQTBNaTQ0SURNNExqY2dORGN1TXkwMElERXVNUzA0TGpNZ01TNDNMVEV5TGpjZ01TNDNMVE11TVNBd0xUWXVNUzB1TXkwNUxqRXRMamtnTmk0eElERTVMaklnTWpNdU9TQXpNeTR4SURRMUlETXpMalV0TVRZdU5TQXhNaTQ1TFRNM0xqTWdNakF1TmkwMU9TNDVJREl3TGpZdE15NDVJREF0Tnk0M0xTNHlMVEV4TGpVdExqY2dNakV1TVNBeE15NDRJRFEyTGpVZ01qRXVPQ0EzTXk0M0lESXhMamdpSUdacGJHdzlJaU5tWm1ZaUx6NDhMM04yWno0PSl9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJ0d2l0dGVyLmNvbVwiXSAuY2suY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dHtjb2xvcjojYjhlNmZmfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwidHdpdHRlci5jb21cIl0gLmNrLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmxfX3RleHQ6aG92ZXJ7Y29sb3I6I2ZmZn0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImdvb2dsZS5jb20vbWFwc1wiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaUlIZHBaSFJvUFNJeU5UQXVNemM0SWlCb1pXbG5hSFE5SWpJMU5DNHhOamNpSUhacFpYZENiM2c5SWpBZ01DQTJOaTR5TkRZZ05qY3VNalE0SWo0OFp5QjBjbUZ1YzJadmNtMDlJblJ5WVc1emJHRjBaU2d0TVRjeUxqVXpNU0F0TWpFNExqUTFOU2tnYzJOaGJHVW9Mams0TURFeUtTSStQSEpsWTNRZ2NuazlJalV1TWpNNElpQnllRDBpTlM0eU16Z2lJSGs5SWpJek1TNHpPVGtpSUhnOUlqRTNOaTR3TXpFaUlHaGxhV2RvZEQwaU5qQXVNRGs1SWlCM2FXUjBhRDBpTmpBdU1EazVJaUJtYVd4c1BTSWpNelJoTmpZNElpQndZV2x1ZEMxdmNtUmxjajBpYldGeWEyVnljeUJ6ZEhKdmEyVWdabWxzYkNJdlBqeHdZWFJvSUdROUlrMHlNRFl1TkRjM0lESTJNQzQ1YkMweU9DNDVPRGNnTWpndU9UZzNZVFV1TWpFNElEVXVNakU0SURBZ01DQXdJRE11TnpnZ01TNDJNV2cwT1M0Mk1qRmpNUzQyT1RRZ01DQXpMakU1TFM0M09UZ2dOQzR4TkRZdE1pNHdNemQ2SWlCbWFXeHNQU0lqTldNNE9HTTFJaTgrUEhCaGRHZ2daRDBpVFRJeU5pNDNORElnTWpJeUxqazRPR010T1M0eU5qWWdNQzB4Tmk0M056Y2dOeTR4TnkweE5pNDNOemNnTVRZdU1ERTBMakF3TnlBeUxqYzJNaTQyTmpNZ05TNDBOelFnTWk0d09UTWdOeTQ0TnpVdU5ETXVOekF6TGpneklERXVOREE0SURFdU1Ua2dNaTR4TURjdU16TXpMalV3TWk0Mk5TQXhMakF3TlM0NU5TQXhMalV3T0M0ek5ETXVORGMzTGpZM015NDVOVGN1T1RnNElERXVORFFnTVM0ek1TQXhMamMyT1NBeUxqVWdNeTQxTURJZ015NDJNemNnTlM0eE5qZ3VOemt6SURFdU1qYzFJREV1TmpneklESXVOalFnTWk0ME5qWWdNeTQ1T1NBeUxqTTJNeUEwTGpBNU5DQTBMakF3TnlBNExqQTVNaUEwTGpZZ01UTXVPVEUwZGk0d01USmpMakU0TWk0ME1USXVOVEUyTGpZMk5pNDROemt1TmpZM0xqUXdNeTB1TURBeExqYzJPQzB1TXpFMExqa3pMUzQzT1RrdU5qQXpMVFV1TnpVMklESXVNak00TFRrdU56STVJRFF1TlRnMUxURXpMamM1TkM0M09ESXRNUzR6TlNBeExqWTNNeTB5TGpjeE5TQXlMalEyTlMwekxqazVJREV1TVRNM0xURXVOalkySURJdU16STRMVE11TkNBekxqWXpPQzAxTGpFMk9TNHpNVFV0TGpRNE1pNDJORFV0TGprMk1pNDVPRGd0TVM0ME16a3VNeTB1TlRBekxqWXhOeTB4TGpBd05pNDVOUzB4TGpVd09DNHpOVGt0TGpjdU56WXRNUzQwTURRZ01TNHhPUzB5TGpFd055QXhMalF5TmkweUxqUXdNaUF5TFRVdU1URTBJREl1TURBMExUY3VPRGMxSURBdE9DNDRORFF0Tnk0MU1URXRNVFl1TURFMExURTJMamMzTmkweE5pNHdNVFI2SWlCbWFXeHNQU0lqWkdRMFlqTmxJaUJ3WVdsdWRDMXZjbVJsY2owaWJXRnlhMlZ5Y3lCemRISnZhMlVnWm1sc2JDSXZQanhsYkd4cGNITmxJSEo1UFNJMUxqVTJOQ0lnY25nOUlqVXVPREk0SWlCamVUMGlNak01TGpBd01pSWdZM2c5SWpJeU5pNDNORElpSUdacGJHdzlJaU00TURKa01qY2lJSEJoYVc1MExXOXlaR1Z5UFNKdFlYSnJaWEp6SUhOMGNtOXJaU0JtYVd4c0lpOCtQSEJoZEdnZ1pEMGlUVEU1TUM0ek1ERWdNak0zTGpJNE0yTXROQzQyTnlBd0xUZ3VORFUzSURNdU9EVXpMVGd1TkRVM0lEZ3VOakEyY3pNdU56ZzJJRGd1TmpBM0lEZ3VORFUzSURndU5qQTNZek11TURReklEQWdOQzQ0TURZdExqazFPQ0EyTGpNek55MHlMalV4TmlBeExqVXpMVEV1TlRVM0lESXVNRGczTFRNdU9URXpJREl1TURnM0xUWXVNamtnTUMwdU16WXlMUzR3TWpNdExqY3lNaTB1TURZMExURXVNRGM1YUMwNExqSTFOM1l6TGpBME0yZzBMamcxWXkwdU1UazNMamMxT1MwdU5UTXhJREV1TkRVdE1TNHdOVGdnTVM0NU9EWXRMamswTWk0NU5UZ3RNaTR3TWpnZ01TNDFORGd0TXk0NU1ERWdNUzQxTkRndE1pNDROellnTUMwMUxqSXdPQzB5TGpNM01pMDFMakl3T0MwMUxqSTVPU0F3TFRJdU9USTJJREl1TXpNeUxUVXVNams1SURVdU1qQTRMVFV1TWprNUlERXVNems1SURBZ01pNDJNVGd1TkRBM0lETXVOVGcwSURFdU1qa3piREl1TXpneExUSXVNemhqTUMwdU1EQXlMUzR3TURNdExqQXdOQzB1TURBMExTNHdNRFV0TVM0MU9EZ3RNUzQxTWpRdE15NDJNaTB5TGpJeE5TMDFMamsxTlMweUxqSXhOWHB0TkM0ME15QTFMalkyYkM0d01ETXVNREEyZGkwdU1EQXplaUlnWm1sc2JEMGlJMlptWmlJZ2NHRnBiblF0YjNKa1pYSTlJbTFoY210bGNuTWdjM1J5YjJ0bElHWnBiR3dpTHo0OGNHRjBhQ0JrUFNKTk1qRTFMakU0TkNBeU5URXVPVEk1YkMwM0xqazRJRGN1T1RjNUlESTRMalEzTnlBeU9DNDBOelZoTlM0eU16TWdOUzR5TXpNZ01DQXdJREFnTGpRME9TMHlMakV5TTNZdE16RXVNVFkxWXkwdU5EWTVMalkzTlMwdU9UTTBJREV1TXpRNUxURXVNemd5SURJdU1EQTFMUzQzT1RJZ01TNHlOelV0TVM0Mk9ESWdNaTQyTkMweUxqUTJOU0F6TGprNUxUSXVNelEzSURRdU1EWTFMVE11T1RneUlEZ3VNRE00TFRRdU5UZzFJREV6TGpjNU5DMHVNVFl5TGpRNE5TMHVOVEkzTGpjNU9DMHVPVE11TnprNUxTNHpOak10TGpBd01TMHVOamszTFM0eU5UVXRMamczT1MwdU5qWTNkaTB1TURFeVl5MHVOVGt6TFRVdU9ESXlMVEl1TWpNM0xUa3VPREl0TkM0MkxURXpMamt4TkMwdU56Z3pMVEV1TXpVdE1TNDJOek10TWk0M01UVXRNaTQwTmpZdE15NDVPUzB4TGpFek55MHhMalkyTmkweUxqTXlOeTB6TGpRdE15NDJNemN0TlM0eE5qbHNMUzR3TURJdExqQXdNM29pSUdacGJHdzlJaU5qTTJNell6TWlMejQ4Y0dGMGFDQmtQU0pOTWpFeUxqazRNeUF5TkRndU5EazFiQzB6Tmk0NU5USWdNell1T1RVemRpNDRNVEpoTlM0eU1qY2dOUzR5TWpjZ01DQXdJREFnTlM0eU16Z2dOUzR5TXpob01TNHdNVFZzTXpVdU5qWTJMVE0xTGpZMk5tRXhNell1TWpjMUlERXpOaTR5TnpVZ01DQXdJREF0TWk0M05qUXRNeTQ1SURNM0xqVTNOU0F6Tnk0MU56VWdNQ0F3SURBdExqazRPUzB4TGpRMElETTFMakV5TnlBek5TNHhNamNnTUNBd0lEQXRMamsxTFRFdU5UQTRZeTB1TURnekxTNHhOakl0TGpFM05pMHVNekkyTFM0eU5qUXRMalE0T1hvaUlHWnBiR3c5SWlObVpHUmpOR1lpSUhCaGFXNTBMVzl5WkdWeVBTSnRZWEpyWlhKeklITjBjbTlyWlNCbWFXeHNJaTgrUEhCaGRHZ2daRDBpVFRJeE1TNDVPVGdnTWpZeExqQTRNMnd0Tmk0eE5USWdOaTR4TlRFZ01qUXVNalkwSURJMExqSTJOR2d1TnpneFlUVXVNakkzSURVdU1qSTNJREFnTUNBd0lEVXVNak01TFRVdU1qTTRkaTB4TGpBME5Yb2lJR1pwYkd3OUlpTm1abVlpSUhCaGFXNTBMVzl5WkdWeVBTSnRZWEpyWlhKeklITjBjbTlyWlNCbWFXeHNJaTgrUEM5blBqd3ZjM1puUGc9PSl9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJmYWNlYm9vay5jb21cIl0gLmNrLW1lZGlhX19wbGFjZWhvbGRlcntiYWNrZ3JvdW5kOiM0MjY4YjN9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJmYWNlYm9vay5jb21cIl0gLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU1UQXlOQ0lnYUdWcFoyaDBQU0l4TURJMElpQjRiV3h1Y3owaWFIUjBjRG92TDNkM2R5NTNNeTV2Y21jdk1qQXdNQzl6ZG1jaVBqeHdZWFJvSUdROUlrMDVOamN1TkRnMElEQklOVFl1TlRFM1F6STFMak13TkNBd0lEQWdNalV1TXpBMElEQWdOVFl1TlRFM2Rqa3hNQzQ1TmpaRE1DQTVPVGd1TmprMElESTFMakk1TnlBeE1ESTBJRFUyTGpVeU1pQXhNREkwU0RVME4xWTJNamhJTkRFMFZqUTNNMmd4TXpOV016VTVMakF5T1dNd0xURXpNaTR5TmpJZ09EQXVOemN6TFRJd05DNHlPRElnTVRrNExqYzFOaTB5TURRdU1qZ3lJRFUyTGpVeE15QXdJREV3TlM0d09EWWdOQzR5TURnZ01URTVMakkwTkNBMkxqQTRPVll5T1Rsc0xUZ3hMall4Tmk0d016ZGpMVFl6TGprNU15QXdMVGMyTGpNNE5DQXpNQzQwT1RJdE56WXVNemcwSURjMUxqSXpObFkwTnpOb01UVXpMalE0TjJ3dE1Ua3VPVGcySURFMU5VZzNNRGQyTXprMmFESTJNQzQwT0RSak16RXVNakV6SURBZ05UWXVOVEUyTFRJMUxqTXdNeUExTmk0MU1UWXROVFl1TlRFMlZqVTJMalV4TlVNeE1ESTBJREkxTGpNd015QTVPVGd1TmprM0lEQWdPVFkzTGpRNE5DQXdJaUJtYVd4c1BTSWpSa1pHUmtaRklpQm1hV3hzTFhKMWJHVTlJbVYyWlc1dlpHUWlMejQ4TDNOMlp6ND0pfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiZmFjZWJvb2suY29tXCJdIC5jay1tZWRpYV9fcGxhY2Vob2xkZXIgLmNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsX190ZXh0e2NvbG9yOiNjZGZ9LmNrLW1lZGlhX193cmFwcGVyW2RhdGEtb2VtYmVkLXVybCo9XCJmYWNlYm9vay5jb21cIl0gLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX191cmxfX3RleHQ6aG92ZXJ7Y29sb3I6I2ZmZn0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImluc3RhZ3JhbS5jb21cIl0gLmNrLW1lZGlhX19wbGFjZWhvbGRlcntiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCgtMTM1ZGVnLCMxNDAwYzgsI2I5MDBiNCwjZjUwMDAwKX0uY2stbWVkaWFfX3dyYXBwZXJbZGF0YS1vZW1iZWQtdXJsKj1cImluc3RhZ3JhbS5jb21cIl0gLmNrLW1lZGlhX19wbGFjZWhvbGRlciAuY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKGRhdGE6aW1hZ2Uvc3ZnK3htbDtiYXNlNjQsUEhOMlp5QjNhV1IwYUQwaU5UQTBJaUJvWldsbmFIUTlJalV3TkNJZ2VHMXNibk05SW1oMGRIQTZMeTkzZDNjdWR6TXViM0puTHpJd01EQXZjM1puSWlCNGJXeHVjenA0YkdsdWF6MGlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZNVGs1T1M5NGJHbHVheUkrUEdSbFpuTStQSEJoZEdnZ2FXUTlJbUVpSUdROUlrMHdJQzR4TlRsb05UQXpMamcwTVZZMU1ETXVPVFJJTUhvaUx6NDhMMlJsWm5NK1BHY2dabWxzYkQwaWJtOXVaU0lnWm1sc2JDMXlkV3hsUFNKbGRtVnViMlJrSWo0OGJXRnpheUJwWkQwaVlpSWdabWxzYkQwaUkyWm1aaUkrUEhWelpTQjRiR2x1YXpwb2NtVm1QU0lqWVNJdlBqd3ZiV0Z6YXo0OGNHRjBhQ0JrUFNKTk1qVXhMamt5TVM0eE5UbGpMVFk0TGpReE9DQXdMVGMyTGprNU55NHlPUzB4TURNdU9EWTNJREV1TlRFMkxUSTJMamd4TkNBeExqSXlNeTAwTlM0eE1qY2dOUzQwT0RJdE5qRXVNVFV4SURFeExqY3hMVEUyTGpVMk5pQTJMalF6Tnkwek1DNDJNVFVnTVRVdU1EVXhMVFEwTGpZeU1TQXlPUzR3TlRZdE1UUXVNREExSURFMExqQXdOaTB5TWk0Mk1Ua2dNamd1TURVMUxUSTVMakExTmlBME5DNDJNakV0Tmk0eU1qZ2dNVFl1TURJMExURXdMalE0TnlBek5DNHpNemN0TVRFdU56RWdOakV1TVRVeFF5NHlPU0F4TnpVdU1EZ3pJREFnTVRnekxqWTJNaUF3SURJMU1pNHdPR013SURZNExqUXhOeTR5T1NBM05pNDVPVFlnTVM0MU1UWWdNVEF6TGpnMk5pQXhMakl5TXlBeU5pNDRNVFFnTlM0ME9ESWdORFV1TVRJM0lERXhMamN4SURZeExqRTFNU0EyTGpRek55QXhOaTQxTmpZZ01UVXVNRFV4SURNd0xqWXhOU0F5T1M0d05UWWdORFF1TmpJeElERTBMakF3TmlBeE5DNHdNRFVnTWpndU1EVTFJREl5TGpZeE9TQTBOQzQyTWpFZ01qa3VNRFUzSURFMkxqQXlOQ0EyTGpJeU55QXpOQzR6TXpjZ01UQXVORGcySURZeExqRTFNU0F4TVM0M01Ea2dNall1T0RjZ01TNHlNallnTXpVdU5EUTVJREV1TlRFMklERXdNeTQ0TmpjZ01TNDFNVFlnTmpndU5ERTNJREFnTnpZdU9UazJMUzR5T1NBeE1ETXVPRFkyTFRFdU5URTJJREkyTGpneE5DMHhMakl5TXlBME5TNHhNamN0TlM0ME9ESWdOakV1TVRVeExURXhMamN3T1NBeE5pNDFOall0Tmk0ME16Z2dNekF1TmpFMUxURTFMakExTWlBME5DNDJNakV0TWprdU1EVTNJREUwTGpBd05TMHhOQzR3TURZZ01qSXVOakU1TFRJNExqQTFOU0F5T1M0d05UY3RORFF1TmpJeElEWXVNakkzTFRFMkxqQXlOQ0F4TUM0ME9EWXRNelF1TXpNM0lERXhMamN3T1MwMk1TNHhOVEVnTVM0eU1qWXRNall1T0RjZ01TNDFNVFl0TXpVdU5EUTVJREV1TlRFMkxURXdNeTQ0TmpZZ01DMDJPQzQwTVRndExqSTVMVGMyTGprNU55MHhMalV4TmkweE1ETXVPRFkzTFRFdU1qSXpMVEkyTGpneE5DMDFMalE0TWkwME5TNHhNamN0TVRFdU56QTVMVFl4TGpFMU1TMDJMalF6T0MweE5pNDFOall0TVRVdU1EVXlMVE13TGpZeE5TMHlPUzR3TlRjdE5EUXVOakl4TFRFMExqQXdOaTB4TkM0d01EVXRNamd1TURVMUxUSXlMall4T1MwME5DNDJNakV0TWprdU1EVTJMVEUyTGpBeU5DMDJMakl5T0Mwek5DNHpNemN0TVRBdU5EZzNMVFl4TGpFMU1TMHhNUzQzTVVNek1qZ3VPVEUzTGpRME9TQXpNakF1TXpNNExqRTFPU0F5TlRFdU9USXhMakUxT1hwdE1DQTBOUzR6T1RGak5qY3VNalkxSURBZ056VXVNak16TGpJMU55QXhNREV1TnprM0lERXVORFk1SURJMExqVTJNaUF4TGpFeUlETTNMamt3TVNBMUxqSXlOQ0EwTmk0M056Z2dPQzQyTnpRZ01URXVOelU1SURRdU5UY2dNakF1TVRVeElERXdMakF5T1NBeU9DNDVOallnTVRndU9EUTFJRGd1T0RFMklEZ3VPREUxSURFMExqSTNOU0F4Tnk0eU1EY2dNVGd1T0RRMUlESTRMamsyTmlBekxqUTFJRGd1T0RjM0lEY3VOVFUwSURJeUxqSXhOaUE0TGpZM05DQTBOaTQzTnpnZ01TNHlNVElnTWpZdU5UWTBJREV1TkRZNUlETTBMalV6TWlBeExqUTJPU0F4TURFdU56azRJREFnTmpjdU1qWTFMUzR5TlRjZ056VXVNak16TFRFdU5EWTVJREV3TVM0M09UY3RNUzR4TWlBeU5DNDFOakl0TlM0eU1qUWdNemN1T1RBeExUZ3VOamMwSURRMkxqYzNPQzAwTGpVM0lERXhMamMxT1MweE1DNHdNamtnTWpBdU1UVXhMVEU0TGpnME5TQXlPQzQ1TmpZdE9DNDRNVFVnT0M0NE1UWXRNVGN1TWpBM0lERTBMakkzTlMweU9DNDVOallnTVRndU9EUTFMVGd1T0RjM0lETXVORFV0TWpJdU1qRTJJRGN1TlRVMExUUTJMamMzT0NBNExqWTNOQzB5Tmk0MU5pQXhMakl4TWkwek5DNDFNamNnTVM0ME5qa3RNVEF4TGpjNU55QXhMalEyT1MwMk55NHlOekVnTUMwM05TNHlNemN0TGpJMU55MHhNREV1TnprNExURXVORFk1TFRJMExqVTJNaTB4TGpFeUxUTTNMamt3TVMwMUxqSXlOQzAwTmk0M056Z3RPQzQyTnpRdE1URXVOelU1TFRRdU5UY3RNakF1TVRVeExURXdMakF5T1MweU9DNDVOall0TVRndU9EUTFMVGd1T0RFMUxUZ3VPREUxTFRFMExqSTNOUzB4Tnk0eU1EY3RNVGd1T0RRMUxUSTRMamsyTmkwekxqUTFMVGd1T0RjM0xUY3VOVFUwTFRJeUxqSXhOaTA0TGpZM05DMDBOaTQzTnpndE1TNHlNVEl0TWpZdU5UWTBMVEV1TkRZNUxUTTBMalV6TWkweExqUTJPUzB4TURFdU56azNJREF0TmpjdU1qWTJMakkxTnkwM05TNHlNelFnTVM0ME5qa3RNVEF4TGpjNU9DQXhMakV5TFRJMExqVTJNaUExTGpJeU5DMHpOeTQ1TURFZ09DNDJOelF0TkRZdU56YzRJRFF1TlRjdE1URXVOelU1SURFd0xqQXlPUzB5TUM0eE5URWdNVGd1T0RRMUxUSTRMamsyTmlBNExqZ3hOUzA0TGpneE5pQXhOeTR5TURjdE1UUXVNamMxSURJNExqazJOaTB4T0M0NE5EVWdPQzQ0TnpjdE15NDBOU0F5TWk0eU1UWXROeTQxTlRRZ05EWXVOemM0TFRndU5qYzBJREkyTGpVMk5DMHhMakl4TWlBek5DNDFNekl0TVM0ME5qa2dNVEF4TGpjNU9DMHhMalEyT1hvaUlHWnBiR3c5SWlOR1JrWWlJRzFoYzJzOUluVnliQ2dqWWlraUx6NDhjR0YwYUNCa1BTSk5NalV4TGpreU1TQXpNell1TURVell5MDBOaTR6TnpnZ01DMDRNeTQ1TnpRdE16Y3VOVGsyTFRnekxqazNOQzA0TXk0NU56TWdNQzAwTmk0ek56Z2dNemN1TlRrMkxUZ3pMamszTkNBNE15NDVOelF0T0RNdU9UYzBJRFEyTGpNM055QXdJRGd6TGprM015QXpOeTQxT1RZZ09ETXVPVGN6SURnekxqazNOQ0F3SURRMkxqTTNOeTB6Tnk0MU9UWWdPRE11T1RjekxUZ3pMamszTXlBNE15NDVOek42YlRBdE1qRXpMak16T0dNdE56RXVORFEzSURBdE1USTVMak0yTlNBMU55NDVNVGd0TVRJNUxqTTJOU0F4TWprdU16WTFJREFnTnpFdU5EUTJJRFUzTGpreE9DQXhNamt1TXpZMElERXlPUzR6TmpVZ01USTVMak0yTkNBM01TNDBORFlnTUNBeE1qa3VNelkwTFRVM0xqa3hPQ0F4TWprdU16WTBMVEV5T1M0ek5qUWdNQzAzTVM0ME5EY3ROVGN1T1RFNExURXlPUzR6TmpVdE1USTVMak0yTkMweE1qa3VNelkxZWswME1UWXVOakkzSURFeE55NDJNRFJqTUNBeE5pNDJPVFl0TVRNdU5UTTFJRE13TGpJekxUTXdMakl6TVNBek1DNHlNeTB4Tmk0Mk9UVWdNQzB6TUM0eU15MHhNeTQxTXpRdE16QXVNak10TXpBdU1qTWdNQzB4Tmk0Mk9UWWdNVE11TlRNMUxUTXdMakl6TVNBek1DNHlNeTB6TUM0eU16RWdNVFl1TmprMklEQWdNekF1TWpNeElERXpMalV6TlNBek1DNHlNekVnTXpBdU1qTXhJaUJtYVd4c1BTSWpSa1pHSWk4K1BDOW5Qand2YzNablBnPT0pfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiaW5zdGFncmFtLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dHtjb2xvcjojZmZlMGZlfS5jay1tZWRpYV9fd3JhcHBlcltkYXRhLW9lbWJlZC11cmwqPVwiaW5zdGFncmFtLmNvbVwiXSAuY2stbWVkaWFfX3BsYWNlaG9sZGVyIC5jay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dDpob3Zlcntjb2xvcjojZmZmfSd9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDEwOCk7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIi5jay5jay1tZWRpYS1mb3Jte2Rpc3BsYXk6ZmxleDthbGlnbi1pdGVtczpmbGV4LXN0YXJ0O2ZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LXdyYXA6bm93cmFwfS5jay5jay1tZWRpYS1mb3JtIC5jay1sYWJlbGVkLWlucHV0e2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5jay5jay1tZWRpYS1mb3JtIC5jay1sYWJlbHtkaXNwbGF5Om5vbmV9QG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDo2MDBweCl7LmNrLmNrLW1lZGlhLWZvcm17ZmxleC13cmFwOndyYXB9LmNrLmNrLW1lZGlhLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXR7ZmxleC1iYXNpczoxMDAlfS5jay5jay1tZWRpYS1mb3JtIC5jay1idXR0b257ZmxleC1iYXNpczo1MCV9fS5jay5jay1tZWRpYS1mb3Jte3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCl9LmNrLmNrLW1lZGlhLWZvcm06Zm9jdXN7b3V0bGluZTpub25lfS5jay5jay1tZWRpYS1mb3JtPjpub3QoOmZpcnN0LWNoaWxkKXttYXJnaW4tbGVmdDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKX1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjYwMHB4KXsuY2suY2stbWVkaWEtZm9ybXtwYWRkaW5nOjA7d2lkdGg6Y2FsYygwLjgqdmFyKC0tY2staW5wdXQtdGV4dC13aWR0aCkpfS5jay5jay1tZWRpYS1mb3JtIC5jay1sYWJlbGVkLWlucHV0e21hcmdpbjp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSB2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKSAwfS5jay5jay1tZWRpYS1mb3JtIC5jay1sYWJlbGVkLWlucHV0IC5jay1pbnB1dC10ZXh0e21pbi13aWR0aDowO3dpZHRoOjEwMCV9LmNrLmNrLW1lZGlhLWZvcm0gLmNrLWxhYmVsZWQtaW5wdXQgLmNrLWxhYmVsZWQtaW5wdXRfX2Vycm9ye3doaXRlLXNwYWNlOm5vcm1hbH0uY2suY2stbWVkaWEtZm9ybSAuY2stYnV0dG9ue3BhZGRpbmc6dmFyKC0tY2stc3BhY2luZy1zdGFuZGFyZCk7bWFyZ2luLXRvcDp2YXIoLS1jay1zcGFjaW5nLXN0YW5kYXJkKTttYXJnaW4tbGVmdDowO2JvcmRlci1yYWRpdXM6MDtib3JkZXI6MDtib3JkZXItdG9wOjFweCBzb2xpZCB2YXIoLS1jay1jb2xvci1iYXNlLWJvcmRlcil9LmNrLmNrLW1lZGlhLWZvcm0gLmNrLWJ1dHRvbjpmaXJzdC1vZi10eXBle2JvcmRlci1yaWdodDoxcHggc29saWQgdmFyKC0tY2stY29sb3ItYmFzZS1ib3JkZXIpfX1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTEwKTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiLmNrLWNvbnRlbnQgLm1lZGlhe2NsZWFyOmJvdGg7bWFyZ2luOjFlbSAwO2Rpc3BsYXk6YmxvY2s7bWluLXdpZHRoOjE1ZW19XCJ9LGZ1bmN0aW9uKHQsZSxuKXt2YXIgaT1uKDExMik7XCJzdHJpbmdcIj09dHlwZW9mIGkmJihpPVtbdC5pLGksXCJcIl1dKTt2YXIgbz17c2luZ2xldG9uOiEwLGhtcjohMCx0cmFuc2Zvcm06dm9pZCAwLGluc2VydEludG86dm9pZCAwfTtuKDIpKGksbyk7aS5sb2NhbHMmJih0LmV4cG9ydHM9aS5sb2NhbHMpfSxmdW5jdGlvbih0LGUpe3QuZXhwb3J0cz1cIjpyb290ey0tY2stY29sb3ItdGFibGUtZm9jdXNlZC1jZWxsLWJhY2tncm91bmQ6I2Y1ZmFmZX0uY2std2lkZ2V0LnRhYmxlIHRkLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlLmNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWQsLmNrLXdpZGdldC50YWJsZSB0aC5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZS5jay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2Vke2JhY2tncm91bmQ6dmFyKC0tY2stY29sb3ItdGFibGUtZm9jdXNlZC1jZWxsLWJhY2tncm91bmQpO2JvcmRlci1zdHlsZTpub25lO291dGxpbmU6MXB4IHNvbGlkIHZhcigtLWNrLWNvbG9yLWZvY3VzLWJvcmRlcik7b3V0bGluZS1vZmZzZXQ6LTFweH1cIn0sZnVuY3Rpb24odCxlLG4pe3ZhciBpPW4oMTE0KTtcInN0cmluZ1wiPT10eXBlb2YgaSYmKGk9W1t0LmksaSxcIlwiXV0pO3ZhciBvPXtzaW5nbGV0b246ITAsaG1yOiEwLHRyYW5zZm9ybTp2b2lkIDAsaW5zZXJ0SW50bzp2b2lkIDB9O24oMikoaSxvKTtpLmxvY2FscyYmKHQuZXhwb3J0cz1pLmxvY2Fscyl9LGZ1bmN0aW9uKHQsZSl7dC5leHBvcnRzPVwiOnJvb3R7LS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZzoxMHB4Oy0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC1oZWlnaHQ6MTFweDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtd2lkdGg6MTJweDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtbWFyZ2luOjFweDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYm9yZGVyLWNvbG9yOiNiZmJmYmY7LS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LWJvcmRlci1hY3RpdmUtY29sb3I6IzUzYTBlNDstLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYWN0aXZlLWJhY2tncm91bmQ6I2M3ZTVmZn0uY2sgLmNrLWluc2VydC10YWJsZS1kcm9wZG93bl9fZ3JpZHtkaXNwbGF5OmZsZXg7ZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtd3JhcDp3cmFwO3dpZHRoOmNhbGModmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC13aWR0aCkqMTAgKyB2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LW1hcmdpbikqMjAgKyB2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZykqMik7cGFkZGluZzp2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tcGFkZGluZykgdmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLXBhZGRpbmcpIDB9LmNrIC5jay1pbnNlcnQtdGFibGUtZHJvcGRvd25fX2xhYmVse3RleHQtYWxpZ246Y2VudGVyfS5jayAuY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWdyaWQtYm94e3dpZHRoOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtd2lkdGgpO2hlaWdodDp2YXIoLS1jay1pbnNlcnQtdGFibGUtZHJvcGRvd24tYm94LWhlaWdodCk7bWFyZ2luOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtbWFyZ2luKTtib3JkZXI6MXB4IHNvbGlkIHZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYm9yZGVyLWNvbG9yKTtib3JkZXItcmFkaXVzOjFweH0uY2sgLmNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ncmlkLWJveC5jay1vbntib3JkZXItY29sb3I6dmFyKC0tY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duLWJveC1ib3JkZXItYWN0aXZlLWNvbG9yKTtiYWNrZ3JvdW5kOnZhcigtLWNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ib3gtYWN0aXZlLWJhY2tncm91bmQpfVwifSxmdW5jdGlvbih0LGUsbil7dmFyIGk9bigxMTYpO1wic3RyaW5nXCI9PXR5cGVvZiBpJiYoaT1bW3QuaSxpLFwiXCJdXSk7dmFyIG89e3NpbmdsZXRvbjohMCxobXI6ITAsdHJhbnNmb3JtOnZvaWQgMCxpbnNlcnRJbnRvOnZvaWQgMH07bigyKShpLG8pO2kubG9jYWxzJiYodC5leHBvcnRzPWkubG9jYWxzKX0sZnVuY3Rpb24odCxlKXt0LmV4cG9ydHM9XCIuY2stY29udGVudCAudGFibGV7bWFyZ2luOjFlbSBhdXRvO2Rpc3BsYXk6dGFibGV9LmNrLWNvbnRlbnQgLnRhYmxlIHRhYmxle2JvcmRlci1jb2xsYXBzZTpjb2xsYXBzZTtib3JkZXItc3BhY2luZzowO2JvcmRlcjoxcHggZG91YmxlICNiM2IzYjN9LmNrLWNvbnRlbnQgLnRhYmxlIHRhYmxlIHRkLC5jay1jb250ZW50IC50YWJsZSB0YWJsZSB0aHttaW4td2lkdGg6MmVtO3BhZGRpbmc6LjRlbTtib3JkZXItY29sb3I6I2Q5ZDlkOX0uY2stY29udGVudCAudGFibGUgdGFibGUgdGh7Zm9udC13ZWlnaHQ6NzAwO2JhY2tncm91bmQ6I2ZhZmFmYX1cIn0sZnVuY3Rpb24odCxlLG4pe1widXNlIHN0cmljdFwiO24ucihlKTt2YXIgaT1uKDQpLG89aS5hLlN5bWJvbCxyPU9iamVjdC5wcm90b3R5cGUscz1yLmhhc093blByb3BlcnR5LGE9ci50b1N0cmluZyxjPW8/by50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIGw9ZnVuY3Rpb24odCl7dmFyIGU9cy5jYWxsKHQsYyksbj10W2NdO3RyeXt0W2NdPXZvaWQgMDt2YXIgaT0hMH1jYXRjaCh0KXt9dmFyIG89YS5jYWxsKHQpO3JldHVybiBpJiYoZT90W2NdPW46ZGVsZXRlIHRbY10pLG99LGQ9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZzt2YXIgdT1mdW5jdGlvbih0KXtyZXR1cm4gZC5jYWxsKHQpfSxoPVwiW29iamVjdCBOdWxsXVwiLGY9XCJbb2JqZWN0IFVuZGVmaW5lZF1cIixtPW8/by50b1N0cmluZ1RhZzp2b2lkIDA7dmFyIHA9ZnVuY3Rpb24odCl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwPT09dD9mOmg6bSYmbSBpbiBPYmplY3QodCk/bCh0KTp1KHQpfTt2YXIgZz1mdW5jdGlvbih0LGUpe3JldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdChlKG4pKX19LGI9ZyhPYmplY3QuZ2V0UHJvdG90eXBlT2YsT2JqZWN0KTt2YXIgdz1mdW5jdGlvbih0KXtyZXR1cm4gbnVsbCE9dCYmXCJvYmplY3RcIj09dHlwZW9mIHR9LF89XCJbb2JqZWN0IE9iamVjdF1cIixrPUZ1bmN0aW9uLnByb3RvdHlwZSx2PU9iamVjdC5wcm90b3R5cGUseT1rLnRvU3RyaW5nLHg9di5oYXNPd25Qcm9wZXJ0eSxBPXkuY2FsbChPYmplY3QpO3ZhciBDPWZ1bmN0aW9uKHQpe2lmKCF3KHQpfHxwKHQpIT1fKXJldHVybiExO3ZhciBlPWIodCk7aWYobnVsbD09PWUpcmV0dXJuITA7dmFyIG49eC5jYWxsKGUsXCJjb25zdHJ1Y3RvclwiKSYmZS5jb25zdHJ1Y3RvcjtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBuJiZuIGluc3RhbmNlb2YgbiYmeS5jYWxsKG4pPT1BfTt2YXIgVD1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189W10sdGhpcy5zaXplPTB9O3ZhciBQPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQ9PT1lfHx0IT10JiZlIT1lfTt2YXIgTT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj10Lmxlbmd0aDtuLS07KWlmKFAodFtuXVswXSxlKSlyZXR1cm4gbjtyZXR1cm4tMX0sRT1BcnJheS5wcm90b3R5cGUuc3BsaWNlO3ZhciBTPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1NKGUsdCk7cmV0dXJuIShuPDB8fChuPT1lLmxlbmd0aC0xP2UucG9wKCk6RS5jYWxsKGUsbiwxKSwtLXRoaXMuc2l6ZSwwKSl9O3ZhciBJPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1NKGUsdCk7cmV0dXJuIG48MD92b2lkIDA6ZVtuXVsxXX07dmFyIE49ZnVuY3Rpb24odCl7cmV0dXJuIE0odGhpcy5fX2RhdGFfXyx0KT4tMX07dmFyIE89ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fLGk9TShuLHQpO3JldHVybiBpPDA/KCsrdGhpcy5zaXplLG4ucHVzaChbdCxlXSkpOm5baV1bMV09ZSx0aGlzfTtmdW5jdGlvbiBSKHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgaT10W2VdO3RoaXMuc2V0KGlbMF0saVsxXSl9fVIucHJvdG90eXBlLmNsZWFyPVQsUi5wcm90b3R5cGUuZGVsZXRlPVMsUi5wcm90b3R5cGUuZ2V0PUksUi5wcm90b3R5cGUuaGFzPU4sUi5wcm90b3R5cGUuc2V0PU87dmFyIEQ9Ujt2YXIgTD1mdW5jdGlvbigpe3RoaXMuX19kYXRhX189bmV3IEQsdGhpcy5zaXplPTB9O3ZhciBqPWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX18sbj1lLmRlbGV0ZSh0KTtyZXR1cm4gdGhpcy5zaXplPWUuc2l6ZSxufTt2YXIgVj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5nZXQodCl9O3ZhciBCPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX07dmFyIHo9ZnVuY3Rpb24odCl7dmFyIGU9dHlwZW9mIHQ7cmV0dXJuIG51bGwhPXQmJihcIm9iamVjdFwiPT1lfHxcImZ1bmN0aW9uXCI9PWUpfSxGPVwiW29iamVjdCBBc3luY0Z1bmN0aW9uXVwiLFU9XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLEg9XCJbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXVwiLHE9XCJbb2JqZWN0IFByb3h5XVwiO3ZhciBXPWZ1bmN0aW9uKHQpe2lmKCF6KHQpKXJldHVybiExO3ZhciBlPXAodCk7cmV0dXJuIGU9PVV8fGU9PUh8fGU9PUZ8fGU9PXF9LFk9aS5hW1wiX19jb3JlLWpzX3NoYXJlZF9fXCJdLCQ9ZnVuY3Rpb24oKXt2YXIgdD0vW14uXSskLy5leGVjKFkmJlkua2V5cyYmWS5rZXlzLklFX1BST1RPfHxcIlwiKTtyZXR1cm4gdD9cIlN5bWJvbChzcmMpXzEuXCIrdDpcIlwifSgpO3ZhciBHPWZ1bmN0aW9uKHQpe3JldHVybiEhJCYmJCBpbiB0fSxRPUZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZzt2YXIgSj1mdW5jdGlvbih0KXtpZihudWxsIT10KXt0cnl7cmV0dXJuIFEuY2FsbCh0KX1jYXRjaCh0KXt9dHJ5e3JldHVybiB0K1wiXCJ9Y2F0Y2godCl7fX1yZXR1cm5cIlwifSxLPS9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC8sWj1GdW5jdGlvbi5wcm90b3R5cGUsWD1PYmplY3QucHJvdG90eXBlLHR0PVoudG9TdHJpbmcsZXQ9WC5oYXNPd25Qcm9wZXJ0eSxudD1SZWdFeHAoXCJeXCIrdHQuY2FsbChldCkucmVwbGFjZSgvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXCJcXFxcJCZcIikucmVwbGFjZSgvaGFzT3duUHJvcGVydHl8KGZ1bmN0aW9uKS4qPyg/PVxcXFxcXCgpfCBmb3IgLis/KD89XFxcXFxcXSkvZyxcIiQxLio/XCIpK1wiJFwiKTt2YXIgaXQ9ZnVuY3Rpb24odCl7cmV0dXJuISgheih0KXx8Ryh0KSkmJihXKHQpP250OkspLnRlc3QoSih0KSl9O3ZhciBvdD1mdW5jdGlvbih0LGUpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0W2VdfTt2YXIgcnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj1vdCh0LGUpO3JldHVybiBpdChuKT9uOnZvaWQgMH0sc3Q9cnQoaS5hLFwiTWFwXCIpLGF0PXJ0KE9iamVjdCxcImNyZWF0ZVwiKTt2YXIgY3Q9ZnVuY3Rpb24oKXt0aGlzLl9fZGF0YV9fPWF0P2F0KG51bGwpOnt9LHRoaXMuc2l6ZT0wfTt2YXIgbHQ9ZnVuY3Rpb24odCl7dmFyIGU9dGhpcy5oYXModCkmJmRlbGV0ZSB0aGlzLl9fZGF0YV9fW3RdO3JldHVybiB0aGlzLnNpemUtPWU/MTowLGV9LGR0PVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiLHV0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGh0PWZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuX19kYXRhX187aWYoYXQpe3ZhciBuPWVbdF07cmV0dXJuIG49PT1kdD92b2lkIDA6bn1yZXR1cm4gdXQuY2FsbChlLHQpP2VbdF06dm9pZCAwfSxmdD1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBtdD1mdW5jdGlvbih0KXt2YXIgZT10aGlzLl9fZGF0YV9fO3JldHVybiBhdD92b2lkIDAhPT1lW3RdOmZ0LmNhbGwoZSx0KX0scHQ9XCJfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fXCI7dmFyIGd0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5fX2RhdGFfXztyZXR1cm4gdGhpcy5zaXplKz10aGlzLmhhcyh0KT8wOjEsblt0XT1hdCYmdm9pZCAwPT09ZT9wdDplLHRoaXN9O2Z1bmN0aW9uIGJ0KHQpe3ZhciBlPS0xLG49bnVsbD09dD8wOnQubGVuZ3RoO2Zvcih0aGlzLmNsZWFyKCk7KytlPG47KXt2YXIgaT10W2VdO3RoaXMuc2V0KGlbMF0saVsxXSl9fWJ0LnByb3RvdHlwZS5jbGVhcj1jdCxidC5wcm90b3R5cGUuZGVsZXRlPWx0LGJ0LnByb3RvdHlwZS5nZXQ9aHQsYnQucHJvdG90eXBlLmhhcz1tdCxidC5wcm90b3R5cGUuc2V0PWd0O3ZhciB3dD1idDt2YXIgX3Q9ZnVuY3Rpb24oKXt0aGlzLnNpemU9MCx0aGlzLl9fZGF0YV9fPXtoYXNoOm5ldyB3dCxtYXA6bmV3KHN0fHxEKSxzdHJpbmc6bmV3IHd0fX07dmFyIGt0PWZ1bmN0aW9uKHQpe3ZhciBlPXR5cGVvZiB0O3JldHVyblwic3RyaW5nXCI9PWV8fFwibnVtYmVyXCI9PWV8fFwic3ltYm9sXCI9PWV8fFwiYm9vbGVhblwiPT1lP1wiX19wcm90b19fXCIhPT10Om51bGw9PT10fTt2YXIgdnQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10Ll9fZGF0YV9fO3JldHVybiBrdChlKT9uW1wic3RyaW5nXCI9PXR5cGVvZiBlP1wic3RyaW5nXCI6XCJoYXNoXCJdOm4ubWFwfTt2YXIgeXQ9ZnVuY3Rpb24odCl7dmFyIGU9dnQodGhpcyx0KS5kZWxldGUodCk7cmV0dXJuIHRoaXMuc2l6ZS09ZT8xOjAsZX07dmFyIHh0PWZ1bmN0aW9uKHQpe3JldHVybiB2dCh0aGlzLHQpLmdldCh0KX07dmFyIEF0PWZ1bmN0aW9uKHQpe3JldHVybiB2dCh0aGlzLHQpLmhhcyh0KX07dmFyIEN0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dnQodGhpcyx0KSxpPW4uc2l6ZTtyZXR1cm4gbi5zZXQodCxlKSx0aGlzLnNpemUrPW4uc2l6ZT09aT8wOjEsdGhpc307ZnVuY3Rpb24gVHQodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuY2xlYXIoKTsrK2U8bjspe3ZhciBpPXRbZV07dGhpcy5zZXQoaVswXSxpWzFdKX19VHQucHJvdG90eXBlLmNsZWFyPV90LFR0LnByb3RvdHlwZS5kZWxldGU9eXQsVHQucHJvdG90eXBlLmdldD14dCxUdC5wcm90b3R5cGUuaGFzPUF0LFR0LnByb3RvdHlwZS5zZXQ9Q3Q7dmFyIFB0PVR0LE10PTIwMDt2YXIgRXQ9ZnVuY3Rpb24odCxlKXt2YXIgbj10aGlzLl9fZGF0YV9fO2lmKG4gaW5zdGFuY2VvZiBEKXt2YXIgaT1uLl9fZGF0YV9fO2lmKCFzdHx8aS5sZW5ndGg8TXQtMSlyZXR1cm4gaS5wdXNoKFt0LGVdKSx0aGlzLnNpemU9KytuLnNpemUsdGhpcztuPXRoaXMuX19kYXRhX189bmV3IFB0KGkpfXJldHVybiBuLnNldCh0LGUpLHRoaXMuc2l6ZT1uLnNpemUsdGhpc307ZnVuY3Rpb24gU3QodCl7dmFyIGU9dGhpcy5fX2RhdGFfXz1uZXcgRCh0KTt0aGlzLnNpemU9ZS5zaXplfVN0LnByb3RvdHlwZS5jbGVhcj1MLFN0LnByb3RvdHlwZS5kZWxldGU9aixTdC5wcm90b3R5cGUuZ2V0PVYsU3QucHJvdG90eXBlLmhhcz1CLFN0LnByb3RvdHlwZS5zZXQ9RXQ7dmFyIEl0PVN0O3ZhciBOdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxpPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248aSYmITEhPT1lKHRbbl0sbix0KTspO3JldHVybiB0fSxPdD1mdW5jdGlvbigpe3RyeXt2YXIgdD1ydChPYmplY3QsXCJkZWZpbmVQcm9wZXJ0eVwiKTtyZXR1cm4gdCh7fSxcIlwiLHt9KSx0fWNhdGNoKHQpe319KCk7dmFyIFJ0PWZ1bmN0aW9uKHQsZSxuKXtcIl9fcHJvdG9fX1wiPT1lJiZPdD9PdCh0LGUse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwLHZhbHVlOm4sd3JpdGFibGU6ITB9KTp0W2VdPW59LER0PU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIEx0PWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10W2VdO0R0LmNhbGwodCxlKSYmUChpLG4pJiYodm9pZCAwIT09bnx8ZSBpbiB0KXx8UnQodCxlLG4pfTt2YXIganQ9ZnVuY3Rpb24odCxlLG4saSl7dmFyIG89IW47bnx8KG49e30pO2Zvcih2YXIgcj0tMSxzPWUubGVuZ3RoOysrcjxzOyl7dmFyIGE9ZVtyXSxjPWk/aShuW2FdLHRbYV0sYSxuLHQpOnZvaWQgMDt2b2lkIDA9PT1jJiYoYz10W2FdKSxvP1J0KG4sYSxjKTpMdChuLGEsYyl9cmV0dXJuIG59O3ZhciBWdD1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxpPUFycmF5KHQpOysrbjx0OylpW25dPWUobik7cmV0dXJuIGl9LEJ0PVwiW29iamVjdCBBcmd1bWVudHNdXCI7dmFyIHp0PWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpJiZwKHQpPT1CdH0sRnQ9T2JqZWN0LnByb3RvdHlwZSxVdD1GdC5oYXNPd25Qcm9wZXJ0eSxIdD1GdC5wcm9wZXJ0eUlzRW51bWVyYWJsZSxxdD16dChmdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHN9KCkpP3p0OmZ1bmN0aW9uKHQpe3JldHVybiB3KHQpJiZVdC5jYWxsKHQsXCJjYWxsZWVcIikmJiFIdC5jYWxsKHQsXCJjYWxsZWVcIil9LFd0PUFycmF5LmlzQXJyYXksWXQ9big2KSwkdD05MDA3MTk5MjU0NzQwOTkxLEd0PS9eKD86MHxbMS05XVxcZCopJC87dmFyIFF0PWZ1bmN0aW9uKHQsZSl7dmFyIG49dHlwZW9mIHQ7cmV0dXJuISEoZT1udWxsPT1lPyR0OmUpJiYoXCJudW1iZXJcIj09bnx8XCJzeW1ib2xcIiE9biYmR3QudGVzdCh0KSkmJnQ+LTEmJnQlMT09MCYmdDxlfSxKdD05MDA3MTk5MjU0NzQwOTkxO3ZhciBLdD1mdW5jdGlvbih0KXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgdCYmdD4tMSYmdCUxPT0wJiZ0PD1KdH0sWnQ9e307WnRbXCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIl09WnRbXCJbb2JqZWN0IEZsb2F0NjRBcnJheV1cIl09WnRbXCJbb2JqZWN0IEludDhBcnJheV1cIl09WnRbXCJbb2JqZWN0IEludDE2QXJyYXldXCJdPVp0W1wiW29iamVjdCBJbnQzMkFycmF5XVwiXT1adFtcIltvYmplY3QgVWludDhBcnJheV1cIl09WnRbXCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiXT1adFtcIltvYmplY3QgVWludDE2QXJyYXldXCJdPVp0W1wiW29iamVjdCBVaW50MzJBcnJheV1cIl09ITAsWnRbXCJbb2JqZWN0IEFyZ3VtZW50c11cIl09WnRbXCJbb2JqZWN0IEFycmF5XVwiXT1adFtcIltvYmplY3QgQXJyYXlCdWZmZXJdXCJdPVp0W1wiW29iamVjdCBCb29sZWFuXVwiXT1adFtcIltvYmplY3QgRGF0YVZpZXddXCJdPVp0W1wiW29iamVjdCBEYXRlXVwiXT1adFtcIltvYmplY3QgRXJyb3JdXCJdPVp0W1wiW29iamVjdCBGdW5jdGlvbl1cIl09WnRbXCJbb2JqZWN0IE1hcF1cIl09WnRbXCJbb2JqZWN0IE51bWJlcl1cIl09WnRbXCJbb2JqZWN0IE9iamVjdF1cIl09WnRbXCJbb2JqZWN0IFJlZ0V4cF1cIl09WnRbXCJbb2JqZWN0IFNldF1cIl09WnRbXCJbb2JqZWN0IFN0cmluZ11cIl09WnRbXCJbb2JqZWN0IFdlYWtNYXBdXCJdPSExO3ZhciBYdD1mdW5jdGlvbih0KXtyZXR1cm4gdyh0KSYmS3QodC5sZW5ndGgpJiYhIVp0W3AodCldfTt2YXIgdGU9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiB0KGUpfX0sZWU9big1KSxuZT1lZS5hJiZlZS5hLmlzVHlwZWRBcnJheSxpZT1uZT90ZShuZSk6WHQsb2U9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgcmU9ZnVuY3Rpb24odCxlKXt2YXIgbj1XdCh0KSxpPSFuJiZxdCh0KSxvPSFuJiYhaSYmT2JqZWN0KFl0LmEpKHQpLHI9IW4mJiFpJiYhbyYmaWUodCkscz1ufHxpfHxvfHxyLGE9cz9WdCh0Lmxlbmd0aCxTdHJpbmcpOltdLGM9YS5sZW5ndGg7Zm9yKHZhciBsIGluIHQpIWUmJiFvZS5jYWxsKHQsbCl8fHMmJihcImxlbmd0aFwiPT1sfHxvJiYoXCJvZmZzZXRcIj09bHx8XCJwYXJlbnRcIj09bCl8fHImJihcImJ1ZmZlclwiPT1sfHxcImJ5dGVMZW5ndGhcIj09bHx8XCJieXRlT2Zmc2V0XCI9PWwpfHxRdChsLGMpKXx8YS5wdXNoKGwpO3JldHVybiBhfSxzZT1PYmplY3QucHJvdG90eXBlO3ZhciBhZT1mdW5jdGlvbih0KXt2YXIgZT10JiZ0LmNvbnN0cnVjdG9yO3JldHVybiB0PT09KFwiZnVuY3Rpb25cIj09dHlwZW9mIGUmJmUucHJvdG90eXBlfHxzZSl9LGNlPWcoT2JqZWN0LmtleXMsT2JqZWN0KSxsZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBkZT1mdW5jdGlvbih0KXtpZighYWUodCkpcmV0dXJuIGNlKHQpO3ZhciBlPVtdO2Zvcih2YXIgbiBpbiBPYmplY3QodCkpbGUuY2FsbCh0LG4pJiZcImNvbnN0cnVjdG9yXCIhPW4mJmUucHVzaChuKTtyZXR1cm4gZX07dmFyIHVlPWZ1bmN0aW9uKHQpe3JldHVybiBudWxsIT10JiZLdCh0Lmxlbmd0aCkmJiFXKHQpfTt2YXIgaGU9ZnVuY3Rpb24odCl7cmV0dXJuIHVlKHQpP3JlKHQpOmRlKHQpfTt2YXIgZmU9ZnVuY3Rpb24odCxlKXtyZXR1cm4gdCYmanQoZSxoZShlKSx0KX07dmFyIG1lPWZ1bmN0aW9uKHQpe3ZhciBlPVtdO2lmKG51bGwhPXQpZm9yKHZhciBuIGluIE9iamVjdCh0KSllLnB1c2gobik7cmV0dXJuIGV9LHBlPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIGdlPWZ1bmN0aW9uKHQpe2lmKCF6KHQpKXJldHVybiBtZSh0KTt2YXIgZT1hZSh0KSxuPVtdO2Zvcih2YXIgaSBpbiB0KShcImNvbnN0cnVjdG9yXCIhPWl8fCFlJiZwZS5jYWxsKHQsaSkpJiZuLnB1c2goaSk7cmV0dXJuIG59O3ZhciBiZT1mdW5jdGlvbih0KXtyZXR1cm4gdWUodCk/cmUodCwhMCk6Z2UodCl9O3ZhciB3ZT1mdW5jdGlvbih0LGUpe3JldHVybiB0JiZqdChlLGJlKGUpLHQpfSxfZT1uKDE5KTt2YXIga2U9ZnVuY3Rpb24odCxlKXt2YXIgbj0tMSxpPXQubGVuZ3RoO2ZvcihlfHwoZT1BcnJheShpKSk7KytuPGk7KWVbbl09dFtuXTtyZXR1cm4gZX07dmFyIHZlPWZ1bmN0aW9uKHQsZSl7Zm9yKHZhciBuPS0xLGk9bnVsbD09dD8wOnQubGVuZ3RoLG89MCxyPVtdOysrbjxpOyl7dmFyIHM9dFtuXTtlKHMsbix0KSYmKHJbbysrXT1zKX1yZXR1cm4gcn07dmFyIHllPWZ1bmN0aW9uKCl7cmV0dXJuW119LHhlPU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUsQWU9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxDZT1BZT9mdW5jdGlvbih0KXtyZXR1cm4gbnVsbD09dD9bXToodD1PYmplY3QodCksdmUoQWUodCksZnVuY3Rpb24oZSl7cmV0dXJuIHhlLmNhbGwodCxlKX0pKX06eWU7dmFyIFRlPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGp0KHQsQ2UodCksZSl9O3ZhciBQZT1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxpPWUubGVuZ3RoLG89dC5sZW5ndGg7KytuPGk7KXRbbytuXT1lW25dO3JldHVybiB0fSxNZT1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzP2Z1bmN0aW9uKHQpe2Zvcih2YXIgZT1bXTt0OylQZShlLENlKHQpKSx0PWIodCk7cmV0dXJuIGV9OnllO3ZhciBFZT1mdW5jdGlvbih0LGUpe3JldHVybiBqdCh0LE1lKHQpLGUpfTt2YXIgU2U9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPWUodCk7cmV0dXJuIFd0KHQpP2k6UGUoaSxuKHQpKX07dmFyIEllPWZ1bmN0aW9uKHQpe3JldHVybiBTZSh0LGhlLENlKX07dmFyIE5lPWZ1bmN0aW9uKHQpe3JldHVybiBTZSh0LGJlLE1lKX0sT2U9cnQoaS5hLFwiRGF0YVZpZXdcIiksUmU9cnQoaS5hLFwiUHJvbWlzZVwiKSxEZT1ydChpLmEsXCJTZXRcIiksTGU9cnQoaS5hLFwiV2Vha01hcFwiKSxqZT1KKE9lKSxWZT1KKHN0KSxCZT1KKFJlKSx6ZT1KKERlKSxGZT1KKExlKSxVZT1wOyhPZSYmXCJbb2JqZWN0IERhdGFWaWV3XVwiIT1VZShuZXcgT2UobmV3IEFycmF5QnVmZmVyKDEpKSl8fHN0JiZcIltvYmplY3QgTWFwXVwiIT1VZShuZXcgc3QpfHxSZSYmXCJbb2JqZWN0IFByb21pc2VdXCIhPVVlKFJlLnJlc29sdmUoKSl8fERlJiZcIltvYmplY3QgU2V0XVwiIT1VZShuZXcgRGUpfHxMZSYmXCJbb2JqZWN0IFdlYWtNYXBdXCIhPVVlKG5ldyBMZSkpJiYoVWU9ZnVuY3Rpb24odCl7dmFyIGU9cCh0KSxuPVwiW29iamVjdCBPYmplY3RdXCI9PWU/dC5jb25zdHJ1Y3Rvcjp2b2lkIDAsaT1uP0oobik6XCJcIjtpZihpKXN3aXRjaChpKXtjYXNlIGplOnJldHVyblwiW29iamVjdCBEYXRhVmlld11cIjtjYXNlIFZlOnJldHVyblwiW29iamVjdCBNYXBdXCI7Y2FzZSBCZTpyZXR1cm5cIltvYmplY3QgUHJvbWlzZV1cIjtjYXNlIHplOnJldHVyblwiW29iamVjdCBTZXRdXCI7Y2FzZSBGZTpyZXR1cm5cIltvYmplY3QgV2Vha01hcF1cIn1yZXR1cm4gZX0pO3ZhciBIZT1VZSxxZT1PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O3ZhciBXZT1mdW5jdGlvbih0KXt2YXIgZT10Lmxlbmd0aCxuPW5ldyB0LmNvbnN0cnVjdG9yKGUpO3JldHVybiBlJiZcInN0cmluZ1wiPT10eXBlb2YgdFswXSYmcWUuY2FsbCh0LFwiaW5kZXhcIikmJihuLmluZGV4PXQuaW5kZXgsbi5pbnB1dD10LmlucHV0KSxufSxZZT1pLmEuVWludDhBcnJheTt2YXIgJGU9ZnVuY3Rpb24odCl7dmFyIGU9bmV3IHQuY29uc3RydWN0b3IodC5ieXRlTGVuZ3RoKTtyZXR1cm4gbmV3IFllKGUpLnNldChuZXcgWWUodCkpLGV9O3ZhciBHZT1mdW5jdGlvbih0LGUpe3ZhciBuPWU/JGUodC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0LmJ5dGVMZW5ndGgpfSxRZT0vXFx3KiQvO3ZhciBKZT1mdW5jdGlvbih0KXt2YXIgZT1uZXcgdC5jb25zdHJ1Y3Rvcih0LnNvdXJjZSxRZS5leGVjKHQpKTtyZXR1cm4gZS5sYXN0SW5kZXg9dC5sYXN0SW5kZXgsZX0sS2U9bz9vLnByb3RvdHlwZTp2b2lkIDAsWmU9S2U/S2UudmFsdWVPZjp2b2lkIDA7dmFyIFhlPWZ1bmN0aW9uKHQpe3JldHVybiBaZT9PYmplY3QoWmUuY2FsbCh0KSk6e319O3ZhciB0bj1mdW5jdGlvbih0LGUpe3ZhciBuPWU/JGUodC5idWZmZXIpOnQuYnVmZmVyO3JldHVybiBuZXcgdC5jb25zdHJ1Y3RvcihuLHQuYnl0ZU9mZnNldCx0Lmxlbmd0aCl9LGVuPVwiW29iamVjdCBCb29sZWFuXVwiLG5uPVwiW29iamVjdCBEYXRlXVwiLG9uPVwiW29iamVjdCBNYXBdXCIscm49XCJbb2JqZWN0IE51bWJlcl1cIixzbj1cIltvYmplY3QgUmVnRXhwXVwiLGFuPVwiW29iamVjdCBTZXRdXCIsY249XCJbb2JqZWN0IFN0cmluZ11cIixsbj1cIltvYmplY3QgU3ltYm9sXVwiLGRuPVwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIix1bj1cIltvYmplY3QgRGF0YVZpZXddXCIsaG49XCJbb2JqZWN0IEZsb2F0MzJBcnJheV1cIixmbj1cIltvYmplY3QgRmxvYXQ2NEFycmF5XVwiLG1uPVwiW29iamVjdCBJbnQ4QXJyYXldXCIscG49XCJbb2JqZWN0IEludDE2QXJyYXldXCIsZ249XCJbb2JqZWN0IEludDMyQXJyYXldXCIsYm49XCJbb2JqZWN0IFVpbnQ4QXJyYXldXCIsd249XCJbb2JqZWN0IFVpbnQ4Q2xhbXBlZEFycmF5XVwiLF9uPVwiW29iamVjdCBVaW50MTZBcnJheV1cIixrbj1cIltvYmplY3QgVWludDMyQXJyYXldXCI7dmFyIHZuPWZ1bmN0aW9uKHQsZSxuKXt2YXIgaT10LmNvbnN0cnVjdG9yO3N3aXRjaChlKXtjYXNlIGRuOnJldHVybiAkZSh0KTtjYXNlIGVuOmNhc2Ugbm46cmV0dXJuIG5ldyBpKCt0KTtjYXNlIHVuOnJldHVybiBHZSh0LG4pO2Nhc2UgaG46Y2FzZSBmbjpjYXNlIG1uOmNhc2UgcG46Y2FzZSBnbjpjYXNlIGJuOmNhc2Ugd246Y2FzZSBfbjpjYXNlIGtuOnJldHVybiB0bih0LG4pO2Nhc2Ugb246cmV0dXJuIG5ldyBpO2Nhc2Ugcm46Y2FzZSBjbjpyZXR1cm4gbmV3IGkodCk7Y2FzZSBzbjpyZXR1cm4gSmUodCk7Y2FzZSBhbjpyZXR1cm4gbmV3IGk7Y2FzZSBsbjpyZXR1cm4gWGUodCl9fSx5bj1PYmplY3QuY3JlYXRlLHhuPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCgpe31yZXR1cm4gZnVuY3Rpb24oZSl7aWYoIXooZSkpcmV0dXJue307aWYoeW4pcmV0dXJuIHluKGUpO3QucHJvdG90eXBlPWU7dmFyIG49bmV3IHQ7cmV0dXJuIHQucHJvdG90eXBlPXZvaWQgMCxufX0oKTt2YXIgQW49ZnVuY3Rpb24odCl7cmV0dXJuXCJmdW5jdGlvblwiIT10eXBlb2YgdC5jb25zdHJ1Y3Rvcnx8YWUodCk/e306eG4oYih0KSl9LENuPVwiW29iamVjdCBNYXBdXCI7dmFyIFRuPWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpJiZIZSh0KT09Q259LFBuPWVlLmEmJmVlLmEuaXNNYXAsTW49UG4/dGUoUG4pOlRuLEVuPVwiW29iamVjdCBTZXRdXCI7dmFyIFNuPWZ1bmN0aW9uKHQpe3JldHVybiB3KHQpJiZIZSh0KT09RW59LEluPWVlLmEmJmVlLmEuaXNTZXQsTm49SW4/dGUoSW4pOlNuLE9uPTEsUm49MixEbj00LExuPVwiW29iamVjdCBBcmd1bWVudHNdXCIsam49XCJbb2JqZWN0IEZ1bmN0aW9uXVwiLFZuPVwiW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl1cIixCbj1cIltvYmplY3QgT2JqZWN0XVwiLHpuPXt9O3puW0xuXT16bltcIltvYmplY3QgQXJyYXldXCJdPXpuW1wiW29iamVjdCBBcnJheUJ1ZmZlcl1cIl09em5bXCJbb2JqZWN0IERhdGFWaWV3XVwiXT16bltcIltvYmplY3QgQm9vbGVhbl1cIl09em5bXCJbb2JqZWN0IERhdGVdXCJdPXpuW1wiW29iamVjdCBGbG9hdDMyQXJyYXldXCJdPXpuW1wiW29iamVjdCBGbG9hdDY0QXJyYXldXCJdPXpuW1wiW29iamVjdCBJbnQ4QXJyYXldXCJdPXpuW1wiW29iamVjdCBJbnQxNkFycmF5XVwiXT16bltcIltvYmplY3QgSW50MzJBcnJheV1cIl09em5bXCJbb2JqZWN0IE1hcF1cIl09em5bXCJbb2JqZWN0IE51bWJlcl1cIl09em5bQm5dPXpuW1wiW29iamVjdCBSZWdFeHBdXCJdPXpuW1wiW29iamVjdCBTZXRdXCJdPXpuW1wiW29iamVjdCBTdHJpbmddXCJdPXpuW1wiW29iamVjdCBTeW1ib2xdXCJdPXpuW1wiW29iamVjdCBVaW50OEFycmF5XVwiXT16bltcIltvYmplY3QgVWludDhDbGFtcGVkQXJyYXldXCJdPXpuW1wiW29iamVjdCBVaW50MTZBcnJheV1cIl09em5bXCJbb2JqZWN0IFVpbnQzMkFycmF5XVwiXT0hMCx6bltcIltvYmplY3QgRXJyb3JdXCJdPXpuW2puXT16bltcIltvYmplY3QgV2Vha01hcF1cIl09ITE7dmFyIEZuPWZ1bmN0aW9uIHQoZSxuLGksbyxyLHMpe3ZhciBhLGM9biZPbixsPW4mUm4sZD1uJkRuO2lmKGkmJihhPXI/aShlLG8scixzKTppKGUpKSx2b2lkIDAhPT1hKXJldHVybiBhO2lmKCF6KGUpKXJldHVybiBlO3ZhciB1PVd0KGUpO2lmKHUpe2lmKGE9V2UoZSksIWMpcmV0dXJuIGtlKGUsYSl9ZWxzZXt2YXIgaD1IZShlKSxmPWg9PWpufHxoPT1WbjtpZihPYmplY3QoWXQuYSkoZSkpcmV0dXJuIE9iamVjdChfZS5hKShlLGMpO2lmKGg9PUJufHxoPT1Mbnx8ZiYmIXIpe2lmKGE9bHx8Zj97fTpBbihlKSwhYylyZXR1cm4gbD9FZShlLHdlKGEsZSkpOlRlKGUsZmUoYSxlKSl9ZWxzZXtpZighem5baF0pcmV0dXJuIHI/ZTp7fTthPXZuKGUsaCxjKX19c3x8KHM9bmV3IEl0KTt2YXIgbT1zLmdldChlKTtpZihtKXJldHVybiBtO2lmKHMuc2V0KGUsYSksTm4oZSkpcmV0dXJuIGUuZm9yRWFjaChmdW5jdGlvbihvKXthLmFkZCh0KG8sbixpLG8sZSxzKSl9KSxhO2lmKE1uKGUpKXJldHVybiBlLmZvckVhY2goZnVuY3Rpb24obyxyKXthLnNldChyLHQobyxuLGkscixlLHMpKX0pLGE7dmFyIHA9ZD9sP05lOkllOmw/a2V5c0luOmhlLGc9dT92b2lkIDA6cChlKTtyZXR1cm4gTnQoZ3x8ZSxmdW5jdGlvbihvLHIpe2cmJihvPWVbcj1vXSksTHQoYSxyLHQobyxuLGkscixlLHMpKX0pLGF9LFVuPTEsSG49NDt2YXIgcW49ZnVuY3Rpb24odCxlKXtyZXR1cm4gRm4odCxVbnxIbixlPVwiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZTp2b2lkIDApfTt2YXIgV249ZnVuY3Rpb24odCl7cmV0dXJuIHcodCkmJjE9PT10Lm5vZGVUeXBlJiYhQyh0KX07Y2xhc3MgWW57Y29uc3RydWN0b3IodCxlKXt0aGlzLl9jb25maWc9e30sZSYmdGhpcy5kZWZpbmUoZSksdCYmdGhpcy5fc2V0T2JqZWN0VG9UYXJnZXQodGhpcy5fY29uZmlnLHQpfXNldCh0LGUpe3RoaXMuX3NldFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyx0LGUpfWRlZmluZSh0LGUpe3RoaXMuX3NldFRvVGFyZ2V0KHRoaXMuX2NvbmZpZyx0LGUsITApfWdldCh0KXtyZXR1cm4gdGhpcy5fZ2V0RnJvbVNvdXJjZSh0aGlzLl9jb25maWcsdCl9X3NldFRvVGFyZ2V0KHQsZSxuLGk9ITEpe2lmKEMoZSkpcmV0dXJuIHZvaWQgdGhpcy5fc2V0T2JqZWN0VG9UYXJnZXQodCxlLGkpO2NvbnN0IG89ZS5zcGxpdChcIi5cIik7ZT1vLnBvcCgpO2Zvcihjb25zdCBlIG9mIG8pQyh0W2VdKXx8KHRbZV09e30pLHQ9dFtlXTtpZihDKG4pKXJldHVybiBDKHRbZV0pfHwodFtlXT17fSksdD10W2VdLHZvaWQgdGhpcy5fc2V0T2JqZWN0VG9UYXJnZXQodCxuLGkpO2kmJnZvaWQgMCE9PXRbZV18fCh0W2VdPW4pfV9nZXRGcm9tU291cmNlKHQsZSl7Y29uc3Qgbj1lLnNwbGl0KFwiLlwiKTtlPW4ucG9wKCk7Zm9yKGNvbnN0IGUgb2Ygbil7aWYoIUModFtlXSkpe3Q9bnVsbDticmVha310PXRbZV19cmV0dXJuIHQ/ZnVuY3Rpb24odCl7cmV0dXJuIHFuKHQsJG4pfSh0W2VdKTp2b2lkIDB9X3NldE9iamVjdFRvVGFyZ2V0KHQsZSxuKXtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKGk9Pnt0aGlzLl9zZXRUb1RhcmdldCh0LGksZVtpXSxuKX0pfX1mdW5jdGlvbiAkbih0KXtyZXR1cm4gV24odCk/dDp2b2lkIDB9dmFyIEduPW4oMCk7dmFyIFFuPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uIHQoKXt0LmNhbGxlZD0hMH19O2NsYXNzIEpue2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5zb3VyY2U9dCx0aGlzLm5hbWU9ZSx0aGlzLnBhdGg9W10sdGhpcy5zdG9wPVFuKCksdGhpcy5vZmY9UW4oKX19ZnVuY3Rpb24gS24oKXtsZXQgdD1cImVcIjtmb3IobGV0IGU9MDtlPDg7ZSsrKXQrPU1hdGguZmxvb3IoNjU1MzYqKDErTWF0aC5yYW5kb20oKSkpLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7cmV0dXJuIHR9dmFyIFpuPXtnZXQodCl7cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHQ/dGhpc1t0XXx8dGhpcy5ub3JtYWw6dH0saGlnaGVzdDoxZTUsaGlnaDoxZTMsbm9ybWFsOjAsbG93Oi0xZTMsbG93ZXN0Oi0xZTV9O24oOSk7Y29uc3QgWG49U3ltYm9sKFwibGlzdGVuaW5nVG9cIiksdGk9U3ltYm9sKFwiZW1pdHRlcklkXCIpO3ZhciBlaT17b24odCxlLG49e30pe3RoaXMubGlzdGVuVG8odGhpcyx0LGUsbil9LG9uY2UodCxlLG4pe2xldCBpPSExO3RoaXMubGlzdGVuVG8odGhpcyx0LGZ1bmN0aW9uKHQsLi4ubil7aXx8KGk9ITAsdC5vZmYoKSxlLmNhbGwodGhpcyx0LC4uLm4pKX0sbil9LG9mZih0LGUpe3RoaXMuc3RvcExpc3RlbmluZyh0aGlzLHQsZSl9LGxpc3RlblRvKHQsZSxuLGk9e30pe2xldCBvLHI7dGhpc1tYbl18fCh0aGlzW1huXT17fSk7Y29uc3Qgcz10aGlzW1huXTtpaSh0KXx8bmkodCk7Y29uc3QgYT1paSh0KTsobz1zW2FdKXx8KG89c1thXT17ZW1pdHRlcjp0LGNhbGxiYWNrczp7fX0pLChyPW8uY2FsbGJhY2tzW2VdKXx8KHI9by5jYWxsYmFja3NbZV09W10pLHIucHVzaChuKSxmdW5jdGlvbih0LGUpe2NvbnN0IG49b2kodCk7aWYobltlXSlyZXR1cm47bGV0IGk9ZSxvPW51bGw7Y29uc3Qgcj1bXTtmb3IoO1wiXCIhPT1pJiYhbltpXTspbltpXT17Y2FsbGJhY2tzOltdLGNoaWxkRXZlbnRzOltdfSxyLnB1c2gobltpXSksbyYmbltpXS5jaGlsZEV2ZW50cy5wdXNoKG8pLG89aSxpPWkuc3Vic3RyKDAsaS5sYXN0SW5kZXhPZihcIjpcIikpO2lmKFwiXCIhPT1pKXtmb3IoY29uc3QgdCBvZiByKXQuY2FsbGJhY2tzPW5baV0uY2FsbGJhY2tzLnNsaWNlKCk7bltpXS5jaGlsZEV2ZW50cy5wdXNoKG8pfX0odCxlKTtjb25zdCBjPXJpKHQsZSksbD1abi5nZXQoaS5wcmlvcml0eSksZD17Y2FsbGJhY2s6bixwcmlvcml0eTpsfTtmb3IoY29uc3QgdCBvZiBjKXtsZXQgZT0hMTtmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLnByaW9yaXR5PGwpe3Quc3BsaWNlKG4sMCxkKSxlPSEwO2JyZWFrfWV8fHQucHVzaChkKX19LHN0b3BMaXN0ZW5pbmcodCxlLG4pe2NvbnN0IGk9dGhpc1tYbl07bGV0IG89dCYmaWkodCk7Y29uc3Qgcj1pJiZvJiZpW29dLHM9ciYmZSYmci5jYWxsYmFja3NbZV07aWYoISghaXx8dCYmIXJ8fGUmJiFzKSlpZihuKWFpKHQsZSxuKTtlbHNlIGlmKHMpe2Zvcig7bj1zLnBvcCgpOylhaSh0LGUsbik7ZGVsZXRlIHIuY2FsbGJhY2tzW2VdfWVsc2UgaWYocil7Zm9yKGUgaW4gci5jYWxsYmFja3MpdGhpcy5zdG9wTGlzdGVuaW5nKHQsZSk7ZGVsZXRlIGlbb119ZWxzZXtmb3IobyBpbiBpKXRoaXMuc3RvcExpc3RlbmluZyhpW29dLmVtaXR0ZXIpO2RlbGV0ZSB0aGlzW1huXX19LGZpcmUodCwuLi5lKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBKbj90Om5ldyBKbih0aGlzLHQpLGk9bi5uYW1lO2xldCBvPWZ1bmN0aW9uIHQoZSxuKXtsZXQgaTtpZighZS5fZXZlbnRzfHwhKGk9ZS5fZXZlbnRzW25dKXx8IWkuY2FsbGJhY2tzLmxlbmd0aClyZXR1cm4gbi5pbmRleE9mKFwiOlwiKT4tMT90KGUsbi5zdWJzdHIoMCxuLmxhc3RJbmRleE9mKFwiOlwiKSkpOm51bGw7cmV0dXJuIGkuY2FsbGJhY2tzfSh0aGlzLGkpO2lmKG4ucGF0aC5wdXNoKHRoaXMpLG8pe2NvbnN0IHQ9W24sLi4uZV07bz1BcnJheS5mcm9tKG8pO2ZvcihsZXQgZT0wO2U8by5sZW5ndGgmJihvW2VdLmNhbGxiYWNrLmFwcGx5KHRoaXMsdCksbi5vZmYuY2FsbGVkJiYoZGVsZXRlIG4ub2ZmLmNhbGxlZCxhaSh0aGlzLGksb1tlXS5jYWxsYmFjaykpLCFuLnN0b3AuY2FsbGVkKTtlKyspO31pZih0aGlzLl9kZWxlZ2F0aW9ucyl7Y29uc3QgdD10aGlzLl9kZWxlZ2F0aW9ucy5nZXQoaSksbz10aGlzLl9kZWxlZ2F0aW9ucy5nZXQoXCIqXCIpO3QmJnNpKHQsbixlKSxvJiZzaShvLG4sZSl9cmV0dXJuIG4ucmV0dXJufSxkZWxlZ2F0ZSguLi50KXtyZXR1cm57dG86KGUsbik9Pnt0aGlzLl9kZWxlZ2F0aW9uc3x8KHRoaXMuX2RlbGVnYXRpb25zPW5ldyBNYXApLHQuZm9yRWFjaCh0PT57Y29uc3QgaT10aGlzLl9kZWxlZ2F0aW9ucy5nZXQodCk7aT9pLnNldChlLG4pOnRoaXMuX2RlbGVnYXRpb25zLnNldCh0LG5ldyBNYXAoW1tlLG5dXSkpfSl9fX0sc3RvcERlbGVnYXRpbmcodCxlKXtpZih0aGlzLl9kZWxlZ2F0aW9ucylpZih0KWlmKGUpe2NvbnN0IG49dGhpcy5fZGVsZWdhdGlvbnMuZ2V0KHQpO24mJm4uZGVsZXRlKGUpfWVsc2UgdGhpcy5fZGVsZWdhdGlvbnMuZGVsZXRlKHQpO2Vsc2UgdGhpcy5fZGVsZWdhdGlvbnMuY2xlYXIoKX19O2Z1bmN0aW9uIG5pKHQsZSl7dFt0aV18fCh0W3RpXT1lfHxLbigpKX1mdW5jdGlvbiBpaSh0KXtyZXR1cm4gdFt0aV19ZnVuY3Rpb24gb2kodCl7cmV0dXJuIHQuX2V2ZW50c3x8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJfZXZlbnRzXCIse3ZhbHVlOnt9fSksdC5fZXZlbnRzfWZ1bmN0aW9uIHJpKHQsZSl7Y29uc3Qgbj1vaSh0KVtlXTtpZighbilyZXR1cm5bXTtsZXQgaT1bbi5jYWxsYmFja3NdO2ZvcihsZXQgZT0wO2U8bi5jaGlsZEV2ZW50cy5sZW5ndGg7ZSsrKXtjb25zdCBvPXJpKHQsbi5jaGlsZEV2ZW50c1tlXSk7aT1pLmNvbmNhdChvKX1yZXR1cm4gaX1mdW5jdGlvbiBzaSh0LGUsbil7Zm9yKGxldFtpLG9db2YgdCl7bz9cImZ1bmN0aW9uXCI9PXR5cGVvZiBvJiYobz1vKGUubmFtZSkpOm89ZS5uYW1lO2NvbnN0IHQ9bmV3IEpuKGUuc291cmNlLG8pO3QucGF0aD1bLi4uZS5wYXRoXSxpLmZpcmUodCwuLi5uKX19ZnVuY3Rpb24gYWkodCxlLG4pe2NvbnN0IGk9cmkodCxlKTtmb3IoY29uc3QgdCBvZiBpKWZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV0uY2FsbGJhY2s9PW4mJih0LnNwbGljZShlLDEpLGUtLSl9ZnVuY3Rpb24gY2kodCwuLi5lKXtlLmZvckVhY2goZT0+e09iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGUpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpKS5mb3JFYWNoKG49PntpZihuIGluIHQucHJvdG90eXBlKXJldHVybjtjb25zdCBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSxuKTtpLmVudW1lcmFibGU9ITEsT2JqZWN0LmRlZmluZVByb3BlcnR5KHQucHJvdG90eXBlLG4saSl9KX0pfWZ1bmN0aW9uIGxpKHQsZSl7Y29uc3Qgbj1NYXRoLm1pbih0Lmxlbmd0aCxlLmxlbmd0aCk7Zm9yKGxldCBpPTA7aTxuO2krKylpZih0W2ldIT1lW2ldKXJldHVybiBpO3JldHVybiB0Lmxlbmd0aD09ZS5sZW5ndGg/XCJzYW1lXCI6dC5sZW5ndGg8ZS5sZW5ndGg/XCJwcmVmaXhcIjpcImV4dGVuc2lvblwifXZhciBkaT00O3ZhciB1aT1mdW5jdGlvbih0KXtyZXR1cm4gRm4odCxkaSl9O2NsYXNzIGhpe2NvbnN0cnVjdG9yKCl7dGhpcy5wYXJlbnQ9bnVsbH1nZXQgaW5kZXgoKXtsZXQgdDtpZighdGhpcy5wYXJlbnQpcmV0dXJuIG51bGw7aWYoLTE9PSh0PXRoaXMucGFyZW50LmdldENoaWxkSW5kZXgodGhpcykpKXRocm93IG5ldyBHbi5iKFwidmlldy1ub2RlLW5vdC1mb3VuZC1pbi1wYXJlbnQ6IFRoZSBub2RlJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLlwiKTtyZXR1cm4gdH1nZXQgbmV4dFNpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0KzEpfHxudWxsfWdldCBwcmV2aW91c1NpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0LTEpfHxudWxsfWdldCByb290KCl7bGV0IHQ9dGhpcztmb3IoO3QucGFyZW50Oyl0PXQucGFyZW50O3JldHVybiB0fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnBhcmVudCBpbnN0YW5jZW9mIGhpP3RoaXMucGFyZW50LmRvY3VtZW50Om51bGx9Z2V0UGF0aCgpe2NvbnN0IHQ9W107bGV0IGU9dGhpcztmb3IoO2UucGFyZW50Oyl0LnVuc2hpZnQoZS5pbmRleCksZT1lLnBhcmVudDtyZXR1cm4gdH1nZXRBbmNlc3RvcnModD17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCBlPVtdO2xldCBuPXQuaW5jbHVkZVNlbGY/dGhpczp0aGlzLnBhcmVudDtmb3IoO247KWVbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0obiksbj1uLnBhcmVudDtyZXR1cm4gZX1nZXRDb21tb25BbmNlc3Rvcih0LGU9e30pe2NvbnN0IG49dGhpcy5nZXRBbmNlc3RvcnMoZSksaT10LmdldEFuY2VzdG9ycyhlKTtsZXQgbz0wO2Zvcig7bltvXT09aVtvXSYmbltvXTspbysrO3JldHVybiAwPT09bz9udWxsOm5bby0xXX1pc0JlZm9yZSh0KXtpZih0aGlzPT10KXJldHVybiExO2lmKHRoaXMucm9vdCE9PXQucm9vdClyZXR1cm4hMTtjb25zdCBlPXRoaXMuZ2V0UGF0aCgpLG49dC5nZXRQYXRoKCksaT1saShlLG4pO3N3aXRjaChpKXtjYXNlXCJwcmVmaXhcIjpyZXR1cm4hMDtjYXNlXCJleHRlbnNpb25cIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBlW2ldPG5baV19fWlzQWZ0ZXIodCl7cmV0dXJuIHRoaXMhPXQmJih0aGlzLnJvb3Q9PT10LnJvb3QmJiF0aGlzLmlzQmVmb3JlKHQpKX1fcmVtb3ZlKCl7dGhpcy5wYXJlbnQuX3JlbW92ZUNoaWxkcmVuKHRoaXMuaW5kZXgpfV9maXJlQ2hhbmdlKHQsZSl7dGhpcy5maXJlKFwiY2hhbmdlOlwiK3QsZSksdGhpcy5wYXJlbnQmJnRoaXMucGFyZW50Ll9maXJlQ2hhbmdlKHQsZSl9dG9KU09OKCl7Y29uc3QgdD11aSh0aGlzKTtyZXR1cm4gZGVsZXRlIHQucGFyZW50LHR9aXModCl7cmV0dXJuXCJub2RlXCI9PXR9fWNpKGhpLGVpKTtjbGFzcyBmaSBleHRlbmRzIGhpe2NvbnN0cnVjdG9yKHQpe3N1cGVyKCksdGhpcy5fdGV4dERhdGE9dH1pcyh0KXtyZXR1cm5cInRleHRcIj09dHx8c3VwZXIuaXModCl9Z2V0IGRhdGEoKXtyZXR1cm4gdGhpcy5fdGV4dERhdGF9Z2V0IF9kYXRhKCl7cmV0dXJuIHRoaXMuZGF0YX1zZXQgX2RhdGEodCl7dGhpcy5fZmlyZUNoYW5nZShcInRleHRcIix0aGlzKSx0aGlzLl90ZXh0RGF0YT10fWlzU2ltaWxhcih0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZpJiYodGhpcz09PXR8fHRoaXMuZGF0YT09PXQuZGF0YSl9X2Nsb25lKCl7cmV0dXJuIG5ldyBmaSh0aGlzLmRhdGEpfX1jbGFzcyBtaXtjb25zdHJ1Y3Rvcih0LGUsbil7aWYodGhpcy50ZXh0Tm9kZT10LGU8MHx8ZT50LmRhdGEubGVuZ3RoKXRocm93IG5ldyBHbi5iKFwidmlldy10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LlwiKTtpZihuPDB8fGUrbj50LmRhdGEubGVuZ3RoKXRocm93IG5ldyBHbi5iKFwidmlldy10ZXh0cHJveHktd3JvbmctbGVuZ3RoOiBHaXZlbiBsZW5ndGggdmFsdWUgaXMgaW5jb3JyZWN0LlwiKTt0aGlzLmRhdGE9dC5kYXRhLnN1YnN0cmluZyhlLGUrbiksdGhpcy5vZmZzZXRJblRleHQ9ZX1nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiB0aGlzLmRhdGEubGVuZ3RofWdldCBpc1BhcnRpYWwoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aCE9PXRoaXMudGV4dE5vZGUuZGF0YS5sZW5ndGh9Z2V0IHBhcmVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLnBhcmVudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnRleHROb2RlLnJvb3R9Z2V0IGRvY3VtZW50KCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZG9jdW1lbnR9aXModCl7cmV0dXJuXCJ0ZXh0UHJveHlcIj09dH1nZXRBbmNlc3RvcnModD17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCBlPVtdO2xldCBuPXQuaW5jbHVkZVNlbGY/dGhpcy50ZXh0Tm9kZTp0aGlzLnBhcmVudDtmb3IoO251bGwhPT1uOyllW3QucGFyZW50Rmlyc3Q/XCJwdXNoXCI6XCJ1bnNoaWZ0XCJdKG4pLG49bi5wYXJlbnQ7cmV0dXJuIGV9fWZ1bmN0aW9uIHBpKHQpe2NvbnN0IGU9bmV3IE1hcDtmb3IoY29uc3QgbiBpbiB0KWUuc2V0KG4sdFtuXSk7cmV0dXJuIGV9ZnVuY3Rpb24gZ2kodCl7cmV0dXJuISghdHx8IXRbU3ltYm9sLml0ZXJhdG9yXSl9Y2xhc3MgYml7Y29uc3RydWN0b3IoLi4udCl7dGhpcy5fcGF0dGVybnM9W10sdGhpcy5hZGQoLi4udCl9YWRkKC4uLnQpe2ZvcihsZXQgZSBvZiB0KShcInN0cmluZ1wiPT10eXBlb2YgZXx8ZSBpbnN0YW5jZW9mIFJlZ0V4cCkmJihlPXtuYW1lOmV9KSxlLmNsYXNzZXMmJihcInN0cmluZ1wiPT10eXBlb2YgZS5jbGFzc2VzfHxlLmNsYXNzZXMgaW5zdGFuY2VvZiBSZWdFeHApJiYoZS5jbGFzc2VzPVtlLmNsYXNzZXNdKSx0aGlzLl9wYXR0ZXJucy5wdXNoKGUpfW1hdGNoKC4uLnQpe2Zvcihjb25zdCBlIG9mIHQpZm9yKGNvbnN0IHQgb2YgdGhpcy5fcGF0dGVybnMpe2NvbnN0IG49d2koZSx0KTtpZihuKXJldHVybntlbGVtZW50OmUscGF0dGVybjp0LG1hdGNoOm59fXJldHVybiBudWxsfW1hdGNoQWxsKC4uLnQpe2NvbnN0IGU9W107Zm9yKGNvbnN0IG4gb2YgdClmb3IoY29uc3QgdCBvZiB0aGlzLl9wYXR0ZXJucyl7Y29uc3QgaT13aShuLHQpO2kmJmUucHVzaCh7ZWxlbWVudDpuLHBhdHRlcm46dCxtYXRjaDppfSl9cmV0dXJuIGUubGVuZ3RoPjA/ZTpudWxsfWdldEVsZW1lbnROYW1lKCl7aWYoMSE9PXRoaXMuX3BhdHRlcm5zLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuX3BhdHRlcm5zWzBdLGU9dC5uYW1lO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIHR8fCFlfHxlIGluc3RhbmNlb2YgUmVnRXhwP251bGw6ZX19ZnVuY3Rpb24gd2kodCxlKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlKXJldHVybiBlKHQpO2NvbnN0IG49e307cmV0dXJuIGUubmFtZSYmKG4ubmFtZT1mdW5jdGlvbih0LGUpe2lmKHQgaW5zdGFuY2VvZiBSZWdFeHApcmV0dXJuIHQudGVzdChlKTtyZXR1cm4gdD09PWV9KGUubmFtZSx0Lm5hbWUpLCFuLm5hbWUpP251bGw6ZS5hdHRyaWJ1dGVzJiYobi5hdHRyaWJ1dGVzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07aWYoIWUuaGFzQXR0cmlidXRlKGkpKXJldHVybiBudWxsO3tjb25zdCB0PWUuZ2V0QXR0cmlidXRlKGkpO2lmKCEwPT09byluLnB1c2goaSk7ZWxzZSBpZihvIGluc3RhbmNlb2YgUmVnRXhwKXtpZighby50ZXN0KHQpKXJldHVybiBudWxsO24ucHVzaChpKX1lbHNle2lmKHQhPT1vKXJldHVybiBudWxsO24ucHVzaChpKX19fXJldHVybiBufShlLmF0dHJpYnV0ZXMsdCksIW4uYXR0cmlidXRlcyk/bnVsbDohKGUuY2xhc3NlcyYmKG4uY2xhc3Nlcz1mdW5jdGlvbih0LGUpe2NvbnN0IG49W107Zm9yKGNvbnN0IGkgb2YgdClpZihpIGluc3RhbmNlb2YgUmVnRXhwKXtjb25zdCB0PWUuZ2V0Q2xhc3NOYW1lcygpO2Zvcihjb25zdCBlIG9mIHQpaS50ZXN0KGUpJiZuLnB1c2goZSk7aWYoMD09PW4ubGVuZ3RoKXJldHVybiBudWxsfWVsc2V7aWYoIWUuaGFzQ2xhc3MoaSkpcmV0dXJuIG51bGw7bi5wdXNoKGkpfXJldHVybiBufShlLmNsYXNzZXMsdCksIW4uY2xhc3NlcykpJiYoIShlLnN0eWxlcyYmKG4uc3R5bGVzPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1bXTtmb3IoY29uc3QgaSBpbiB0KXtjb25zdCBvPXRbaV07aWYoIWUuaGFzU3R5bGUoaSkpcmV0dXJuIG51bGw7e2NvbnN0IHQ9ZS5nZXRTdHlsZShpKTtpZihvIGluc3RhbmNlb2YgUmVnRXhwKXtpZighby50ZXN0KHQpKXJldHVybiBudWxsO24ucHVzaChpKX1lbHNle2lmKHQhPT1vKXJldHVybiBudWxsO24ucHVzaChpKX19fXJldHVybiBufShlLnN0eWxlcyx0KSwhbi5zdHlsZXMpKSYmbil9Y2xhc3MgX2kgZXh0ZW5kcyBoaXtjb25zdHJ1Y3Rvcih0LGUsbil7aWYoc3VwZXIoKSx0aGlzLm5hbWU9dCx0aGlzLl9hdHRycz1mdW5jdGlvbih0KXt0PUModCk/cGkodCk6bmV3IE1hcCh0KTtmb3IoY29uc3RbZSxuXW9mIHQpbnVsbD09PW4/dC5kZWxldGUoZSk6XCJzdHJpbmdcIiE9dHlwZW9mIG4mJnQuc2V0KGUsU3RyaW5nKG4pKTtyZXR1cm4gdH0oZSksdGhpcy5fY2hpbGRyZW49W10sbiYmdGhpcy5faW5zZXJ0Q2hpbGQoMCxuKSx0aGlzLl9jbGFzc2VzPW5ldyBTZXQsdGhpcy5fYXR0cnMuaGFzKFwiY2xhc3NcIikpe2NvbnN0IHQ9dGhpcy5fYXR0cnMuZ2V0KFwiY2xhc3NcIik7dmkodGhpcy5fY2xhc3Nlcyx0KSx0aGlzLl9hdHRycy5kZWxldGUoXCJjbGFzc1wiKX10aGlzLl9zdHlsZXM9bmV3IE1hcCx0aGlzLl9hdHRycy5oYXMoXCJzdHlsZVwiKSYmKGtpKHRoaXMuX3N0eWxlcyx0aGlzLl9hdHRycy5nZXQoXCJzdHlsZVwiKSksdGhpcy5fYXR0cnMuZGVsZXRlKFwic3R5bGVcIikpLHRoaXMuX2N1c3RvbVByb3BlcnRpZXM9bmV3IE1hcH1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuX2NoaWxkcmVuLmxlbmd0aH1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJlbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZTpcImVsZW1lbnRcIj09dHx8dD09dGhpcy5uYW1lfHxzdXBlci5pcyh0KX1nZXRDaGlsZCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bdF19Z2V0Q2hpbGRJbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uaW5kZXhPZih0KX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9KmdldEF0dHJpYnV0ZUtleXMoKXt0aGlzLl9jbGFzc2VzLnNpemU+MCYmKHlpZWxkXCJjbGFzc1wiKSx0aGlzLl9zdHlsZXMuc2l6ZT4wJiYoeWllbGRcInN0eWxlXCIpLHlpZWxkKnRoaXMuX2F0dHJzLmtleXMoKX0qZ2V0QXR0cmlidXRlcygpe3lpZWxkKnRoaXMuX2F0dHJzLmVudHJpZXMoKSx0aGlzLl9jbGFzc2VzLnNpemU+MCYmKHlpZWxkW1wiY2xhc3NcIix0aGlzLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpXSksdGhpcy5fc3R5bGVzLnNpemU+MCYmKHlpZWxkW1wic3R5bGVcIix0aGlzLmdldEF0dHJpYnV0ZShcInN0eWxlXCIpXSl9Z2V0QXR0cmlidXRlKHQpe2lmKFwiY2xhc3NcIj09dClyZXR1cm4gdGhpcy5fY2xhc3Nlcy5zaXplPjA/Wy4uLnRoaXMuX2NsYXNzZXNdLmpvaW4oXCIgXCIpOnZvaWQgMDtpZihcInN0eWxlXCIhPXQpcmV0dXJuIHRoaXMuX2F0dHJzLmdldCh0KTtpZih0aGlzLl9zdHlsZXMuc2l6ZT4wKXtsZXQgdD1cIlwiO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fc3R5bGVzKXQrPWAke2V9OiR7bn07YDtyZXR1cm4gdH19aGFzQXR0cmlidXRlKHQpe3JldHVyblwiY2xhc3NcIj09dD90aGlzLl9jbGFzc2VzLnNpemU+MDpcInN0eWxlXCI9PXQ/dGhpcy5fc3R5bGVzLnNpemU+MDp0aGlzLl9hdHRycy5oYXModCl9aXNTaW1pbGFyKHQpe2lmKCEodCBpbnN0YW5jZW9mIF9pKSlyZXR1cm4hMTtpZih0aGlzPT09dClyZXR1cm4hMDtpZih0aGlzLm5hbWUhPXQubmFtZSlyZXR1cm4hMTtpZih0aGlzLl9hdHRycy5zaXplIT09dC5fYXR0cnMuc2l6ZXx8dGhpcy5fY2xhc3Nlcy5zaXplIT09dC5fY2xhc3Nlcy5zaXplfHx0aGlzLl9zdHlsZXMuc2l6ZSE9PXQuX3N0eWxlcy5zaXplKXJldHVybiExO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fYXR0cnMpaWYoIXQuX2F0dHJzLmhhcyhlKXx8dC5fYXR0cnMuZ2V0KGUpIT09bilyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiB0aGlzLl9jbGFzc2VzKWlmKCF0Ll9jbGFzc2VzLmhhcyhlKSlyZXR1cm4hMTtmb3IoY29uc3RbZSxuXW9mIHRoaXMuX3N0eWxlcylpZighdC5fc3R5bGVzLmhhcyhlKXx8dC5fc3R5bGVzLmdldChlKSE9PW4pcmV0dXJuITE7cmV0dXJuITB9aGFzQ2xhc3MoLi4udCl7Zm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5fY2xhc3Nlcy5oYXMoZSkpcmV0dXJuITE7cmV0dXJuITB9Z2V0Q2xhc3NOYW1lcygpe3JldHVybiB0aGlzLl9jbGFzc2VzLmtleXMoKX1nZXRTdHlsZSh0KXtyZXR1cm4gdGhpcy5fc3R5bGVzLmdldCh0KX1nZXRTdHlsZU5hbWVzKCl7cmV0dXJuIHRoaXMuX3N0eWxlcy5rZXlzKCl9aGFzU3R5bGUoLi4udCl7Zm9yKGNvbnN0IGUgb2YgdClpZighdGhpcy5fc3R5bGVzLmhhcyhlKSlyZXR1cm4hMTtyZXR1cm4hMH1maW5kQW5jZXN0b3IoLi4udCl7Y29uc3QgZT1uZXcgYmkoLi4udCk7bGV0IG49dGhpcy5wYXJlbnQ7Zm9yKDtuOyl7aWYoZS5tYXRjaChuKSlyZXR1cm4gbjtuPW4ucGFyZW50fXJldHVybiBudWxsfWdldEN1c3RvbVByb3BlcnR5KHQpe3JldHVybiB0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLmdldCh0KX0qZ2V0Q3VzdG9tUHJvcGVydGllcygpe3lpZWxkKnRoaXMuX2N1c3RvbVByb3BlcnRpZXMuZW50cmllcygpfWdldElkZW50aXR5KCl7Y29uc3QgdD1BcnJheS5mcm9tKHRoaXMuX2NsYXNzZXMpLnNvcnQoKS5qb2luKFwiLFwiKSxlPUFycmF5LmZyb20odGhpcy5fc3R5bGVzKS5tYXAodD0+YCR7dFswXX06JHt0WzFdfWApLnNvcnQoKS5qb2luKFwiO1wiKSxuPUFycmF5LmZyb20odGhpcy5fYXR0cnMpLm1hcCh0PT5gJHt0WzBdfT1cIiR7dFsxXX1cImApLnNvcnQoKS5qb2luKFwiIFwiKTtyZXR1cm4gdGhpcy5uYW1lKyhcIlwiPT10P1wiXCI6YCBjbGFzcz1cIiR7dH1cImApKyhcIlwiPT1lP1wiXCI6YCBzdHlsZT1cIiR7ZX1cImApKyhcIlwiPT1uP1wiXCI6YCAke259YCl9X2Nsb25lKHQ9ITEpe2NvbnN0IGU9W107aWYodClmb3IoY29uc3QgbiBvZiB0aGlzLmdldENoaWxkcmVuKCkpZS5wdXNoKG4uX2Nsb25lKHQpKTtjb25zdCBuPW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMubmFtZSx0aGlzLl9hdHRycyxlKTtyZXR1cm4gbi5fY2xhc3Nlcz1uZXcgU2V0KHRoaXMuX2NsYXNzZXMpLG4uX3N0eWxlcz1uZXcgTWFwKHRoaXMuX3N0eWxlcyksbi5fY3VzdG9tUHJvcGVydGllcz1uZXcgTWFwKHRoaXMuX2N1c3RvbVByb3BlcnRpZXMpLG4uZ2V0RmlsbGVyT2Zmc2V0PXRoaXMuZ2V0RmlsbGVyT2Zmc2V0LG59X2FwcGVuZENoaWxkKHQpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9X2luc2VydENoaWxkKHQsZSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7bGV0IG49MDtjb25zdCBpPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybltuZXcgZmkodCldO2dpKHQpfHwodD1bdF0pO3JldHVybiBBcnJheS5mcm9tKHQpLm1hcCh0PT5cInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgZmkodCk6dCBpbnN0YW5jZW9mIG1pP25ldyBmaSh0LmRhdGEpOnQpfShlKTtmb3IoY29uc3QgZSBvZiBpKW51bGwhPT1lLnBhcmVudCYmZS5fcmVtb3ZlKCksZS5wYXJlbnQ9dGhpcyx0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCwwLGUpLHQrKyxuKys7cmV0dXJuIG59X3JlbW92ZUNoaWxkcmVuKHQsZT0xKXt0aGlzLl9maXJlQ2hhbmdlKFwiY2hpbGRyZW5cIix0aGlzKTtmb3IobGV0IG49dDtuPHQrZTtuKyspdGhpcy5fY2hpbGRyZW5bbl0ucGFyZW50PW51bGw7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLnNwbGljZSh0LGUpfV9zZXRBdHRyaWJ1dGUodCxlKXtlPVN0cmluZyhlKSx0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLFwiY2xhc3NcIj09dD92aSh0aGlzLl9jbGFzc2VzLGUpOlwic3R5bGVcIj09dD9raSh0aGlzLl9zdHlsZXMsZSk6dGhpcy5fYXR0cnMuc2V0KHQsZSl9X3JlbW92ZUF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSxcImNsYXNzXCI9PXQ/dGhpcy5fY2xhc3Nlcy5zaXplPjAmJih0aGlzLl9jbGFzc2VzLmNsZWFyKCksITApOlwic3R5bGVcIj09dD90aGlzLl9zdHlsZXMuc2l6ZT4wJiYodGhpcy5fc3R5bGVzLmNsZWFyKCksITApOnRoaXMuX2F0dHJzLmRlbGV0ZSh0KX1fYWRkQ2xhc3ModCl7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSwodD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5mb3JFYWNoKHQ9PnRoaXMuX2NsYXNzZXMuYWRkKHQpKX1fcmVtb3ZlQ2xhc3ModCl7dGhpcy5fZmlyZUNoYW5nZShcImF0dHJpYnV0ZXNcIix0aGlzKSwodD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdKS5mb3JFYWNoKHQ9PnRoaXMuX2NsYXNzZXMuZGVsZXRlKHQpKX1fc2V0U3R5bGUodCxlKXtpZih0aGlzLl9maXJlQ2hhbmdlKFwiYXR0cmlidXRlc1wiLHRoaXMpLEModCkpe2NvbnN0IGU9T2JqZWN0LmtleXModCk7Zm9yKGNvbnN0IG4gb2YgZSl0aGlzLl9zdHlsZXMuc2V0KG4sdFtuXSl9ZWxzZSB0aGlzLl9zdHlsZXMuc2V0KHQsZSl9X3JlbW92ZVN0eWxlKHQpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJhdHRyaWJ1dGVzXCIsdGhpcyksKHQ9QXJyYXkuaXNBcnJheSh0KT90Olt0XSkuZm9yRWFjaCh0PT50aGlzLl9zdHlsZXMuZGVsZXRlKHQpKX1fc2V0Q3VzdG9tUHJvcGVydHkodCxlKXt0aGlzLl9jdXN0b21Qcm9wZXJ0aWVzLnNldCh0LGUpfV9yZW1vdmVDdXN0b21Qcm9wZXJ0eSh0KXtyZXR1cm4gdGhpcy5fY3VzdG9tUHJvcGVydGllcy5kZWxldGUodCl9fWZ1bmN0aW9uIGtpKHQsZSl7bGV0IG49bnVsbCxpPTAsbz0wLHI9bnVsbDtpZih0LmNsZWFyKCksXCJcIiE9PWUpe1wiO1wiIT1lLmNoYXJBdChlLmxlbmd0aC0xKSYmKGUrPVwiO1wiKTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgYT1lLmNoYXJBdChzKTtpZihudWxsPT09bilzd2l0Y2goYSl7Y2FzZVwiOlwiOnJ8fChyPWUuc3Vic3RyKGkscy1pKSxvPXMrMSk7YnJlYWs7Y2FzZSdcIic6Y2FzZVwiJ1wiOm49YTticmVhaztjYXNlXCI7XCI6e2NvbnN0IG49ZS5zdWJzdHIobyxzLW8pO3ImJnQuc2V0KHIudHJpbSgpLG4udHJpbSgpKSxyPW51bGwsaT1zKzE7YnJlYWt9fWVsc2UgYT09PW4mJihuPW51bGwpfX19ZnVuY3Rpb24gdmkodCxlKXtjb25zdCBuPWUuc3BsaXQoL1xccysvKTt0LmNsZWFyKCksbi5mb3JFYWNoKGU9PnQuYWRkKGUpKX1jbGFzcyB5aSBleHRlbmRzIF9pe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9eGl9aXModCxlPW51bGwpe3JldHVybiBlP1wiY29udGFpbmVyRWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJjb250YWluZXJFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfX1mdW5jdGlvbiB4aSgpe2NvbnN0IHQ9Wy4uLnRoaXMuZ2V0Q2hpbGRyZW4oKV0sZT10W3RoaXMuY2hpbGRDb3VudC0xXTtpZihlJiZlLmlzKFwiZWxlbWVudFwiLFwiYnJcIikpcmV0dXJuIHRoaXMuY2hpbGRDb3VudDtmb3IoY29uc3QgZSBvZiB0KWlmKCFlLmlzKFwidWlFbGVtZW50XCIpKXJldHVybiBudWxsO3JldHVybiB0aGlzLmNoaWxkQ291bnR9dmFyIEFpPWZ1bmN0aW9uKHQpe3JldHVybiB0fTt2YXIgQ2k9ZnVuY3Rpb24odCxlLG4pe3N3aXRjaChuLmxlbmd0aCl7Y2FzZSAwOnJldHVybiB0LmNhbGwoZSk7Y2FzZSAxOnJldHVybiB0LmNhbGwoZSxuWzBdKTtjYXNlIDI6cmV0dXJuIHQuY2FsbChlLG5bMF0sblsxXSk7Y2FzZSAzOnJldHVybiB0LmNhbGwoZSxuWzBdLG5bMV0sblsyXSl9cmV0dXJuIHQuYXBwbHkoZSxuKX0sVGk9TWF0aC5tYXg7dmFyIFBpPWZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZT1UaSh2b2lkIDA9PT1lP3QubGVuZ3RoLTE6ZSwwKSxmdW5jdGlvbigpe2Zvcih2YXIgaT1hcmd1bWVudHMsbz0tMSxyPVRpKGkubGVuZ3RoLWUsMCkscz1BcnJheShyKTsrK288cjspc1tvXT1pW2Urb107bz0tMTtmb3IodmFyIGE9QXJyYXkoZSsxKTsrK288ZTspYVtvXT1pW29dO3JldHVybiBhW2VdPW4ocyksQ2kodCx0aGlzLGEpfX07dmFyIE1pPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0fX0sRWk9T3Q/ZnVuY3Rpb24odCxlKXtyZXR1cm4gT3QodCxcInRvU3RyaW5nXCIse2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiExLHZhbHVlOk1pKGUpLHdyaXRhYmxlOiEwfSl9OkFpLFNpPTgwMCxJaT0xNixOaT1EYXRlLm5vdzt2YXIgT2k9ZnVuY3Rpb24odCl7dmFyIGU9MCxuPTA7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9TmkoKSxvPUlpLShpLW4pO2lmKG49aSxvPjApe2lmKCsrZT49U2kpcmV0dXJuIGFyZ3VtZW50c1swXX1lbHNlIGU9MDtyZXR1cm4gdC5hcHBseSh2b2lkIDAsYXJndW1lbnRzKX19KEVpKTt2YXIgUmk9ZnVuY3Rpb24odCxlKXtyZXR1cm4gT2koUGkodCxlLEFpKSx0K1wiXCIpfTt2YXIgRGk9ZnVuY3Rpb24odCxlLG4pe2lmKCF6KG4pKXJldHVybiExO3ZhciBpPXR5cGVvZiBlO3JldHVybiEhKFwibnVtYmVyXCI9PWk/dWUobikmJlF0KGUsbi5sZW5ndGgpOlwic3RyaW5nXCI9PWkmJmUgaW4gbikmJlAobltlXSx0KX07dmFyIExpPWZ1bmN0aW9uKHQpe3JldHVybiBSaShmdW5jdGlvbihlLG4pe3ZhciBpPS0xLG89bi5sZW5ndGgscj1vPjE/bltvLTFdOnZvaWQgMCxzPW8+Mj9uWzJdOnZvaWQgMDtmb3Iocj10Lmxlbmd0aD4zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiByPyhvLS0scik6dm9pZCAwLHMmJkRpKG5bMF0sblsxXSxzKSYmKHI9bzwzP3ZvaWQgMDpyLG89MSksZT1PYmplY3QoZSk7KytpPG87KXt2YXIgYT1uW2ldO2EmJnQoZSxhLGkscil9cmV0dXJuIGV9KX0oZnVuY3Rpb24odCxlKXtqdChlLGJlKGUpLHQpfSk7Y29uc3Qgamk9U3ltYm9sKFwib2JzZXJ2YWJsZVByb3BlcnRpZXNcIiksVmk9U3ltYm9sKFwiYm91bmRPYnNlcnZhYmxlc1wiKSxCaT1TeW1ib2woXCJib3VuZFByb3BlcnRpZXNcIiksemk9e3NldCh0LGUpe2lmKHoodCkpcmV0dXJuIHZvaWQgT2JqZWN0LmtleXModCkuZm9yRWFjaChlPT57dGhpcy5zZXQoZSx0W2VdKX0sdGhpcyk7VWkodGhpcyk7Y29uc3Qgbj10aGlzW2ppXTtpZih0IGluIHRoaXMmJiFuLmhhcyh0KSl0aHJvdyBuZXcgR24uYihcIm9ic2VydmFibGUtc2V0LWNhbm5vdC1vdmVycmlkZTogQ2Fubm90IG92ZXJyaWRlIGFuIGV4aXN0aW5nIHByb3BlcnR5LlwiKTtPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyx0LHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6KCk9Pm4uZ2V0KHQpLHNldChlKXtjb25zdCBpPW4uZ2V0KHQpO2xldCBvPXRoaXMuZmlyZShcInNldDpcIit0LHQsZSxpKTt2b2lkIDA9PT1vJiYobz1lKSxpPT09byYmbi5oYXModCl8fChuLnNldCh0LG8pLHRoaXMuZmlyZShcImNoYW5nZTpcIit0LHQsbyxpKSl9fSksdGhpc1t0XT1lfSxiaW5kKC4uLnQpe2lmKCF0Lmxlbmd0aHx8IVdpKHQpKXRocm93IG5ldyBHbi5iKFwib2JzZXJ2YWJsZS1iaW5kLXdyb25nLXByb3BlcnRpZXM6IEFsbCBwcm9wZXJ0aWVzIG11c3QgYmUgc3RyaW5ncy5cIik7aWYobmV3IFNldCh0KS5zaXplIT09dC5sZW5ndGgpdGhyb3cgbmV3IEduLmIoXCJvYnNlcnZhYmxlLWJpbmQtZHVwbGljYXRlLXByb3BlcnRpZXM6IFByb3BlcnRpZXMgbXVzdCBiZSB1bmlxdWUuXCIpO1VpKHRoaXMpO2NvbnN0IGU9dGhpc1tCaV07dC5mb3JFYWNoKHQ9PntpZihlLmhhcyh0KSl0aHJvdyBuZXcgR24uYihcIm9ic2VydmFibGUtYmluZC1yZWJpbmQ6IENhbm5vdCBiaW5kIHRoZSBzYW1lIHByb3BlcnR5IG1vcmUgdGhhdCBvbmNlLlwiKX0pO2NvbnN0IG49bmV3IE1hcDtyZXR1cm4gdC5mb3JFYWNoKHQ9Pntjb25zdCBpPXtwcm9wZXJ0eTp0LHRvOltdfTtlLnNldCh0LGkpLG4uc2V0KHQsaSl9KSx7dG86SGksdG9NYW55OnFpLF9vYnNlcnZhYmxlOnRoaXMsX2JpbmRQcm9wZXJ0aWVzOnQsX3RvOltdLF9iaW5kaW5nczpufX0sdW5iaW5kKC4uLnQpe2lmKCEoamkgaW4gdGhpcykpcmV0dXJuO2NvbnN0IGU9dGhpc1tCaV0sbj10aGlzW1ZpXTtpZih0Lmxlbmd0aCl7aWYoIVdpKHQpKXRocm93IG5ldyBHbi5iKFwib2JzZXJ2YWJsZS11bmJpbmQtd3JvbmctcHJvcGVydGllczogUHJvcGVydGllcyBtdXN0IGJlIHN0cmluZ3MuXCIpO3QuZm9yRWFjaCh0PT57Y29uc3QgaT1lLmdldCh0KTtpZighaSlyZXR1cm47bGV0IG8scixzLGE7aS50by5mb3JFYWNoKHQ9PntvPXRbMF0scj10WzFdLHM9bi5nZXQobyksKGE9c1tyXSkuZGVsZXRlKGkpLGEuc2l6ZXx8ZGVsZXRlIHNbcl0sT2JqZWN0LmtleXMocykubGVuZ3RofHwobi5kZWxldGUobyksdGhpcy5zdG9wTGlzdGVuaW5nKG8sXCJjaGFuZ2VcIikpfSksZS5kZWxldGUodCl9KX1lbHNlIG4uZm9yRWFjaCgodCxlKT0+e3RoaXMuc3RvcExpc3RlbmluZyhlLFwiY2hhbmdlXCIpfSksbi5jbGVhcigpLGUuY2xlYXIoKX0sZGVjb3JhdGUodCl7Y29uc3QgZT10aGlzW3RdO2lmKCFlKXRocm93IG5ldyBHbi5iKFwib2JzZXJ2YWJsZW1peGluLWNhbm5vdC1kZWNvcmF0ZS11bmRlZmluZWQ6IENhbm5vdCBkZWNvcmF0ZSBhbiB1bmRlZmluZWQgbWV0aG9kLlwiLHtvYmplY3Q6dGhpcyxtZXRob2ROYW1lOnR9KTt0aGlzLm9uKHQsKHQsbik9Pnt0LnJldHVybj1lLmFwcGx5KHRoaXMsbil9KSx0aGlzW3RdPWZ1bmN0aW9uKC4uLmUpe3JldHVybiB0aGlzLmZpcmUodCxlKX19fTtMaSh6aSxlaSk7dmFyIEZpPXppO2Z1bmN0aW9uIFVpKHQpe2ppIGluIHR8fChPYmplY3QuZGVmaW5lUHJvcGVydHkodCxqaSx7dmFsdWU6bmV3IE1hcH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFZpLHt2YWx1ZTpuZXcgTWFwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsQmkse3ZhbHVlOm5ldyBNYXB9KSl9ZnVuY3Rpb24gSGkoLi4udCl7Y29uc3QgZT1mdW5jdGlvbiguLi50KXtpZighdC5sZW5ndGgpdGhyb3cgbmV3IEduLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tcGFyc2UtZXJyb3I6IEludmFsaWQgYXJndW1lbnQgc3ludGF4IGluIGB0bygpYC5cIik7Y29uc3QgZT17dG86W119O2xldCBuO1wiZnVuY3Rpb25cIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihlLmNhbGxiYWNrPXQucG9wKCkpO3JldHVybiB0LmZvckVhY2godD0+e2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KW4ucHJvcGVydGllcy5wdXNoKHQpO2Vsc2V7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHQpdGhyb3cgbmV3IEduLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tcGFyc2UtZXJyb3I6IEludmFsaWQgYXJndW1lbnQgc3ludGF4IGluIGB0bygpYC5cIik7bj17b2JzZXJ2YWJsZTp0LHByb3BlcnRpZXM6W119LGUudG8ucHVzaChuKX19KSxlfSguLi50KSxuPUFycmF5LmZyb20odGhpcy5fYmluZGluZ3Mua2V5cygpKSxpPW4ubGVuZ3RoO2lmKCFlLmNhbGxiYWNrJiZlLnRvLmxlbmd0aD4xKXRocm93IG5ldyBHbi5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLW5vLWNhbGxiYWNrOiBCaW5kaW5nIG11bHRpcGxlIG9ic2VydmFibGVzIG9ubHkgcG9zc2libGUgd2l0aCBjYWxsYmFjay5cIik7aWYoaT4xJiZlLmNhbGxiYWNrKXRocm93IG5ldyBHbi5iKFwib2JzZXJ2YWJsZS1iaW5kLXRvLWV4dHJhLWNhbGxiYWNrOiBDYW5ub3QgYmluZCBtdWx0aXBsZSBwcm9wZXJ0aWVzIGFuZCB1c2UgYSBjYWxsYmFjayBpbiBvbmUgYmluZGluZy5cIik7ZS50by5mb3JFYWNoKHQ9PntpZih0LnByb3BlcnRpZXMubGVuZ3RoJiZ0LnByb3BlcnRpZXMubGVuZ3RoIT09aSl0aHJvdyBuZXcgR24uYihcIm9ic2VydmFibGUtYmluZC10by1wcm9wZXJ0aWVzLWxlbmd0aDogVGhlIG51bWJlciBvZiBwcm9wZXJ0aWVzIG11c3QgbWF0Y2guXCIpO3QucHJvcGVydGllcy5sZW5ndGh8fCh0LnByb3BlcnRpZXM9dGhpcy5fYmluZFByb3BlcnRpZXMpfSksdGhpcy5fdG89ZS50byxlLmNhbGxiYWNrJiYodGhpcy5fYmluZGluZ3MuZ2V0KG5bMF0pLmNhbGxiYWNrPWUuY2FsbGJhY2spLGZ1bmN0aW9uKHQsZSl7ZS5mb3JFYWNoKGU9Pntjb25zdCBuPXRbVmldO2xldCBpO24uZ2V0KGUub2JzZXJ2YWJsZSl8fHQubGlzdGVuVG8oZS5vYnNlcnZhYmxlLFwiY2hhbmdlXCIsKG8scik9PnsoaT1uLmdldChlLm9ic2VydmFibGUpW3JdKSYmaS5mb3JFYWNoKGU9PntZaSh0LGUucHJvcGVydHkpfSl9KX0pfSh0aGlzLl9vYnNlcnZhYmxlLHRoaXMuX3RvKSxmdW5jdGlvbih0KXtsZXQgZTt0Ll9iaW5kaW5ncy5mb3JFYWNoKChuLGkpPT57dC5fdG8uZm9yRWFjaChvPT57ZT1vLnByb3BlcnRpZXNbbi5jYWxsYmFjaz8wOnQuX2JpbmRQcm9wZXJ0aWVzLmluZGV4T2YoaSldLG4udG8ucHVzaChbby5vYnNlcnZhYmxlLGVdKSxmdW5jdGlvbih0LGUsbixpKXtjb25zdCBvPXRbVmldLHI9by5nZXQobikscz1yfHx7fTtzW2ldfHwoc1tpXT1uZXcgU2V0KTtzW2ldLmFkZChlKSxyfHxvLnNldChuLHMpfSh0Ll9vYnNlcnZhYmxlLG4sby5vYnNlcnZhYmxlLGUpfSl9KX0odGhpcyksdGhpcy5fYmluZFByb3BlcnRpZXMuZm9yRWFjaCh0PT57WWkodGhpcy5fb2JzZXJ2YWJsZSx0KX0pfWZ1bmN0aW9uIHFpKHQsZSxuKXtpZih0aGlzLl9iaW5kaW5ncy5zaXplPjEpdGhyb3cgbmV3IEduLmIoXCJvYnNlcnZhYmxlLWJpbmQtdG8tbWFueS1ub3Qtb25lLWJpbmRpbmc6IENhbm5vdCBiaW5kIG11bHRpcGxlIHByb3BlcnRpZXMgd2l0aCB0b01hbnkoKS5cIik7dGhpcy50byguLi5mdW5jdGlvbih0LGUpe2NvbnN0IG49dC5tYXAodD0+W3QsZV0pO3JldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLG4pfSh0LGUpLG4pfWZ1bmN0aW9uIFdpKHQpe3JldHVybiB0LmV2ZXJ5KHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0KX1mdW5jdGlvbiBZaSh0LGUpe2NvbnN0IG49dFtCaV0uZ2V0KGUpO2xldCBpO2k9bi5jYWxsYmFjaz9uLmNhbGxiYWNrLmFwcGx5KHQsbi50by5tYXAodD0+dFswXVt0WzFdXSkpOihpPW4udG9bMF0pWzBdW2lbMV1dLHQuaGFzT3duUHJvcGVydHkoZSk/dFtlXT1pOnQuc2V0KGUsaSl9Y29uc3QgJGk9U3ltYm9sKFwiZG9jdW1lbnRcIik7Y2xhc3MgR2kgZXh0ZW5kcyB5aXtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKX1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJlZGl0YWJsZUVsZW1lbnRcIj09dCYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpOlwiZWRpdGFibGVFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1nZXQgZG9jdW1lbnQoKXtyZXR1cm4gdGhpcy5nZXRDdXN0b21Qcm9wZXJ0eSgkaSl9c2V0IF9kb2N1bWVudCh0KXtpZih0aGlzLmdldEN1c3RvbVByb3BlcnR5KCRpKSl0aHJvdyBuZXcgR24uYihcInZpZXctZWRpdGFibGVlbGVtZW50LWRvY3VtZW50LWFscmVhZHktc2V0OiBWaWV3IGRvY3VtZW50IGlzIGFscmVhZHkgc2V0LlwiKTt0aGlzLl9zZXRDdXN0b21Qcm9wZXJ0eSgkaSx0KSx0aGlzLmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKHQpLHRoaXMuYmluZChcImlzRm9jdXNlZFwiKS50byh0LFwiaXNGb2N1c2VkXCIsZT0+ZSYmdC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50PT10aGlzKSx0aGlzLmxpc3RlblRvKHQuc2VsZWN0aW9uLFwiY2hhbmdlXCIsKCk9Pnt0aGlzLmlzRm9jdXNlZD10LmlzRm9jdXNlZCYmdC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50PT10aGlzfSl9fWNpKEdpLEZpKTtjb25zdCBRaT1TeW1ib2woXCJyb290TmFtZVwiKTtjbGFzcyBKaSBleHRlbmRzIEdpe2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMucm9vdE5hbWU9XCJtYWluXCJ9aXModCxlPW51bGwpe3JldHVybiBlP1wicm9vdEVsZW1lbnRcIj09dCYmZT09dGhpcy5uYW1lfHxzdXBlci5pcyh0LGUpOlwicm9vdEVsZW1lbnRcIj09dHx8c3VwZXIuaXModCl9Z2V0IHJvb3ROYW1lKCl7cmV0dXJuIHRoaXMuZ2V0Q3VzdG9tUHJvcGVydHkoUWkpfXNldCByb290TmFtZSh0KXt0aGlzLl9zZXRDdXN0b21Qcm9wZXJ0eShRaSx0KX1zZXQgX25hbWUodCl7dGhpcy5uYW1lPXR9fWNsYXNzIEtpe2NvbnN0cnVjdG9yKHQ9e30pe2lmKCF0LmJvdW5kYXJpZXMmJiF0LnN0YXJ0UG9zaXRpb24pdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXRyZWUtd2Fsa2VyLW5vLXN0YXJ0LXBvc2l0aW9uOiBOZWl0aGVyIGJvdW5kYXJpZXMgbm9yIHN0YXJ0aW5nIHBvc2l0aW9uIGhhdmUgYmVlbiBkZWZpbmVkLlwiKTtpZih0LmRpcmVjdGlvbiYmXCJmb3J3YXJkXCIhPXQuZGlyZWN0aW9uJiZcImJhY2t3YXJkXCIhPXQuZGlyZWN0aW9uKXRocm93IG5ldyBHbi5iKFwidmlldy10cmVlLXdhbGtlci11bmtub3duLWRpcmVjdGlvbjogT25seSBgYmFja3dhcmRgIGFuZCBgZm9yd2FyZGAgZGlyZWN0aW9uIGFsbG93ZWQuXCIse2RpcmVjdGlvbjp0LmRpcmVjdGlvbn0pO3RoaXMuYm91bmRhcmllcz10LmJvdW5kYXJpZXN8fG51bGwsdC5zdGFydFBvc2l0aW9uP3RoaXMucG9zaXRpb249WmkuX2NyZWF0ZUF0KHQuc3RhcnRQb3NpdGlvbik6dGhpcy5wb3NpdGlvbj1aaS5fY3JlYXRlQXQodC5ib3VuZGFyaWVzW1wiYmFja3dhcmRcIj09dC5kaXJlY3Rpb24/XCJlbmRcIjpcInN0YXJ0XCJdKSx0aGlzLmRpcmVjdGlvbj10LmRpcmVjdGlvbnx8XCJmb3J3YXJkXCIsdGhpcy5zaW5nbGVDaGFyYWN0ZXJzPSEhdC5zaW5nbGVDaGFyYWN0ZXJzLHRoaXMuc2hhbGxvdz0hIXQuc2hhbGxvdyx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ9ISF0Lmlnbm9yZUVsZW1lbnRFbmQsdGhpcy5fYm91bmRhcnlTdGFydFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0LnBhcmVudDpudWxsLHRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PXRoaXMuYm91bmRhcmllcz90aGlzLmJvdW5kYXJpZXMuZW5kLnBhcmVudDpudWxsfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcCh0KXtsZXQgZSxuLGk7ZG97aT10aGlzLnBvc2l0aW9uLCh7ZG9uZTplLHZhbHVlOm59PXRoaXMubmV4dCgpKX13aGlsZSghZSYmdChuKSk7ZXx8KHRoaXMucG9zaXRpb249aSl9bmV4dCgpe3JldHVyblwiZm9yd2FyZFwiPT10aGlzLmRpcmVjdGlvbj90aGlzLl9uZXh0KCk6dGhpcy5fcHJldmlvdXMoKX1fbmV4dCgpe2xldCB0PXRoaXMucG9zaXRpb24uY2xvbmUoKTtjb25zdCBlPXRoaXMucG9zaXRpb24sbj10LnBhcmVudDtpZihudWxsPT09bi5wYXJlbnQmJnQub2Zmc2V0PT09bi5jaGlsZENvdW50KXJldHVybntkb25lOiEwfTtpZihuPT09dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQmJnQub2Zmc2V0PT10aGlzLmJvdW5kYXJpZXMuZW5kLm9mZnNldClyZXR1cm57ZG9uZTohMH07bGV0IGk7aWYobiBpbnN0YW5jZW9mIGZpKXtpZih0LmlzQXRFbmQpcmV0dXJuIHRoaXMucG9zaXRpb249WmkuX2NyZWF0ZUFmdGVyKG4pLHRoaXMuX25leHQoKTtpPW4uZGF0YVt0Lm9mZnNldF19ZWxzZSBpPW4uZ2V0Q2hpbGQodC5vZmZzZXQpO2lmKGkgaW5zdGFuY2VvZiBfaSlyZXR1cm4gdGhpcy5zaGFsbG93P3Qub2Zmc2V0Kys6dD1uZXcgWmkoaSwwKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50U3RhcnRcIixpLGUsdCwxKTtpZihpIGluc3RhbmNlb2YgZmkpe2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylyZXR1cm4gdD1uZXcgWmkoaSwwKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fbmV4dCgpO3tsZXQgbixvPWkuZGF0YS5sZW5ndGg7cmV0dXJuIGk9PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50PyhvPXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0LG49bmV3IG1pKGksMCxvKSx0PVppLl9jcmVhdGVBZnRlcihuKSk6KG49bmV3IG1pKGksMCxpLmRhdGEubGVuZ3RoKSx0Lm9mZnNldCsrKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJ0ZXh0XCIsbixlLHQsbyl9fWlmKFwic3RyaW5nXCI9PXR5cGVvZiBpKXtsZXQgaTtpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpaT0xO2Vsc2V7aT0obj09PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50P3RoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0Om4uZGF0YS5sZW5ndGgpLXQub2Zmc2V0fWNvbnN0IG89bmV3IG1pKG4sdC5vZmZzZXQsaSk7cmV0dXJuIHQub2Zmc2V0Kz1pLHRoaXMucG9zaXRpb249dCx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcInRleHRcIixvLGUsdCxpKX1yZXR1cm4gdD1aaS5fY3JlYXRlQWZ0ZXIobiksdGhpcy5wb3NpdGlvbj10LHRoaXMuaWdub3JlRWxlbWVudEVuZD90aGlzLl9uZXh0KCk6dGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50RW5kXCIsbixlLHQpfV9wcmV2aW91cygpe2xldCB0PXRoaXMucG9zaXRpb24uY2xvbmUoKTtjb25zdCBlPXRoaXMucG9zaXRpb24sbj10LnBhcmVudDtpZihudWxsPT09bi5wYXJlbnQmJjA9PT10Lm9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobj09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCYmdC5vZmZzZXQ9PXRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2xldCBpO2lmKG4gaW5zdGFuY2VvZiBmaSl7aWYodC5pc0F0U3RhcnQpcmV0dXJuIHRoaXMucG9zaXRpb249WmkuX2NyZWF0ZUJlZm9yZShuKSx0aGlzLl9wcmV2aW91cygpO2k9bi5kYXRhW3Qub2Zmc2V0LTFdfWVsc2UgaT1uLmdldENoaWxkKHQub2Zmc2V0LTEpO2lmKGkgaW5zdGFuY2VvZiBfaSlyZXR1cm4gdGhpcy5zaGFsbG93Pyh0Lm9mZnNldC0tLHRoaXMucG9zaXRpb249dCx0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRTdGFydFwiLGksZSx0LDEpKToodD1uZXcgWmkoaSxpLmNoaWxkQ291bnQpLHRoaXMucG9zaXRpb249dCx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fcHJldmlvdXMoKTp0aGlzLl9mb3JtYXRSZXR1cm5WYWx1ZShcImVsZW1lbnRFbmRcIixpLGUsdCkpO2lmKGkgaW5zdGFuY2VvZiBmaSl7aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKXJldHVybiB0PW5ldyBaaShpLGkuZGF0YS5sZW5ndGgpLHRoaXMucG9zaXRpb249dCx0aGlzLl9wcmV2aW91cygpO3tsZXQgbixvPWkuZGF0YS5sZW5ndGg7aWYoaT09dGhpcy5fYm91bmRhcnlTdGFydFBhcmVudCl7Y29uc3QgZT10aGlzLmJvdW5kYXJpZXMuc3RhcnQub2Zmc2V0O289KG49bmV3IG1pKGksZSxpLmRhdGEubGVuZ3RoLWUpKS5kYXRhLmxlbmd0aCx0PVppLl9jcmVhdGVCZWZvcmUobil9ZWxzZSBuPW5ldyBtaShpLDAsaS5kYXRhLmxlbmd0aCksdC5vZmZzZXQtLTtyZXR1cm4gdGhpcy5wb3NpdGlvbj10LHRoaXMuX2Zvcm1hdFJldHVyblZhbHVlKFwidGV4dFwiLG4sZSx0LG8pfX1pZihcInN0cmluZ1wiPT10eXBlb2YgaSl7bGV0IGk7aWYodGhpcy5zaW5nbGVDaGFyYWN0ZXJzKWk9MTtlbHNle2NvbnN0IGU9bj09PXRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ/dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldDowO2k9dC5vZmZzZXQtZX10Lm9mZnNldC09aTtjb25zdCBvPW5ldyBtaShuLHQub2Zmc2V0LGkpO3JldHVybiB0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJ0ZXh0XCIsbyxlLHQsaSl9cmV0dXJuIHQ9WmkuX2NyZWF0ZUJlZm9yZShuKSx0aGlzLnBvc2l0aW9uPXQsdGhpcy5fZm9ybWF0UmV0dXJuVmFsdWUoXCJlbGVtZW50U3RhcnRcIixuLGUsdCwxKX1fZm9ybWF0UmV0dXJuVmFsdWUodCxlLG4saSxvKXtyZXR1cm4gZSBpbnN0YW5jZW9mIG1pJiYoZS5vZmZzZXRJblRleHQrZS5kYXRhLmxlbmd0aD09ZS50ZXh0Tm9kZS5kYXRhLmxlbmd0aCYmKFwiZm9yd2FyZFwiIT10aGlzLmRpcmVjdGlvbnx8dGhpcy5ib3VuZGFyaWVzJiZ0aGlzLmJvdW5kYXJpZXMuZW5kLmlzRXF1YWwodGhpcy5wb3NpdGlvbik/bj1aaS5fY3JlYXRlQWZ0ZXIoZS50ZXh0Tm9kZSk6KGk9WmkuX2NyZWF0ZUFmdGVyKGUudGV4dE5vZGUpLHRoaXMucG9zaXRpb249aSkpLDA9PT1lLm9mZnNldEluVGV4dCYmKFwiYmFja3dhcmRcIiE9dGhpcy5kaXJlY3Rpb258fHRoaXMuYm91bmRhcmllcyYmdGhpcy5ib3VuZGFyaWVzLnN0YXJ0LmlzRXF1YWwodGhpcy5wb3NpdGlvbik/bj1aaS5fY3JlYXRlQmVmb3JlKGUudGV4dE5vZGUpOihpPVppLl9jcmVhdGVCZWZvcmUoZS50ZXh0Tm9kZSksdGhpcy5wb3NpdGlvbj1pKSkpLHtkb25lOiExLHZhbHVlOnt0eXBlOnQsaXRlbTplLHByZXZpb3VzUG9zaXRpb246bixuZXh0UG9zaXRpb246aSxsZW5ndGg6b319fX1jbGFzcyBaaXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMucGFyZW50PXQsdGhpcy5vZmZzZXQ9ZX1nZXQgbm9kZUFmdGVyKCl7cmV0dXJuIHRoaXMucGFyZW50LmlzKFwidGV4dFwiKT9udWxsOnRoaXMucGFyZW50LmdldENoaWxkKHRoaXMub2Zmc2V0KXx8bnVsbH1nZXQgbm9kZUJlZm9yZSgpe3JldHVybiB0aGlzLnBhcmVudC5pcyhcInRleHRcIik/bnVsbDp0aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLm9mZnNldC0xKXx8bnVsbH1nZXQgaXNBdFN0YXJ0KCl7cmV0dXJuIDA9PT10aGlzLm9mZnNldH1nZXQgaXNBdEVuZCgpe2NvbnN0IHQ9dGhpcy5wYXJlbnQuaXMoXCJ0ZXh0XCIpP3RoaXMucGFyZW50LmRhdGEubGVuZ3RoOnRoaXMucGFyZW50LmNoaWxkQ291bnQ7cmV0dXJuIHRoaXMub2Zmc2V0PT09dH1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnBhcmVudC5yb290fWdldCBlZGl0YWJsZUVsZW1lbnQoKXtsZXQgdD10aGlzLnBhcmVudDtmb3IoOyEodCBpbnN0YW5jZW9mIEdpKTspe2lmKCF0LnBhcmVudClyZXR1cm4gbnVsbDt0PXQucGFyZW50fXJldHVybiB0fWdldFNoaWZ0ZWRCeSh0KXtjb25zdCBlPVppLl9jcmVhdGVBdCh0aGlzKSxuPWUub2Zmc2V0K3Q7cmV0dXJuIGUub2Zmc2V0PW48MD8wOm4sZX1nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0LGU9e30pe2Uuc3RhcnRQb3NpdGlvbj10aGlzO2NvbnN0IG49bmV3IEtpKGUpO3JldHVybiBuLnNraXAodCksbi5wb3NpdGlvbn1nZXRBbmNlc3RvcnMoKXtyZXR1cm4gdGhpcy5wYXJlbnQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP1t0aGlzLnBhcmVudF06dGhpcy5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pfWdldENvbW1vbkFuY2VzdG9yKHQpe2NvbnN0IGU9dGhpcy5nZXRBbmNlc3RvcnMoKSxuPXQuZ2V0QW5jZXN0b3JzKCk7bGV0IGk9MDtmb3IoO2VbaV09PW5baV0mJmVbaV07KWkrKztyZXR1cm4gMD09PWk/bnVsbDplW2ktMV19aXNFcXVhbCh0KXtyZXR1cm4gdGhpcy5wYXJlbnQ9PXQucGFyZW50JiZ0aGlzLm9mZnNldD09dC5vZmZzZXR9aXNCZWZvcmUodCl7cmV0dXJuXCJiZWZvcmVcIj09dGhpcy5jb21wYXJlV2l0aCh0KX1pc0FmdGVyKHQpe3JldHVyblwiYWZ0ZXJcIj09dGhpcy5jb21wYXJlV2l0aCh0KX1jb21wYXJlV2l0aCh0KXtpZih0aGlzLnJvb3QhPT10LnJvb3QpcmV0dXJuXCJkaWZmZXJlbnRcIjtpZih0aGlzLmlzRXF1YWwodCkpcmV0dXJuXCJzYW1lXCI7Y29uc3QgZT10aGlzLnBhcmVudC5pcyhcIm5vZGVcIik/dGhpcy5wYXJlbnQuZ2V0UGF0aCgpOltdLG49dC5wYXJlbnQuaXMoXCJub2RlXCIpP3QucGFyZW50LmdldFBhdGgoKTpbXTtlLnB1c2godGhpcy5vZmZzZXQpLG4ucHVzaCh0Lm9mZnNldCk7Y29uc3QgaT1saShlLG4pO3N3aXRjaChpKXtjYXNlXCJwcmVmaXhcIjpyZXR1cm5cImJlZm9yZVwiO2Nhc2VcImV4dGVuc2lvblwiOnJldHVyblwiYWZ0ZXJcIjtkZWZhdWx0OnJldHVybiBlW2ldPG5baV0/XCJiZWZvcmVcIjpcImFmdGVyXCJ9fWdldFdhbGtlcih0PXt9KXtyZXR1cm4gdC5zdGFydFBvc2l0aW9uPXRoaXMsbmV3IEtpKHQpfWNsb25lKCl7cmV0dXJuIG5ldyBaaSh0aGlzLnBhcmVudCx0aGlzLm9mZnNldCl9c3RhdGljIF9jcmVhdGVBdCh0LGUpe2lmKHQgaW5zdGFuY2VvZiBaaSlyZXR1cm4gbmV3IHRoaXModC5wYXJlbnQsdC5vZmZzZXQpO3tjb25zdCBuPXQ7aWYoXCJlbmRcIj09ZSllPW4uaXMoXCJ0ZXh0XCIpP24uZGF0YS5sZW5ndGg6bi5jaGlsZENvdW50O2Vsc2V7aWYoXCJiZWZvcmVcIj09ZSlyZXR1cm4gdGhpcy5fY3JlYXRlQmVmb3JlKG4pO2lmKFwiYWZ0ZXJcIj09ZSlyZXR1cm4gdGhpcy5fY3JlYXRlQWZ0ZXIobik7aWYoMCE9PWUmJiFlKXRocm93IG5ldyBHbi5iKFwidmlldy1jcmVhdGVQb3NpdGlvbkF0LW9mZnNldC1yZXF1aXJlZDogVmlldyNjcmVhdGVQb3NpdGlvbkF0KCkgcmVxdWlyZXMgdGhlIG9mZnNldCB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSB2aWV3IGl0ZW0uXCIpfXJldHVybiBuZXcgWmkobixlKX19c3RhdGljIF9jcmVhdGVBZnRlcih0KXtpZih0LmlzKFwidGV4dFByb3h5XCIpKXJldHVybiBuZXcgWmkodC50ZXh0Tm9kZSx0Lm9mZnNldEluVGV4dCt0LmRhdGEubGVuZ3RoKTtpZighdC5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXBvc2l0aW9uLWFmdGVyLXJvb3Q6IFlvdSBjYW4gbm90IG1ha2UgcG9zaXRpb24gYWZ0ZXIgcm9vdC5cIix7cm9vdDp0fSk7cmV0dXJuIG5ldyBaaSh0LnBhcmVudCx0LmluZGV4KzEpfXN0YXRpYyBfY3JlYXRlQmVmb3JlKHQpe2lmKHQuaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIG5ldyBaaSh0LnRleHROb2RlLHQub2Zmc2V0SW5UZXh0KTtpZighdC5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXBvc2l0aW9uLWJlZm9yZS1yb290OiBZb3UgY2FuIG5vdCBtYWtlIHBvc2l0aW9uIGJlZm9yZSByb290LlwiLHtyb290OnR9KTtyZXR1cm4gbmV3IFppKHQucGFyZW50LHQuaW5kZXgpfX1jbGFzcyBYaXtjb25zdHJ1Y3Rvcih0LGU9bnVsbCl7dGhpcy5zdGFydD10LmNsb25lKCksdGhpcy5lbmQ9ZT9lLmNsb25lKCk6dC5jbG9uZSgpfSpbU3ltYm9sLml0ZXJhdG9yXSgpe3lpZWxkKm5ldyBLaSh7Ym91bmRhcmllczp0aGlzLGlnbm9yZUVsZW1lbnRFbmQ6ITB9KX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5zdGFydC5pc0VxdWFsKHRoaXMuZW5kKX1nZXQgaXNGbGF0KCl7cmV0dXJuIHRoaXMuc3RhcnQucGFyZW50PT09dGhpcy5lbmQucGFyZW50fWdldCByb290KCl7cmV0dXJuIHRoaXMuc3RhcnQucm9vdH1nZXRFbmxhcmdlZCgpe2xldCB0PXRoaXMuc3RhcnQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odG8se2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KSxlPXRoaXMuZW5kLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHRvKTtyZXR1cm4gdC5wYXJlbnQuaXMoXCJ0ZXh0XCIpJiZ0LmlzQXRTdGFydCYmKHQ9WmkuX2NyZWF0ZUJlZm9yZSh0LnBhcmVudCkpLGUucGFyZW50LmlzKFwidGV4dFwiKSYmZS5pc0F0RW5kJiYoZT1aaS5fY3JlYXRlQWZ0ZXIoZS5wYXJlbnQpKSxuZXcgWGkodCxlKX1nZXRUcmltbWVkKCl7bGV0IHQ9dGhpcy5zdGFydC5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0byk7aWYodC5pc0FmdGVyKHRoaXMuZW5kKXx8dC5pc0VxdWFsKHRoaXMuZW5kKSlyZXR1cm4gbmV3IFhpKHQsdCk7bGV0IGU9dGhpcy5lbmQuZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odG8se2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KTtjb25zdCBuPXQubm9kZUFmdGVyLGk9ZS5ub2RlQmVmb3JlO3JldHVybiBuJiZuLmlzKFwidGV4dFwiKSYmKHQ9bmV3IFppKG4sMCkpLGkmJmkuaXMoXCJ0ZXh0XCIpJiYoZT1uZXcgWmkoaSxpLmRhdGEubGVuZ3RoKSksbmV3IFhpKHQsZSl9aXNFcXVhbCh0KXtyZXR1cm4gdGhpcz09dHx8dGhpcy5zdGFydC5pc0VxdWFsKHQuc3RhcnQpJiZ0aGlzLmVuZC5pc0VxdWFsKHQuZW5kKX1jb250YWluc1Bvc2l0aW9uKHQpe3JldHVybiB0LmlzQWZ0ZXIodGhpcy5zdGFydCkmJnQuaXNCZWZvcmUodGhpcy5lbmQpfWNvbnRhaW5zUmFuZ2UodCxlPSExKXt0LmlzQ29sbGFwc2VkJiYoZT0hMSk7Y29uc3Qgbj10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCl8fGUmJnRoaXMuc3RhcnQuaXNFcXVhbCh0LnN0YXJ0KSxpPXRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCl8fGUmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpO3JldHVybiBuJiZpfWdldERpZmZlcmVuY2UodCl7Y29uc3QgZT1bXTtyZXR1cm4gdGhpcy5pc0ludGVyc2VjdGluZyh0KT8odGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpJiZlLnB1c2gobmV3IFhpKHRoaXMuc3RhcnQsdC5zdGFydCkpLHRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCkmJmUucHVzaChuZXcgWGkodC5lbmQsdGhpcy5lbmQpKSk6ZS5wdXNoKHRoaXMuY2xvbmUoKSksZX1nZXRJbnRlcnNlY3Rpb24odCl7aWYodGhpcy5pc0ludGVyc2VjdGluZyh0KSl7bGV0IGU9dGhpcy5zdGFydCxuPXRoaXMuZW5kO3JldHVybiB0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5zdGFydCkmJihlPXQuc3RhcnQpLHRoaXMuY29udGFpbnNQb3NpdGlvbih0LmVuZCkmJihuPXQuZW5kKSxuZXcgWGkoZSxuKX1yZXR1cm4gbnVsbH1nZXRXYWxrZXIodD17fSl7cmV0dXJuIHQuYm91bmRhcmllcz10aGlzLG5ldyBLaSh0KX1nZXRDb21tb25BbmNlc3Rvcigpe3JldHVybiB0aGlzLnN0YXJ0LmdldENvbW1vbkFuY2VzdG9yKHRoaXMuZW5kKX1jbG9uZSgpe3JldHVybiBuZXcgWGkodGhpcy5zdGFydCx0aGlzLmVuZCl9KmdldEl0ZW1zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzLHQuaWdub3JlRWxlbWVudEVuZD0hMDtjb25zdCBlPW5ldyBLaSh0KTtmb3IoY29uc3QgdCBvZiBlKXlpZWxkIHQuaXRlbX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IEtpKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl5aWVsZCB0Lm5leHRQb3NpdGlvbn1pc0ludGVyc2VjdGluZyh0KXtyZXR1cm4gdGhpcy5zdGFydC5pc0JlZm9yZSh0LmVuZCkmJnRoaXMuZW5kLmlzQWZ0ZXIodC5zdGFydCl9c3RhdGljIF9jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxlLG4saSl7cmV0dXJuIG5ldyB0aGlzKG5ldyBaaSh0LGUpLG5ldyBaaShuLGkpKX1zdGF0aWMgX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQsZSl7Y29uc3Qgbj10LGk9dC5nZXRTaGlmdGVkQnkoZSk7cmV0dXJuIGU+MD9uZXcgdGhpcyhuLGkpOm5ldyB0aGlzKGksbil9c3RhdGljIF9jcmVhdGVJbih0KXtyZXR1cm4gdGhpcy5fY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHQsMCx0LHQuY2hpbGRDb3VudCl9c3RhdGljIF9jcmVhdGVPbih0KXtjb25zdCBlPXQuaXMoXCJ0ZXh0UHJveHlcIik/dC5vZmZzZXRTaXplOjE7cmV0dXJuIHRoaXMuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KFppLl9jcmVhdGVCZWZvcmUodCksZSl9fWZ1bmN0aW9uIHRvKHQpe3JldHVybiEoIXQuaXRlbS5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJiF0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikpfWZ1bmN0aW9uIGVvKHQpe2xldCBlPTA7Zm9yKGNvbnN0IG4gb2YgdCllKys7cmV0dXJuIGV9Y2xhc3Mgbm97Y29uc3RydWN0b3IodD1udWxsLGUsbil7dGhpcy5fcmFuZ2VzPVtdLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExLHRoaXMuX2lzRmFrZT0hMSx0aGlzLl9mYWtlU2VsZWN0aW9uTGFiZWw9XCJcIix0aGlzLnNldFRvKHQsZSxuKX1nZXQgaXNGYWtlKCl7cmV0dXJuIHRoaXMuX2lzRmFrZX1nZXQgZmFrZVNlbGVjdGlvbkxhYmVsKCl7cmV0dXJuIHRoaXMuX2Zha2VTZWxlY3Rpb25MYWJlbH1nZXQgYW5jaG9yKCl7aWYoIXRoaXMuX3Jhbmdlcy5sZW5ndGgpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLl9yYW5nZXNbdGhpcy5fcmFuZ2VzLmxlbmd0aC0xXTtyZXR1cm4odGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ/dC5lbmQ6dC5zdGFydCkuY2xvbmUoKX1nZXQgZm9jdXMoKXtpZighdGhpcy5fcmFuZ2VzLmxlbmd0aClyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMuX3Jhbmdlc1t0aGlzLl9yYW5nZXMubGVuZ3RoLTFdO3JldHVybih0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LnN0YXJ0OnQuZW5kKS5jbG9uZSgpfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiAxPT09dGhpcy5yYW5nZUNvdW50JiZ0aGlzLl9yYW5nZXNbMF0uaXNDb2xsYXBzZWR9Z2V0IHJhbmdlQ291bnQoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aH1nZXQgaXNCYWNrd2FyZCgpe3JldHVybiF0aGlzLmlzQ29sbGFwc2VkJiZ0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZH1nZXQgZWRpdGFibGVFbGVtZW50KCl7cmV0dXJuIHRoaXMuYW5jaG9yP3RoaXMuYW5jaG9yLmVkaXRhYmxlRWxlbWVudDpudWxsfSpnZXRSYW5nZXMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9yYW5nZXMpeWllbGQgdC5jbG9uZSgpfWdldEZpcnN0UmFuZ2UoKXtsZXQgdD1udWxsO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl0JiYhZS5zdGFydC5pc0JlZm9yZSh0LnN0YXJ0KXx8KHQ9ZSk7cmV0dXJuIHQ/dC5jbG9uZSgpOm51bGx9Z2V0TGFzdFJhbmdlKCl7bGV0IHQ9bnVsbDtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpdCYmIWUuZW5kLmlzQWZ0ZXIodC5lbmQpfHwodD1lKTtyZXR1cm4gdD90LmNsb25lKCk6bnVsbH1nZXRGaXJzdFBvc2l0aW9uKCl7Y29uc3QgdD10aGlzLmdldEZpcnN0UmFuZ2UoKTtyZXR1cm4gdD90LnN0YXJ0LmNsb25lKCk6bnVsbH1nZXRMYXN0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0TGFzdFJhbmdlKCk7cmV0dXJuIHQ/dC5lbmQuY2xvbmUoKTpudWxsfWlzRXF1YWwodCl7aWYodGhpcy5pc0Zha2UhPXQuaXNGYWtlKXJldHVybiExO2lmKHRoaXMuaXNGYWtlJiZ0aGlzLmZha2VTZWxlY3Rpb25MYWJlbCE9dC5mYWtlU2VsZWN0aW9uTGFiZWwpcmV0dXJuITE7aWYodGhpcy5yYW5nZUNvdW50IT10LnJhbmdlQ291bnQpcmV0dXJuITE7aWYoMD09PXRoaXMucmFuZ2VDb3VudClyZXR1cm4hMDtpZighdGhpcy5hbmNob3IuaXNFcXVhbCh0LmFuY2hvcil8fCF0aGlzLmZvY3VzLmlzRXF1YWwodC5mb2N1cykpcmV0dXJuITE7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXtsZXQgbj0hMTtmb3IoY29uc3QgaSBvZiB0Ll9yYW5nZXMpaWYoZS5pc0VxdWFsKGkpKXtuPSEwO2JyZWFrfWlmKCFuKXJldHVybiExfXJldHVybiEwfWlzU2ltaWxhcih0KXtpZih0aGlzLmlzQmFja3dhcmQhPXQuaXNCYWNrd2FyZClyZXR1cm4hMTtjb25zdCBlPWVvKHRoaXMuZ2V0UmFuZ2VzKCkpO2lmKGUhPWVvKHQuZ2V0UmFuZ2VzKCkpKXJldHVybiExO2lmKDA9PWUpcmV0dXJuITA7Zm9yKGxldCBlIG9mIHRoaXMuZ2V0UmFuZ2VzKCkpe2U9ZS5nZXRUcmltbWVkKCk7bGV0IG49ITE7Zm9yKGxldCBpIG9mIHQuZ2V0UmFuZ2VzKCkpaWYoaT1pLmdldFRyaW1tZWQoKSxlLnN0YXJ0LmlzRXF1YWwoaS5zdGFydCkmJmUuZW5kLmlzRXF1YWwoaS5lbmQpKXtuPSEwO2JyZWFrfWlmKCFuKXJldHVybiExfXJldHVybiEwfWdldFNlbGVjdGVkRWxlbWVudCgpe2lmKDEhPT10aGlzLnJhbmdlQ291bnQpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmdldEZpcnN0UmFuZ2UoKTtsZXQgZT10LnN0YXJ0Lm5vZGVBZnRlcixuPXQuZW5kLm5vZGVCZWZvcmU7cmV0dXJuIHQuc3RhcnQucGFyZW50LmlzKFwidGV4dFwiKSYmdC5zdGFydC5pc0F0RW5kJiZ0LnN0YXJ0LnBhcmVudC5uZXh0U2libGluZyYmKGU9dC5zdGFydC5wYXJlbnQubmV4dFNpYmxpbmcpLHQuZW5kLnBhcmVudC5pcyhcInRleHRcIikmJnQuZW5kLmlzQXRTdGFydCYmdC5lbmQucGFyZW50LnByZXZpb3VzU2libGluZyYmKG49dC5lbmQucGFyZW50LnByZXZpb3VzU2libGluZyksZSBpbnN0YW5jZW9mIF9pJiZlPT1uP2U6bnVsbH1zZXRUbyh0LGUsbil7aWYobnVsbD09PXQpdGhpcy5fc2V0UmFuZ2VzKFtdKSx0aGlzLl9zZXRGYWtlT3B0aW9ucyhlKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBub3x8dCBpbnN0YW5jZW9mIGlvKXRoaXMuX3NldFJhbmdlcyh0LmdldFJhbmdlcygpLHQuaXNCYWNrd2FyZCksdGhpcy5fc2V0RmFrZU9wdGlvbnMoe2Zha2U6dC5pc0Zha2UsbGFiZWw6dC5mYWtlU2VsZWN0aW9uTGFiZWx9KTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBYaSl0aGlzLl9zZXRSYW5nZXMoW3RdLGUmJmUuYmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKGUpO2Vsc2UgaWYodCBpbnN0YW5jZW9mIFppKXRoaXMuX3NldFJhbmdlcyhbbmV3IFhpKHQpXSksdGhpcy5fc2V0RmFrZU9wdGlvbnMoZSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgaGkpe2NvbnN0IGk9ISFuJiYhIW4uYmFja3dhcmQ7bGV0IG87aWYodm9pZCAwPT09ZSl0aHJvdyBuZXcgR24uYihcInZpZXctc2VsZWN0aW9uLXNldFRvLXJlcXVpcmVkLXNlY29uZC1wYXJhbWV0ZXI6IHNlbGVjdGlvbi5zZXRUbyByZXF1aXJlcyB0aGUgc2Vjb25kIHBhcmFtZXRlciB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBub2RlLlwiKTtvPVwiaW5cIj09ZT9YaS5fY3JlYXRlSW4odCk6XCJvblwiPT1lP1hpLl9jcmVhdGVPbih0KTpuZXcgWGkoWmkuX2NyZWF0ZUF0KHQsZSkpLHRoaXMuX3NldFJhbmdlcyhbb10saSksdGhpcy5fc2V0RmFrZU9wdGlvbnMobil9ZWxzZXtpZighZ2kodCkpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXNlbGVjdGlvbi1zZXRUby1ub3Qtc2VsZWN0YWJsZTogQ2Fubm90IHNldCBzZWxlY3Rpb24gdG8gZ2l2ZW4gcGxhY2UuXCIpO3RoaXMuX3NldFJhbmdlcyh0LGUmJmUuYmFja3dhcmQpLHRoaXMuX3NldEZha2VPcHRpb25zKGUpfXRoaXMuZmlyZShcImNoYW5nZVwiKX1zZXRGb2N1cyh0LGUpe2lmKG51bGw9PT10aGlzLmFuY2hvcil0aHJvdyBuZXcgR24uYihcInZpZXctc2VsZWN0aW9uLXNldEZvY3VzLW5vLXJhbmdlczogQ2Fubm90IHNldCBzZWxlY3Rpb24gZm9jdXMgaWYgdGhlcmUgYXJlIG5vIHJhbmdlcyBpbiBzZWxlY3Rpb24uXCIpO2NvbnN0IG49WmkuX2NyZWF0ZUF0KHQsZSk7aWYoXCJzYW1lXCI9PW4uY29tcGFyZVdpdGgodGhpcy5mb2N1cykpcmV0dXJuO2NvbnN0IGk9dGhpcy5hbmNob3I7dGhpcy5fcmFuZ2VzLnBvcCgpLFwiYmVmb3JlXCI9PW4uY29tcGFyZVdpdGgoaSk/dGhpcy5fYWRkUmFuZ2UobmV3IFhpKG4saSksITApOnRoaXMuX2FkZFJhbmdlKG5ldyBYaShpLG4pKSx0aGlzLmZpcmUoXCJjaGFuZ2VcIil9aXModCl7cmV0dXJuXCJzZWxlY3Rpb25cIj09dH1fc2V0UmFuZ2VzKHQsZT0hMSl7dD1BcnJheS5mcm9tKHQpLHRoaXMuX3Jhbmdlcz1bXTtmb3IoY29uc3QgZSBvZiB0KXRoaXMuX2FkZFJhbmdlKGUpO3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSEhZX1fc2V0RmFrZU9wdGlvbnModD17fSl7dGhpcy5faXNGYWtlPSEhdC5mYWtlLHRoaXMuX2Zha2VTZWxlY3Rpb25MYWJlbD10LmZha2UmJnQubGFiZWx8fFwiXCJ9X2FkZFJhbmdlKHQsZT0hMSl7aWYoISh0IGluc3RhbmNlb2YgWGkpKXRocm93IG5ldyBHbi5iKFwidmlldy1zZWxlY3Rpb24tYWRkLXJhbmdlLW5vdC1yYW5nZTogU2VsZWN0aW9uIHJhbmdlIHNldCB0byBhbiBvYmplY3QgdGhhdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2Ygdmlldy5SYW5nZVwiKTt0aGlzLl9wdXNoUmFuZ2UodCksdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlfV9wdXNoUmFuZ2UodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKWlmKHQuaXNJbnRlcnNlY3RpbmcoZSkpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXNlbGVjdGlvbi1yYW5nZS1pbnRlcnNlY3RzOiBUcnlpbmcgdG8gYWRkIGEgcmFuZ2UgdGhhdCBpbnRlcnNlY3RzIHdpdGggYW5vdGhlciByYW5nZSBmcm9tIHNlbGVjdGlvbi5cIix7YWRkZWRSYW5nZTp0LGludGVyc2VjdGluZ1JhbmdlOmV9KTt0aGlzLl9yYW5nZXMucHVzaChuZXcgWGkodC5zdGFydCx0LmVuZCkpfX1jaShubyxlaSk7Y2xhc3MgaW97Y29uc3RydWN0b3IodD1udWxsLGUsbil7dGhpcy5fc2VsZWN0aW9uPW5ldyBubyx0aGlzLl9zZWxlY3Rpb24uZGVsZWdhdGUoXCJjaGFuZ2VcIikudG8odGhpcyksdGhpcy5fc2VsZWN0aW9uLnNldFRvKHQsZSxuKX1nZXQgaXNGYWtlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc0Zha2V9Z2V0IGZha2VTZWxlY3Rpb25MYWJlbCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZmFrZVNlbGVjdGlvbkxhYmVsfWdldCBhbmNob3IoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmFuY2hvcn1nZXQgZm9jdXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmZvY3VzfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNDb2xsYXBzZWR9Z2V0IHJhbmdlQ291bnQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLnJhbmdlQ291bnR9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzQmFja3dhcmR9Z2V0IGVkaXRhYmxlRWxlbWVudCgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50fWdldCBfcmFuZ2VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5fcmFuZ2VzfSpnZXRSYW5nZXMoKXt5aWVsZCp0aGlzLl9zZWxlY3Rpb24uZ2V0UmFuZ2VzKCl9Z2V0Rmlyc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFJhbmdlKCl9Z2V0Rmlyc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpfWdldExhc3RQb3NpdGlvbigpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0TGFzdFBvc2l0aW9uKCl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKX1pc0VxdWFsKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaXNFcXVhbCh0KX1pc1NpbWlsYXIodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5pc1NpbWlsYXIodCl9aXModCl7cmV0dXJuXCJzZWxlY3Rpb25cIj09dHx8XCJkb2N1bWVudFNlbGVjdGlvblwiPT10fV9zZXRUbyh0LGUsbil7dGhpcy5fc2VsZWN0aW9uLnNldFRvKHQsZSxuKX1fc2V0Rm9jdXModCxlKXt0aGlzLl9zZWxlY3Rpb24uc2V0Rm9jdXModCxlKX19Y2koaW8sZWkpO2NsYXNzIG9ve2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMuX2l0ZW1zPVtdLHRoaXMuX2l0ZW1NYXA9bmV3IE1hcCx0aGlzLl9pZFByb3BlcnR5PXQuaWRQcm9wZXJ0eXx8XCJpZFwiLHRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcD1uZXcgV2Vha01hcCx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXA9bmV3IFdlYWtNYXAsdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWw9W119Z2V0IGxlbmd0aCgpe3JldHVybiB0aGlzLl9pdGVtcy5sZW5ndGh9Z2V0IGZpcnN0KCl7cmV0dXJuIHRoaXMuX2l0ZW1zWzBdfHxudWxsfWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMubGVuZ3RoLTFdfHxudWxsfWFkZCh0LGUpe2xldCBuO2NvbnN0IGk9dGhpcy5faWRQcm9wZXJ0eTtpZihpIGluIHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZihuPXRbaV0pKXRocm93IG5ldyBHbi5iKFwiY29sbGVjdGlvbi1hZGQtaW52YWxpZC1pZFwiKTtpZih0aGlzLmdldChuKSl0aHJvdyBuZXcgR24uYihcImNvbGxlY3Rpb24tYWRkLWl0ZW0tYWxyZWFkeS1leGlzdHNcIil9ZWxzZSB0W2ldPW49S24oKTtpZih2b2lkIDA9PT1lKWU9dGhpcy5faXRlbXMubGVuZ3RoO2Vsc2UgaWYoZT50aGlzLl9pdGVtcy5sZW5ndGh8fGU8MCl0aHJvdyBuZXcgR24uYihcImNvbGxlY3Rpb24tYWRkLWl0ZW0taW52YWxpZC1pbmRleFwiKTtyZXR1cm4gdGhpcy5faXRlbXMuc3BsaWNlKGUsMCx0KSx0aGlzLl9pdGVtTWFwLnNldChuLHQpLHRoaXMuZmlyZShcImFkZFwiLHQsZSksdGhpc31nZXQodCl7bGV0IGU7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpZT10aGlzLl9pdGVtTWFwLmdldCh0KTtlbHNle2lmKFwibnVtYmVyXCIhPXR5cGVvZiB0KXRocm93IG5ldyBHbi5iKFwiY29sbGVjdGlvbi1nZXQtaW52YWxpZC1hcmc6IEluZGV4IG9yIGlkIG11c3QgYmUgZ2l2ZW4uXCIpO2U9dGhpcy5faXRlbXNbdF19cmV0dXJuIGV8fG51bGx9aGFzKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybiB0aGlzLl9pdGVtTWFwLmhhcyh0KTt7Y29uc3QgZT10W3RoaXMuX2lkUHJvcGVydHldO3JldHVybiB0aGlzLl9pdGVtTWFwLmhhcyhlKX19Z2V0SW5kZXgodCl7bGV0IGU7cmV0dXJuIGU9XCJzdHJpbmdcIj09dHlwZW9mIHQ/dGhpcy5faXRlbU1hcC5nZXQodCk6dCx0aGlzLl9pdGVtcy5pbmRleE9mKGUpfXJlbW92ZSh0KXtsZXQgZSxuLGksbz0hMTtjb25zdCByPXRoaXMuX2lkUHJvcGVydHk7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQ/KG49dCxvPSEoaT10aGlzLl9pdGVtTWFwLmdldChuKSksaSYmKGU9dGhpcy5faXRlbXMuaW5kZXhPZihpKSkpOlwibnVtYmVyXCI9PXR5cGVvZiB0PyhlPXQsbz0hKGk9dGhpcy5faXRlbXNbZV0pLGkmJihuPWlbcl0pKToobj0oaT10KVtyXSxvPS0xPT0oZT10aGlzLl9pdGVtcy5pbmRleE9mKGkpKXx8IXRoaXMuX2l0ZW1NYXAuZ2V0KG4pKSxvKXRocm93IG5ldyBHbi5iKFwiY29sbGVjdGlvbi1yZW1vdmUtNDA0OiBJdGVtIG5vdCBmb3VuZC5cIik7dGhpcy5faXRlbXMuc3BsaWNlKGUsMSksdGhpcy5faXRlbU1hcC5kZWxldGUobik7Y29uc3Qgcz10aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuZ2V0KGkpO3JldHVybiB0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuZGVsZXRlKGkpLHRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5kZWxldGUocyksdGhpcy5maXJlKFwicmVtb3ZlXCIsaSxlKSxpfW1hcCh0LGUpe3JldHVybiB0aGlzLl9pdGVtcy5tYXAodCxlKX1maW5kKHQsZSl7cmV0dXJuIHRoaXMuX2l0ZW1zLmZpbmQodCxlKX1maWx0ZXIodCxlKXtyZXR1cm4gdGhpcy5faXRlbXMuZmlsdGVyKHQsZSl9Y2xlYXIoKXtmb3IodGhpcy5fYmluZFRvQ29sbGVjdGlvbiYmKHRoaXMuc3RvcExpc3RlbmluZyh0aGlzLl9iaW5kVG9Db2xsZWN0aW9uKSx0aGlzLl9iaW5kVG9Db2xsZWN0aW9uPW51bGwpO3RoaXMubGVuZ3RoOyl0aGlzLnJlbW92ZSgwKX1iaW5kVG8odCl7aWYodGhpcy5fYmluZFRvQ29sbGVjdGlvbil0aHJvdyBuZXcgR24uYihcImNvbGxlY3Rpb24tYmluZC10by1yZWJpbmQ6IFRoZSBjb2xsZWN0aW9uIGNhbm5vdCBiZSBib3VuZCBtb3JlIHRoYW4gb25jZS5cIik7cmV0dXJuIHRoaXMuX2JpbmRUb0NvbGxlY3Rpb249dCx7YXM6dD0+e3RoaXMuX3NldFVwQmluZFRvQmluZGluZyhlPT5uZXcgdChlKSl9LHVzaW5nOnQ9PntcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3RoaXMuX3NldFVwQmluZFRvQmluZGluZyhlPT50KGUpKTp0aGlzLl9zZXRVcEJpbmRUb0JpbmRpbmcoZT0+ZVt0XSl9fX1fc2V0VXBCaW5kVG9CaW5kaW5nKHQpe2NvbnN0IGU9dGhpcy5fYmluZFRvQ29sbGVjdGlvbixuPShuLGksbyk9Pntjb25zdCByPWUuX2JpbmRUb0NvbGxlY3Rpb249PXRoaXMscz1lLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuZ2V0KGkpO2lmKHImJnMpdGhpcy5fYmluZFRvRXh0ZXJuYWxUb0ludGVybmFsTWFwLnNldChpLHMpLHRoaXMuX2JpbmRUb0ludGVybmFsVG9FeHRlcm5hbE1hcC5zZXQocyxpKTtlbHNle2NvbnN0IG49dChpKTtpZighbilyZXR1cm4gdm9pZCB0aGlzLl9za2lwcGVkSW5kZXhlc0Zyb21FeHRlcm5hbC5wdXNoKG8pO2xldCByPW87Zm9yKGNvbnN0IHQgb2YgdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpbz50JiZyLS07Zm9yKGNvbnN0IHQgb2YgZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwpcj49dCYmcisrO3RoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5zZXQoaSxuKSx0aGlzLl9iaW5kVG9JbnRlcm5hbFRvRXh0ZXJuYWxNYXAuc2V0KG4saSksdGhpcy5hZGQobixyKTtmb3IobGV0IHQ9MDt0PGUuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsLmxlbmd0aDt0Kyspcjw9ZS5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWxbdF0mJmUuX3NraXBwZWRJbmRleGVzRnJvbUV4dGVybmFsW3RdKyt9fTtmb3IoY29uc3QgdCBvZiBlKW4oMCx0LGUuZ2V0SW5kZXgodCkpO3RoaXMubGlzdGVuVG8oZSxcImFkZFwiLG4pLHRoaXMubGlzdGVuVG8oZSxcInJlbW92ZVwiLCh0LGUsbik9Pntjb25zdCBpPXRoaXMuX2JpbmRUb0V4dGVybmFsVG9JbnRlcm5hbE1hcC5nZXQoZSk7aSYmdGhpcy5yZW1vdmUoaSksdGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWw9dGhpcy5fc2tpcHBlZEluZGV4ZXNGcm9tRXh0ZXJuYWwucmVkdWNlKCh0LGUpPT4objxlJiZ0LnB1c2goZS0xKSxuPmUmJnQucHVzaChlKSx0KSxbXSl9KX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9pdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCl9fWNpKG9vLGVpKTtjbGFzcyByb3tjb25zdHJ1Y3Rvcigpe3RoaXMuc2VsZWN0aW9uPW5ldyBpbyx0aGlzLnJvb3RzPW5ldyBvbyh7aWRQcm9wZXJ0eTpcInJvb3ROYW1lXCJ9KSx0aGlzLnNldChcImlzUmVhZE9ubHlcIiwhMSksdGhpcy5zZXQoXCJpc0ZvY3VzZWRcIiwhMSksdGhpcy5zZXQoXCJpc0NvbXBvc2luZ1wiLCExKSx0aGlzLl9wb3N0Rml4ZXJzPW5ldyBTZXR9Z2V0Um9vdCh0PVwibWFpblwiKXtyZXR1cm4gdGhpcy5yb290cy5nZXQodCl9cmVnaXN0ZXJQb3N0Rml4ZXIodCl7dGhpcy5fcG9zdEZpeGVycy5hZGQodCl9ZGVzdHJveSgpe3RoaXMucm9vdHMubWFwKHQ9PnQuZGVzdHJveSgpKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fY2FsbFBvc3RGaXhlcnModCl7bGV0IGU9ITE7ZG97Zm9yKGNvbnN0IG4gb2YgdGhpcy5fcG9zdEZpeGVycylpZihlPW4odCkpYnJlYWt9d2hpbGUoZSl9fWNpKHJvLEZpKTtjb25zdCBzbz0xMDtjbGFzcyBhbyBleHRlbmRzIF9pe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9Y28sdGhpcy5fcHJpb3JpdHk9c28sdGhpcy5faWQ9bnVsbCx0aGlzLl9jbG9uZXNHcm91cD1udWxsfWdldCBwcmlvcml0eSgpe3JldHVybiB0aGlzLl9wcmlvcml0eX1nZXQgaWQoKXtyZXR1cm4gdGhpcy5faWR9Z2V0RWxlbWVudHNXaXRoU2FtZUlkKCl7aWYobnVsbD09PXRoaXMuaWQpdGhyb3cgbmV3IEduLmIoXCJhdHRyaWJ1dGUtZWxlbWVudC1nZXQtZWxlbWVudHMtd2l0aC1zYW1lLWlkLW5vLWlkOiBDYW5ub3QgZ2V0IGVsZW1lbnRzIHdpdGggdGhlIHNhbWUgaWQgZm9yIGFuIGF0dHJpYnV0ZSBlbGVtZW50IHdpdGhvdXQgaWQuXCIpO3JldHVybiBuZXcgU2V0KHRoaXMuX2Nsb25lc0dyb3VwKX1pcyh0LGU9bnVsbCl7cmV0dXJuIGU/XCJhdHRyaWJ1dGVFbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKTpcImF0dHJpYnV0ZUVsZW1lbnRcIj09dHx8c3VwZXIuaXModCl9aXNTaW1pbGFyKHQpe3JldHVybiBudWxsIT09dGhpcy5pZHx8bnVsbCE9PXQuaWQ/dGhpcy5pZD09PXQuaWQ6c3VwZXIuaXNTaW1pbGFyKHQpJiZ0aGlzLnByaW9yaXR5PT10LnByaW9yaXR5fV9jbG9uZSh0KXtjb25zdCBlPXN1cGVyLl9jbG9uZSh0KTtyZXR1cm4gZS5fcHJpb3JpdHk9dGhpcy5fcHJpb3JpdHksZS5faWQ9dGhpcy5faWQsZX19ZnVuY3Rpb24gY28oKXtpZihsbyh0aGlzKSlyZXR1cm4gbnVsbDtsZXQgdD10aGlzLnBhcmVudDtmb3IoO3QmJnQuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpOyl7aWYobG8odCk+MSlyZXR1cm4gbnVsbDt0PXQucGFyZW50fXJldHVybiF0fHxsbyh0KT4xP251bGw6dGhpcy5jaGlsZENvdW50fWZ1bmN0aW9uIGxvKHQpe3JldHVybiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuZmlsdGVyKHQ9PiF0LmlzKFwidWlFbGVtZW50XCIpKS5sZW5ndGh9YW8uREVGQVVMVF9QUklPUklUWT1zbztjbGFzcyB1byBleHRlbmRzIF9pe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5nZXRGaWxsZXJPZmZzZXQ9aG99aXModCxlPW51bGwpe3JldHVybiBlP1wiZW1wdHlFbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKTpcImVtcHR5RWxlbWVudFwiPT10fHxzdXBlci5pcyh0KX1faW5zZXJ0Q2hpbGQodCxlKXtpZihlJiYoZSBpbnN0YW5jZW9mIGhpfHxBcnJheS5mcm9tKGUpLmxlbmd0aD4wKSl0aHJvdyBuZXcgR24uYihcInZpZXctZW1wdHllbGVtZW50LWNhbm5vdC1hZGQ6IENhbm5vdCBhZGQgY2hpbGQgbm9kZXMgdG8gRW1wdHlFbGVtZW50IGluc3RhbmNlLlwiKX19ZnVuY3Rpb24gaG8oKXtyZXR1cm4gbnVsbH1jb25zdCBmbz1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7dmFyIG1vPXtpc01hYzpmdW5jdGlvbih0KXtyZXR1cm4gdC5pbmRleE9mKFwibWFjaW50b3NoXCIpPi0xfShmbyksaXNFZGdlOmZ1bmN0aW9uKHQpe3JldHVybiEhdC5tYXRjaCgvZWRnZVxcLyhcXGQrLj9cXGQqKS8pfShmbyksaXNHZWNrbzpmdW5jdGlvbih0KXtyZXR1cm4hIXQubWF0Y2goL2dlY2tvXFwvXFxkKy8pfShmbyksaXNTYWZhcmk6ZnVuY3Rpb24odCl7cmV0dXJuIHQuaW5kZXhPZihcIiBhcHBsZXdlYmtpdC9cIik+LTEmJi0xPT09dC5pbmRleE9mKFwiY2hyb21lXCIpfShmbyl9O2NvbnN0IHBvPXtcIuKMmFwiOlwiY3RybFwiLFwi4oenXCI6XCJzaGlmdFwiLFwi4oylXCI6XCJhbHRcIn0sZ289e2N0cmw6XCLijJhcIixzaGlmdDpcIuKHp1wiLGFsdDpcIuKMpVwifSxibz1mdW5jdGlvbigpe2NvbnN0IHQ9e2Fycm93bGVmdDozNyxhcnJvd3VwOjM4LGFycm93cmlnaHQ6MzksYXJyb3dkb3duOjQwLGJhY2tzcGFjZTo4LGRlbGV0ZTo0NixlbnRlcjoxMyxzcGFjZTozMixlc2M6MjcsdGFiOjksY3RybDoxMTE0MTEyLGNtZDoxMTE0MTEyLHNoaWZ0OjIyMjgyMjQsYWx0OjQ0NTY0NDh9O2ZvcihsZXQgZT02NTtlPD05MDtlKyspe2NvbnN0IG49U3RyaW5nLmZyb21DaGFyQ29kZShlKTt0W24udG9Mb3dlckNhc2UoKV09ZX1mb3IobGV0IGU9NDg7ZTw9NTc7ZSsrKXRbZS00OF09ZTtmb3IobGV0IGU9MTEyO2U8PTEyMztlKyspdFtcImZcIisoZS0xMTEpXT1lO3JldHVybiB0fSgpO2Z1bmN0aW9uIHdvKHQpe2xldCBlO2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXtpZighKGU9Ym9bdC50b0xvd2VyQ2FzZSgpXSkpdGhyb3cgbmV3IEduLmIoXCJrZXlib2FyZC11bmtub3duLWtleTogVW5rbm93biBrZXkgbmFtZS5cIix7a2V5OnR9KX1lbHNlIGU9dC5rZXlDb2RlKyh0LmFsdEtleT9iby5hbHQ6MCkrKHQuY3RybEtleT9iby5jdHJsOjApKyh0LnNoaWZ0S2V5P2JvLnNoaWZ0OjApO3JldHVybiBlfWZ1bmN0aW9uIF9vKHQpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiB0JiYodD1rbyh0KSksdC5tYXAodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/d28odCk6dCkucmVkdWNlKCh0LGUpPT5lK3QsMCl9ZnVuY3Rpb24ga28odCl7cmV0dXJuIHQuc3BsaXQoL1xccypcXCtcXHMqLyl9Y2xhc3Mgdm8gZXh0ZW5kcyBfaXtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCxlLG4pLHRoaXMuZ2V0RmlsbGVyT2Zmc2V0PXhvfWlzKHQsZT1udWxsKXtyZXR1cm4gZT9cInVpRWxlbWVudFwiPT10JiZlPT10aGlzLm5hbWV8fHN1cGVyLmlzKHQsZSk6XCJ1aUVsZW1lbnRcIj09dHx8c3VwZXIuaXModCl9X2luc2VydENoaWxkKHQsZSl7aWYoZSYmKGUgaW5zdGFuY2VvZiBoaXx8QXJyYXkuZnJvbShlKS5sZW5ndGg+MCkpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXVpZWxlbWVudC1jYW5ub3QtYWRkOiBDYW5ub3QgYWRkIGNoaWxkIG5vZGVzIHRvIFVJRWxlbWVudCBpbnN0YW5jZS5cIil9cmVuZGVyKHQpe3JldHVybiB0aGlzLnRvRG9tRWxlbWVudCh0KX10b0RvbUVsZW1lbnQodCl7Y29uc3QgZT10LmNyZWF0ZUVsZW1lbnQodGhpcy5uYW1lKTtmb3IoY29uc3QgdCBvZiB0aGlzLmdldEF0dHJpYnV0ZUtleXMoKSllLnNldEF0dHJpYnV0ZSh0LHRoaXMuZ2V0QXR0cmlidXRlKHQpKTtyZXR1cm4gZX19ZnVuY3Rpb24geW8odCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIiwoZSxuKT0+KGZ1bmN0aW9uKHQsZSxuKXtpZihlLmtleUNvZGU9PWJvLmFycm93cmlnaHQpe2NvbnN0IHQ9ZS5kb21UYXJnZXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKSxpPTE9PXQucmFuZ2VDb3VudCYmdC5nZXRSYW5nZUF0KDApLmNvbGxhcHNlZDtpZihpfHxlLnNoaWZ0S2V5KXtjb25zdCBlPXQuZm9jdXNOb2RlLG89dC5mb2N1c09mZnNldCxyPW4uZG9tUG9zaXRpb25Ub1ZpZXcoZSxvKTtpZihudWxsPT09cilyZXR1cm47bGV0IHM9ITE7Y29uc3QgYT1yLmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQ9Pih0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikmJihzPSEwKSwhKCF0Lml0ZW0uaXMoXCJ1aUVsZW1lbnRcIikmJiF0Lml0ZW0uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKSkpO2lmKHMpe2NvbnN0IGU9bi52aWV3UG9zaXRpb25Ub0RvbShhKTtpP3QuY29sbGFwc2UoZS5wYXJlbnQsZS5vZmZzZXQpOnQuZXh0ZW5kKGUucGFyZW50LGUub2Zmc2V0KX19fX0pKDAsbix0LmRvbUNvbnZlcnRlcikpfWZ1bmN0aW9uIHhvKCl7cmV0dXJuIG51bGx9Y2xhc3MgQW97Y29uc3RydWN0b3IodCl7dGhpcy5fY2hpbGRyZW49W10sdCYmdGhpcy5faW5zZXJ0Q2hpbGQoMCx0KX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0IGNoaWxkQ291bnQoKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ubGVuZ3RofWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PT10aGlzLmNoaWxkQ291bnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpc31nZXQgcGFyZW50KCl7cmV0dXJuIG51bGx9aXModCl7cmV0dXJuXCJkb2N1bWVudEZyYWdtZW50XCI9PXR9X2FwcGVuZENoaWxkKHQpe3JldHVybiB0aGlzLl9pbnNlcnRDaGlsZCh0aGlzLmNoaWxkQ291bnQsdCl9Z2V0Q2hpbGQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW3RdfWdldENoaWxkSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmluZGV4T2YodCl9Z2V0Q2hpbGRyZW4oKXtyZXR1cm4gdGhpcy5fY2hpbGRyZW5bU3ltYm9sLml0ZXJhdG9yXSgpfV9pbnNlcnRDaGlsZCh0LGUpe3RoaXMuX2ZpcmVDaGFuZ2UoXCJjaGlsZHJlblwiLHRoaXMpO2xldCBuPTA7Y29uc3QgaT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdClyZXR1cm5bbmV3IGZpKHQpXTtnaSh0KXx8KHQ9W3RdKTtyZXR1cm4gQXJyYXkuZnJvbSh0KS5tYXAodD0+XCJzdHJpbmdcIj09dHlwZW9mIHQ/bmV3IGZpKHQpOnQgaW5zdGFuY2VvZiBtaT9uZXcgZmkodC5kYXRhKTp0KX0oZSk7Zm9yKGNvbnN0IGUgb2YgaSludWxsIT09ZS5wYXJlbnQmJmUuX3JlbW92ZSgpLGUucGFyZW50PXRoaXMsdGhpcy5fY2hpbGRyZW4uc3BsaWNlKHQsMCxlKSx0KyssbisrO3JldHVybiBufV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7dGhpcy5fZmlyZUNoYW5nZShcImNoaWxkcmVuXCIsdGhpcyk7Zm9yKGxldCBuPXQ7bjx0K2U7bisrKXRoaXMuX2NoaWxkcmVuW25dLnBhcmVudD1udWxsO3JldHVybiB0aGlzLl9jaGlsZHJlbi5zcGxpY2UodCxlKX1fZmlyZUNoYW5nZSh0LGUpe3RoaXMuZmlyZShcImNoYW5nZTpcIit0LGUpfX1jaShBbyxlaSk7Y2xhc3MgQ297Y29uc3RydWN0b3IodCl7dGhpcy5kb2N1bWVudD10LHRoaXMuX2Nsb25lR3JvdXBzPW5ldyBNYXB9c2V0U2VsZWN0aW9uKHQsZSxuKXt0aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0VG8odCxlLG4pfXNldFNlbGVjdGlvbkZvY3VzKHQsZSl7dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uX3NldEZvY3VzKHQsZSl9Y3JlYXRlVGV4dCh0KXtyZXR1cm4gbmV3IGZpKHQpfWNyZWF0ZUF0dHJpYnV0ZUVsZW1lbnQodCxlLG49e30pe2NvbnN0IGk9bmV3IGFvKHQsZSk7cmV0dXJuIG4ucHJpb3JpdHkmJihpLl9wcmlvcml0eT1uLnByaW9yaXR5KSxuLmlkJiYoaS5faWQ9bi5pZCksaX1jcmVhdGVDb250YWluZXJFbGVtZW50KHQsZSl7cmV0dXJuIG5ldyB5aSh0LGUpfWNyZWF0ZUVkaXRhYmxlRWxlbWVudCh0LGUpe2NvbnN0IG49bmV3IEdpKHQsZSk7cmV0dXJuIG4uX2RvY3VtZW50PXRoaXMuZG9jdW1lbnQsbn1jcmVhdGVFbXB0eUVsZW1lbnQodCxlKXtyZXR1cm4gbmV3IHVvKHQsZSl9Y3JlYXRlVUlFbGVtZW50KHQsZSxuKXtjb25zdCBpPW5ldyB2byh0LGUpO3JldHVybiBuJiYoaS5yZW5kZXI9biksaX1zZXRBdHRyaWJ1dGUodCxlLG4pe24uX3NldEF0dHJpYnV0ZSh0LGUpfXJlbW92ZUF0dHJpYnV0ZSh0LGUpe2UuX3JlbW92ZUF0dHJpYnV0ZSh0KX1hZGRDbGFzcyh0LGUpe2UuX2FkZENsYXNzKHQpfXJlbW92ZUNsYXNzKHQsZSl7ZS5fcmVtb3ZlQ2xhc3ModCl9c2V0U3R5bGUodCxlLG4pe0ModCkmJnZvaWQgMD09PW4mJihuPWUpLG4uX3NldFN0eWxlKHQsZSl9cmVtb3ZlU3R5bGUodCxlKXtlLl9yZW1vdmVTdHlsZSh0KX1zZXRDdXN0b21Qcm9wZXJ0eSh0LGUsbil7bi5fc2V0Q3VzdG9tUHJvcGVydHkodCxlKX1yZW1vdmVDdXN0b21Qcm9wZXJ0eSh0LGUpe3JldHVybiBlLl9yZW1vdmVDdXN0b21Qcm9wZXJ0eSh0KX1icmVha0F0dHJpYnV0ZXModCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBaaT90aGlzLl9icmVha0F0dHJpYnV0ZXModCk6dGhpcy5fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UodCl9YnJlYWtDb250YWluZXIodCl7Y29uc3QgZT10LnBhcmVudDtpZighZS5pcyhcImNvbnRhaW5lckVsZW1lbnRcIikpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXdyaXRlci1icmVhay1ub24tY29udGFpbmVyLWVsZW1lbnQ6IFRyeWluZyB0byBicmVhayBhbiBlbGVtZW50IHdoaWNoIGlzIG5vdCBhIGNvbnRhaW5lciBlbGVtZW50LlwiKTtpZighZS5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXdyaXRlci1icmVhay1yb290OiBUcnlpbmcgdG8gYnJlYWsgcm9vdCBlbGVtZW50LlwiKTtpZih0LmlzQXRTdGFydClyZXR1cm4gWmkuX2NyZWF0ZUJlZm9yZShlKTtpZighdC5pc0F0RW5kKXtjb25zdCBuPWUuX2Nsb25lKCExKTt0aGlzLmluc2VydChaaS5fY3JlYXRlQWZ0ZXIoZSksbik7Y29uc3QgaT1uZXcgWGkodCxaaS5fY3JlYXRlQXQoZSxcImVuZFwiKSksbz1uZXcgWmkobiwwKTt0aGlzLm1vdmUoaSxvKX1yZXR1cm4gWmkuX2NyZWF0ZUFmdGVyKGUpfW1lcmdlQXR0cmlidXRlcyh0KXtjb25zdCBlPXQub2Zmc2V0LG49dC5wYXJlbnQ7aWYobi5pcyhcInRleHRcIikpcmV0dXJuIHQ7aWYobi5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJjA9PT1uLmNoaWxkQ291bnQpe2NvbnN0IHQ9bi5wYXJlbnQsZT1uLmluZGV4O3JldHVybiBuLl9yZW1vdmUoKSx0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cChuKSx0aGlzLm1lcmdlQXR0cmlidXRlcyhuZXcgWmkodCxlKSl9Y29uc3QgaT1uLmdldENoaWxkKGUtMSksbz1uLmdldENoaWxkKGUpO2lmKCFpfHwhbylyZXR1cm4gdDtpZihpLmlzKFwidGV4dFwiKSYmby5pcyhcInRleHRcIikpcmV0dXJuIFNvKGksbyk7aWYoaS5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJm8uaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpJiZpLmlzU2ltaWxhcihvKSl7Y29uc3QgdD1pLmNoaWxkQ291bnQ7cmV0dXJuIGkuX2FwcGVuZENoaWxkKG8uZ2V0Q2hpbGRyZW4oKSksby5fcmVtb3ZlKCksdGhpcy5fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAobyksdGhpcy5tZXJnZUF0dHJpYnV0ZXMobmV3IFppKGksdCkpfXJldHVybiB0fW1lcmdlQ29udGFpbmVycyh0KXtjb25zdCBlPXQubm9kZUJlZm9yZSxuPXQubm9kZUFmdGVyO2lmKCEoZSYmbiYmZS5pcyhcImNvbnRhaW5lckVsZW1lbnRcIikmJm4uaXMoXCJjb250YWluZXJFbGVtZW50XCIpKSl0aHJvdyBuZXcgR24uYihcInZpZXctd3JpdGVyLW1lcmdlLWNvbnRhaW5lcnMtaW52YWxpZC1wb3NpdGlvbjogRWxlbWVudCBiZWZvcmUgYW5kIGFmdGVyIGdpdmVuIHBvc2l0aW9uIGNhbm5vdCBiZSBtZXJnZWQuXCIpO2NvbnN0IGk9ZS5nZXRDaGlsZChlLmNoaWxkQ291bnQtMSksbz1pIGluc3RhbmNlb2YgZmk/WmkuX2NyZWF0ZUF0KGksXCJlbmRcIik6WmkuX2NyZWF0ZUF0KGUsXCJlbmRcIik7cmV0dXJuIHRoaXMubW92ZShYaS5fY3JlYXRlSW4obiksWmkuX2NyZWF0ZUF0KGUsXCJlbmRcIikpLHRoaXMucmVtb3ZlKFhpLl9jcmVhdGVPbihuKSksb31pbnNlcnQodCxlKXsoZnVuY3Rpb24gdChlKXtmb3IoY29uc3QgbiBvZiBlKXtpZighSW8uc29tZSh0PT5uIGluc3RhbmNlb2YgdCkpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXdyaXRlci1pbnNlcnQtaW52YWxpZC1ub2RlXCIpO24uaXMoXCJ0ZXh0XCIpfHx0KG4uZ2V0Q2hpbGRyZW4oKSl9fSkoZT1naShlKT9bLi4uZV06W2VdKTtjb25zdCBuPVRvKHQpO2lmKCFuKXRocm93IG5ldyBHbi5iKFwidmlldy13cml0ZXItaW52YWxpZC1wb3NpdGlvbi1jb250YWluZXJcIik7Y29uc3QgaT10aGlzLl9icmVha0F0dHJpYnV0ZXModCwhMCksbz1uLl9pbnNlcnRDaGlsZChpLm9mZnNldCxlKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cCh0KTtjb25zdCByPWkuZ2V0U2hpZnRlZEJ5KG8pLHM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoaSk7aWYoMD09PW8pcmV0dXJuIG5ldyBYaShzLHMpO3tzLmlzRXF1YWwoaSl8fHIub2Zmc2V0LS07Y29uc3QgdD10aGlzLm1lcmdlQXR0cmlidXRlcyhyKTtyZXR1cm4gbmV3IFhpKHMsdCl9fXJlbW92ZSh0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBYaT90OlhpLl9jcmVhdGVPbih0KTtpZihPbyhlKSxlLmlzQ29sbGFwc2VkKXJldHVybiBuZXcgQW87Y29uc3R7c3RhcnQ6bixlbmQ6aX09dGhpcy5fYnJlYWtBdHRyaWJ1dGVzUmFuZ2UoZSwhMCksbz1uLnBhcmVudCxyPWkub2Zmc2V0LW4ub2Zmc2V0LHM9by5fcmVtb3ZlQ2hpbGRyZW4obi5vZmZzZXQscik7Zm9yKGNvbnN0IHQgb2Ygcyl0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cCh0KTtjb25zdCBhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKG4pO3JldHVybiBlLnN0YXJ0PWEsZS5lbmQ9YS5jbG9uZSgpLG5ldyBBbyhzKX1jbGVhcih0LGUpe09vKHQpO2NvbnN0IG49dC5nZXRXYWxrZXIoe2RpcmVjdGlvbjpcImJhY2t3YXJkXCIsaWdub3JlRWxlbWVudEVuZDohMH0pO2Zvcihjb25zdCBpIG9mIG4pe2NvbnN0IG49aS5pdGVtO2xldCBvO2lmKG4uaXMoXCJlbGVtZW50XCIpJiZlLmlzU2ltaWxhcihuKSlvPVhpLl9jcmVhdGVPbihuKTtlbHNlIGlmKCFpLm5leHRQb3NpdGlvbi5pc0FmdGVyKHQuc3RhcnQpJiZuLmlzKFwidGV4dFByb3h5XCIpKXtjb25zdCB0PW4uZ2V0QW5jZXN0b3JzKCkuZmluZCh0PT50LmlzKFwiZWxlbWVudFwiKSYmZS5pc1NpbWlsYXIodCkpO3QmJihvPVhpLl9jcmVhdGVJbih0KSl9byYmKG8uZW5kLmlzQWZ0ZXIodC5lbmQpJiYoby5lbmQ9dC5lbmQpLG8uc3RhcnQuaXNCZWZvcmUodC5zdGFydCkmJihvLnN0YXJ0PXQuc3RhcnQpLHRoaXMucmVtb3ZlKG8pKX19bW92ZSh0LGUpe2xldCBuO2lmKGUuaXNBZnRlcih0LmVuZCkpe2NvbnN0IGk9KGU9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGUsITApKS5wYXJlbnQsbz1pLmNoaWxkQ291bnQ7dD10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LCEwKSxuPXRoaXMucmVtb3ZlKHQpLGUub2Zmc2V0Kz1pLmNoaWxkQ291bnQtb31lbHNlIG49dGhpcy5yZW1vdmUodCk7cmV0dXJuIHRoaXMuaW5zZXJ0KGUsbil9d3JhcCh0LGUpe2lmKCEoZSBpbnN0YW5jZW9mIGFvKSl0aHJvdyBuZXcgR24uYihcInZpZXctd3JpdGVyLXdyYXAtaW52YWxpZC1hdHRyaWJ1dGVcIik7aWYoT28odCksdC5pc0NvbGxhcHNlZCl7bGV0IG49dC5zdGFydDtuLnBhcmVudC5pcyhcImVsZW1lbnRcIikmJiFmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0LmdldENoaWxkcmVuKCkpLnNvbWUodD0+IXQuaXMoXCJ1aUVsZW1lbnRcIikpfShuLnBhcmVudCkmJihuPW4uZ2V0TGFzdE1hdGNoaW5nUG9zaXRpb24odD0+dC5pdGVtLmlzKFwidWlFbGVtZW50XCIpKSksbj10aGlzLl93cmFwUG9zaXRpb24obixlKTtjb25zdCBpPXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uO3JldHVybiBpLmlzQ29sbGFwc2VkJiZpLmdldEZpcnN0UG9zaXRpb24oKS5pc0VxdWFsKHQuc3RhcnQpJiZ0aGlzLnNldFNlbGVjdGlvbihuKSxuZXcgWGkobil9cmV0dXJuIHRoaXMuX3dyYXBSYW5nZSh0LGUpfXVud3JhcCh0LGUpe2lmKCEoZSBpbnN0YW5jZW9mIGFvKSl0aHJvdyBuZXcgR24uYihcInZpZXctd3JpdGVyLXVud3JhcC1pbnZhbGlkLWF0dHJpYnV0ZVwiKTtpZihPbyh0KSx0LmlzQ29sbGFwc2VkKXJldHVybiB0O2NvbnN0e3N0YXJ0Om4sZW5kOml9PXRoaXMuX2JyZWFrQXR0cmlidXRlc1JhbmdlKHQsITApLG89bi5wYXJlbnQscj10aGlzLl91bndyYXBDaGlsZHJlbihvLG4ub2Zmc2V0LGkub2Zmc2V0LGUpLHM9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoci5zdGFydCk7cy5pc0VxdWFsKHIuc3RhcnQpfHxyLmVuZC5vZmZzZXQtLTtjb25zdCBhPXRoaXMubWVyZ2VBdHRyaWJ1dGVzKHIuZW5kKTtyZXR1cm4gbmV3IFhpKHMsYSl9cmVuYW1lKHQsZSl7Y29uc3Qgbj1uZXcgeWkodCxlLmdldEF0dHJpYnV0ZXMoKSk7cmV0dXJuIHRoaXMuaW5zZXJ0KFppLl9jcmVhdGVBZnRlcihlKSxuKSx0aGlzLm1vdmUoWGkuX2NyZWF0ZUluKGUpLFppLl9jcmVhdGVBdChuLDApKSx0aGlzLnJlbW92ZShYaS5fY3JlYXRlT24oZSkpLG59Y2xlYXJDbG9uZWRFbGVtZW50c0dyb3VwKHQpe3RoaXMuX2Nsb25lR3JvdXBzLmRlbGV0ZSh0KX1jcmVhdGVQb3NpdGlvbkF0KHQsZSl7cmV0dXJuIFppLl9jcmVhdGVBdCh0LGUpfWNyZWF0ZVBvc2l0aW9uQWZ0ZXIodCl7cmV0dXJuIFppLl9jcmVhdGVBZnRlcih0KX1jcmVhdGVQb3NpdGlvbkJlZm9yZSh0KXtyZXR1cm4gWmkuX2NyZWF0ZUJlZm9yZSh0KX1jcmVhdGVSYW5nZSh0LGUpe3JldHVybiBuZXcgWGkodCxlKX1jcmVhdGVSYW5nZU9uKHQpe3JldHVybiBYaS5fY3JlYXRlT24odCl9Y3JlYXRlUmFuZ2VJbih0KXtyZXR1cm4gWGkuX2NyZWF0ZUluKHQpfWNyZWF0ZVNlbGVjdGlvbih0LGUsbil7cmV0dXJuIG5ldyBubyh0LGUsbil9X3dyYXBDaGlsZHJlbih0LGUsbixpKXtsZXQgbz1lO2NvbnN0IHI9W107Zm9yKDtvPG47KXtjb25zdCBlPXQuZ2V0Q2hpbGQobyksbj1lLmlzKFwidGV4dFwiKSxzPWUuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpLGE9ZS5pcyhcImVtcHR5RWxlbWVudFwiKSxjPWUuaXMoXCJ1aUVsZW1lbnRcIik7aWYocyYmdGhpcy5fd3JhcEF0dHJpYnV0ZUVsZW1lbnQoaSxlKSlyLnB1c2gobmV3IFppKHQsbykpO2Vsc2UgaWYobnx8YXx8Y3x8cyYmUG8oaSxlKSl7Y29uc3Qgbj1pLl9jbG9uZSgpO2UuX3JlbW92ZSgpLG4uX2FwcGVuZENoaWxkKGUpLHQuX2luc2VydENoaWxkKG8sbiksdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKG4pLHIucHVzaChuZXcgWmkodCxvKSl9ZWxzZSBzJiZ0aGlzLl93cmFwQ2hpbGRyZW4oZSwwLGUuY2hpbGRDb3VudCxpKTtvKyt9bGV0IHM9MDtmb3IoY29uc3QgdCBvZiByKXtpZih0Lm9mZnNldC09cyx0Lm9mZnNldD09ZSljb250aW51ZTt0aGlzLm1lcmdlQXR0cmlidXRlcyh0KS5pc0VxdWFsKHQpfHwocysrLG4tLSl9cmV0dXJuIFhpLl9jcmVhdGVGcm9tUGFyZW50c0FuZE9mZnNldHModCxlLHQsbil9X3Vud3JhcENoaWxkcmVuKHQsZSxuLGkpe2xldCBvPWU7Y29uc3Qgcj1bXTtmb3IoO288bjspe2NvbnN0IGU9dC5nZXRDaGlsZChvKTtpZihlLmlzKFwiYXR0cmlidXRlRWxlbWVudFwiKSlpZihlLmlzU2ltaWxhcihpKSl7Y29uc3QgaT1lLmdldENoaWxkcmVuKCkscz1lLmNoaWxkQ291bnQ7ZS5fcmVtb3ZlKCksdC5faW5zZXJ0Q2hpbGQobyxpKSx0aGlzLl9yZW1vdmVGcm9tQ2xvbmVkRWxlbWVudHNHcm91cChlKSxyLnB1c2gobmV3IFppKHQsbyksbmV3IFppKHQsbytzKSksbys9cyxuKz1zLTF9ZWxzZSB0aGlzLl91bndyYXBBdHRyaWJ1dGVFbGVtZW50KGksZSk/KHIucHVzaChuZXcgWmkodCxvKSxuZXcgWmkodCxvKzEpKSxvKyspOih0aGlzLl91bndyYXBDaGlsZHJlbihlLDAsZS5jaGlsZENvdW50LGkpLG8rKyk7ZWxzZSBvKyt9bGV0IHM9MDtmb3IoY29uc3QgdCBvZiByKXtpZih0Lm9mZnNldC09cyx0Lm9mZnNldD09ZXx8dC5vZmZzZXQ9PW4pY29udGludWU7dGhpcy5tZXJnZUF0dHJpYnV0ZXModCkuaXNFcXVhbCh0KXx8KHMrKyxuLS0pfXJldHVybiBYaS5fY3JlYXRlRnJvbVBhcmVudHNBbmRPZmZzZXRzKHQsZSx0LG4pfV93cmFwUmFuZ2UodCxlKXtjb25zdHtzdGFydDpuLGVuZDppfT10aGlzLl9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LCEwKSxvPW4ucGFyZW50LHI9dGhpcy5fd3JhcENoaWxkcmVuKG8sbi5vZmZzZXQsaS5vZmZzZXQsZSkscz10aGlzLm1lcmdlQXR0cmlidXRlcyhyLnN0YXJ0KTtzLmlzRXF1YWwoci5zdGFydCl8fHIuZW5kLm9mZnNldC0tO2NvbnN0IGE9dGhpcy5tZXJnZUF0dHJpYnV0ZXMoci5lbmQpO3JldHVybiBuZXcgWGkocyxhKX1fd3JhcFBvc2l0aW9uKHQsZSl7aWYoZS5pc1NpbWlsYXIodC5wYXJlbnQpKXJldHVybiBNbyh0LmNsb25lKCkpO3QucGFyZW50LmlzKFwidGV4dFwiKSYmKHQ9RW8odCkpO2NvbnN0IG49dGhpcy5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KCk7bi5fcHJpb3JpdHk9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG4uaXNTaW1pbGFyPSgoKT0+ITEpLHQucGFyZW50Ll9pbnNlcnRDaGlsZCh0Lm9mZnNldCxuKTtjb25zdCBpPW5ldyBYaSh0LHQuZ2V0U2hpZnRlZEJ5KDEpKTt0aGlzLndyYXAoaSxlKTtjb25zdCBvPW5ldyBaaShuLnBhcmVudCxuLmluZGV4KTtuLl9yZW1vdmUoKTtjb25zdCByPW8ubm9kZUJlZm9yZSxzPW8ubm9kZUFmdGVyO3JldHVybiByIGluc3RhbmNlb2YgZmkmJnMgaW5zdGFuY2VvZiBmaT9TbyhyLHMpOk1vKG8pfV93cmFwQXR0cmlidXRlRWxlbWVudCh0LGUpe2lmKCFSbyh0LGUpKXJldHVybiExO2lmKHQubmFtZSE9PWUubmFtZXx8dC5wcmlvcml0eSE9PWUucHJpb3JpdHkpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYoXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmZS5oYXNBdHRyaWJ1dGUobikmJmUuZ2V0QXR0cmlidXRlKG4pIT09dC5nZXRBdHRyaWJ1dGUobikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRTdHlsZU5hbWVzKCkpaWYoZS5oYXNTdHlsZShuKSYmZS5nZXRTdHlsZShuKSE9PXQuZ2V0U3R5bGUobikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmKGUuaGFzQXR0cmlidXRlKG4pfHx0aGlzLnNldEF0dHJpYnV0ZShuLHQuZ2V0QXR0cmlidXRlKG4pLGUpKTtmb3IoY29uc3QgbiBvZiB0LmdldFN0eWxlTmFtZXMoKSllLmhhc1N0eWxlKG4pfHx0aGlzLnNldFN0eWxlKG4sdC5nZXRTdHlsZShuKSxlKTtmb3IoY29uc3QgbiBvZiB0LmdldENsYXNzTmFtZXMoKSllLmhhc0NsYXNzKG4pfHx0aGlzLmFkZENsYXNzKG4sZSk7cmV0dXJuITB9X3Vud3JhcEF0dHJpYnV0ZUVsZW1lbnQodCxlKXtpZighUm8odCxlKSlyZXR1cm4hMTtpZih0Lm5hbWUhPT1lLm5hbWV8fHQucHJpb3JpdHkhPT1lLnByaW9yaXR5KXJldHVybiExO2Zvcihjb25zdCBuIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKWlmKFwiY2xhc3NcIiE9PW4mJlwic3R5bGVcIiE9PW4mJighZS5oYXNBdHRyaWJ1dGUobil8fGUuZ2V0QXR0cmlidXRlKG4pIT09dC5nZXRBdHRyaWJ1dGUobikpKXJldHVybiExO2lmKCFlLmhhc0NsYXNzKC4uLnQuZ2V0Q2xhc3NOYW1lcygpKSlyZXR1cm4hMTtmb3IoY29uc3QgbiBvZiB0LmdldFN0eWxlTmFtZXMoKSlpZighZS5oYXNTdHlsZShuKXx8ZS5nZXRTdHlsZShuKSE9PXQuZ2V0U3R5bGUobikpcmV0dXJuITE7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpXCJjbGFzc1wiIT09biYmXCJzdHlsZVwiIT09biYmdGhpcy5yZW1vdmVBdHRyaWJ1dGUobixlKTtyZXR1cm4gdGhpcy5yZW1vdmVDbGFzcyhBcnJheS5mcm9tKHQuZ2V0Q2xhc3NOYW1lcygpKSxlKSx0aGlzLnJlbW92ZVN0eWxlKEFycmF5LmZyb20odC5nZXRTdHlsZU5hbWVzKCkpLGUpLCEwfV9icmVha0F0dHJpYnV0ZXNSYW5nZSh0LGU9ITEpe2NvbnN0IG49dC5zdGFydCxpPXQuZW5kO2lmKE9vKHQpLHQuaXNDb2xsYXBzZWQpe2NvbnN0IG49dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKHQuc3RhcnQsZSk7cmV0dXJuIG5ldyBYaShuLG4pfWNvbnN0IG89dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKGksZSkscj1vLnBhcmVudC5jaGlsZENvdW50LHM9dGhpcy5fYnJlYWtBdHRyaWJ1dGVzKG4sZSk7cmV0dXJuIG8ub2Zmc2V0Kz1vLnBhcmVudC5jaGlsZENvdW50LXIsbmV3IFhpKHMsbyl9X2JyZWFrQXR0cmlidXRlcyh0LGU9ITEpe2NvbnN0IG49dC5vZmZzZXQsaT10LnBhcmVudDtpZih0LnBhcmVudC5pcyhcImVtcHR5RWxlbWVudFwiKSl0aHJvdyBuZXcgR24uYihcInZpZXctd3JpdGVyLWNhbm5vdC1icmVhay1lbXB0eS1lbGVtZW50XCIpO2lmKHQucGFyZW50LmlzKFwidWlFbGVtZW50XCIpKXRocm93IG5ldyBHbi5iKFwidmlldy13cml0ZXItY2Fubm90LWJyZWFrLXVpLWVsZW1lbnRcIik7aWYoIWUmJmkuaXMoXCJ0ZXh0XCIpJiZObyhpLnBhcmVudCkpcmV0dXJuIHQuY2xvbmUoKTtpZihObyhpKSlyZXR1cm4gdC5jbG9uZSgpO2lmKGkuaXMoXCJ0ZXh0XCIpKXJldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoRW8odCksZSk7aWYobj09aS5jaGlsZENvdW50KXtjb25zdCB0PW5ldyBaaShpLnBhcmVudCxpLmluZGV4KzEpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXModCxlKX1pZigwPT09bil7Y29uc3QgdD1uZXcgWmkoaS5wYXJlbnQsaS5pbmRleCk7cmV0dXJuIHRoaXMuX2JyZWFrQXR0cmlidXRlcyh0LGUpfXtjb25zdCB0PWkuaW5kZXgrMSxvPWkuX2Nsb25lKCk7aS5wYXJlbnQuX2luc2VydENoaWxkKHQsbyksdGhpcy5fYWRkVG9DbG9uZWRFbGVtZW50c0dyb3VwKG8pO2NvbnN0IHI9aS5jaGlsZENvdW50LW4scz1pLl9yZW1vdmVDaGlsZHJlbihuLHIpO28uX2FwcGVuZENoaWxkKHMpO2NvbnN0IGE9bmV3IFppKGkucGFyZW50LHQpO3JldHVybiB0aGlzLl9icmVha0F0dHJpYnV0ZXMoYSxlKX19X2FkZFRvQ2xvbmVkRWxlbWVudHNHcm91cCh0KXtpZighdC5yb290LmlzKFwicm9vdEVsZW1lbnRcIikpcmV0dXJuO2lmKHQuaXMoXCJlbGVtZW50XCIpKWZvcihjb25zdCBlIG9mIHQuZ2V0Q2hpbGRyZW4oKSl0aGlzLl9hZGRUb0Nsb25lZEVsZW1lbnRzR3JvdXAoZSk7Y29uc3QgZT10LmlkO2lmKCFlKXJldHVybjtsZXQgbj10aGlzLl9jbG9uZUdyb3Vwcy5nZXQoZSk7bnx8KG49bmV3IFNldCx0aGlzLl9jbG9uZUdyb3Vwcy5zZXQoZSxuKSksbi5hZGQodCksdC5fY2xvbmVzR3JvdXA9bn1fcmVtb3ZlRnJvbUNsb25lZEVsZW1lbnRzR3JvdXAodCl7aWYodC5pcyhcImVsZW1lbnRcIikpZm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKXRoaXMuX3JlbW92ZUZyb21DbG9uZWRFbGVtZW50c0dyb3VwKGUpO2NvbnN0IGU9dC5pZDtpZighZSlyZXR1cm47Y29uc3Qgbj10aGlzLl9jbG9uZUdyb3Vwcy5nZXQoZSk7biYmbi5kZWxldGUodCl9fWZ1bmN0aW9uIFRvKHQpe2xldCBlPXQucGFyZW50O2Zvcig7IU5vKGUpOyl7aWYoIWUpcmV0dXJuO2U9ZS5wYXJlbnR9cmV0dXJuIGV9ZnVuY3Rpb24gUG8odCxlKXtyZXR1cm4gdC5wcmlvcml0eTxlLnByaW9yaXR5fHwhKHQucHJpb3JpdHk+ZS5wcmlvcml0eSkmJnQuZ2V0SWRlbnRpdHkoKTxlLmdldElkZW50aXR5KCl9ZnVuY3Rpb24gTW8odCl7Y29uc3QgZT10Lm5vZGVCZWZvcmU7aWYoZSYmZS5pcyhcInRleHRcIikpcmV0dXJuIG5ldyBaaShlLGUuZGF0YS5sZW5ndGgpO2NvbnN0IG49dC5ub2RlQWZ0ZXI7cmV0dXJuIG4mJm4uaXMoXCJ0ZXh0XCIpP25ldyBaaShuLDApOnR9ZnVuY3Rpb24gRW8odCl7aWYodC5vZmZzZXQ9PXQucGFyZW50LmRhdGEubGVuZ3RoKXJldHVybiBuZXcgWmkodC5wYXJlbnQucGFyZW50LHQucGFyZW50LmluZGV4KzEpO2lmKDA9PT10Lm9mZnNldClyZXR1cm4gbmV3IFppKHQucGFyZW50LnBhcmVudCx0LnBhcmVudC5pbmRleCk7Y29uc3QgZT10LnBhcmVudC5kYXRhLnNsaWNlKHQub2Zmc2V0KTtyZXR1cm4gdC5wYXJlbnQuX2RhdGE9dC5wYXJlbnQuZGF0YS5zbGljZSgwLHQub2Zmc2V0KSx0LnBhcmVudC5wYXJlbnQuX2luc2VydENoaWxkKHQucGFyZW50LmluZGV4KzEsbmV3IGZpKGUpKSxuZXcgWmkodC5wYXJlbnQucGFyZW50LHQucGFyZW50LmluZGV4KzEpfWZ1bmN0aW9uIFNvKHQsZSl7Y29uc3Qgbj10LmRhdGEubGVuZ3RoO3JldHVybiB0Ll9kYXRhKz1lLmRhdGEsZS5fcmVtb3ZlKCksbmV3IFppKHQsbil9Y29uc3QgSW89W2ZpLGFvLHlpLHVvLHZvXTtmdW5jdGlvbiBObyh0KXtyZXR1cm4gdCYmKHQuaXMoXCJjb250YWluZXJFbGVtZW50XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKSl9ZnVuY3Rpb24gT28odCl7Y29uc3QgZT1Ubyh0LnN0YXJ0KSxuPVRvKHQuZW5kKTtpZighZXx8IW58fGUhPT1uKXRocm93IG5ldyBHbi5iKFwidmlldy13cml0ZXItaW52YWxpZC1yYW5nZS1jb250YWluZXJcIil9ZnVuY3Rpb24gUm8odCxlKXtyZXR1cm4gbnVsbD09PXQuaWQmJm51bGw9PT1lLmlkfWZ1bmN0aW9uIERvKHQpe3JldHVyblwiW29iamVjdCBUZXh0XVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl9Y29uc3QgTG89dD0+e2NvbnN0IGU9dC5jcmVhdGVFbGVtZW50KFwiYnJcIik7cmV0dXJuIGUuZGF0YXNldC5ja2VGaWxsZXI9ITAsZX0sam89dD0+dC5jcmVhdGVUZXh0Tm9kZShcIsKgXCIpLFZvPTc7bGV0IEJvPVwiXCI7Zm9yKGxldCB0PTA7dDxWbzt0KyspQm8rPVwi4oCLXCI7ZnVuY3Rpb24gem8odCl7cmV0dXJuIERvKHQpJiZ0LmRhdGEuc3Vic3RyKDAsVm8pPT09Qm99ZnVuY3Rpb24gRm8odCl7cmV0dXJuIHQuZGF0YS5sZW5ndGg9PVZvJiZ6byh0KX1mdW5jdGlvbiBVbyh0KXtyZXR1cm4gem8odCk/dC5kYXRhLnNsaWNlKFZvKTp0LmRhdGF9Y29uc3QgSG89bmV3IFdlYWtNYXA7ZnVuY3Rpb24gcW8odCxlKXtsZXQgbj1Iby5nZXQoZSk7cmV0dXJuIG58fChuPWUod2luZG93LmRvY3VtZW50KSxIby5zZXQoZSxuKSksdC5pc0VxdWFsTm9kZShuKX1mdW5jdGlvbiBXbyh0LGUpe2lmKGUua2V5Q29kZT09Ym8uYXJyb3dsZWZ0KXtjb25zdCB0PWUuZG9tVGFyZ2V0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZ2V0U2VsZWN0aW9uKCk7aWYoMT09dC5yYW5nZUNvdW50JiZ0LmdldFJhbmdlQXQoMCkuY29sbGFwc2VkKXtjb25zdCBlPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydENvbnRhaW5lcixuPXQuZ2V0UmFuZ2VBdCgwKS5zdGFydE9mZnNldDt6byhlKSYmbjw9Vm8mJnQuY29sbGFwc2UoZSwwKX19fWZ1bmN0aW9uIFlvKHQsZSxuLGk9ITEpe249bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9LEFycmF5LmlzQXJyYXkodCl8fCh0PUFycmF5LmZyb20odCkpLEFycmF5LmlzQXJyYXkoZSl8fChlPUFycmF5LmZyb20oZSkpO2NvbnN0IG89ZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9JG8odCxlLG4pO2lmKC0xPT09aSlyZXR1cm57Zmlyc3RJbmRleDotMSxsYXN0SW5kZXhPbGQ6LTEsbGFzdEluZGV4TmV3Oi0xfTtjb25zdCBvPUdvKHQsaSkscj1HbyhlLGkpLHM9JG8obyxyLG4pLGE9dC5sZW5ndGgtcyxjPWUubGVuZ3RoLXM7cmV0dXJue2ZpcnN0SW5kZXg6aSxsYXN0SW5kZXhPbGQ6YSxsYXN0SW5kZXhOZXc6Y319KHQsZSxuKTtyZXR1cm4gaT9mdW5jdGlvbih0LGUpe2NvbnN0e2ZpcnN0SW5kZXg6bixsYXN0SW5kZXhPbGQ6aSxsYXN0SW5kZXhOZXc6b309dDtpZigtMT09PW4pcmV0dXJuIEFycmF5KGUpLmZpbGwoXCJlcXVhbFwiKTtsZXQgcj1bXTtuPjAmJihyPXIuY29uY2F0KEFycmF5KG4pLmZpbGwoXCJlcXVhbFwiKSkpO28tbj4wJiYocj1yLmNvbmNhdChBcnJheShvLW4pLmZpbGwoXCJpbnNlcnRcIikpKTtpLW4+MCYmKHI9ci5jb25jYXQoQXJyYXkoaS1uKS5maWxsKFwiZGVsZXRlXCIpKSk7bzxlJiYocj1yLmNvbmNhdChBcnJheShlLW8pLmZpbGwoXCJlcXVhbFwiKSkpO3JldHVybiByfShvLGUubGVuZ3RoKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49W10se2ZpcnN0SW5kZXg6aSxsYXN0SW5kZXhPbGQ6byxsYXN0SW5kZXhOZXc6cn09ZTtyLWk+MCYmbi5wdXNoKHtpbmRleDppLHR5cGU6XCJpbnNlcnRcIix2YWx1ZXM6dC5zbGljZShpLHIpfSk7by1pPjAmJm4ucHVzaCh7aW5kZXg6aSsoci1pKSx0eXBlOlwiZGVsZXRlXCIsaG93TWFueTpvLWl9KTtyZXR1cm4gbn0oZSxvKX1mdW5jdGlvbiAkbyh0LGUsbil7Zm9yKGxldCBpPTA7aTxNYXRoLm1heCh0Lmxlbmd0aCxlLmxlbmd0aCk7aSsrKWlmKHZvaWQgMD09PXRbaV18fHZvaWQgMD09PWVbaV18fCFuKHRbaV0sZVtpXSkpcmV0dXJuIGk7cmV0dXJuLTF9ZnVuY3Rpb24gR28odCxlKXtyZXR1cm4gdC5zbGljZShlKS5yZXZlcnNlKCl9ZnVuY3Rpb24gUW8odCxlLG4pe249bnx8ZnVuY3Rpb24odCxlKXtyZXR1cm4gdD09PWV9O2NvbnN0IGk9dC5sZW5ndGgsbz1lLmxlbmd0aDtpZihpPjIwMHx8bz4yMDB8fGkrbz4zMDApcmV0dXJuIFFvLmZhc3REaWZmKHQsZSxuLCEwKTtsZXQgcixzO2lmKG88aSl7Y29uc3Qgbj10O3Q9ZSxlPW4scj1cImRlbGV0ZVwiLHM9XCJpbnNlcnRcIn1lbHNlIHI9XCJpbnNlcnRcIixzPVwiZGVsZXRlXCI7Y29uc3QgYT10Lmxlbmd0aCxjPWUubGVuZ3RoLGw9Yy1hLGQ9e30sdT17fTtmdW5jdGlvbiBoKGkpe2NvbnN0IG89KHZvaWQgMCE9PXVbaS0xXT91W2ktMV06LTEpKzEsbD12b2lkIDAhPT11W2krMV0/dVtpKzFdOi0xLGg9bz5sPy0xOjE7ZFtpK2hdJiYoZFtpXT1kW2kraF0uc2xpY2UoMCkpLGRbaV18fChkW2ldPVtdKSxkW2ldLnB1c2gobz5sP3I6cyk7bGV0IGY9TWF0aC5tYXgobyxsKSxtPWYtaTtmb3IoO208YSYmZjxjJiZuKHRbbV0sZVtmXSk7KW0rKyxmKyssZFtpXS5wdXNoKFwiZXF1YWxcIik7cmV0dXJuIGZ9bGV0IGYsbT0wO2Rve2ZvcihmPS1tO2Y8bDtmKyspdVtmXT1oKGYpO2ZvcihmPWwrbTtmPmw7Zi0tKXVbZl09aChmKTt1W2xdPWgobCksbSsrfXdoaWxlKHVbbF0hPT1jKTtyZXR1cm4gZFtsXS5zbGljZSgxKX1mdW5jdGlvbiBKbyh0LGUsbil7dC5pbnNlcnRCZWZvcmUobix0LmNoaWxkTm9kZXNbZV18fG51bGwpfWZ1bmN0aW9uIEtvKHQpe2NvbnN0IGU9dC5wYXJlbnROb2RlO2UmJmUucmVtb3ZlQ2hpbGQodCl9ZnVuY3Rpb24gWm8odCl7aWYodCl7aWYodC5kZWZhdWx0VmlldylyZXR1cm4gdCBpbnN0YW5jZW9mIHQuZGVmYXVsdFZpZXcuRG9jdW1lbnQ7aWYodC5vd25lckRvY3VtZW50JiZ0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpcmV0dXJuIHQgaW5zdGFuY2VvZiB0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuTm9kZX1yZXR1cm4hMX1Rby5mYXN0RGlmZj1ZbztjbGFzcyBYb3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuZG9tRG9jdW1lbnRzPW5ldyBTZXQsdGhpcy5kb21Db252ZXJ0ZXI9dCx0aGlzLm1hcmtlZEF0dHJpYnV0ZXM9bmV3IFNldCx0aGlzLm1hcmtlZENoaWxkcmVuPW5ldyBTZXQsdGhpcy5tYXJrZWRUZXh0cz1uZXcgU2V0LHRoaXMuc2VsZWN0aW9uPWUsdGhpcy5pc0ZvY3VzZWQ9ITEsdGhpcy5faW5saW5lRmlsbGVyPW51bGwsdGhpcy5fZmFrZVNlbGVjdGlvbkNvbnRhaW5lcj1udWxsfW1hcmtUb1N5bmModCxlKXtpZihcInRleHRcIj09PXQpdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUucGFyZW50KSYmdGhpcy5tYXJrZWRUZXh0cy5hZGQoZSk7ZWxzZXtpZighdGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUpKXJldHVybjtpZihcImF0dHJpYnV0ZXNcIj09PXQpdGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmFkZChlKTtlbHNle2lmKFwiY2hpbGRyZW5cIiE9PXQpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LXJlbmRlcmVyLXVua25vd24tdHlwZTogVW5rbm93biB0eXBlIHBhc3NlZCB0byBSZW5kZXJlci5tYXJrVG9TeW5jLlwiKTt0aGlzLm1hcmtlZENoaWxkcmVuLmFkZChlKX19fXJlbmRlcigpe2xldCB0O2Zvcihjb25zdCB0IG9mIHRoaXMubWFya2VkQ2hpbGRyZW4pdGhpcy5fdXBkYXRlQ2hpbGRyZW5NYXBwaW5ncyh0KTt0aGlzLl9pbmxpbmVGaWxsZXImJiF0aGlzLl9pc1NlbGVjdGlvbkluSW5saW5lRmlsbGVyKCkmJnRoaXMuX3JlbW92ZUlubGluZUZpbGxlcigpLHRoaXMuX2lubGluZUZpbGxlcj90PXRoaXMuX2dldElubGluZUZpbGxlclBvc2l0aW9uKCk6dGhpcy5fbmVlZHNJbmxpbmVGaWxsZXJBdFNlbGVjdGlvbigpJiYodD10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksdGhpcy5tYXJrZWRDaGlsZHJlbi5hZGQodC5wYXJlbnQpKTtmb3IoY29uc3QgdCBvZiB0aGlzLm1hcmtlZEF0dHJpYnV0ZXMpdGhpcy5fdXBkYXRlQXR0cnModCk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5tYXJrZWRDaGlsZHJlbil0aGlzLl91cGRhdGVDaGlsZHJlbihlLHtpbmxpbmVGaWxsZXJQb3NpdGlvbjp0fSk7Zm9yKGNvbnN0IGUgb2YgdGhpcy5tYXJrZWRUZXh0cykhdGhpcy5tYXJrZWRDaGlsZHJlbi5oYXMoZS5wYXJlbnQpJiZ0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZS5wYXJlbnQpJiZ0aGlzLl91cGRhdGVUZXh0KGUse2lubGluZUZpbGxlclBvc2l0aW9uOnR9KTtpZih0KXtjb25zdCBlPXRoaXMuZG9tQ29udmVydGVyLnZpZXdQb3NpdGlvblRvRG9tKHQpLG49ZS5wYXJlbnQub3duZXJEb2N1bWVudDt6byhlLnBhcmVudCk/dGhpcy5faW5saW5lRmlsbGVyPWUucGFyZW50OnRoaXMuX2lubGluZUZpbGxlcj10cihuLGUucGFyZW50LGUub2Zmc2V0KX1lbHNlIHRoaXMuX2lubGluZUZpbGxlcj1udWxsO3RoaXMuX3VwZGF0ZVNlbGVjdGlvbigpLHRoaXMuX3VwZGF0ZUZvY3VzKCksdGhpcy5tYXJrZWRUZXh0cy5jbGVhcigpLHRoaXMubWFya2VkQXR0cmlidXRlcy5jbGVhcigpLHRoaXMubWFya2VkQ2hpbGRyZW4uY2xlYXIoKX1fdXBkYXRlQ2hpbGRyZW5NYXBwaW5ncyh0KXtjb25zdCBlPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KTtpZighZSlyZXR1cm47Y29uc3Qgbj10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20odCkuY2hpbGROb2RlcyxpPUFycmF5LmZyb20odGhpcy5kb21Db252ZXJ0ZXIudmlld0NoaWxkcmVuVG9Eb20odCxlLm93bmVyRG9jdW1lbnQse3dpdGhDaGlsZHJlbjohMX0pKSxvPXRoaXMuX2RpZmZOb2RlTGlzdHMobixpKSxyPXRoaXMuX2ZpbmRSZXBsYWNlQWN0aW9ucyhvLG4saSk7aWYoLTEhPT1yLmluZGV4T2YoXCJyZXBsYWNlXCIpKXtjb25zdCBlPXtlcXVhbDowLGluc2VydDowLGRlbGV0ZTowfTtmb3IoY29uc3QgbyBvZiByKWlmKFwicmVwbGFjZVwiPT09byl7Y29uc3Qgbz1lLmVxdWFsK2UuaW5zZXJ0LHI9ZS5lcXVhbCtlLmRlbGV0ZSxzPXQuZ2V0Q2hpbGQobyk7cyYmIXMuaXMoXCJ1aUVsZW1lbnRcIikmJnRoaXMuX3VwZGF0ZUVsZW1lbnRNYXBwaW5ncyhzLG5bcl0pLEtvKGlbb10pLGUuZXF1YWwrK31lbHNlIGVbb10rK319X3VwZGF0ZUVsZW1lbnRNYXBwaW5ncyh0LGUpe3RoaXMuZG9tQ29udmVydGVyLnVuYmluZERvbUVsZW1lbnQoZSksdGhpcy5kb21Db252ZXJ0ZXIuYmluZEVsZW1lbnRzKGUsdCksdGhpcy5tYXJrZWRDaGlsZHJlbi5hZGQodCksdGhpcy5tYXJrZWRBdHRyaWJ1dGVzLmFkZCh0KX1fZ2V0SW5saW5lRmlsbGVyUG9zaXRpb24oKXtjb25zdCB0PXRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKTtyZXR1cm4gdC5wYXJlbnQuaXMoXCJ0ZXh0XCIpP1ppLl9jcmVhdGVCZWZvcmUodGhpcy5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudCk6dH1faXNTZWxlY3Rpb25JbklubGluZUZpbGxlcigpe2lmKDEhPXRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnR8fCF0aGlzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZClyZXR1cm4hMTtjb25zdCB0PXRoaXMuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSxlPXRoaXMuZG9tQ29udmVydGVyLnZpZXdQb3NpdGlvblRvRG9tKHQpO3JldHVybiEhKGUmJkRvKGUucGFyZW50KSYmem8oZS5wYXJlbnQpKX1fcmVtb3ZlSW5saW5lRmlsbGVyKCl7Y29uc3QgdD10aGlzLl9pbmxpbmVGaWxsZXI7aWYoIXpvKHQpKXRocm93IG5ldyBHbi5iKFwidmlldy1yZW5kZXJlci1maWxsZXItd2FzLWxvc3Q6IFRoZSBpbmxpbmUgZmlsbGVyIG5vZGUgd2FzIGxvc3QuXCIpO0ZvKHQpP3QucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0KTp0LmRhdGE9dC5kYXRhLnN1YnN0cihWbyksdGhpcy5faW5saW5lRmlsbGVyPW51bGx9X25lZWRzSW5saW5lRmlsbGVyQXRTZWxlY3Rpb24oKXtpZigxIT10aGlzLnNlbGVjdGlvbi5yYW5nZUNvdW50fHwhdGhpcy5zZWxlY3Rpb24uaXNDb2xsYXBzZWQpcmV0dXJuITE7Y29uc3QgdD10aGlzLnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksZT10LnBhcmVudCxuPXQub2Zmc2V0O2lmKCF0aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20oZS5yb290KSlyZXR1cm4hMTtpZighZS5pcyhcImVsZW1lbnRcIikpcmV0dXJuITE7aWYoIWZ1bmN0aW9uKHQpe2lmKFwiZmFsc2VcIj09dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpcmV0dXJuITE7Y29uc3QgZT10LmZpbmRBbmNlc3Rvcih0PT50Lmhhc0F0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSk7cmV0dXJuIWV8fFwidHJ1ZVwiPT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKX0oZSkpcmV0dXJuITE7aWYobj09PWUuZ2V0RmlsbGVyT2Zmc2V0KCkpcmV0dXJuITE7Y29uc3QgaT10Lm5vZGVCZWZvcmUsbz10Lm5vZGVBZnRlcjtyZXR1cm4hKGkgaW5zdGFuY2VvZiBmaXx8byBpbnN0YW5jZW9mIGZpKX1fdXBkYXRlVGV4dCh0LGUpe2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KHQpLGk9dGhpcy5kb21Db252ZXJ0ZXIudmlld1RvRG9tKHQsbi5vd25lckRvY3VtZW50KSxvPW4uZGF0YTtsZXQgcj1pLmRhdGE7Y29uc3Qgcz1lLmlubGluZUZpbGxlclBvc2l0aW9uO2lmKHMmJnMucGFyZW50PT10LnBhcmVudCYmcy5vZmZzZXQ9PXQuaW5kZXgmJihyPUJvK3IpLG8hPXIpe2NvbnN0IHQ9WW8obyxyKTtmb3IoY29uc3QgZSBvZiB0KVwiaW5zZXJ0XCI9PT1lLnR5cGU/bi5pbnNlcnREYXRhKGUuaW5kZXgsZS52YWx1ZXMuam9pbihcIlwiKSk6bi5kZWxldGVEYXRhKGUuaW5kZXgsZS5ob3dNYW55KX19X3VwZGF0ZUF0dHJzKHQpe2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHQpO2lmKCFlKXJldHVybjtjb25zdCBuPUFycmF5LmZyb20oZS5hdHRyaWJ1dGVzKS5tYXAodD0+dC5uYW1lKSxpPXQuZ2V0QXR0cmlidXRlS2V5cygpO2Zvcihjb25zdCBuIG9mIGkpZS5zZXRBdHRyaWJ1dGUobix0LmdldEF0dHJpYnV0ZShuKSk7Zm9yKGNvbnN0IGkgb2Ygbil0Lmhhc0F0dHJpYnV0ZShpKXx8ZS5yZW1vdmVBdHRyaWJ1dGUoaSl9X3VwZGF0ZUNoaWxkcmVuKHQsZSl7Y29uc3Qgbj10aGlzLmRvbUNvbnZlcnRlci5tYXBWaWV3VG9Eb20odCk7aWYoIW4pcmV0dXJuO2NvbnN0IGk9ZS5pbmxpbmVGaWxsZXJQb3NpdGlvbixvPXRoaXMuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbSh0KS5jaGlsZE5vZGVzLHI9QXJyYXkuZnJvbSh0aGlzLmRvbUNvbnZlcnRlci52aWV3Q2hpbGRyZW5Ub0RvbSh0LG4ub3duZXJEb2N1bWVudCx7YmluZDohMCxpbmxpbmVGaWxsZXJQb3NpdGlvbjppfSkpO2kmJmkucGFyZW50PT09dCYmdHIobi5vd25lckRvY3VtZW50LHIsaS5vZmZzZXQpO2NvbnN0IHM9dGhpcy5fZGlmZk5vZGVMaXN0cyhvLHIpO2xldCBhPTA7Y29uc3QgYz1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIHMpXCJpbnNlcnRcIj09PXQ/KEpvKG4sYSxyW2FdKSxhKyspOlwiZGVsZXRlXCI9PT10PyhjLmFkZChvW2FdKSxLbyhvW2FdKSk6KHRoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0aGlzLmRvbUNvbnZlcnRlci5kb21Ub1ZpZXcoclthXSkpLGErKyk7Zm9yKGNvbnN0IHQgb2YgYyl0LnBhcmVudE5vZGV8fHRoaXMuZG9tQ29udmVydGVyLnVuYmluZERvbUVsZW1lbnQodCl9X2RpZmZOb2RlTGlzdHModCxlKXtyZXR1cm4gUW8odD1mdW5jdGlvbih0LGUpe2NvbnN0IG49QXJyYXkuZnJvbSh0KTtpZigwPT1uLmxlbmd0aHx8IWUpcmV0dXJuIG47bltuLmxlbmd0aC0xXT09ZSYmbi5wb3AoKTtyZXR1cm4gbn0odCx0aGlzLl9mYWtlU2VsZWN0aW9uQ29udGFpbmVyKSxlLGZ1bmN0aW9uKHQsZSxuKXtpZihlPT09bilyZXR1cm4hMDtpZihEbyhlKSYmRG8obikpcmV0dXJuIGUuZGF0YT09PW4uZGF0YTtpZihxbyhlLHQpJiZxbyhuLHQpKXJldHVybiEwO3JldHVybiExfS5iaW5kKG51bGwsdGhpcy5kb21Db252ZXJ0ZXIuYmxvY2tGaWxsZXIpKX1fZmluZFJlcGxhY2VBY3Rpb25zKHQsZSxuKXtpZigtMT09PXQuaW5kZXhPZihcImluc2VydFwiKXx8LTE9PT10LmluZGV4T2YoXCJkZWxldGVcIikpcmV0dXJuIHQ7bGV0IGk9W10sbz1bXSxyPVtdO2NvbnN0IHM9e2VxdWFsOjAsaW5zZXJ0OjAsZGVsZXRlOjB9O2Zvcihjb25zdCBhIG9mIHQpXCJpbnNlcnRcIj09PWE/ci5wdXNoKG5bcy5lcXVhbCtzLmluc2VydF0pOlwiZGVsZXRlXCI9PT1hP28ucHVzaChlW3MuZXF1YWwrcy5kZWxldGVdKTooKGk9aS5jb25jYXQoUW8obyxyLGVyKS5tYXAodD0+XCJlcXVhbFwiPT09dD9cInJlcGxhY2VcIjp0KSkpLnB1c2goXCJlcXVhbFwiKSxvPVtdLHI9W10pLHNbYV0rKztyZXR1cm4gaS5jb25jYXQoUW8obyxyLGVyKS5tYXAodD0+XCJlcXVhbFwiPT09dD9cInJlcGxhY2VcIjp0KSl9X21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyh0KXtpZih0KWlmKHQuaXMoXCJ0ZXh0XCIpKXRoaXMubWFya2VkVGV4dHMuYWRkKHQpO2Vsc2UgaWYodC5pcyhcImVsZW1lbnRcIikpZm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKXRoaXMuX21hcmtEZXNjZW5kYW50VGV4dFRvU3luYyhlKX1fdXBkYXRlU2VsZWN0aW9uKCl7aWYoMD09PXRoaXMuc2VsZWN0aW9uLnJhbmdlQ291bnQpcmV0dXJuIHRoaXMuX3JlbW92ZURvbVNlbGVjdGlvbigpLHZvaWQgdGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpO2NvbnN0IHQ9dGhpcy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKHRoaXMuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudCk7dGhpcy5pc0ZvY3VzZWQmJnQmJih0aGlzLnNlbGVjdGlvbi5pc0Zha2U/dGhpcy5fdXBkYXRlRmFrZVNlbGVjdGlvbih0KToodGhpcy5fcmVtb3ZlRmFrZVNlbGVjdGlvbigpLHRoaXMuX3VwZGF0ZURvbVNlbGVjdGlvbih0KSkpfV91cGRhdGVGYWtlU2VsZWN0aW9uKHQpe2NvbnN0IGU9dC5vd25lckRvY3VtZW50O2xldCBuPXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7bnx8KHRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI9bj1lLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksT2JqZWN0LmFzc2lnbihuLnN0eWxlLHtwb3NpdGlvbjpcImZpeGVkXCIsdG9wOjAsbGVmdDpcIi05OTk5cHhcIix3aWR0aDpcIjQycHhcIn0pLG4udGV4dENvbnRlbnQ9XCLCoFwiKSxuLnBhcmVudEVsZW1lbnQmJm4ucGFyZW50RWxlbWVudD09dHx8dC5hcHBlbmRDaGlsZChuKSxuLnRleHRDb250ZW50PXRoaXMuc2VsZWN0aW9uLmZha2VTZWxlY3Rpb25MYWJlbHx8XCLCoFwiO2NvbnN0IGk9ZS5nZXRTZWxlY3Rpb24oKSxvPWUuY3JlYXRlUmFuZ2UoKTtpLnJlbW92ZUFsbFJhbmdlcygpLG8uc2VsZWN0Tm9kZUNvbnRlbnRzKG4pLGkuYWRkUmFuZ2UobyksdGhpcy5kb21Db252ZXJ0ZXIuYmluZEZha2VTZWxlY3Rpb24obix0aGlzLnNlbGVjdGlvbil9X3VwZGF0ZURvbVNlbGVjdGlvbih0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRTZWxlY3Rpb24oKTtpZighdGhpcy5fZG9tU2VsZWN0aW9uTmVlZHNVcGRhdGUoZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5kb21Db252ZXJ0ZXIudmlld1Bvc2l0aW9uVG9Eb20odGhpcy5zZWxlY3Rpb24uYW5jaG9yKSxpPXRoaXMuZG9tQ29udmVydGVyLnZpZXdQb3NpdGlvblRvRG9tKHRoaXMuc2VsZWN0aW9uLmZvY3VzKTt0LmZvY3VzKCksZS5jb2xsYXBzZShuLnBhcmVudCxuLm9mZnNldCksZS5leHRlbmQoaS5wYXJlbnQsaS5vZmZzZXQpLG1vLmlzR2Vja28mJmZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LnBhcmVudDtpZihuLm5vZGVUeXBlIT1Ob2RlLkVMRU1FTlRfTk9ERXx8dC5vZmZzZXQhPW4uY2hpbGROb2Rlcy5sZW5ndGgtMSlyZXR1cm47Y29uc3QgaT1uLmNoaWxkTm9kZXNbdC5vZmZzZXRdO2kmJlwiQlJcIj09aS50YWdOYW1lJiZlLmFkZFJhbmdlKGUuZ2V0UmFuZ2VBdCgwKSl9KGksZSl9X2RvbVNlbGVjdGlvbk5lZWRzVXBkYXRlKHQpe2lmKCF0aGlzLmRvbUNvbnZlcnRlci5pc0RvbVNlbGVjdGlvbkNvcnJlY3QodCkpcmV0dXJuITA7Y29uc3QgZT10JiZ0aGlzLmRvbUNvbnZlcnRlci5kb21TZWxlY3Rpb25Ub1ZpZXcodCk7cmV0dXJuKCFlfHwhdGhpcy5zZWxlY3Rpb24uaXNFcXVhbChlKSkmJiEoIXRoaXMuc2VsZWN0aW9uLmlzQ29sbGFwc2VkJiZ0aGlzLnNlbGVjdGlvbi5pc1NpbWlsYXIoZSkpfV9yZW1vdmVEb21TZWxlY3Rpb24oKXtmb3IoY29uc3QgdCBvZiB0aGlzLmRvbURvY3VtZW50cyl7aWYodC5nZXRTZWxlY3Rpb24oKS5yYW5nZUNvdW50KXtjb25zdCBlPXQuYWN0aXZlRWxlbWVudCxuPXRoaXMuZG9tQ29udmVydGVyLm1hcERvbVRvVmlldyhlKTtlJiZuJiZ0LmdldFNlbGVjdGlvbigpLnJlbW92ZUFsbFJhbmdlcygpfX19X3JlbW92ZUZha2VTZWxlY3Rpb24oKXtjb25zdCB0PXRoaXMuX2Zha2VTZWxlY3Rpb25Db250YWluZXI7dCYmdC5yZW1vdmUoKX1fdXBkYXRlRm9jdXMoKXtpZih0aGlzLmlzRm9jdXNlZCl7Y29uc3QgdD10aGlzLnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7dCYmdGhpcy5kb21Db252ZXJ0ZXIuZm9jdXModCl9fX1mdW5jdGlvbiB0cih0LGUsbil7Y29uc3QgaT1lIGluc3RhbmNlb2YgQXJyYXk/ZTplLmNoaWxkTm9kZXMsbz1pW25dO2lmKERvKG8pKXJldHVybiBvLmRhdGE9Qm8rby5kYXRhLG87e2NvbnN0IG89dC5jcmVhdGVUZXh0Tm9kZShCbyk7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/aS5zcGxpY2UobiwwLG8pOkpvKGUsbixvKSxvfX1mdW5jdGlvbiBlcih0LGUpe3JldHVybiBabyh0KSYmWm8oZSkmJiFEbyh0KSYmIURvKGUpJiZ0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpfWNpKFhvLEZpKTt2YXIgbnI9e3dpbmRvdzp3aW5kb3csZG9jdW1lbnQ6ZG9jdW1lbnR9O2Z1bmN0aW9uIGlyKHQpe2xldCBlPTA7Zm9yKDt0LnByZXZpb3VzU2libGluZzspdD10LnByZXZpb3VzU2libGluZyxlKys7cmV0dXJuIGV9ZnVuY3Rpb24gb3IodCl7Y29uc3QgZT1bXTtmb3IoO3QmJnQubm9kZVR5cGUhPU5vZGUuRE9DVU1FTlRfTk9ERTspZS51bnNoaWZ0KHQpLHQ9dC5wYXJlbnROb2RlO3JldHVybiBlfWNsYXNzIHJye2NvbnN0cnVjdG9yKHQ9e30pe3RoaXMuYmxvY2tGaWxsZXI9dC5ibG9ja0ZpbGxlcnx8TG8sdGhpcy5wcmVFbGVtZW50cz1bXCJwcmVcIl0sdGhpcy5ibG9ja0VsZW1lbnRzPVtcInBcIixcImRpdlwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiXSx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fZmFrZVNlbGVjdGlvbk1hcHBpbmc9bmV3IFdlYWtNYXB9YmluZEZha2VTZWxlY3Rpb24odCxlKXt0aGlzLl9mYWtlU2VsZWN0aW9uTWFwcGluZy5zZXQodCxuZXcgbm8oZSkpfWZha2VTZWxlY3Rpb25Ub1ZpZXcodCl7cmV0dXJuIHRoaXMuX2Zha2VTZWxlY3Rpb25NYXBwaW5nLmdldCh0KX1iaW5kRWxlbWVudHModCxlKXt0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLnNldCh0LGUpLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuc2V0KGUsdCl9dW5iaW5kRG9tRWxlbWVudCh0KXtjb25zdCBlPXRoaXMuX2RvbVRvVmlld01hcHBpbmcuZ2V0KHQpO2lmKGUpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuZGVsZXRlKHQpLHRoaXMuX3ZpZXdUb0RvbU1hcHBpbmcuZGVsZXRlKGUpO2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20odC5jaGlsZE5vZGVzKSl0aGlzLnVuYmluZERvbUVsZW1lbnQoZSl9fWJpbmREb2N1bWVudEZyYWdtZW50cyh0LGUpe3RoaXMuX2RvbVRvVmlld01hcHBpbmcuc2V0KHQsZSksdGhpcy5fdmlld1RvRG9tTWFwcGluZy5zZXQoZSx0KX12aWV3VG9Eb20odCxlLG49e30pe2lmKHQuaXMoXCJ0ZXh0XCIpKXtjb25zdCBuPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KHQpO3JldHVybiBlLmNyZWF0ZVRleHROb2RlKG4pfXtpZih0aGlzLm1hcFZpZXdUb0RvbSh0KSlyZXR1cm4gdGhpcy5tYXBWaWV3VG9Eb20odCk7bGV0IGk7aWYodC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpaT1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSxuLmJpbmQmJnRoaXMuYmluZERvY3VtZW50RnJhZ21lbnRzKGksdCk7ZWxzZXtpZih0LmlzKFwidWlFbGVtZW50XCIpKXJldHVybiBpPXQucmVuZGVyKGUpLG4uYmluZCYmdGhpcy5iaW5kRWxlbWVudHMoaSx0KSxpO2k9ZS5jcmVhdGVFbGVtZW50KHQubmFtZSksbi5iaW5kJiZ0aGlzLmJpbmRFbGVtZW50cyhpLHQpO2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKWkuc2V0QXR0cmlidXRlKGUsdC5nZXRBdHRyaWJ1dGUoZSkpfWlmKG4ud2l0aENoaWxkcmVufHx2b2lkIDA9PT1uLndpdGhDaGlsZHJlbilmb3IoY29uc3QgbyBvZiB0aGlzLnZpZXdDaGlsZHJlblRvRG9tKHQsZSxuKSlpLmFwcGVuZENoaWxkKG8pO3JldHVybiBpfX0qdmlld0NoaWxkcmVuVG9Eb20odCxlLG49e30pe2NvbnN0IGk9dC5nZXRGaWxsZXJPZmZzZXQmJnQuZ2V0RmlsbGVyT2Zmc2V0KCk7bGV0IG89MDtmb3IoY29uc3QgciBvZiB0LmdldENoaWxkcmVuKCkpaT09PW8mJih5aWVsZCB0aGlzLmJsb2NrRmlsbGVyKGUpKSx5aWVsZCB0aGlzLnZpZXdUb0RvbShyLGUsbiksbysrO2k9PT1vJiYoeWllbGQgdGhpcy5ibG9ja0ZpbGxlcihlKSl9dmlld1JhbmdlVG9Eb20odCl7Y29uc3QgZT10aGlzLnZpZXdQb3NpdGlvblRvRG9tKHQuc3RhcnQpLG49dGhpcy52aWV3UG9zaXRpb25Ub0RvbSh0LmVuZCksaT1kb2N1bWVudC5jcmVhdGVSYW5nZSgpO3JldHVybiBpLnNldFN0YXJ0KGUucGFyZW50LGUub2Zmc2V0KSxpLnNldEVuZChuLnBhcmVudCxuLm9mZnNldCksaX12aWV3UG9zaXRpb25Ub0RvbSh0KXtjb25zdCBlPXQucGFyZW50O2lmKGUuaXMoXCJ0ZXh0XCIpKXtjb25zdCBuPXRoaXMuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KGUpO2lmKCFuKXJldHVybiBudWxsO2xldCBpPXQub2Zmc2V0O3JldHVybiB6byhuKSYmKGkrPVZvKSx7cGFyZW50Om4sb2Zmc2V0Oml9fXtsZXQgbixpLG87aWYoMD09PXQub2Zmc2V0KXtpZighKG49dGhpcy5tYXBWaWV3VG9Eb20oZSkpKXJldHVybiBudWxsO289bi5jaGlsZE5vZGVzWzBdfWVsc2V7Y29uc3QgZT10Lm5vZGVCZWZvcmU7aWYoIShpPWUuaXMoXCJ0ZXh0XCIpP3RoaXMuZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KGUpOnRoaXMubWFwVmlld1RvRG9tKHQubm9kZUJlZm9yZSkpKXJldHVybiBudWxsO249aS5wYXJlbnROb2RlLG89aS5uZXh0U2libGluZ31pZihEbyhvKSYmem8obykpcmV0dXJue3BhcmVudDpvLG9mZnNldDpWb307cmV0dXJue3BhcmVudDpuLG9mZnNldDppP2lyKGkpKzE6MH19fWRvbVRvVmlldyh0LGU9e30pe2lmKHFvKHQsdGhpcy5ibG9ja0ZpbGxlcikpcmV0dXJuIG51bGw7Y29uc3Qgbj10aGlzLmdldFBhcmVudFVJRWxlbWVudCh0LHRoaXMuX2RvbVRvVmlld01hcHBpbmcpO2lmKG4pcmV0dXJuIG47aWYoRG8odCkpe2lmKEZvKHQpKXJldHVybiBudWxsO3tjb25zdCBlPXRoaXMuX3Byb2Nlc3NEYXRhRnJvbURvbVRleHQodCk7cmV0dXJuXCJcIj09PWU/bnVsbDpuZXcgZmkoZSl9fWlmKHRoaXMuaXNDb21tZW50KHQpKXJldHVybiBudWxsO3tpZih0aGlzLm1hcERvbVRvVmlldyh0KSlyZXR1cm4gdGhpcy5tYXBEb21Ub1ZpZXcodCk7bGV0IG47aWYodGhpcy5pc0RvY3VtZW50RnJhZ21lbnQodCkpbj1uZXcgQW8sZS5iaW5kJiZ0aGlzLmJpbmREb2N1bWVudEZyYWdtZW50cyh0LG4pO2Vsc2V7Y29uc3QgaT1lLmtlZXBPcmlnaW5hbENhc2U/dC50YWdOYW1lOnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpO249bmV3IF9pKGkpLGUuYmluZCYmdGhpcy5iaW5kRWxlbWVudHModCxuKTtjb25zdCBvPXQuYXR0cmlidXRlcztmb3IobGV0IHQ9by5sZW5ndGgtMTt0Pj0wO3QtLSluLl9zZXRBdHRyaWJ1dGUob1t0XS5uYW1lLG9bdF0udmFsdWUpfWlmKGUud2l0aENoaWxkcmVufHx2b2lkIDA9PT1lLndpdGhDaGlsZHJlbilmb3IoY29uc3QgaSBvZiB0aGlzLmRvbUNoaWxkcmVuVG9WaWV3KHQsZSkpbi5fYXBwZW5kQ2hpbGQoaSk7cmV0dXJuIG59fSpkb21DaGlsZHJlblRvVmlldyh0LGU9e30pe2ZvcihsZXQgbj0wO248dC5jaGlsZE5vZGVzLmxlbmd0aDtuKyspe2NvbnN0IGk9dC5jaGlsZE5vZGVzW25dLG89dGhpcy5kb21Ub1ZpZXcoaSxlKTtudWxsIT09byYmKHlpZWxkIG8pfX1kb21TZWxlY3Rpb25Ub1ZpZXcodCl7aWYoMT09PXQucmFuZ2VDb3VudCl7bGV0IGU9dC5nZXRSYW5nZUF0KDApLnN0YXJ0Q29udGFpbmVyO0RvKGUpJiYoZT1lLnBhcmVudE5vZGUpO2NvbnN0IG49dGhpcy5mYWtlU2VsZWN0aW9uVG9WaWV3KGUpO2lmKG4pcmV0dXJuIG59Y29uc3QgZT10aGlzLmlzRG9tU2VsZWN0aW9uQmFja3dhcmQodCksbj1bXTtmb3IobGV0IGU9MDtlPHQucmFuZ2VDb3VudDtlKyspe2NvbnN0IGk9dC5nZXRSYW5nZUF0KGUpLG89dGhpcy5kb21SYW5nZVRvVmlldyhpKTtvJiZuLnB1c2gobyl9cmV0dXJuIG5ldyBubyhuLHtiYWNrd2FyZDplfSl9ZG9tUmFuZ2VUb1ZpZXcodCl7Y29uc3QgZT10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KHQuc3RhcnRDb250YWluZXIsdC5zdGFydE9mZnNldCksbj10aGlzLmRvbVBvc2l0aW9uVG9WaWV3KHQuZW5kQ29udGFpbmVyLHQuZW5kT2Zmc2V0KTtyZXR1cm4gZSYmbj9uZXcgWGkoZSxuKTpudWxsfWRvbVBvc2l0aW9uVG9WaWV3KHQsZSl7aWYocW8odCx0aGlzLmJsb2NrRmlsbGVyKSlyZXR1cm4gdGhpcy5kb21Qb3NpdGlvblRvVmlldyh0LnBhcmVudE5vZGUsaXIodCkpO2NvbnN0IG49dGhpcy5tYXBEb21Ub1ZpZXcodCk7aWYobiYmbi5pcyhcInVpRWxlbWVudFwiKSlyZXR1cm4gWmkuX2NyZWF0ZUJlZm9yZShuKTtpZihEbyh0KSl7aWYoRm8odCkpcmV0dXJuIHRoaXMuZG9tUG9zaXRpb25Ub1ZpZXcodC5wYXJlbnROb2RlLGlyKHQpKTtjb25zdCBuPXRoaXMuZmluZENvcnJlc3BvbmRpbmdWaWV3VGV4dCh0KTtsZXQgaT1lO3JldHVybiBuPyh6byh0KSYmKGk9KGktPVZvKTwwPzA6aSksbmV3IFppKG4saSkpOm51bGx9aWYoMD09PWUpe2NvbnN0IGU9dGhpcy5tYXBEb21Ub1ZpZXcodCk7aWYoZSlyZXR1cm4gbmV3IFppKGUsMCl9ZWxzZXtjb25zdCBuPXQuY2hpbGROb2Rlc1tlLTFdLGk9RG8obik/dGhpcy5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KG4pOnRoaXMubWFwRG9tVG9WaWV3KG4pO2lmKGkmJmkucGFyZW50KXJldHVybiBuZXcgWmkoaS5wYXJlbnQsaS5pbmRleCsxKX1yZXR1cm4gbnVsbH1tYXBEb21Ub1ZpZXcodCl7cmV0dXJuIHRoaXMuZ2V0UGFyZW50VUlFbGVtZW50KHQpfHx0aGlzLl9kb21Ub1ZpZXdNYXBwaW5nLmdldCh0KX1maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KHQpe2lmKEZvKHQpKXJldHVybiBudWxsO2NvbnN0IGU9dGhpcy5nZXRQYXJlbnRVSUVsZW1lbnQodCk7aWYoZSlyZXR1cm4gZTtjb25zdCBuPXQucHJldmlvdXNTaWJsaW5nO2lmKG4pe2lmKCF0aGlzLmlzRWxlbWVudChuKSlyZXR1cm4gbnVsbDtjb25zdCB0PXRoaXMubWFwRG9tVG9WaWV3KG4pO2lmKHQpe3JldHVybiB0Lm5leHRTaWJsaW5nIGluc3RhbmNlb2YgZmk/dC5uZXh0U2libGluZzpudWxsfX1lbHNle2NvbnN0IGU9dGhpcy5tYXBEb21Ub1ZpZXcodC5wYXJlbnROb2RlKTtpZihlKXtjb25zdCB0PWUuZ2V0Q2hpbGQoMCk7cmV0dXJuIHQgaW5zdGFuY2VvZiBmaT90Om51bGx9fXJldHVybiBudWxsfW1hcFZpZXdUb0RvbSh0KXtyZXR1cm4gdGhpcy5fdmlld1RvRG9tTWFwcGluZy5nZXQodCl9ZmluZENvcnJlc3BvbmRpbmdEb21UZXh0KHQpe2NvbnN0IGU9dC5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGUmJnRoaXMubWFwVmlld1RvRG9tKGUpP3RoaXMubWFwVmlld1RvRG9tKGUpLm5leHRTaWJsaW5nOiFlJiZ0LnBhcmVudCYmdGhpcy5tYXBWaWV3VG9Eb20odC5wYXJlbnQpP3RoaXMubWFwVmlld1RvRG9tKHQucGFyZW50KS5jaGlsZE5vZGVzWzBdOm51bGx9Zm9jdXModCl7Y29uc3QgZT10aGlzLm1hcFZpZXdUb0RvbSh0KTtpZihlJiZlLm93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCE9PWUpe2NvbnN0e3Njcm9sbFg6dCxzY3JvbGxZOm59PW5yLndpbmRvdyxpPVtdO2FyKGUsdD0+e2NvbnN0e3Njcm9sbExlZnQ6ZSxzY3JvbGxUb3A6bn09dDtpLnB1c2goW2Usbl0pfSksZS5mb2N1cygpLGFyKGUsdD0+e2NvbnN0W2Usbl09aS5zaGlmdCgpO3Quc2Nyb2xsTGVmdD1lLHQuc2Nyb2xsVG9wPW59KSxuci53aW5kb3cuc2Nyb2xsVG8odCxuKX19aXNFbGVtZW50KHQpe3JldHVybiB0JiZ0Lm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERX1pc0RvY3VtZW50RnJhZ21lbnQodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PU5vZGUuRE9DVU1FTlRfRlJBR01FTlRfTk9ERX1pc0NvbW1lbnQodCl7cmV0dXJuIHQmJnQubm9kZVR5cGU9PU5vZGUuQ09NTUVOVF9OT0RFfWlzRG9tU2VsZWN0aW9uQmFja3dhcmQodCl7aWYodC5pc0NvbGxhcHNlZClyZXR1cm4hMTtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7ZS5zZXRTdGFydCh0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpLGUuc2V0RW5kKHQuZm9jdXNOb2RlLHQuZm9jdXNPZmZzZXQpO2NvbnN0IG49ZS5jb2xsYXBzZWQ7cmV0dXJuIGUuZGV0YWNoKCksbn1nZXRQYXJlbnRVSUVsZW1lbnQodCl7Y29uc3QgZT1vcih0KTtmb3IoZS5wb3AoKTtlLmxlbmd0aDspe2NvbnN0IHQ9ZS5wb3AoKSxuPXRoaXMuX2RvbVRvVmlld01hcHBpbmcuZ2V0KHQpO2lmKG4mJm4uaXMoXCJ1aUVsZW1lbnRcIikpcmV0dXJuIG59cmV0dXJuIG51bGx9aXNEb21TZWxlY3Rpb25Db3JyZWN0KHQpe3JldHVybiB0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdCh0LmFuY2hvck5vZGUsdC5hbmNob3JPZmZzZXQpJiZ0aGlzLl9pc0RvbVNlbGVjdGlvblBvc2l0aW9uQ29ycmVjdCh0LmZvY3VzTm9kZSx0LmZvY3VzT2Zmc2V0KX1faXNEb21TZWxlY3Rpb25Qb3NpdGlvbkNvcnJlY3QodCxlKXtpZihEbyh0KSYmem8odCkmJmU8Vm8pcmV0dXJuITE7aWYodGhpcy5pc0VsZW1lbnQodCkmJnpvKHQuY2hpbGROb2Rlc1tlXSkpcmV0dXJuITE7Y29uc3Qgbj10aGlzLm1hcERvbVRvVmlldyh0KTtyZXR1cm4hbnx8IW4uaXMoXCJ1aUVsZW1lbnRcIil9X3Byb2Nlc3NEYXRhRnJvbVZpZXdUZXh0KHQpe2xldCBlPXQuZGF0YTtpZih0LmdldEFuY2VzdG9ycygpLnNvbWUodD0+dGhpcy5wcmVFbGVtZW50cy5pbmNsdWRlcyh0Lm5hbWUpKSlyZXR1cm4gZTtpZihcIiBcIj09ZS5jaGFyQXQoMCkpe2NvbnN0IG49dGhpcy5fZ2V0VG91Y2hpbmdWaWV3VGV4dE5vZGUodCwhMSk7IShuJiZ0aGlzLl9ub2RlRW5kc1dpdGhTcGFjZShuKSkmJm58fChlPVwiwqBcIitlLnN1YnN0cigxKSl9aWYoXCIgXCI9PWUuY2hhckF0KGUubGVuZ3RoLTEpKXt0aGlzLl9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LCEwKXx8KGU9ZS5zdWJzdHIoMCxlLmxlbmd0aC0xKStcIsKgXCIpfXJldHVybiBlLnJlcGxhY2UoLyB7Mn0vZyxcIiDCoFwiKX1fbm9kZUVuZHNXaXRoU3BhY2UodCl7aWYodC5nZXRBbmNlc3RvcnMoKS5zb21lKHQ9PnRoaXMucHJlRWxlbWVudHMuaW5jbHVkZXModC5uYW1lKSkpcmV0dXJuITE7Y29uc3QgZT10aGlzLl9wcm9jZXNzRGF0YUZyb21WaWV3VGV4dCh0KTtyZXR1cm5cIiBcIj09ZS5jaGFyQXQoZS5sZW5ndGgtMSl9X3Byb2Nlc3NEYXRhRnJvbURvbVRleHQodCl7bGV0IGU9dC5kYXRhO2lmKHNyKHQsdGhpcy5wcmVFbGVtZW50cykpcmV0dXJuIFVvKHQpO2U9ZS5yZXBsYWNlKC9bIFxcblxcdFxccl17MSx9L2csXCIgXCIpO2NvbnN0IG49dGhpcy5fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKHQsITEpLGk9dGhpcy5fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKHQsITApLG89dGhpcy5fY2hlY2tTaG91bGRMZWZ0VHJpbURvbVRleHQobikscj10aGlzLl9jaGVja1Nob3VsZFJpZ2h0VHJpbURvbVRleHQodCxpKTtyZXR1cm4gbyYmKGU9ZS5yZXBsYWNlKC9eIC8sXCJcIikpLHImJihlPWUucmVwbGFjZSgvICQvLFwiXCIpKSxlPShlPVVvKG5ldyBUZXh0KGUpKSkucmVwbGFjZSgvIFxcdTAwQTAvZyxcIiAgXCIpLG8mJihlPWUucmVwbGFjZSgvXlxcdTAwQTAvLFwiIFwiKSksRG8oaSkmJlwiwqBcIiE9aS5kYXRhLmNoYXJBdCgwKXx8KGU9ZS5yZXBsYWNlKC9cXHUwMEEwKCAqKSQvLFwiICQxXCIpKSxlfV9jaGVja1Nob3VsZExlZnRUcmltRG9tVGV4dCh0KXtyZXR1cm4hdHx8KCEhV24odCl8fC9bXlxcU1xcdTAwQTBdLy50ZXN0KHQuZGF0YS5jaGFyQXQodC5kYXRhLmxlbmd0aC0xKSkpfV9jaGVja1Nob3VsZFJpZ2h0VHJpbURvbVRleHQodCxlKXtyZXR1cm4hZSYmIXpvKHQpfV9nZXRUb3VjaGluZ1ZpZXdUZXh0Tm9kZSh0LGUpe2NvbnN0IG49bmV3IEtpKHtzdGFydFBvc2l0aW9uOmU/WmkuX2NyZWF0ZUFmdGVyKHQpOlppLl9jcmVhdGVCZWZvcmUodCksZGlyZWN0aW9uOmU/XCJmb3J3YXJkXCI6XCJiYWNrd2FyZFwifSk7Zm9yKGNvbnN0IHQgb2Ygbil7aWYodC5pdGVtLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSlyZXR1cm4gbnVsbDtpZih0Lml0ZW0uaXMoXCJiclwiKSlyZXR1cm4gbnVsbDtpZih0Lml0ZW0uaXMoXCJ0ZXh0UHJveHlcIikpcmV0dXJuIHQuaXRlbX1yZXR1cm4gbnVsbH1fZ2V0VG91Y2hpbmdJbmxpbmVEb21Ob2RlKHQsZSl7aWYoIXQucGFyZW50Tm9kZSlyZXR1cm4gbnVsbDtjb25zdCBuPWU/XCJuZXh0Tm9kZVwiOlwicHJldmlvdXNOb2RlXCIsaT10Lm93bmVyRG9jdW1lbnQsbz1vcih0KVswXSxyPWkuY3JlYXRlVHJlZVdhbGtlcihvLE5vZGVGaWx0ZXIuU0hPV19URVhUfE5vZGVGaWx0ZXIuU0hPV19FTEVNRU5ULHthY2NlcHROb2RlOnQ9PkRvKHQpP05vZGVGaWx0ZXIuRklMVEVSX0FDQ0VQVDpcIkJSXCI9PXQudGFnTmFtZT9Ob2RlRmlsdGVyLkZJTFRFUl9BQ0NFUFQ6Tm9kZUZpbHRlci5GSUxURVJfU0tJUH0pO3IuY3VycmVudE5vZGU9dDtjb25zdCBzPXJbbl0oKTtpZihudWxsIT09cyl7Y29uc3QgZT1mdW5jdGlvbih0LGUpe2NvbnN0IG49b3IodCksaT1vcihlKTtsZXQgbz0wO2Zvcig7bltvXT09aVtvXSYmbltvXTspbysrO3JldHVybiAwPT09bz9udWxsOm5bby0xXX0odCxzKTtpZihlJiYhc3IodCx0aGlzLmJsb2NrRWxlbWVudHMsZSkmJiFzcihzLHRoaXMuYmxvY2tFbGVtZW50cyxlKSlyZXR1cm4gc31yZXR1cm4gbnVsbH19ZnVuY3Rpb24gc3IodCxlLG4pe2xldCBpPW9yKHQpO3JldHVybiBuJiYoaT1pLnNsaWNlKGkuaW5kZXhPZihuKSsxKSksaS5zb21lKHQ9PnQudGFnTmFtZSYmZS5pbmNsdWRlcyh0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSkpfWZ1bmN0aW9uIGFyKHQsZSl7Zm9yKDt0JiZ0IT1uci5kb2N1bWVudDspZSh0KSx0PXQucGFyZW50Tm9kZX1mdW5jdGlvbiBjcih0KXtjb25zdCBlPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuYXBwbHkodCk7cmV0dXJuXCJbb2JqZWN0IFdpbmRvd11cIj09ZXx8XCJbb2JqZWN0IGdsb2JhbF1cIj09ZX12YXIgbHI9TGkoe30sZWkse2xpc3RlblRvKHQsLi4uZSl7aWYoWm8odCl8fGNyKHQpKXtjb25zdCBuPXRoaXMuX2dldFByb3h5RW1pdHRlcih0KXx8bmV3IGRyKHQpO24uYXR0YWNoKC4uLmUpLHQ9bn1laS5saXN0ZW5Uby5jYWxsKHRoaXMsdCwuLi5lKX0sc3RvcExpc3RlbmluZyh0LGUsbil7aWYoWm8odCl8fGNyKHQpKXtjb25zdCBlPXRoaXMuX2dldFByb3h5RW1pdHRlcih0KTtpZighZSlyZXR1cm47dD1lfWVpLnN0b3BMaXN0ZW5pbmcuY2FsbCh0aGlzLHQsZSxuKSx0IGluc3RhbmNlb2YgZHImJnQuZGV0YWNoKGUpfSxfZ2V0UHJveHlFbWl0dGVyKHQpe3JldHVybiBmdW5jdGlvbih0LGUpe3JldHVybiB0W1huXSYmdFtYbl1bZV0/dFtYbl1bZV0uZW1pdHRlcjpudWxsfSh0aGlzLHVyKHQpKX19KTtjbGFzcyBkcntjb25zdHJ1Y3Rvcih0KXtuaSh0aGlzLHVyKHQpKSx0aGlzLl9kb21Ob2RlPXR9fWZ1bmN0aW9uIHVyKHQpe3JldHVybiB0W1wiZGF0YS1jay1leHBhbmRvXCJdfHwodFtcImRhdGEtY2stZXhwYW5kb1wiXT1LbigpKX1MaShkci5wcm90b3R5cGUsZWkse2F0dGFjaCh0LGUsbj17fSl7aWYodGhpcy5fZG9tTGlzdGVuZXJzJiZ0aGlzLl9kb21MaXN0ZW5lcnNbdF0pcmV0dXJuO2NvbnN0IGk9dGhpcy5fY3JlYXRlRG9tTGlzdGVuZXIodCwhIW4udXNlQ2FwdHVyZSk7dGhpcy5fZG9tTm9kZS5hZGRFdmVudExpc3RlbmVyKHQsaSwhIW4udXNlQ2FwdHVyZSksdGhpcy5fZG9tTGlzdGVuZXJzfHwodGhpcy5fZG9tTGlzdGVuZXJzPXt9KSx0aGlzLl9kb21MaXN0ZW5lcnNbdF09aX0sZGV0YWNoKHQpe2xldCBlOyF0aGlzLl9kb21MaXN0ZW5lcnNbdF18fChlPXRoaXMuX2V2ZW50c1t0XSkmJmUuY2FsbGJhY2tzLmxlbmd0aHx8dGhpcy5fZG9tTGlzdGVuZXJzW3RdLnJlbW92ZUxpc3RlbmVyKCl9LF9jcmVhdGVEb21MaXN0ZW5lcih0LGUpe2NvbnN0IG49ZT0+e3RoaXMuZmlyZSh0LGUpfTtyZXR1cm4gbi5yZW1vdmVMaXN0ZW5lcj0oKCk9Pnt0aGlzLl9kb21Ob2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIodCxuLGUpLGRlbGV0ZSB0aGlzLl9kb21MaXN0ZW5lcnNbdF19KSxufX0pO2NsYXNzIGhye2NvbnN0cnVjdG9yKHQpe3RoaXMudmlldz10LHRoaXMuZG9jdW1lbnQ9dC5kb2N1bWVudCx0aGlzLmlzRW5hYmxlZD0hMX1lbmFibGUoKXt0aGlzLmlzRW5hYmxlZD0hMH1kaXNhYmxlKCl7dGhpcy5pc0VuYWJsZWQ9ITF9ZGVzdHJveSgpe3RoaXMuZGlzYWJsZSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1jaShocixscik7dmFyIGZyPVwiX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfX1wiO3ZhciBtcj1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5fX2RhdGFfXy5zZXQodCxmciksdGhpc307dmFyIHByPWZ1bmN0aW9uKHQpe3JldHVybiB0aGlzLl9fZGF0YV9fLmhhcyh0KX07ZnVuY3Rpb24gZ3IodCl7dmFyIGU9LTEsbj1udWxsPT10PzA6dC5sZW5ndGg7Zm9yKHRoaXMuX19kYXRhX189bmV3IFB0OysrZTxuOyl0aGlzLmFkZCh0W2VdKX1nci5wcm90b3R5cGUuYWRkPWdyLnByb3RvdHlwZS5wdXNoPW1yLGdyLnByb3RvdHlwZS5oYXM9cHI7dmFyIGJyPWdyO3ZhciB3cj1mdW5jdGlvbih0LGUpe2Zvcih2YXIgbj0tMSxpPW51bGw9PXQ/MDp0Lmxlbmd0aDsrK248aTspaWYoZSh0W25dLG4sdCkpcmV0dXJuITA7cmV0dXJuITF9O3ZhciBfcj1mdW5jdGlvbih0LGUpe3JldHVybiB0LmhhcyhlKX0sa3I9MSx2cj0yO3ZhciB5cj1mdW5jdGlvbih0LGUsbixpLG8scil7dmFyIHM9biZrcixhPXQubGVuZ3RoLGM9ZS5sZW5ndGg7aWYoYSE9YyYmIShzJiZjPmEpKXJldHVybiExO3ZhciBsPXIuZ2V0KHQpO2lmKGwmJnIuZ2V0KGUpKXJldHVybiBsPT1lO3ZhciBkPS0xLHU9ITAsaD1uJnZyP25ldyBicjp2b2lkIDA7Zm9yKHIuc2V0KHQsZSksci5zZXQoZSx0KTsrK2Q8YTspe3ZhciBmPXRbZF0sbT1lW2RdO2lmKGkpdmFyIHA9cz9pKG0sZixkLGUsdCxyKTppKGYsbSxkLHQsZSxyKTtpZih2b2lkIDAhPT1wKXtpZihwKWNvbnRpbnVlO3U9ITE7YnJlYWt9aWYoaCl7aWYoIXdyKGUsZnVuY3Rpb24odCxlKXtpZighX3IoaCxlKSYmKGY9PT10fHxvKGYsdCxuLGkscikpKXJldHVybiBoLnB1c2goZSl9KSl7dT0hMTticmVha319ZWxzZSBpZihmIT09bSYmIW8oZixtLG4saSxyKSl7dT0hMTticmVha319cmV0dXJuIHIuZGVsZXRlKHQpLHIuZGVsZXRlKGUpLHV9O3ZhciB4cj1mdW5jdGlvbih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0LGkpe25bKytlXT1baSx0XX0pLG59O3ZhciBBcj1mdW5jdGlvbih0KXt2YXIgZT0tMSxuPUFycmF5KHQuc2l6ZSk7cmV0dXJuIHQuZm9yRWFjaChmdW5jdGlvbih0KXtuWysrZV09dH0pLG59LENyPTEsVHI9MixQcj1cIltvYmplY3QgQm9vbGVhbl1cIixNcj1cIltvYmplY3QgRGF0ZV1cIixFcj1cIltvYmplY3QgRXJyb3JdXCIsU3I9XCJbb2JqZWN0IE1hcF1cIixJcj1cIltvYmplY3QgTnVtYmVyXVwiLE5yPVwiW29iamVjdCBSZWdFeHBdXCIsT3I9XCJbb2JqZWN0IFNldF1cIixScj1cIltvYmplY3QgU3RyaW5nXVwiLERyPVwiW29iamVjdCBTeW1ib2xdXCIsTHI9XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiLGpyPVwiW29iamVjdCBEYXRhVmlld11cIixWcj1vP28ucHJvdG90eXBlOnZvaWQgMCxCcj1Wcj9Wci52YWx1ZU9mOnZvaWQgMDt2YXIgenI9ZnVuY3Rpb24odCxlLG4saSxvLHIscyl7c3dpdGNoKG4pe2Nhc2UganI6aWYodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fHQuYnl0ZU9mZnNldCE9ZS5ieXRlT2Zmc2V0KXJldHVybiExO3Q9dC5idWZmZXIsZT1lLmJ1ZmZlcjtjYXNlIExyOnJldHVybiEodC5ieXRlTGVuZ3RoIT1lLmJ5dGVMZW5ndGh8fCFyKG5ldyBZZSh0KSxuZXcgWWUoZSkpKTtjYXNlIFByOmNhc2UgTXI6Y2FzZSBJcjpyZXR1cm4gUCgrdCwrZSk7Y2FzZSBFcjpyZXR1cm4gdC5uYW1lPT1lLm5hbWUmJnQubWVzc2FnZT09ZS5tZXNzYWdlO2Nhc2UgTnI6Y2FzZSBScjpyZXR1cm4gdD09ZStcIlwiO2Nhc2UgU3I6dmFyIGE9eHI7Y2FzZSBPcjp2YXIgYz1pJkNyO2lmKGF8fChhPUFyKSx0LnNpemUhPWUuc2l6ZSYmIWMpcmV0dXJuITE7dmFyIGw9cy5nZXQodCk7aWYobClyZXR1cm4gbD09ZTtpfD1UcixzLnNldCh0LGUpO3ZhciBkPXlyKGEodCksYShlKSxpLG8scixzKTtyZXR1cm4gcy5kZWxldGUodCksZDtjYXNlIERyOmlmKEJyKXJldHVybiBCci5jYWxsKHQpPT1Cci5jYWxsKGUpfXJldHVybiExfSxGcj0xLFVyPU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7dmFyIEhyPWZ1bmN0aW9uKHQsZSxuLGksbyxyKXt2YXIgcz1uJkZyLGE9SWUodCksYz1hLmxlbmd0aDtpZihjIT1JZShlKS5sZW5ndGgmJiFzKXJldHVybiExO2Zvcih2YXIgbD1jO2wtLTspe3ZhciBkPWFbbF07aWYoIShzP2QgaW4gZTpVci5jYWxsKGUsZCkpKXJldHVybiExfXZhciB1PXIuZ2V0KHQpO2lmKHUmJnIuZ2V0KGUpKXJldHVybiB1PT1lO3ZhciBoPSEwO3Iuc2V0KHQsZSksci5zZXQoZSx0KTtmb3IodmFyIGY9czsrK2w8Yzspe3ZhciBtPXRbZD1hW2xdXSxwPWVbZF07aWYoaSl2YXIgZz1zP2kocCxtLGQsZSx0LHIpOmkobSxwLGQsdCxlLHIpO2lmKCEodm9pZCAwPT09Zz9tPT09cHx8byhtLHAsbixpLHIpOmcpKXtoPSExO2JyZWFrfWZ8fChmPVwiY29uc3RydWN0b3JcIj09ZCl9aWYoaCYmIWYpe3ZhciBiPXQuY29uc3RydWN0b3Isdz1lLmNvbnN0cnVjdG9yO2IhPXcmJlwiY29uc3RydWN0b3JcImluIHQmJlwiY29uc3RydWN0b3JcImluIGUmJiEoXCJmdW5jdGlvblwiPT10eXBlb2YgYiYmYiBpbnN0YW5jZW9mIGImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHcmJncgaW5zdGFuY2VvZiB3KSYmKGg9ITEpfXJldHVybiByLmRlbGV0ZSh0KSxyLmRlbGV0ZShlKSxofSxxcj0xLFdyPVwiW29iamVjdCBBcmd1bWVudHNdXCIsWXI9XCJbb2JqZWN0IEFycmF5XVwiLCRyPVwiW29iamVjdCBPYmplY3RdXCIsR3I9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTt2YXIgUXI9ZnVuY3Rpb24odCxlLG4saSxvLHIpe3ZhciBzPVd0KHQpLGE9V3QoZSksYz1zP1lyOkhlKHQpLGw9YT9ZcjpIZShlKSxkPShjPWM9PVdyPyRyOmMpPT0kcix1PShsPWw9PVdyPyRyOmwpPT0kcixoPWM9PWw7aWYoaCYmT2JqZWN0KFl0LmEpKHQpKXtpZighT2JqZWN0KFl0LmEpKGUpKXJldHVybiExO3M9ITAsZD0hMX1pZihoJiYhZClyZXR1cm4gcnx8KHI9bmV3IEl0KSxzfHxpZSh0KT95cih0LGUsbixpLG8scik6enIodCxlLGMsbixpLG8scik7aWYoIShuJnFyKSl7dmFyIGY9ZCYmR3IuY2FsbCh0LFwiX193cmFwcGVkX19cIiksbT11JiZHci5jYWxsKGUsXCJfX3dyYXBwZWRfX1wiKTtpZihmfHxtKXt2YXIgcD1mP3QudmFsdWUoKTp0LGc9bT9lLnZhbHVlKCk6ZTtyZXR1cm4gcnx8KHI9bmV3IEl0KSxvKHAsZyxuLGkscil9fXJldHVybiEhaCYmKHJ8fChyPW5ldyBJdCksSHIodCxlLG4saSxvLHIpKX07dmFyIEpyPWZ1bmN0aW9uIHQoZSxuLGksbyxyKXtyZXR1cm4gZT09PW58fChudWxsPT1lfHxudWxsPT1ufHwhdyhlKSYmIXcobik/ZSE9ZSYmbiE9bjpRcihlLG4saSxvLHQscikpfTt2YXIgS3I9ZnVuY3Rpb24odCxlLG4pe3ZhciBpPShuPVwiZnVuY3Rpb25cIj09dHlwZW9mIG4/bjp2b2lkIDApP24odCxlKTp2b2lkIDA7cmV0dXJuIHZvaWQgMD09PWk/SnIodCxlLHZvaWQgMCxuKTohIWl9O2NsYXNzIFpyIGV4dGVuZHMgaHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fY29uZmlnPXtjaGlsZExpc3Q6ITAsY2hhcmFjdGVyRGF0YTohMCxjaGFyYWN0ZXJEYXRhT2xkVmFsdWU6ITAsc3VidHJlZTohMH0sdGhpcy5kb21Db252ZXJ0ZXI9dC5kb21Db252ZXJ0ZXIsdGhpcy5yZW5kZXJlcj10Ll9yZW5kZXJlcix0aGlzLl9kb21FbGVtZW50cz1bXSx0aGlzLl9tdXRhdGlvbk9ic2VydmVyPW5ldyB3aW5kb3cuTXV0YXRpb25PYnNlcnZlcih0aGlzLl9vbk11dGF0aW9ucy5iaW5kKHRoaXMpKX1mbHVzaCgpe3RoaXMuX29uTXV0YXRpb25zKHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIudGFrZVJlY29yZHMoKSl9b2JzZXJ2ZSh0KXt0aGlzLl9kb21FbGVtZW50cy5wdXNoKHQpLHRoaXMuaXNFbmFibGVkJiZ0aGlzLl9tdXRhdGlvbk9ic2VydmVyLm9ic2VydmUodCx0aGlzLl9jb25maWcpfWVuYWJsZSgpe3N1cGVyLmVuYWJsZSgpO2Zvcihjb25zdCB0IG9mIHRoaXMuX2RvbUVsZW1lbnRzKXRoaXMuX211dGF0aW9uT2JzZXJ2ZXIub2JzZXJ2ZSh0LHRoaXMuX2NvbmZpZyl9ZGlzYWJsZSgpe3N1cGVyLmRpc2FibGUoKSx0aGlzLl9tdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX211dGF0aW9uT2JzZXJ2ZXIuZGlzY29ubmVjdCgpfV9vbk11dGF0aW9ucyh0KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuO2NvbnN0IGU9dGhpcy5kb21Db252ZXJ0ZXIsbj1uZXcgTWFwLGk9bmV3IFNldDtmb3IoY29uc3QgbiBvZiB0KWlmKFwiY2hpbGRMaXN0XCI9PT1uLnR5cGUpe2NvbnN0IHQ9ZS5tYXBEb21Ub1ZpZXcobi50YXJnZXQpO2lmKHQmJnQuaXMoXCJ1aUVsZW1lbnRcIikpY29udGludWU7dCYmIXRoaXMuX2lzQm9ndXNCck11dGF0aW9uKG4pJiZpLmFkZCh0KX1mb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PWUubWFwRG9tVG9WaWV3KG8udGFyZ2V0KTtpZigoIXR8fCF0LmlzKFwidWlFbGVtZW50XCIpKSYmXCJjaGFyYWN0ZXJEYXRhXCI9PT1vLnR5cGUpe2NvbnN0IHQ9ZS5maW5kQ29ycmVzcG9uZGluZ1ZpZXdUZXh0KG8udGFyZ2V0KTt0JiYhaS5oYXModC5wYXJlbnQpP24uc2V0KHQse3R5cGU6XCJ0ZXh0XCIsb2xkVGV4dDp0LmRhdGEsbmV3VGV4dDpVbyhvLnRhcmdldCksbm9kZTp0fSk6IXQmJnpvKG8udGFyZ2V0KSYmaS5hZGQoZS5tYXBEb21Ub1ZpZXcoby50YXJnZXQucGFyZW50Tm9kZSkpfX1jb25zdCBvPVtdO2Zvcihjb25zdCB0IG9mIG4udmFsdWVzKCkpdGhpcy5yZW5kZXJlci5tYXJrVG9TeW5jKFwidGV4dFwiLHQubm9kZSksby5wdXNoKHQpO2Zvcihjb25zdCB0IG9mIGkpe2NvbnN0IG49ZS5tYXBWaWV3VG9Eb20odCksaT1BcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkscj1BcnJheS5mcm9tKGUuZG9tQ2hpbGRyZW5Ub1ZpZXcobix7d2l0aENoaWxkcmVuOiExfSkpO0tyKGkscixhKXx8KHRoaXMucmVuZGVyZXIubWFya1RvU3luYyhcImNoaWxkcmVuXCIsdCksby5wdXNoKHt0eXBlOlwiY2hpbGRyZW5cIixvbGRDaGlsZHJlbjppLG5ld0NoaWxkcmVuOnIsbm9kZTp0fSkpfWNvbnN0IHI9dFswXS50YXJnZXQub3duZXJEb2N1bWVudC5nZXRTZWxlY3Rpb24oKTtsZXQgcz1udWxsO2lmKHImJnIuYW5jaG9yTm9kZSl7Y29uc3QgdD1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuYW5jaG9yTm9kZSxyLmFuY2hvck9mZnNldCksbj1lLmRvbVBvc2l0aW9uVG9WaWV3KHIuZm9jdXNOb2RlLHIuZm9jdXNPZmZzZXQpO3QmJm4mJihzPW5ldyBubyh0KSkuc2V0Rm9jdXMobil9ZnVuY3Rpb24gYSh0LGUpe2lmKCFBcnJheS5pc0FycmF5KHQpKXJldHVybiB0PT09ZXx8ISghdC5pcyhcInRleHRcIil8fCFlLmlzKFwidGV4dFwiKSkmJnQuZGF0YT09PWUuZGF0YX10aGlzLmRvY3VtZW50LmZpcmUoXCJtdXRhdGlvbnNcIixvLHMpLHRoaXMudmlldy5mb3JjZVJlbmRlcigpfV9pc0JvZ3VzQnJNdXRhdGlvbih0KXtsZXQgZT1udWxsO3JldHVybiBudWxsPT09dC5uZXh0U2libGluZyYmMD09PXQucmVtb3ZlZE5vZGVzLmxlbmd0aCYmMT09dC5hZGRlZE5vZGVzLmxlbmd0aCYmKGU9dGhpcy5kb21Db252ZXJ0ZXIuZG9tVG9WaWV3KHQuYWRkZWROb2Rlc1swXSx7d2l0aENoaWxkcmVuOiExfSkpLGUmJmUuaXMoXCJlbGVtZW50XCIsXCJiclwiKX19Y2xhc3MgWHJ7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMudmlldz10LHRoaXMuZG9jdW1lbnQ9dC5kb2N1bWVudCx0aGlzLmRvbUV2ZW50PWUsdGhpcy5kb21UYXJnZXQ9ZS50YXJnZXQsTGkodGhpcyxuKX1nZXQgdGFyZ2V0KCl7cmV0dXJuIHRoaXMudmlldy5kb21Db252ZXJ0ZXIubWFwRG9tVG9WaWV3KHRoaXMuZG9tVGFyZ2V0KX1wcmV2ZW50RGVmYXVsdCgpe3RoaXMuZG9tRXZlbnQucHJldmVudERlZmF1bHQoKX1zdG9wUHJvcGFnYXRpb24oKXt0aGlzLmRvbUV2ZW50LnN0b3BQcm9wYWdhdGlvbigpfX1jbGFzcyB0cyBleHRlbmRzIGhye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudXNlQ2FwdHVyZT0hMX1vYnNlcnZlKHQpeyhcInN0cmluZ1wiPT10eXBlb2YgdGhpcy5kb21FdmVudFR5cGU/W3RoaXMuZG9tRXZlbnRUeXBlXTp0aGlzLmRvbUV2ZW50VHlwZSkuZm9yRWFjaChlPT57dGhpcy5saXN0ZW5Ubyh0LGUsKHQsZSk9Pnt0aGlzLmlzRW5hYmxlZCYmdGhpcy5vbkRvbUV2ZW50KGUpfSx7dXNlQ2FwdHVyZTp0aGlzLnVzZUNhcHR1cmV9KX0pfWZpcmUodCxlLG4pe3RoaXMuaXNFbmFibGVkJiZ0aGlzLmRvY3VtZW50LmZpcmUodCxuZXcgWHIodGhpcy52aWV3LGUsbikpfX1jbGFzcyBlcyBleHRlbmRzIHRze2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZG9tRXZlbnRUeXBlPVtcImtleWRvd25cIixcImtleXVwXCJdfW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0LHtrZXlDb2RlOnQua2V5Q29kZSxhbHRLZXk6dC5hbHRLZXksY3RybEtleTp0LmN0cmxLZXl8fHQubWV0YUtleSxzaGlmdEtleTp0LnNoaWZ0S2V5LGdldCBrZXlzdHJva2UoKXtyZXR1cm4gd28odGhpcyl9fSl9fXZhciBucz1mdW5jdGlvbigpe3JldHVybiBpLmEuRGF0ZS5ub3coKX0saXM9XCJbb2JqZWN0IFN5bWJvbF1cIjt2YXIgb3M9ZnVuY3Rpb24odCl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHR8fHcodCkmJnAodCk9PWlzfSxycz1OYU4sc3M9L15cXHMrfFxccyskL2csYXM9L15bLStdMHhbMC05YS1mXSskL2ksY3M9L14wYlswMV0rJC9pLGxzPS9eMG9bMC03XSskL2ksZHM9cGFyc2VJbnQ7dmFyIHVzPWZ1bmN0aW9uKHQpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB0KXJldHVybiB0O2lmKG9zKHQpKXJldHVybiBycztpZih6KHQpKXt2YXIgZT1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnZhbHVlT2Y/dC52YWx1ZU9mKCk6dDt0PXooZSk/ZStcIlwiOmV9aWYoXCJzdHJpbmdcIiE9dHlwZW9mIHQpcmV0dXJuIDA9PT10P3Q6K3Q7dD10LnJlcGxhY2Uoc3MsXCJcIik7dmFyIG49Y3MudGVzdCh0KTtyZXR1cm4gbnx8bHMudGVzdCh0KT9kcyh0LnNsaWNlKDIpLG4/Mjo4KTphcy50ZXN0KHQpP3JzOit0fSxocz1cIkV4cGVjdGVkIGEgZnVuY3Rpb25cIixmcz1NYXRoLm1heCxtcz1NYXRoLm1pbjt2YXIgcHM9ZnVuY3Rpb24odCxlLG4pe3ZhciBpLG8scixzLGEsYyxsPTAsZD0hMSx1PSExLGg9ITA7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKGhzKTtmdW5jdGlvbiBmKGUpe3ZhciBuPWkscj1vO3JldHVybiBpPW89dm9pZCAwLGw9ZSxzPXQuYXBwbHkocixuKX1mdW5jdGlvbiBtKHQpe3ZhciBuPXQtYztyZXR1cm4gdm9pZCAwPT09Y3x8bj49ZXx8bjwwfHx1JiZ0LWw+PXJ9ZnVuY3Rpb24gcCgpe3ZhciB0PW5zKCk7aWYobSh0KSlyZXR1cm4gZyh0KTthPXNldFRpbWVvdXQocCxmdW5jdGlvbih0KXt2YXIgbj1lLSh0LWMpO3JldHVybiB1P21zKG4sci0odC1sKSk6bn0odCkpfWZ1bmN0aW9uIGcodCl7cmV0dXJuIGE9dm9pZCAwLGgmJmk/Zih0KTooaT1vPXZvaWQgMCxzKX1mdW5jdGlvbiBiKCl7dmFyIHQ9bnMoKSxuPW0odCk7aWYoaT1hcmd1bWVudHMsbz10aGlzLGM9dCxuKXtpZih2b2lkIDA9PT1hKXJldHVybiBmdW5jdGlvbih0KXtyZXR1cm4gbD10LGE9c2V0VGltZW91dChwLGUpLGQ/Zih0KTpzfShjKTtpZih1KXJldHVybiBhPXNldFRpbWVvdXQocCxlKSxmKGMpfXJldHVybiB2b2lkIDA9PT1hJiYoYT1zZXRUaW1lb3V0KHAsZSkpLHN9cmV0dXJuIGU9dXMoZSl8fDAseihuKSYmKGQ9ISFuLmxlYWRpbmcscj0odT1cIm1heFdhaXRcImluIG4pP2ZzKHVzKG4ubWF4V2FpdCl8fDAsZSk6cixoPVwidHJhaWxpbmdcImluIG4/ISFuLnRyYWlsaW5nOmgpLGIuY2FuY2VsPWZ1bmN0aW9uKCl7dm9pZCAwIT09YSYmY2xlYXJUaW1lb3V0KGEpLGw9MCxpPWM9bz1hPXZvaWQgMH0sYi5mbHVzaD1mdW5jdGlvbigpe3JldHVybiB2b2lkIDA9PT1hP3M6ZyhucygpKX0sYn07Y2xhc3MgZ3MgZXh0ZW5kcyBocntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KSx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZD1wcyh0PT50aGlzLmRvY3VtZW50LmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VEb25lXCIsdCksMjAwKX1vYnNlcnZlKCl7Y29uc3QgdD10aGlzLmRvY3VtZW50O3Qub24oXCJrZXlkb3duXCIsKGUsbik9Pnt0LnNlbGVjdGlvbi5pc0Zha2UmJmZ1bmN0aW9uKHQpe3JldHVybiB0PT1iby5hcnJvd3JpZ2h0fHx0PT1iby5hcnJvd2xlZnR8fHQ9PWJvLmFycm93dXB8fHQ9PWJvLmFycm93ZG93bn0obi5rZXlDb2RlKSYmdGhpcy5pc0VuYWJsZWQmJihuLnByZXZlbnREZWZhdWx0KCksdGhpcy5faGFuZGxlU2VsZWN0aW9uTW92ZShuLmtleUNvZGUpKX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLHRoaXMuX2ZpcmVTZWxlY3Rpb25DaGFuZ2VEb25lRGVib3VuY2VkLmNhbmNlbCgpfV9oYW5kbGVTZWxlY3Rpb25Nb3ZlKHQpe2NvbnN0IGU9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sbj1uZXcgbm8oZS5nZXRSYW5nZXMoKSx7YmFja3dhcmQ6ZS5pc0JhY2t3YXJkLGZha2U6ITF9KTt0IT1iby5hcnJvd2xlZnQmJnQhPWJvLmFycm93dXB8fG4uc2V0VG8obi5nZXRGaXJzdFBvc2l0aW9uKCkpLHQhPWJvLmFycm93cmlnaHQmJnQhPWJvLmFycm93ZG93bnx8bi5zZXRUbyhuLmdldExhc3RQb3NpdGlvbigpKTtjb25zdCBpPXtvbGRTZWxlY3Rpb246ZSxuZXdTZWxlY3Rpb246bixkb21TZWxlY3Rpb246bnVsbH07dGhpcy5kb2N1bWVudC5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIsaSksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQoaSl9fXZhciBicz1uKDEpO2NsYXNzIHdzIGV4dGVuZHMgaHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5tdXRhdGlvbk9ic2VydmVyPXQuZ2V0T2JzZXJ2ZXIoWnIpLHRoaXMuc2VsZWN0aW9uPXRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLHRoaXMuZG9tQ29udmVydGVyPXQuZG9tQ29udmVydGVyLHRoaXMuX2RvY3VtZW50cz1uZXcgV2Vha1NldCx0aGlzLl9maXJlU2VsZWN0aW9uQ2hhbmdlRG9uZURlYm91bmNlZD1wcyh0PT50aGlzLmRvY3VtZW50LmZpcmUoXCJzZWxlY3Rpb25DaGFuZ2VEb25lXCIsdCksMjAwKSx0aGlzLl9jbGVhckluZmluaXRlTG9vcEludGVydmFsPXNldEludGVydmFsKCgpPT50aGlzLl9jbGVhckluZmluaXRlTG9vcCgpLDFlMyksdGhpcy5fbG9vcGJhY2tDb3VudGVyPTB9b2JzZXJ2ZSh0KXtjb25zdCBlPXQub3duZXJEb2N1bWVudDt0aGlzLl9kb2N1bWVudHMuaGFzKGUpfHwodGhpcy5saXN0ZW5UbyhlLFwic2VsZWN0aW9uY2hhbmdlXCIsKCk9Pnt0aGlzLl9oYW5kbGVTZWxlY3Rpb25DaGFuZ2UoZSl9KSx0aGlzLl9kb2N1bWVudHMuYWRkKGUpKX1kZXN0cm95KCl7c3VwZXIuZGVzdHJveSgpLGNsZWFySW50ZXJ2YWwodGhpcy5fY2xlYXJJbmZpbml0ZUxvb3BJbnRlcnZhbCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQuY2FuY2VsKCl9X2hhbmRsZVNlbGVjdGlvbkNoYW5nZSh0KXtpZighdGhpcy5pc0VuYWJsZWR8fCF0aGlzLmRvY3VtZW50LmlzRm9jdXNlZCYmIXRoaXMuZG9jdW1lbnQuaXNSZWFkT25seSlyZXR1cm47dGhpcy5tdXRhdGlvbk9ic2VydmVyLmZsdXNoKCk7Y29uc3QgZT10LmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpLG49dGhpcy5kb21Db252ZXJ0ZXIuZG9tU2VsZWN0aW9uVG9WaWV3KGUpO2lmKCF0aGlzLnNlbGVjdGlvbi5pc0VxdWFsKG4pfHwhdGhpcy5kb21Db252ZXJ0ZXIuaXNEb21TZWxlY3Rpb25Db3JyZWN0KGUpKWlmKCsrdGhpcy5fbG9vcGJhY2tDb3VudGVyPjYwKWJzLmEud2FybihcInNlbGVjdGlvbmNoYW5nZS1pbmZpbml0ZS1sb29wOiBTZWxlY3Rpb24gY2hhbmdlIG9ic2VydmVyIGRldGVjdGVkIGFuIGluZmluaXRlIHJlbmRlcmluZyBsb29wLlwiKTtlbHNlIGlmKHRoaXMuc2VsZWN0aW9uLmlzU2ltaWxhcihuKSl0aGlzLnZpZXcuZm9yY2VSZW5kZXIoKTtlbHNle2NvbnN0IHQ9e29sZFNlbGVjdGlvbjp0aGlzLnNlbGVjdGlvbixuZXdTZWxlY3Rpb246bixkb21TZWxlY3Rpb246ZX07dGhpcy5kb2N1bWVudC5maXJlKFwic2VsZWN0aW9uQ2hhbmdlXCIsdCksdGhpcy5fZmlyZVNlbGVjdGlvbkNoYW5nZURvbmVEZWJvdW5jZWQodCl9fV9jbGVhckluZmluaXRlTG9vcCgpe3RoaXMuX2xvb3BiYWNrQ291bnRlcj0wfX1jbGFzcyBfcyBleHRlbmRzIHRze2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuZG9tRXZlbnRUeXBlPVtcImZvY3VzXCIsXCJibHVyXCJdLHRoaXMudXNlQ2FwdHVyZT0hMDtjb25zdCBlPXRoaXMuZG9jdW1lbnQ7ZS5vbihcImZvY3VzXCIsKCk9PntlLmlzRm9jdXNlZD0hMCx0aGlzLl9yZW5kZXJUaW1lb3V0SWQ9c2V0VGltZW91dCgoKT0+dC5mb3JjZVJlbmRlcigpLDUwKX0pLGUub24oXCJibHVyXCIsKG4saSk9Pntjb25zdCBvPWUuc2VsZWN0aW9uLmVkaXRhYmxlRWxlbWVudDtudWxsIT09byYmbyE9PWkudGFyZ2V0fHwoZS5pc0ZvY3VzZWQ9ITEsdC5mb3JjZVJlbmRlcigpKX0pfW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX1kZXN0cm95KCl7dGhpcy5fcmVuZGVyVGltZW91dElkJiZjbGVhclRpbWVvdXQodGhpcy5fcmVuZGVyVGltZW91dElkKSxzdXBlci5kZXN0cm95KCl9fWNsYXNzIGtzIGV4dGVuZHMgdHN7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5kb21FdmVudFR5cGU9W1wiY29tcG9zaXRpb25zdGFydFwiLFwiY29tcG9zaXRpb251cGRhdGVcIixcImNvbXBvc2l0aW9uZW5kXCJdO2NvbnN0IGU9dGhpcy5kb2N1bWVudDtlLm9uKFwiY29tcG9zaXRpb25zdGFydFwiLCgpPT57ZS5pc0NvbXBvc2luZz0hMH0pLGUub24oXCJjb21wb3NpdGlvbmVuZFwiLCgpPT57ZS5pc0NvbXBvc2luZz0hMX0pfW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX19ZnVuY3Rpb24gdnModCl7cmV0dXJuXCJbb2JqZWN0IFJhbmdlXVwiPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmFwcGx5KHQpfWZ1bmN0aW9uIHlzKHQpe2NvbnN0IGU9dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUodCk7cmV0dXJue3RvcDpwYXJzZUludChlLmJvcmRlclRvcFdpZHRoLDEwKSxyaWdodDpwYXJzZUludChlLmJvcmRlclJpZ2h0V2lkdGgsMTApLGJvdHRvbTpwYXJzZUludChlLmJvcmRlckJvdHRvbVdpZHRoLDEwKSxsZWZ0OnBhcnNlSW50KGUuYm9yZGVyTGVmdFdpZHRoLDEwKX19Y29uc3QgeHM9W1widG9wXCIsXCJyaWdodFwiLFwiYm90dG9tXCIsXCJsZWZ0XCIsXCJ3aWR0aFwiLFwiaGVpZ2h0XCJdO2NsYXNzIEFze2NvbnN0cnVjdG9yKHQpe2NvbnN0IGU9dnModCk7aWYoT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsXCJfc291cmNlXCIse3ZhbHVlOnQuX3NvdXJjZXx8dCx3cml0YWJsZTohMCxlbnVtZXJhYmxlOiExfSksV24odCl8fGUpe2NvbnN0IG49ZT90LnN0YXJ0Q29udGFpbmVyOnQ7bi5vd25lckRvY3VtZW50JiZuLm93bmVyRG9jdW1lbnQuYm9keS5jb250YWlucyhuKXx8YnMuYS53YXJuKFwicmVjdC1zb3VyY2Utbm90LWluLWRvbTogVGhlIHNvdXJjZSBvZiB0aGlzIHJlY3QgZG9lcyBub3QgYmVsb25nIHRvIGFueSByZW5kZXJlZCBET00gdHJlZS5cIix7c291cmNlOnR9KSxDcyh0aGlzLGU/QXMuZ2V0RG9tUmFuZ2VSZWN0cyh0KVswXTp0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX1lbHNlIGlmKGNyKHQpKXtjb25zdHtpbm5lcldpZHRoOmUsaW5uZXJIZWlnaHQ6bn09dDtDcyh0aGlzLHt0b3A6MCxyaWdodDplLGJvdHRvbTpuLGxlZnQ6MCx3aWR0aDplLGhlaWdodDpufSl9ZWxzZSBDcyh0aGlzLHQpfWNsb25lKCl7cmV0dXJuIG5ldyBBcyh0aGlzKX1tb3ZlVG8odCxlKXtyZXR1cm4gdGhpcy50b3A9ZSx0aGlzLnJpZ2h0PXQrdGhpcy53aWR0aCx0aGlzLmJvdHRvbT1lK3RoaXMuaGVpZ2h0LHRoaXMubGVmdD10LHRoaXN9bW92ZUJ5KHQsZSl7cmV0dXJuIHRoaXMudG9wKz1lLHRoaXMucmlnaHQrPXQsdGhpcy5sZWZ0Kz10LHRoaXMuYm90dG9tKz1lLHRoaXN9Z2V0SW50ZXJzZWN0aW9uKHQpe2NvbnN0IGU9e3RvcDpNYXRoLm1heCh0aGlzLnRvcCx0LnRvcCkscmlnaHQ6TWF0aC5taW4odGhpcy5yaWdodCx0LnJpZ2h0KSxib3R0b206TWF0aC5taW4odGhpcy5ib3R0b20sdC5ib3R0b20pLGxlZnQ6TWF0aC5tYXgodGhpcy5sZWZ0LHQubGVmdCl9O3JldHVybiBlLndpZHRoPWUucmlnaHQtZS5sZWZ0LGUuaGVpZ2h0PWUuYm90dG9tLWUudG9wLGUud2lkdGg8MHx8ZS5oZWlnaHQ8MD9udWxsOm5ldyBBcyhlKX1nZXRJbnRlcnNlY3Rpb25BcmVhKHQpe2NvbnN0IGU9dGhpcy5nZXRJbnRlcnNlY3Rpb24odCk7cmV0dXJuIGU/ZS5nZXRBcmVhKCk6MH1nZXRBcmVhKCl7cmV0dXJuIHRoaXMud2lkdGgqdGhpcy5oZWlnaHR9Z2V0VmlzaWJsZSgpe2NvbnN0IHQ9dGhpcy5fc291cmNlO2xldCBlPXRoaXMuY2xvbmUoKTtpZighVHModCkpe2xldCBuPXQucGFyZW50Tm9kZXx8dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjtmb3IoO24mJiFUcyhuKTspe2NvbnN0IHQ9bmV3IEFzKG4pLGk9ZS5nZXRJbnRlcnNlY3Rpb24odCk7aWYoIWkpcmV0dXJuIG51bGw7aS5nZXRBcmVhKCk8ZS5nZXRBcmVhKCkmJihlPWkpLG49bi5wYXJlbnROb2RlfX1yZXR1cm4gZX1pc0VxdWFsKHQpe2Zvcihjb25zdCBlIG9mIHhzKWlmKHRoaXNbZV0hPT10W2VdKXJldHVybiExO3JldHVybiEwfWNvbnRhaW5zKHQpe2NvbnN0IGU9dGhpcy5nZXRJbnRlcnNlY3Rpb24odCk7cmV0dXJuISghZXx8IWUuaXNFcXVhbCh0KSl9ZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCl7Y29uc3QgdD10aGlzLl9zb3VyY2U7bGV0IGUsbjtpZihjcih0KSllPXQuaW5uZXJXaWR0aC10LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCxuPXQuaW5uZXJIZWlnaHQtdC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0O2Vsc2V7Y29uc3QgaT15cyh0aGlzLl9zb3VyY2UpO2U9dC5vZmZzZXRXaWR0aC10LmNsaWVudFdpZHRoLG49dC5vZmZzZXRIZWlnaHQtdC5jbGllbnRIZWlnaHQsdGhpcy5tb3ZlQnkoaS5sZWZ0LGkudG9wKX1yZXR1cm4gdGhpcy53aWR0aC09ZSx0aGlzLnJpZ2h0LT1lLHRoaXMuaGVpZ2h0LT1uLHRoaXMuYm90dG9tLT1uLHRoaXN9c3RhdGljIGdldERvbVJhbmdlUmVjdHModCl7Y29uc3QgZT1bXSxuPUFycmF5LmZyb20odC5nZXRDbGllbnRSZWN0cygpKTtpZihuLmxlbmd0aClmb3IoY29uc3QgdCBvZiBuKWUucHVzaChuZXcgQXModCkpO2Vsc2V7bGV0IG49dC5zdGFydENvbnRhaW5lcjtEbyhuKSYmKG49bi5wYXJlbnROb2RlKTtjb25zdCBpPW5ldyBBcyhuLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtpLnJpZ2h0PWkubGVmdCxpLndpZHRoPTAsZS5wdXNoKGkpfXJldHVybiBlfX1mdW5jdGlvbiBDcyh0LGUpe2Zvcihjb25zdCBuIG9mIHhzKXRbbl09ZVtuXX1mdW5jdGlvbiBUcyh0KXtyZXR1cm4hIVduKHQpJiZ0PT09dC5vd25lckRvY3VtZW50LmJvZHl9ZnVuY3Rpb24gUHMoe3RhcmdldDp0LHZpZXdwb3J0T2Zmc2V0OmU9MH0pe2NvbnN0IG49UnModCk7bGV0IGk9bixvPW51bGw7Zm9yKDtpOyl7bGV0IHI7RXMocj1EcyhpPT1uP3Q6byksKCk9PkxzKHQsaSkpO2NvbnN0IHM9THModCxpKTtpZihNcyhpLHMsZSksaS5wYXJlbnQhPWkpe2lmKG89aS5mcmFtZUVsZW1lbnQsaT1pLnBhcmVudCwhbylyZXR1cm59ZWxzZSBpPW51bGx9fWZ1bmN0aW9uIE1zKHQsZSxuKXtjb25zdCBpPWUuY2xvbmUoKS5tb3ZlQnkoMCxuKSxvPWUuY2xvbmUoKS5tb3ZlQnkoMCwtbikscj1uZXcgQXModCkuZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCk7aWYoIVtvLGldLmV2ZXJ5KHQ9PnIuY29udGFpbnModCkpKXtsZXR7c2Nyb2xsWDpzLHNjcm9sbFk6YX09dDtJcyhvLHIpP2EtPXIudG9wLWUudG9wK246U3MoaSxyKSYmKGErPWUuYm90dG9tLXIuYm90dG9tK24pLE5zKGUscik/cy09ci5sZWZ0LWUubGVmdCtuOk9zKGUscikmJihzKz1lLnJpZ2h0LXIucmlnaHQrbiksdC5zY3JvbGxUbyhzLGEpfX1mdW5jdGlvbiBFcyh0LGUpe2NvbnN0IG49UnModCk7bGV0IGksbztmb3IoO3QhPW4uZG9jdW1lbnQuYm9keTspbz1lKCksKGk9bmV3IEFzKHQpLmV4Y2x1ZGVTY3JvbGxiYXJzQW5kQm9yZGVycygpKS5jb250YWlucyhvKXx8KElzKG8saSk/dC5zY3JvbGxUb3AtPWkudG9wLW8udG9wOlNzKG8saSkmJih0LnNjcm9sbFRvcCs9by5ib3R0b20taS5ib3R0b20pLE5zKG8saSk/dC5zY3JvbGxMZWZ0LT1pLmxlZnQtby5sZWZ0Ok9zKG8saSkmJih0LnNjcm9sbExlZnQrPW8ucmlnaHQtaS5yaWdodCkpLHQ9dC5wYXJlbnROb2RlfWZ1bmN0aW9uIFNzKHQsZSl7cmV0dXJuIHQuYm90dG9tPmUuYm90dG9tfWZ1bmN0aW9uIElzKHQsZSl7cmV0dXJuIHQudG9wPGUudG9wfWZ1bmN0aW9uIE5zKHQsZSl7cmV0dXJuIHQubGVmdDxlLmxlZnR9ZnVuY3Rpb24gT3ModCxlKXtyZXR1cm4gdC5yaWdodD5lLnJpZ2h0fWZ1bmN0aW9uIFJzKHQpe3JldHVybiB2cyh0KT90LnN0YXJ0Q29udGFpbmVyLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXc6dC5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3fWZ1bmN0aW9uIERzKHQpe2lmKHZzKHQpKXtsZXQgZT10LmNvbW1vbkFuY2VzdG9yQ29udGFpbmVyO3JldHVybiBEbyhlKSYmKGU9ZS5wYXJlbnROb2RlKSxlfXJldHVybiB0LnBhcmVudE5vZGV9ZnVuY3Rpb24gTHModCxlKXtjb25zdCBuPVJzKHQpLGk9bmV3IEFzKHQpO2lmKG49PT1lKXJldHVybiBpO3tsZXQgdD1uO2Zvcig7dCE9ZTspe2NvbnN0IGU9dC5mcmFtZUVsZW1lbnQsbj1uZXcgQXMoZSkuZXhjbHVkZVNjcm9sbGJhcnNBbmRCb3JkZXJzKCk7aS5tb3ZlQnkobi5sZWZ0LG4udG9wKSx0PXQucGFyZW50fX1yZXR1cm4gaX1PYmplY3QuYXNzaWduKHt9LHtzY3JvbGxWaWV3cG9ydFRvU2hvd1RhcmdldDpQcyxzY3JvbGxBbmNlc3RvcnNUb1Nob3dUYXJnZXQ6ZnVuY3Rpb24odCl7RXMoRHModCksKCk9Pm5ldyBBcyh0KSl9fSk7Y2xhc3MganN7Y29uc3RydWN0b3IoKXt0aGlzLmRvY3VtZW50PW5ldyBybyx0aGlzLmRvbUNvbnZlcnRlcj1uZXcgcnIsdGhpcy5kb21Sb290cz1uZXcgTWFwLHRoaXMuc2V0KFwiaXNSZW5kZXJpbmdJblByb2dyZXNzXCIsITEpLHRoaXMuX3JlbmRlcmVyPW5ldyBYbyh0aGlzLmRvbUNvbnZlcnRlcix0aGlzLmRvY3VtZW50LnNlbGVjdGlvbiksdGhpcy5fcmVuZGVyZXIuYmluZChcImlzRm9jdXNlZFwiKS50byh0aGlzLmRvY3VtZW50KSx0aGlzLl9pbml0aWFsRG9tUm9vdEF0dHJpYnV0ZXM9bmV3IFdlYWtNYXAsdGhpcy5fb2JzZXJ2ZXJzPW5ldyBNYXAsdGhpcy5fb25nb2luZ0NoYW5nZT0hMSx0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz0hMSx0aGlzLl9yZW5kZXJpbmdEaXNhYmxlZD0hMSx0aGlzLl9oYXNDaGFuZ2VkU2luY2VUaGVMYXN0UmVuZGVyaW5nPSExLHRoaXMuX3dyaXRlcj1uZXcgQ28odGhpcy5kb2N1bWVudCksdGhpcy5hZGRPYnNlcnZlcihaciksdGhpcy5hZGRPYnNlcnZlcih3cyksdGhpcy5hZGRPYnNlcnZlcihfcyksdGhpcy5hZGRPYnNlcnZlcihlcyksdGhpcy5hZGRPYnNlcnZlcihncyksdGhpcy5hZGRPYnNlcnZlcihrcyksZnVuY3Rpb24odCl7dC5kb2N1bWVudC5vbihcImtleWRvd25cIixXbyl9KHRoaXMpLHlvKHRoaXMpLHRoaXMub24oXCJyZW5kZXJcIiwoKT0+e3RoaXMuX3JlbmRlcigpLHRoaXMuZG9jdW1lbnQuZmlyZShcImxheW91dENoYW5nZWRcIiksdGhpcy5faGFzQ2hhbmdlZFNpbmNlVGhlTGFzdFJlbmRlcmluZz0hMX0pLHRoaXMubGlzdGVuVG8odGhpcy5kb2N1bWVudC5zZWxlY3Rpb24sXCJjaGFuZ2VcIiwoKT0+e3RoaXMuX2hhc0NoYW5nZWRTaW5jZVRoZUxhc3RSZW5kZXJpbmc9ITB9KX1hdHRhY2hEb21Sb290KHQsZT1cIm1haW5cIil7Y29uc3Qgbj10aGlzLmRvY3VtZW50LmdldFJvb3QoZSk7bi5fbmFtZT10LnRhZ05hbWUudG9Mb3dlckNhc2UoKTtjb25zdCBpPXt9O2Zvcihjb25zdHtuYW1lOmUsdmFsdWU6b31vZiBBcnJheS5mcm9tKHQuYXR0cmlidXRlcykpaVtlXT1vLFwiY2xhc3NcIj09PWU/dGhpcy5fd3JpdGVyLmFkZENsYXNzKG8uc3BsaXQoXCIgXCIpLG4pOnRoaXMuX3dyaXRlci5zZXRBdHRyaWJ1dGUoZSxvLG4pO3RoaXMuX2luaXRpYWxEb21Sb290QXR0cmlidXRlcy5zZXQodCxpKTtjb25zdCBvPSgpPT57dGhpcy5fd3JpdGVyLnNldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiLCFuLmlzUmVhZE9ubHksbiksbi5pc1JlYWRPbmx5P3RoaXMuX3dyaXRlci5hZGRDbGFzcyhcImNrLXJlYWQtb25seVwiLG4pOnRoaXMuX3dyaXRlci5yZW1vdmVDbGFzcyhcImNrLXJlYWQtb25seVwiLG4pfTtvKCksdGhpcy5kb21Sb290cy5zZXQoZSx0KSx0aGlzLmRvbUNvbnZlcnRlci5iaW5kRWxlbWVudHModCxuKSx0aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwiY2hpbGRyZW5cIixuKSx0aGlzLl9yZW5kZXJlci5tYXJrVG9TeW5jKFwiYXR0cmlidXRlc1wiLG4pLHRoaXMuX3JlbmRlcmVyLmRvbURvY3VtZW50cy5hZGQodC5vd25lckRvY3VtZW50KSxuLm9uKFwiY2hhbmdlOmNoaWxkcmVuXCIsKHQsZSk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJjaGlsZHJlblwiLGUpKSxuLm9uKFwiY2hhbmdlOmF0dHJpYnV0ZXNcIiwodCxlKT0+dGhpcy5fcmVuZGVyZXIubWFya1RvU3luYyhcImF0dHJpYnV0ZXNcIixlKSksbi5vbihcImNoYW5nZTp0ZXh0XCIsKHQsZSk9PnRoaXMuX3JlbmRlcmVyLm1hcmtUb1N5bmMoXCJ0ZXh0XCIsZSkpLG4ub24oXCJjaGFuZ2U6aXNSZWFkT25seVwiLCgpPT50aGlzLmNoYW5nZShvKSksbi5vbihcImNoYW5nZVwiLCgpPT57dGhpcy5faGFzQ2hhbmdlZFNpbmNlVGhlTGFzdFJlbmRlcmluZz0hMH0pO2Zvcihjb25zdCBuIG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSluLm9ic2VydmUodCxlKX1kZXRhY2hEb21Sb290KHQpe2NvbnN0IGU9dGhpcy5kb21Sb290cy5nZXQodCk7QXJyYXkuZnJvbShlLmF0dHJpYnV0ZXMpLmZvckVhY2goKHtuYW1lOnR9KT0+ZS5yZW1vdmVBdHRyaWJ1dGUodCkpO2NvbnN0IG49dGhpcy5faW5pdGlhbERvbVJvb3RBdHRyaWJ1dGVzLmdldChlKTtmb3IoY29uc3QgdCBpbiBuKWUuc2V0QXR0cmlidXRlKHQsblt0XSk7dGhpcy5kb21Sb290cy5kZWxldGUodCksdGhpcy5kb21Db252ZXJ0ZXIudW5iaW5kRG9tRWxlbWVudChlKX1nZXREb21Sb290KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLmRvbVJvb3RzLmdldCh0KX1hZGRPYnNlcnZlcih0KXtsZXQgZT10aGlzLl9vYnNlcnZlcnMuZ2V0KHQpO2lmKGUpcmV0dXJuIGU7ZT1uZXcgdCh0aGlzKSx0aGlzLl9vYnNlcnZlcnMuc2V0KHQsZSk7Zm9yKGNvbnN0W3Qsbl1vZiB0aGlzLmRvbVJvb3RzKWUub2JzZXJ2ZShuLHQpO3JldHVybiBlLmVuYWJsZSgpLGV9Z2V0T2JzZXJ2ZXIodCl7cmV0dXJuIHRoaXMuX29ic2VydmVycy5nZXQodCl9ZGlzYWJsZU9ic2VydmVycygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX29ic2VydmVycy52YWx1ZXMoKSl0LmRpc2FibGUoKX1lbmFibGVPYnNlcnZlcnMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9vYnNlcnZlcnMudmFsdWVzKCkpdC5lbmFibGUoKX1zY3JvbGxUb1RoZVNlbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpO3QmJlBzKHt0YXJnZXQ6dGhpcy5kb21Db252ZXJ0ZXIudmlld1JhbmdlVG9Eb20odCksdmlld3BvcnRPZmZzZXQ6MjB9KX1mb2N1cygpe2lmKCF0aGlzLmRvY3VtZW50LmlzRm9jdXNlZCl7Y29uc3QgdD10aGlzLmRvY3VtZW50LnNlbGVjdGlvbi5lZGl0YWJsZUVsZW1lbnQ7dD8odGhpcy5kb21Db252ZXJ0ZXIuZm9jdXModCksdGhpcy5mb3JjZVJlbmRlcigpKTpicy5hLndhcm4oXCJ2aWV3LWZvY3VzLW5vLXNlbGVjdGlvbjogVGhlcmUgaXMgbm8gc2VsZWN0aW9uIGluIGFueSBlZGl0YWJsZSB0byBmb2N1cy5cIil9fWNoYW5nZSh0KXtpZih0aGlzLmlzUmVuZGVyaW5nSW5Qcm9ncmVzc3x8dGhpcy5fcG9zdEZpeGVyc0luUHJvZ3Jlc3MpdGhyb3cgbmV3IEduLmIoXCJjYW5ub3QtY2hhbmdlLXZpZXctdHJlZTogQXR0ZW1wdGluZyB0byBtYWtlIGNoYW5nZXMgdG8gdGhlIHZpZXcgd2hlbiBpdCBpcyBpbiBhbiBpbmNvcnJlY3Qgc3RhdGU6IHJlbmRlcmluZyBvciBwb3N0LWZpeGVycyBhcmUgaW4gcHJvZ3Jlc3MuIFRoaXMgbWF5IGNhdXNlIHNvbWUgdW5leHBlY3RlZCBiZWhhdmlvciBhbmQgaW5jb25zaXN0ZW5jeSBiZXR3ZWVuIHRoZSBET00gYW5kIHRoZSB2aWV3LlwiKTtpZih0aGlzLl9vbmdvaW5nQ2hhbmdlKXJldHVybiB0KHRoaXMuX3dyaXRlcik7dGhpcy5fb25nb2luZ0NoYW5nZT0hMDtjb25zdCBlPXQodGhpcy5fd3JpdGVyKTtyZXR1cm4gdGhpcy5fb25nb2luZ0NoYW5nZT0hMSwhdGhpcy5fcmVuZGVyaW5nRGlzYWJsZWQmJnRoaXMuX2hhc0NoYW5nZWRTaW5jZVRoZUxhc3RSZW5kZXJpbmcmJih0aGlzLl9wb3N0Rml4ZXJzSW5Qcm9ncmVzcz0hMCx0aGlzLmRvY3VtZW50Ll9jYWxsUG9zdEZpeGVycyh0aGlzLl93cml0ZXIpLHRoaXMuX3Bvc3RGaXhlcnNJblByb2dyZXNzPSExLHRoaXMuZmlyZShcInJlbmRlclwiKSksZX1mb3JjZVJlbmRlcigpe3RoaXMuX2hhc0NoYW5nZWRTaW5jZVRoZUxhc3RSZW5kZXJpbmc9ITAsdGhpcy5jaGFuZ2UoKCk9Pnt9KX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fb2JzZXJ2ZXJzLnZhbHVlcygpKXQuZGVzdHJveSgpO3RoaXMuZG9jdW1lbnQuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfWNyZWF0ZVBvc2l0aW9uQXQodCxlKXtyZXR1cm4gWmkuX2NyZWF0ZUF0KHQsZSl9Y3JlYXRlUG9zaXRpb25BZnRlcih0KXtyZXR1cm4gWmkuX2NyZWF0ZUFmdGVyKHQpfWNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpe3JldHVybiBaaS5fY3JlYXRlQmVmb3JlKHQpfWNyZWF0ZVJhbmdlKHQsZSl7cmV0dXJuIG5ldyBYaSh0LGUpfWNyZWF0ZVJhbmdlT24odCl7cmV0dXJuIFhpLl9jcmVhdGVPbih0KX1jcmVhdGVSYW5nZUluKHQpe3JldHVybiBYaS5fY3JlYXRlSW4odCl9Y3JlYXRlU2VsZWN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IG5vKHQsZSxuKX1fZGlzYWJsZVJlbmRlcmluZyh0KXt0aGlzLl9yZW5kZXJpbmdEaXNhYmxlZD10LDA9PXQmJnRoaXMuY2hhbmdlKCgpPT57fSl9X3JlbmRlcigpe3RoaXMuaXNSZW5kZXJpbmdJblByb2dyZXNzPSEwLHRoaXMuZGlzYWJsZU9ic2VydmVycygpLHRoaXMuX3JlbmRlcmVyLnJlbmRlcigpLHRoaXMuZW5hYmxlT2JzZXJ2ZXJzKCksdGhpcy5pc1JlbmRlcmluZ0luUHJvZ3Jlc3M9ITF9fWZ1bmN0aW9uIFZzKHQpe3JldHVybiBDKHQpP3BpKHQpOm5ldyBNYXAodCl9Y2koanMsRmkpO2NsYXNzIEJze2NvbnN0cnVjdG9yKHQpe3RoaXMucGFyZW50PW51bGwsdGhpcy5fYXR0cnM9VnModCl9Z2V0IGluZGV4KCl7bGV0IHQ7aWYoIXRoaXMucGFyZW50KXJldHVybiBudWxsO2lmKG51bGw9PT0odD10aGlzLnBhcmVudC5nZXRDaGlsZEluZGV4KHRoaXMpKSl0aHJvdyBuZXcgR24uYihcIm1vZGVsLW5vZGUtbm90LWZvdW5kLWluLXBhcmVudDogVGhlIG5vZGUncyBwYXJlbnQgZG9lcyBub3QgY29udGFpbiB0aGlzIG5vZGUuXCIpO3JldHVybiB0fWdldCBzdGFydE9mZnNldCgpe2xldCB0O2lmKCF0aGlzLnBhcmVudClyZXR1cm4gbnVsbDtpZihudWxsPT09KHQ9dGhpcy5wYXJlbnQuZ2V0Q2hpbGRTdGFydE9mZnNldCh0aGlzKSkpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC1ub2RlLW5vdC1mb3VuZC1pbi1wYXJlbnQ6IFRoZSBub2RlJ3MgcGFyZW50IGRvZXMgbm90IGNvbnRhaW4gdGhpcyBub2RlLlwiKTtyZXR1cm4gdH1nZXQgb2Zmc2V0U2l6ZSgpe3JldHVybiAxfWdldCBlbmRPZmZzZXQoKXtyZXR1cm4gdGhpcy5wYXJlbnQ/dGhpcy5zdGFydE9mZnNldCt0aGlzLm9mZnNldFNpemU6bnVsbH1nZXQgbmV4dFNpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0KzEpfHxudWxsfWdldCBwcmV2aW91c1NpYmxpbmcoKXtjb25zdCB0PXRoaXMuaW5kZXg7cmV0dXJuIG51bGwhPT10JiZ0aGlzLnBhcmVudC5nZXRDaGlsZCh0LTEpfHxudWxsfWdldCByb290KCl7bGV0IHQ9dGhpcztmb3IoO3QucGFyZW50Oyl0PXQucGFyZW50O3JldHVybiB0fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnJvb3Q9PXRoaXM/bnVsbDp0aGlzLnJvb3QuZG9jdW1lbnR8fG51bGx9Z2V0UGF0aCgpe2NvbnN0IHQ9W107bGV0IGU9dGhpcztmb3IoO2UucGFyZW50Oyl0LnVuc2hpZnQoZS5zdGFydE9mZnNldCksZT1lLnBhcmVudDtyZXR1cm4gdH1nZXRBbmNlc3RvcnModD17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCBlPVtdO2xldCBuPXQuaW5jbHVkZVNlbGY/dGhpczp0aGlzLnBhcmVudDtmb3IoO247KWVbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0obiksbj1uLnBhcmVudDtyZXR1cm4gZX1nZXRDb21tb25BbmNlc3Rvcih0LGU9e30pe2NvbnN0IG49dGhpcy5nZXRBbmNlc3RvcnMoZSksaT10LmdldEFuY2VzdG9ycyhlKTtsZXQgbz0wO2Zvcig7bltvXT09aVtvXSYmbltvXTspbysrO3JldHVybiAwPT09bz9udWxsOm5bby0xXX1pc0JlZm9yZSh0KXtpZih0aGlzPT10KXJldHVybiExO2lmKHRoaXMucm9vdCE9PXQucm9vdClyZXR1cm4hMTtjb25zdCBlPXRoaXMuZ2V0UGF0aCgpLG49dC5nZXRQYXRoKCksaT1saShlLG4pO3N3aXRjaChpKXtjYXNlXCJwcmVmaXhcIjpyZXR1cm4hMDtjYXNlXCJleHRlbnNpb25cIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBlW2ldPG5baV19fWlzQWZ0ZXIodCl7cmV0dXJuIHRoaXMhPXQmJih0aGlzLnJvb3Q9PT10LnJvb3QmJiF0aGlzLmlzQmVmb3JlKHQpKX1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX2F0dHJzLmhhcyh0KX1nZXRBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX2F0dHJzLmdldCh0KX1nZXRBdHRyaWJ1dGVzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmVudHJpZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMuX2F0dHJzLmtleXMoKX10b0pTT04oKXtjb25zdCB0PXt9O3JldHVybiB0aGlzLl9hdHRycy5zaXplJiYodC5hdHRyaWJ1dGVzPUFycmF5LmZyb20odGhpcy5fYXR0cnMpLnJlZHVjZSgodCxlKT0+KHRbZVswXV09ZVsxXSx0KSx7fSkpLHR9X2Nsb25lKCl7cmV0dXJuIG5ldyBCcyh0aGlzLl9hdHRycyl9X3JlbW92ZSgpe3RoaXMucGFyZW50Ll9yZW1vdmVDaGlsZHJlbih0aGlzLmluZGV4KX1fc2V0QXR0cmlidXRlKHQsZSl7dGhpcy5fYXR0cnMuc2V0KHQsZSl9X3NldEF0dHJpYnV0ZXNUbyh0KXt0aGlzLl9hdHRycz1Wcyh0KX1fcmVtb3ZlQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9hdHRycy5kZWxldGUodCl9X2NsZWFyQXR0cmlidXRlcygpe3RoaXMuX2F0dHJzLmNsZWFyKCl9aXModCl7cmV0dXJuXCJub2RlXCI9PXR9fWNsYXNzIHpzIGV4dGVuZHMgQnN7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSx0aGlzLl9kYXRhPXR8fFwiXCJ9Z2V0IG9mZnNldFNpemUoKXtyZXR1cm4gdGhpcy5kYXRhLmxlbmd0aH1nZXQgZGF0YSgpe3JldHVybiB0aGlzLl9kYXRhfWlzKHQpe3JldHVyblwidGV4dFwiPT10fHxzdXBlci5pcyh0KX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LmRhdGE9dGhpcy5kYXRhLHR9X2Nsb25lKCl7cmV0dXJuIG5ldyB6cyh0aGlzLmRhdGEsdGhpcy5nZXRBdHRyaWJ1dGVzKCkpfXN0YXRpYyBmcm9tSlNPTih0KXtyZXR1cm4gbmV3IHpzKHQuZGF0YSx0LmF0dHJpYnV0ZXMpfX1jbGFzcyBGc3tjb25zdHJ1Y3Rvcih0LGUsbil7aWYodGhpcy50ZXh0Tm9kZT10LGU8MHx8ZT50Lm9mZnNldFNpemUpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC10ZXh0cHJveHktd3Jvbmctb2Zmc2V0aW50ZXh0OiBHaXZlbiBvZmZzZXRJblRleHQgdmFsdWUgaXMgaW5jb3JyZWN0LlwiKTtpZihuPDB8fGUrbj50Lm9mZnNldFNpemUpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC10ZXh0cHJveHktd3JvbmctbGVuZ3RoOiBHaXZlbiBsZW5ndGggdmFsdWUgaXMgaW5jb3JyZWN0LlwiKTt0aGlzLmRhdGE9dC5kYXRhLnN1YnN0cmluZyhlLGUrbiksdGhpcy5vZmZzZXRJblRleHQ9ZX1nZXQgc3RhcnRPZmZzZXQoKXtyZXR1cm4gbnVsbCE9PXRoaXMudGV4dE5vZGUuc3RhcnRPZmZzZXQ/dGhpcy50ZXh0Tm9kZS5zdGFydE9mZnNldCt0aGlzLm9mZnNldEluVGV4dDpudWxsfWdldCBvZmZzZXRTaXplKCl7cmV0dXJuIHRoaXMuZGF0YS5sZW5ndGh9Z2V0IGVuZE9mZnNldCgpe3JldHVybiBudWxsIT09dGhpcy5zdGFydE9mZnNldD90aGlzLnN0YXJ0T2Zmc2V0K3RoaXMub2Zmc2V0U2l6ZTpudWxsfWdldCBpc1BhcnRpYWwoKXtyZXR1cm4gdGhpcy5vZmZzZXRTaXplIT09dGhpcy50ZXh0Tm9kZS5vZmZzZXRTaXplfWdldCBwYXJlbnQoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5wYXJlbnR9Z2V0IHJvb3QoKXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5yb290fWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLnRleHROb2RlLmRvY3VtZW50fWlzKHQpe3JldHVyblwidGV4dFByb3h5XCI9PXR9Z2V0UGF0aCgpe2NvbnN0IHQ9dGhpcy50ZXh0Tm9kZS5nZXRQYXRoKCk7cmV0dXJuIHQubGVuZ3RoPjAmJih0W3QubGVuZ3RoLTFdKz10aGlzLm9mZnNldEluVGV4dCksdH1nZXRBbmNlc3RvcnModD17aW5jbHVkZVNlbGY6ITEscGFyZW50Rmlyc3Q6ITF9KXtjb25zdCBlPVtdO2xldCBuPXQuaW5jbHVkZVNlbGY/dGhpczp0aGlzLnBhcmVudDtmb3IoO247KWVbdC5wYXJlbnRGaXJzdD9cInB1c2hcIjpcInVuc2hpZnRcIl0obiksbj1uLnBhcmVudDtyZXR1cm4gZX1oYXNBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuaGFzQXR0cmlidXRlKHQpfWdldEF0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy50ZXh0Tm9kZS5nZXRBdHRyaWJ1dGUodCl9Z2V0QXR0cmlidXRlcygpe3JldHVybiB0aGlzLnRleHROb2RlLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGVLZXlzKCl7cmV0dXJuIHRoaXMudGV4dE5vZGUuZ2V0QXR0cmlidXRlS2V5cygpfX1jbGFzcyBVc3tjb25zdHJ1Y3Rvcih0KXt0aGlzLl9ub2Rlcz1bXSx0JiZ0aGlzLl9pbnNlcnROb2RlcygwLHQpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX25vZGVzW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXQgbGVuZ3RoKCl7cmV0dXJuIHRoaXMuX25vZGVzLmxlbmd0aH1nZXQgbWF4T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX25vZGVzLnJlZHVjZSgodCxlKT0+dCtlLm9mZnNldFNpemUsMCl9Z2V0Tm9kZSh0KXtyZXR1cm4gdGhpcy5fbm9kZXNbdF18fG51bGx9Z2V0Tm9kZUluZGV4KHQpe2NvbnN0IGU9dGhpcy5fbm9kZXMuaW5kZXhPZih0KTtyZXR1cm4tMT09ZT9udWxsOmV9Z2V0Tm9kZVN0YXJ0T2Zmc2V0KHQpe2NvbnN0IGU9dGhpcy5nZXROb2RlSW5kZXgodCk7cmV0dXJuIG51bGw9PT1lP251bGw6dGhpcy5fbm9kZXMuc2xpY2UoMCxlKS5yZWR1Y2UoKHQsZSk9PnQrZS5vZmZzZXRTaXplLDApfWluZGV4VG9PZmZzZXQodCl7aWYodD09dGhpcy5fbm9kZXMubGVuZ3RoKXJldHVybiB0aGlzLm1heE9mZnNldDtjb25zdCBlPXRoaXMuX25vZGVzW3RdO2lmKCFlKXRocm93IG5ldyBHbi5iKFwibW9kZWwtbm9kZWxpc3QtaW5kZXgtb3V0LW9mLWJvdW5kczogR2l2ZW4gaW5kZXggY2Fubm90IGJlIGZvdW5kIGluIHRoZSBub2RlIGxpc3QuXCIpO3JldHVybiB0aGlzLmdldE5vZGVTdGFydE9mZnNldChlKX1vZmZzZXRUb0luZGV4KHQpe2xldCBlPTA7Zm9yKGNvbnN0IG4gb2YgdGhpcy5fbm9kZXMpe2lmKHQ+PWUmJnQ8ZStuLm9mZnNldFNpemUpcmV0dXJuIHRoaXMuZ2V0Tm9kZUluZGV4KG4pO2UrPW4ub2Zmc2V0U2l6ZX1pZihlIT10KXRocm93IG5ldyBHbi5iKFwibW9kZWwtbm9kZWxpc3Qtb2Zmc2V0LW91dC1vZi1ib3VuZHM6IEdpdmVuIG9mZnNldCBjYW5ub3QgYmUgZm91bmQgaW4gdGhlIG5vZGUgbGlzdC5cIix7b2Zmc2V0OnQsbm9kZUxpc3Q6dGhpc30pO3JldHVybiB0aGlzLmxlbmd0aH1faW5zZXJ0Tm9kZXModCxlKXtmb3IoY29uc3QgdCBvZiBlKWlmKCEodCBpbnN0YW5jZW9mIEJzKSl0aHJvdyBuZXcgR24uYihcIm1vZGVsLW5vZGVsaXN0LWluc2VydE5vZGVzLW5vdC1ub2RlOiBUcnlpbmcgdG8gaW5zZXJ0IGFuIG9iamVjdCB3aGljaCBpcyBub3QgYSBOb2RlIGluc3RhbmNlLlwiKTt0aGlzLl9ub2Rlcy5zcGxpY2UodCwwLC4uLmUpfV9yZW1vdmVOb2Rlcyh0LGU9MSl7cmV0dXJuIHRoaXMuX25vZGVzLnNwbGljZSh0LGUpfXRvSlNPTigpe3JldHVybiB0aGlzLl9ub2Rlcy5tYXAodD0+dC50b0pTT04oKSl9fWNsYXNzIEhzIGV4dGVuZHMgQnN7Y29uc3RydWN0b3IodCxlLG4pe3N1cGVyKGUpLHRoaXMubmFtZT10LHRoaXMuX2NoaWxkcmVuPW5ldyBVcyxuJiZ0aGlzLl9pbnNlcnRDaGlsZCgwLG4pfWdldCBjaGlsZENvdW50KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmxlbmd0aH1nZXQgbWF4T2Zmc2V0KCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm1heE9mZnNldH1nZXQgaXNFbXB0eSgpe3JldHVybiAwPT09dGhpcy5jaGlsZENvdW50fWlzKHQsZT1udWxsKXtyZXR1cm4gZT9cImVsZW1lbnRcIj09dCYmZT09dGhpcy5uYW1lOlwiZWxlbWVudFwiPT10fHx0PT10aGlzLm5hbWV8fHN1cGVyLmlzKHQpfWdldENoaWxkKHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlKHQpfWdldENoaWxkcmVuKCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuW1N5bWJvbC5pdGVyYXRvcl0oKX1nZXRDaGlsZEluZGV4KHQpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5nZXROb2RlSW5kZXgodCl9Z2V0Q2hpbGRTdGFydE9mZnNldCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZVN0YXJ0T2Zmc2V0KHQpfW9mZnNldFRvSW5kZXgodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLm9mZnNldFRvSW5kZXgodCl9Z2V0Tm9kZUJ5UGF0aCh0KXtsZXQgZT10aGlzO2Zvcihjb25zdCBuIG9mIHQpZT1lLmdldENoaWxkKGUub2Zmc2V0VG9JbmRleChuKSk7cmV0dXJuIGV9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtpZih0Lm5hbWU9dGhpcy5uYW1lLHRoaXMuX2NoaWxkcmVuLmxlbmd0aD4wKXt0LmNoaWxkcmVuPVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NoaWxkcmVuKXQuY2hpbGRyZW4ucHVzaChlLnRvSlNPTigpKX1yZXR1cm4gdH1fY2xvbmUodD0hMSl7Y29uc3QgZT10P0FycmF5LmZyb20odGhpcy5fY2hpbGRyZW4pLm1hcCh0PT50Ll9jbG9uZSghMCkpOm51bGw7cmV0dXJuIG5ldyBIcyh0aGlzLm5hbWUsdGhpcy5nZXRBdHRyaWJ1dGVzKCksZSl9X2FwcGVuZENoaWxkKHQpe3RoaXMuX2luc2VydENoaWxkKHRoaXMuY2hpbGRDb3VudCx0KX1faW5zZXJ0Q2hpbGQodCxlKXtjb25zdCBuPWZ1bmN0aW9uKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0KXJldHVybltuZXcgenModCldO2dpKHQpfHwodD1bdF0pO3JldHVybiBBcnJheS5mcm9tKHQpLm1hcCh0PT5cInN0cmluZ1wiPT10eXBlb2YgdD9uZXcgenModCk6dCBpbnN0YW5jZW9mIEZzP25ldyB6cyh0LmRhdGEsdC5nZXRBdHRyaWJ1dGVzKCkpOnQpfShlKTtmb3IoY29uc3QgdCBvZiBuKW51bGwhPT10LnBhcmVudCYmdC5fcmVtb3ZlKCksdC5wYXJlbnQ9dGhpczt0aGlzLl9jaGlsZHJlbi5faW5zZXJ0Tm9kZXModCxuKX1fcmVtb3ZlQ2hpbGRyZW4odCxlPTEpe2NvbnN0IG49dGhpcy5fY2hpbGRyZW4uX3JlbW92ZU5vZGVzKHQsZSk7Zm9yKGNvbnN0IHQgb2Ygbil0LnBhcmVudD1udWxsO3JldHVybiBufXN0YXRpYyBmcm9tSlNPTih0KXtsZXQgZT1udWxsO2lmKHQuY2hpbGRyZW4pe2U9W107Zm9yKGNvbnN0IG4gb2YgdC5jaGlsZHJlbiluLm5hbWU/ZS5wdXNoKEhzLmZyb21KU09OKG4pKTplLnB1c2goenMuZnJvbUpTT04obikpfXJldHVybiBuZXcgSHModC5uYW1lLHQuYXR0cmlidXRlcyxlKX19Y2xhc3MgcXN7Y29uc3RydWN0b3IodD17fSl7aWYoIXQuYm91bmRhcmllcyYmIXQuc3RhcnRQb3NpdGlvbil0aHJvdyBuZXcgR24uYihcIm1vZGVsLXRyZWUtd2Fsa2VyLW5vLXN0YXJ0LXBvc2l0aW9uOiBOZWl0aGVyIGJvdW5kYXJpZXMgbm9yIHN0YXJ0aW5nIHBvc2l0aW9uIGhhdmUgYmVlbiBkZWZpbmVkLlwiKTtjb25zdCBlPXQuZGlyZWN0aW9ufHxcImZvcndhcmRcIjtpZihcImZvcndhcmRcIiE9ZSYmXCJiYWNrd2FyZFwiIT1lKXRocm93IG5ldyBHbi5iKFwibW9kZWwtdHJlZS13YWxrZXItdW5rbm93bi1kaXJlY3Rpb246IE9ubHkgYGJhY2t3YXJkYCBhbmQgYGZvcndhcmRgIGRpcmVjdGlvbiBhbGxvd2VkLlwiLHtkaXJlY3Rpb246ZX0pO3RoaXMuZGlyZWN0aW9uPWUsdGhpcy5ib3VuZGFyaWVzPXQuYm91bmRhcmllc3x8bnVsbCx0LnN0YXJ0UG9zaXRpb24/dGhpcy5wb3NpdGlvbj10LnN0YXJ0UG9zaXRpb24uY2xvbmUoKTp0aGlzLnBvc2l0aW9uPSRzLl9jcmVhdGVBdCh0aGlzLmJvdW5kYXJpZXNbXCJiYWNrd2FyZFwiPT10aGlzLmRpcmVjdGlvbj9cImVuZFwiOlwic3RhcnRcIl0pLHRoaXMucG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTm9uZVwiLHRoaXMuc2luZ2xlQ2hhcmFjdGVycz0hIXQuc2luZ2xlQ2hhcmFjdGVycyx0aGlzLnNoYWxsb3c9ISF0LnNoYWxsb3csdGhpcy5pZ25vcmVFbGVtZW50RW5kPSEhdC5pZ25vcmVFbGVtZW50RW5kLHRoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9dGhpcy5ib3VuZGFyaWVzP3RoaXMuYm91bmRhcmllcy5zdGFydC5wYXJlbnQ6bnVsbCx0aGlzLl9ib3VuZGFyeUVuZFBhcmVudD10aGlzLmJvdW5kYXJpZXM/dGhpcy5ib3VuZGFyaWVzLmVuZC5wYXJlbnQ6bnVsbCx0aGlzLl92aXNpdGVkUGFyZW50PXRoaXMucG9zaXRpb24ucGFyZW50fVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXN9c2tpcCh0KXtsZXQgZSxuLGksbztkb3tpPXRoaXMucG9zaXRpb24sbz10aGlzLl92aXNpdGVkUGFyZW50LCh7ZG9uZTplLHZhbHVlOm59PXRoaXMubmV4dCgpKX13aGlsZSghZSYmdChuKSk7ZXx8KHRoaXMucG9zaXRpb249aSx0aGlzLl92aXNpdGVkUGFyZW50PW8pfW5leHQoKXtyZXR1cm5cImZvcndhcmRcIj09dGhpcy5kaXJlY3Rpb24/dGhpcy5fbmV4dCgpOnRoaXMuX3ByZXZpb3VzKCl9X25leHQoKXtjb25zdCB0PXRoaXMucG9zaXRpb24sZT10aGlzLnBvc2l0aW9uLmNsb25lKCksbj10aGlzLl92aXNpdGVkUGFyZW50O2lmKG51bGw9PT1uLnBhcmVudCYmZS5vZmZzZXQ9PT1uLm1heE9mZnNldClyZXR1cm57ZG9uZTohMH07aWYobj09PXRoaXMuX2JvdW5kYXJ5RW5kUGFyZW50JiZlLm9mZnNldD09dGhpcy5ib3VuZGFyaWVzLmVuZC5vZmZzZXQpcmV0dXJue2RvbmU6ITB9O2NvbnN0IGk9ZS50ZXh0Tm9kZT9lLnRleHROb2RlOmUubm9kZUFmdGVyO2lmKGkgaW5zdGFuY2VvZiBIcylyZXR1cm4gdGhpcy5zaGFsbG93P2Uub2Zmc2V0Kys6KGUucGF0aC5wdXNoKDApLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9aSksdGhpcy5wb3NpdGlvbj1lLFdzKFwiZWxlbWVudFN0YXJ0XCIsaSx0LGUsMSk7aWYoaSBpbnN0YW5jZW9mIHpzKXtsZXQgbztpZih0aGlzLnNpbmdsZUNoYXJhY3RlcnMpbz0xO2Vsc2V7bGV0IHQ9aS5lbmRPZmZzZXQ7dGhpcy5fYm91bmRhcnlFbmRQYXJlbnQ9PW4mJnRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0PHQmJih0PXRoaXMuYm91bmRhcmllcy5lbmQub2Zmc2V0KSxvPXQtZS5vZmZzZXR9Y29uc3Qgcj1lLm9mZnNldC1pLnN0YXJ0T2Zmc2V0LHM9bmV3IEZzKGkscixvKTtyZXR1cm4gZS5vZmZzZXQrPW8sdGhpcy5wb3NpdGlvbj1lLFdzKFwidGV4dFwiLHMsdCxlLG8pfXJldHVybiBlLnBhdGgucG9wKCksZS5vZmZzZXQrKyx0aGlzLnBvc2l0aW9uPWUsdGhpcy5fdmlzaXRlZFBhcmVudD1uLnBhcmVudCx0aGlzLmlnbm9yZUVsZW1lbnRFbmQ/dGhpcy5fbmV4dCgpOldzKFwiZWxlbWVudEVuZFwiLG4sdCxlKX1fcHJldmlvdXMoKXtjb25zdCB0PXRoaXMucG9zaXRpb24sZT10aGlzLnBvc2l0aW9uLmNsb25lKCksbj10aGlzLl92aXNpdGVkUGFyZW50O2lmKG51bGw9PT1uLnBhcmVudCYmMD09PWUub2Zmc2V0KXJldHVybntkb25lOiEwfTtpZihuPT10aGlzLl9ib3VuZGFyeVN0YXJ0UGFyZW50JiZlLm9mZnNldD09dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldClyZXR1cm57ZG9uZTohMH07Y29uc3QgaT1lLnRleHROb2RlP2UudGV4dE5vZGU6ZS5ub2RlQmVmb3JlO2lmKGkgaW5zdGFuY2VvZiBIcylyZXR1cm4gZS5vZmZzZXQtLSx0aGlzLnNoYWxsb3c/KHRoaXMucG9zaXRpb249ZSxXcyhcImVsZW1lbnRTdGFydFwiLGksdCxlLDEpKTooZS5wYXRoLnB1c2goaS5tYXhPZmZzZXQpLHRoaXMucG9zaXRpb249ZSx0aGlzLl92aXNpdGVkUGFyZW50PWksdGhpcy5pZ25vcmVFbGVtZW50RW5kP3RoaXMuX3ByZXZpb3VzKCk6V3MoXCJlbGVtZW50RW5kXCIsaSx0LGUpKTtpZihpIGluc3RhbmNlb2YgenMpe2xldCBvO2lmKHRoaXMuc2luZ2xlQ2hhcmFjdGVycylvPTE7ZWxzZXtsZXQgdD1pLnN0YXJ0T2Zmc2V0O3RoaXMuX2JvdW5kYXJ5U3RhcnRQYXJlbnQ9PW4mJnRoaXMuYm91bmRhcmllcy5zdGFydC5vZmZzZXQ+dCYmKHQ9dGhpcy5ib3VuZGFyaWVzLnN0YXJ0Lm9mZnNldCksbz1lLm9mZnNldC10fWNvbnN0IHI9ZS5vZmZzZXQtaS5zdGFydE9mZnNldCxzPW5ldyBGcyhpLHItbyxvKTtyZXR1cm4gZS5vZmZzZXQtPW8sdGhpcy5wb3NpdGlvbj1lLFdzKFwidGV4dFwiLHMsdCxlLG8pfXJldHVybiBlLnBhdGgucG9wKCksdGhpcy5wb3NpdGlvbj1lLHRoaXMuX3Zpc2l0ZWRQYXJlbnQ9bi5wYXJlbnQsV3MoXCJlbGVtZW50U3RhcnRcIixuLHQsZSwxKX19ZnVuY3Rpb24gV3ModCxlLG4saSxvKXtyZXR1cm57ZG9uZTohMSx2YWx1ZTp7dHlwZTp0LGl0ZW06ZSxwcmV2aW91c1Bvc2l0aW9uOm4sbmV4dFBvc2l0aW9uOmksbGVuZ3RoOm99fX12YXIgWXM9ZnVuY3Rpb24odCl7dmFyIGU9bnVsbD09dD8wOnQubGVuZ3RoO3JldHVybiBlP3RbZS0xXTp2b2lkIDB9O2NsYXNzICRze2NvbnN0cnVjdG9yKHQsZSxuPVwidG9Ob25lXCIpe2lmKCF0LmlzKFwiZWxlbWVudFwiKSYmIXQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKXRocm93IG5ldyBHbi5iKFwibW9kZWwtcG9zaXRpb24tcm9vdC1pbnZhbGlkOiBQb3NpdGlvbiByb290IGludmFsaWQuXCIpO2lmKCEoZSBpbnN0YW5jZW9mIEFycmF5KXx8MD09PWUubGVuZ3RoKXRocm93IG5ldyBHbi5iKFwibW9kZWwtcG9zaXRpb24tcGF0aC1pbmNvcnJlY3Q6IFBvc2l0aW9uIHBhdGggbXVzdCBiZSBhbiBhcnJheSB3aXRoIGF0IGxlYXN0IG9uZSBpdGVtLlwiLHtwYXRoOmV9KTtlPXQuZ2V0UGF0aCgpLmNvbmNhdChlKSx0PXQucm9vdCx0aGlzLnJvb3Q9dCx0aGlzLnBhdGg9ZSx0aGlzLnN0aWNraW5lc3M9bn1nZXQgb2Zmc2V0KCl7cmV0dXJuIFlzKHRoaXMucGF0aCl9c2V0IG9mZnNldCh0KXt0aGlzLnBhdGhbdGhpcy5wYXRoLmxlbmd0aC0xXT10fWdldCBwYXJlbnQoKXtsZXQgdD10aGlzLnJvb3Q7Zm9yKGxldCBlPTA7ZTx0aGlzLnBhdGgubGVuZ3RoLTE7ZSsrKXQ9dC5nZXRDaGlsZCh0Lm9mZnNldFRvSW5kZXgodGhpcy5wYXRoW2VdKSk7cmV0dXJuIHR9Z2V0IGluZGV4KCl7cmV0dXJuIHRoaXMucGFyZW50Lm9mZnNldFRvSW5kZXgodGhpcy5vZmZzZXQpfWdldCB0ZXh0Tm9kZSgpe2NvbnN0IHQ9dGhpcy5wYXJlbnQuZ2V0Q2hpbGQodGhpcy5pbmRleCk7cmV0dXJuIHQgaW5zdGFuY2VvZiB6cyYmdC5zdGFydE9mZnNldDx0aGlzLm9mZnNldD90Om51bGx9Z2V0IG5vZGVBZnRlcigpe3JldHVybiBudWxsPT09dGhpcy50ZXh0Tm9kZT90aGlzLnBhcmVudC5nZXRDaGlsZCh0aGlzLmluZGV4KTpudWxsfWdldCBub2RlQmVmb3JlKCl7cmV0dXJuIG51bGw9PT10aGlzLnRleHROb2RlP3RoaXMucGFyZW50LmdldENoaWxkKHRoaXMuaW5kZXgtMSk6bnVsbH1nZXQgaXNBdFN0YXJ0KCl7cmV0dXJuIDA9PT10aGlzLm9mZnNldH1nZXQgaXNBdEVuZCgpe3JldHVybiB0aGlzLm9mZnNldD09dGhpcy5wYXJlbnQubWF4T2Zmc2V0fWNvbXBhcmVXaXRoKHQpe2lmKHRoaXMucm9vdCE9dC5yb290KXJldHVyblwiZGlmZmVyZW50XCI7Y29uc3QgZT1saSh0aGlzLnBhdGgsdC5wYXRoKTtzd2l0Y2goZSl7Y2FzZVwic2FtZVwiOnJldHVyblwic2FtZVwiO2Nhc2VcInByZWZpeFwiOnJldHVyblwiYmVmb3JlXCI7Y2FzZVwiZXh0ZW5zaW9uXCI6cmV0dXJuXCJhZnRlclwiO2RlZmF1bHQ6cmV0dXJuIHRoaXMucGF0aFtlXTx0LnBhdGhbZV0/XCJiZWZvcmVcIjpcImFmdGVyXCJ9fWdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQsZT17fSl7ZS5zdGFydFBvc2l0aW9uPXRoaXM7Y29uc3Qgbj1uZXcgcXMoZSk7cmV0dXJuIG4uc2tpcCh0KSxuLnBvc2l0aW9ufWdldFBhcmVudFBhdGgoKXtyZXR1cm4gdGhpcy5wYXRoLnNsaWNlKDAsLTEpfWdldEFuY2VzdG9ycygpe3JldHVybiB0aGlzLnBhcmVudC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/W3RoaXMucGFyZW50XTp0aGlzLnBhcmVudC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSl9Z2V0Q29tbW9uUGF0aCh0KXtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm5bXTtjb25zdCBlPWxpKHRoaXMucGF0aCx0LnBhdGgpLG49XCJzdHJpbmdcIj09dHlwZW9mIGU/TWF0aC5taW4odGhpcy5wYXRoLmxlbmd0aCx0LnBhdGgubGVuZ3RoKTplO3JldHVybiB0aGlzLnBhdGguc2xpY2UoMCxuKX1nZXRDb21tb25BbmNlc3Rvcih0KXtjb25zdCBlPXRoaXMuZ2V0QW5jZXN0b3JzKCksbj10LmdldEFuY2VzdG9ycygpO2xldCBpPTA7Zm9yKDtlW2ldPT1uW2ldJiZlW2ldOylpKys7cmV0dXJuIDA9PT1pP251bGw6ZVtpLTFdfWdldFNoaWZ0ZWRCeSh0KXtjb25zdCBlPXRoaXMuY2xvbmUoKSxuPWUub2Zmc2V0K3Q7cmV0dXJuIGUub2Zmc2V0PW48MD8wOm4sZX1pc0FmdGVyKHQpe3JldHVyblwiYWZ0ZXJcIj09dGhpcy5jb21wYXJlV2l0aCh0KX1pc0JlZm9yZSh0KXtyZXR1cm5cImJlZm9yZVwiPT10aGlzLmNvbXBhcmVXaXRoKHQpfWlzRXF1YWwodCl7cmV0dXJuXCJzYW1lXCI9PXRoaXMuY29tcGFyZVdpdGgodCl9aXNUb3VjaGluZyh0KXtsZXQgZT1udWxsLG49bnVsbDtzd2l0Y2godGhpcy5jb21wYXJlV2l0aCh0KSl7Y2FzZVwic2FtZVwiOnJldHVybiEwO2Nhc2VcImJlZm9yZVwiOmU9JHMuX2NyZWF0ZUF0KHRoaXMpLG49JHMuX2NyZWF0ZUF0KHQpO2JyZWFrO2Nhc2VcImFmdGVyXCI6ZT0kcy5fY3JlYXRlQXQodCksbj0kcy5fY3JlYXRlQXQodGhpcyk7YnJlYWs7ZGVmYXVsdDpyZXR1cm4hMX1sZXQgaT1lLnBhcmVudDtmb3IoO2UucGF0aC5sZW5ndGgrbi5wYXRoLmxlbmd0aDspe2lmKGUuaXNFcXVhbChuKSlyZXR1cm4hMDtpZihlLnBhdGgubGVuZ3RoPm4ucGF0aC5sZW5ndGgpe2lmKGUub2Zmc2V0IT09aS5tYXhPZmZzZXQpcmV0dXJuITE7ZS5wYXRoPWUucGF0aC5zbGljZSgwLC0xKSxpPWkucGFyZW50LGUub2Zmc2V0Kyt9ZWxzZXtpZigwIT09bi5vZmZzZXQpcmV0dXJuITE7bi5wYXRoPW4ucGF0aC5zbGljZSgwLC0xKX19fWhhc1NhbWVQYXJlbnRBcyh0KXtpZih0aGlzLnJvb3QhPT10LnJvb3QpcmV0dXJuITE7cmV0dXJuXCJzYW1lXCI9PWxpKHRoaXMuZ2V0UGFyZW50UGF0aCgpLHQuZ2V0UGFyZW50UGF0aCgpKX1nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9uKHQpe2xldCBlO3N3aXRjaCh0LnR5cGUpe2Nhc2VcImluc2VydFwiOmU9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbih0KTticmVhaztjYXNlXCJtb3ZlXCI6Y2FzZVwicmVtb3ZlXCI6Y2FzZVwicmVpbnNlcnRcIjplPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKHQpO2JyZWFrO2Nhc2VcInNwbGl0XCI6ZT10aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCk7YnJlYWs7Y2FzZVwibWVyZ2VcIjplPXRoaXMuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KTticmVhaztkZWZhdWx0OmU9JHMuX2NyZWF0ZUF0KHRoaXMpfXJldHVybiBlfV9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQucG9zaXRpb24sdC5ob3dNYW55KX1fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24odCl7cmV0dXJuIHRoaXMuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnkpfV9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCl7Y29uc3QgZT10Lm1vdmVkUmFuZ2U7cmV0dXJuIGUuY29udGFpbnNQb3NpdGlvbih0aGlzKXx8ZS5zdGFydC5pc0VxdWFsKHRoaXMpJiZcInRvTmV4dFwiPT10aGlzLnN0aWNraW5lc3M/dGhpcy5fZ2V0Q29tYmluZWQodC5zcGxpdFBvc2l0aW9uLHQubW92ZVRhcmdldFBvc2l0aW9uKTp0LmdyYXZleWFyZFBvc2l0aW9uP3RoaXMuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuZ3JhdmV5YXJkUG9zaXRpb24sdC5pbnNlcnRpb25Qb3NpdGlvbiwxKTp0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQuaW5zZXJ0aW9uUG9zaXRpb24sMSl9X2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KXtjb25zdCBlPXQubW92ZWRSYW5nZTtsZXQgbjtyZXR1cm4gZS5jb250YWluc1Bvc2l0aW9uKHRoaXMpfHxlLnN0YXJ0LmlzRXF1YWwodGhpcyk/KG49dGhpcy5fZ2V0Q29tYmluZWQodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uKSx0LnNvdXJjZVBvc2l0aW9uLmlzQmVmb3JlKHQudGFyZ2V0UG9zaXRpb24pJiYobj1uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odC5kZWxldGlvblBvc2l0aW9uLDEpKSk6bj10aGlzLmlzRXF1YWwodC5kZWxldGlvblBvc2l0aW9uKT8kcy5fY3JlYXRlQXQodC5kZWxldGlvblBvc2l0aW9uKTp0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LmRlbGV0aW9uUG9zaXRpb24sdC5ncmF2ZXlhcmRQb3NpdGlvbiwxKSxufV9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxlKXtjb25zdCBuPSRzLl9jcmVhdGVBdCh0aGlzKTtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm4gbjtpZihcInNhbWVcIj09bGkodC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKXtpZih0Lm9mZnNldDx0aGlzLm9mZnNldCl7aWYodC5vZmZzZXQrZT50aGlzLm9mZnNldClyZXR1cm4gbnVsbDtuLm9mZnNldC09ZX19ZWxzZSBpZihcInByZWZpeFwiPT1saSh0LmdldFBhcmVudFBhdGgoKSx0aGlzLmdldFBhcmVudFBhdGgoKSkpe2NvbnN0IGk9dC5wYXRoLmxlbmd0aC0xO2lmKHQub2Zmc2V0PD10aGlzLnBhdGhbaV0pe2lmKHQub2Zmc2V0K2U+dGhpcy5wYXRoW2ldKXJldHVybiBudWxsO24ucGF0aFtpXS09ZX19cmV0dXJuIG59X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlKXtjb25zdCBuPSRzLl9jcmVhdGVBdCh0aGlzKTtpZih0aGlzLnJvb3QhPXQucm9vdClyZXR1cm4gbjtpZihcInNhbWVcIj09bGkodC5nZXRQYXJlbnRQYXRoKCksdGhpcy5nZXRQYXJlbnRQYXRoKCkpKSh0Lm9mZnNldDx0aGlzLm9mZnNldHx8dC5vZmZzZXQ9PXRoaXMub2Zmc2V0JiZcInRvUHJldmlvdXNcIiE9dGhpcy5zdGlja2luZXNzKSYmKG4ub2Zmc2V0Kz1lKTtlbHNlIGlmKFwicHJlZml4XCI9PWxpKHQuZ2V0UGFyZW50UGF0aCgpLHRoaXMuZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3QgaT10LnBhdGgubGVuZ3RoLTE7dC5vZmZzZXQ8PXRoaXMucGF0aFtpXSYmKG4ucGF0aFtpXSs9ZSl9cmV0dXJuIG59X2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxuKXtpZihlPWUuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pLHQuaXNFcXVhbChlKSlyZXR1cm4gJHMuX2NyZWF0ZUF0KHRoaXMpO2NvbnN0IGk9dGhpcy5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsbik7cmV0dXJuIG51bGw9PT1pfHx0LmlzRXF1YWwodGhpcykmJlwidG9OZXh0XCI9PXRoaXMuc3RpY2tpbmVzc3x8dC5nZXRTaGlmdGVkQnkobikuaXNFcXVhbCh0aGlzKSYmXCJ0b1ByZXZpb3VzXCI9PXRoaXMuc3RpY2tpbmVzcz90aGlzLl9nZXRDb21iaW5lZCh0LGUpOmkuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24oZSxuKX1fZ2V0Q29tYmluZWQodCxlKXtjb25zdCBuPXQucGF0aC5sZW5ndGgtMSxpPSRzLl9jcmVhdGVBdChlKTtyZXR1cm4gaS5zdGlja2luZXNzPXRoaXMuc3RpY2tpbmVzcyxpLm9mZnNldD1pLm9mZnNldCt0aGlzLnBhdGhbbl0tdC5vZmZzZXQsaS5wYXRoPWkucGF0aC5jb25jYXQodGhpcy5wYXRoLnNsaWNlKG4rMSkpLGl9dG9KU09OKCl7cmV0dXJue3Jvb3Q6dGhpcy5yb290LnRvSlNPTigpLHBhdGg6QXJyYXkuZnJvbSh0aGlzLnBhdGgpLHN0aWNraW5lc3M6dGhpcy5zdGlja2luZXNzfX1jbG9uZSgpe3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLnJvb3QsdGhpcy5wYXRoLHRoaXMuc3RpY2tpbmVzcyl9c3RhdGljIF9jcmVhdGVBdCh0LGUsbj1cInRvTm9uZVwiKXtpZih0IGluc3RhbmNlb2YgJHMpcmV0dXJuIG5ldyAkcyh0LnJvb3QsdC5wYXRoLHQuc3RpY2tpbmVzcyk7e2NvbnN0IGk9dDtpZihcImVuZFwiPT1lKWU9aS5tYXhPZmZzZXQ7ZWxzZXtpZihcImJlZm9yZVwiPT1lKXJldHVybiB0aGlzLl9jcmVhdGVCZWZvcmUoaSxuKTtpZihcImFmdGVyXCI9PWUpcmV0dXJuIHRoaXMuX2NyZWF0ZUFmdGVyKGksbik7aWYoMCE9PWUmJiFlKXRocm93IG5ldyBHbi5iKFwibW9kZWwtY3JlYXRlUG9zaXRpb25BdC1vZmZzZXQtcmVxdWlyZWQ6IE1vZGVsI2NyZWF0ZVBvc2l0aW9uQXQoKSByZXF1aXJlcyB0aGUgb2Zmc2V0IHdoZW4gdGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIG1vZGVsIGl0ZW0uXCIpfWlmKCFpLmlzKFwiZWxlbWVudFwiKSYmIWkuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpKXRocm93IG5ldyBHbi5iKFwibW9kZWwtcG9zaXRpb24tcGFyZW50LWluY29ycmVjdDogUG9zaXRpb24gcGFyZW50IGhhdmUgdG8gYmUgYSBlbGVtZW50IG9yIGRvY3VtZW50IGZyYWdtZW50LlwiKTtjb25zdCBvPWkuZ2V0UGF0aCgpO3JldHVybiBvLnB1c2goZSksbmV3IHRoaXMoaS5yb290LG8sbil9fXN0YXRpYyBfY3JlYXRlQWZ0ZXIodCxlKXtpZighdC5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC1wb3NpdGlvbi1hZnRlci1yb290OiBZb3UgY2Fubm90IG1ha2UgYSBwb3NpdGlvbiBhZnRlciByb290LlwiLHtyb290OnR9KTtyZXR1cm4gdGhpcy5fY3JlYXRlQXQodC5wYXJlbnQsdC5lbmRPZmZzZXQsZSl9c3RhdGljIF9jcmVhdGVCZWZvcmUodCxlKXtpZighdC5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC1wb3NpdGlvbi1iZWZvcmUtcm9vdDogWW91IGNhbm5vdCBtYWtlIGEgcG9zaXRpb24gYmVmb3JlIHJvb3QuXCIse3Jvb3Q6dH0pO3JldHVybiB0aGlzLl9jcmVhdGVBdCh0LnBhcmVudCx0LnN0YXJ0T2Zmc2V0LGUpfXN0YXRpYyBmcm9tSlNPTih0LGUpe2lmKFwiJGdyYXZleWFyZFwiPT09dC5yb290KXtjb25zdCBuPW5ldyAkcyhlLmdyYXZleWFyZCx0LnBhdGgpO3JldHVybiBuLnN0aWNraW5lc3M9dC5zdGlja2luZXNzLG59aWYoIWUuZ2V0Um9vdCh0LnJvb3QpKXRocm93IG5ldyBHbi5iKFwibW9kZWwtcG9zaXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBwb3NpdGlvbiBmb3IgZG9jdW1lbnQuIFJvb3Qgd2l0aCBzcGVjaWZpZWQgbmFtZSBkb2VzIG5vdCBleGlzdC5cIix7cm9vdE5hbWU6dC5yb290fSk7cmV0dXJuIG5ldyAkcyhlLmdldFJvb3QodC5yb290KSx0LnBhdGgsdC5zdGlja2luZXNzKX19Y2xhc3MgR3N7Y29uc3RydWN0b3IodCxlPW51bGwpe3RoaXMuc3RhcnQ9JHMuX2NyZWF0ZUF0KHQpLHRoaXMuZW5kPWU/JHMuX2NyZWF0ZUF0KGUpOiRzLl9jcmVhdGVBdCh0KSx0aGlzLnN0YXJ0LnN0aWNraW5lc3M9dGhpcy5pc0NvbGxhcHNlZD9cInRvTm9uZVwiOlwidG9OZXh0XCIsdGhpcy5lbmQuc3RpY2tpbmVzcz10aGlzLmlzQ29sbGFwc2VkP1widG9Ob25lXCI6XCJ0b1ByZXZpb3VzXCJ9KltTeW1ib2wuaXRlcmF0b3JdKCl7eWllbGQqbmV3IHFzKHtib3VuZGFyaWVzOnRoaXMsaWdub3JlRWxlbWVudEVuZDohMH0pfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiB0aGlzLnN0YXJ0LmlzRXF1YWwodGhpcy5lbmQpfWdldCBpc0ZsYXQoKXtyZXR1cm5cInNhbWVcIj09bGkodGhpcy5zdGFydC5nZXRQYXJlbnRQYXRoKCksdGhpcy5lbmQuZ2V0UGFyZW50UGF0aCgpKX1nZXQgcm9vdCgpe3JldHVybiB0aGlzLnN0YXJ0LnJvb3R9Y29udGFpbnNQb3NpdGlvbih0KXtyZXR1cm4gdC5pc0FmdGVyKHRoaXMuc3RhcnQpJiZ0LmlzQmVmb3JlKHRoaXMuZW5kKX1jb250YWluc1JhbmdlKHQsZT0hMSl7dC5pc0NvbGxhcHNlZCYmKGU9ITEpO2NvbnN0IG49dGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpfHxlJiZ0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCksaT10aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpfHxlJiZ0aGlzLmVuZC5pc0VxdWFsKHQuZW5kKTtyZXR1cm4gbiYmaX1jb250YWluc0l0ZW0odCl7Y29uc3QgZT0kcy5fY3JlYXRlQmVmb3JlKHQpO3JldHVybiB0aGlzLmNvbnRhaW5zUG9zaXRpb24oZSl8fHRoaXMuc3RhcnQuaXNFcXVhbChlKX1pc0VxdWFsKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkmJnRoaXMuZW5kLmlzRXF1YWwodC5lbmQpfWlzSW50ZXJzZWN0aW5nKHQpe3JldHVybiB0aGlzLnN0YXJ0LmlzQmVmb3JlKHQuZW5kKSYmdGhpcy5lbmQuaXNBZnRlcih0LnN0YXJ0KX1nZXREaWZmZXJlbmNlKHQpe2NvbnN0IGU9W107cmV0dXJuIHRoaXMuaXNJbnRlcnNlY3RpbmcodCk/KHRoaXMuY29udGFpbnNQb3NpdGlvbih0LnN0YXJ0KSYmZS5wdXNoKG5ldyBHcyh0aGlzLnN0YXJ0LHQuc3RhcnQpKSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiZlLnB1c2gobmV3IEdzKHQuZW5kLHRoaXMuZW5kKSkpOmUucHVzaChuZXcgR3ModGhpcy5zdGFydCx0aGlzLmVuZCkpLGV9Z2V0SW50ZXJzZWN0aW9uKHQpe2lmKHRoaXMuaXNJbnRlcnNlY3RpbmcodCkpe2xldCBlPXRoaXMuc3RhcnQsbj10aGlzLmVuZDtyZXR1cm4gdGhpcy5jb250YWluc1Bvc2l0aW9uKHQuc3RhcnQpJiYoZT10LnN0YXJ0KSx0aGlzLmNvbnRhaW5zUG9zaXRpb24odC5lbmQpJiYobj10LmVuZCksbmV3IEdzKGUsbil9cmV0dXJuIG51bGx9Z2V0TWluaW1hbEZsYXRSYW5nZXMoKXtjb25zdCB0PVtdLGU9dGhpcy5zdGFydC5nZXRDb21tb25QYXRoKHRoaXMuZW5kKS5sZW5ndGgsbj0kcy5fY3JlYXRlQXQodGhpcy5zdGFydCk7bGV0IGk9bi5wYXJlbnQ7Zm9yKDtuLnBhdGgubGVuZ3RoPmUrMTspe2NvbnN0IGU9aS5tYXhPZmZzZXQtbi5vZmZzZXQ7MCE9PWUmJnQucHVzaChuZXcgR3MobixuLmdldFNoaWZ0ZWRCeShlKSkpLG4ucGF0aD1uLnBhdGguc2xpY2UoMCwtMSksbi5vZmZzZXQrKyxpPWkucGFyZW50fWZvcig7bi5wYXRoLmxlbmd0aDw9dGhpcy5lbmQucGF0aC5sZW5ndGg7KXtjb25zdCBlPXRoaXMuZW5kLnBhdGhbbi5wYXRoLmxlbmd0aC0xXSxpPWUtbi5vZmZzZXQ7MCE9PWkmJnQucHVzaChuZXcgR3MobixuLmdldFNoaWZ0ZWRCeShpKSkpLG4ub2Zmc2V0PWUsbi5wYXRoLnB1c2goMCl9cmV0dXJuIHR9Z2V0V2Fsa2VyKHQ9e30pe3JldHVybiB0LmJvdW5kYXJpZXM9dGhpcyxuZXcgcXModCl9KmdldEl0ZW1zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzLHQuaWdub3JlRWxlbWVudEVuZD0hMDtjb25zdCBlPW5ldyBxcyh0KTtmb3IoY29uc3QgdCBvZiBlKXlpZWxkIHQuaXRlbX0qZ2V0UG9zaXRpb25zKHQ9e30pe3QuYm91bmRhcmllcz10aGlzO2NvbnN0IGU9bmV3IHFzKHQpO3lpZWxkIGUucG9zaXRpb247Zm9yKGNvbnN0IHQgb2YgZSl5aWVsZCB0Lm5leHRQb3NpdGlvbn1nZXRUcmFuc2Zvcm1lZEJ5T3BlcmF0aW9uKHQpe3N3aXRjaCh0LnR5cGUpe2Nhc2VcImluc2VydFwiOnJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKHQpO2Nhc2VcIm1vdmVcIjpjYXNlXCJyZW1vdmVcIjpjYXNlXCJyZWluc2VydFwiOnJldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbih0KTtjYXNlXCJzcGxpdFwiOnJldHVyblt0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCldO2Nhc2VcIm1lcmdlXCI6cmV0dXJuW3RoaXMuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbih0KV19cmV0dXJuW25ldyBHcyh0aGlzLnN0YXJ0LHRoaXMuZW5kKV19Z2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbnModCl7Y29uc3QgZT1bbmV3IEdzKHRoaXMuc3RhcnQsdGhpcy5lbmQpXTtmb3IoY29uc3QgbiBvZiB0KWZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBpPWVbdF0uZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbihuKTtlLnNwbGljZSh0LDEsLi4uaSksdCs9aS5sZW5ndGgtMX1mb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO2ZvcihsZXQgaT10KzE7aTxlLmxlbmd0aDtpKyspe2NvbnN0IHQ9ZVtpXTsobi5jb250YWluc1JhbmdlKHQpfHx0LmNvbnRhaW5zUmFuZ2Uobil8fG4uaXNFcXVhbCh0KSkmJmUuc3BsaWNlKGksMSl9fXJldHVybiBlfWdldENvbW1vbkFuY2VzdG9yKCl7cmV0dXJuIHRoaXMuc3RhcnQuZ2V0Q29tbW9uQW5jZXN0b3IodGhpcy5lbmQpfXRvSlNPTigpe3JldHVybntzdGFydDp0aGlzLnN0YXJ0LnRvSlNPTigpLGVuZDp0aGlzLmVuZC50b0pTT04oKX19Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5zdGFydCx0aGlzLmVuZCl9X2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24odCxlPSExKXtyZXR1cm4gdGhpcy5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LnBvc2l0aW9uLHQuaG93TWFueSxlKX1fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24odCxlPSExKXtjb25zdCBuPXQuc291cmNlUG9zaXRpb24saT10Lmhvd01hbnksbz10LnRhcmdldFBvc2l0aW9uO3JldHVybiB0aGlzLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShuLG8saSxlKX1fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpe2NvbnN0IGU9dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKHQpO2xldCBuPXRoaXMuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24odCk7cmV0dXJuIHRoaXMuZW5kLmlzRXF1YWwodC5pbnNlcnRpb25Qb3NpdGlvbikmJihuPXRoaXMuZW5kLmdldFNoaWZ0ZWRCeSgxKSksZS5yb290IT1uLnJvb3QmJihuPXRoaXMuZW5kLmdldFNoaWZ0ZWRCeSgtMSkpLG5ldyBHcyhlLG4pfV9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCl7aWYodGhpcy5zdGFydC5pc0VxdWFsKHQudGFyZ2V0UG9zaXRpb24pJiZ0aGlzLmVuZC5pc0VxdWFsKHQuZGVsZXRpb25Qb3NpdGlvbikpcmV0dXJuIG5ldyBHcyh0aGlzLnN0YXJ0KTtsZXQgZT10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odCksbj10aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKHQpO3JldHVybiBlLnJvb3QhPW4ucm9vdCYmKG49dGhpcy5lbmQuZ2V0U2hpZnRlZEJ5KC0xKSksZS5pc0FmdGVyKG4pPyh0LnNvdXJjZVBvc2l0aW9uLmlzQmVmb3JlKHQudGFyZ2V0UG9zaXRpb24pPyhlPSRzLl9jcmVhdGVBdChuKSkub2Zmc2V0PTA6KHQuZGVsZXRpb25Qb3NpdGlvbi5pc0VxdWFsKGUpfHwobj10LmRlbGV0aW9uUG9zaXRpb24pLGU9dC50YXJnZXRQb3NpdGlvbiksbmV3IEdzKGUsbikpOm5ldyBHcyhlLG4pfV9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHQsZSxuPSExKXtpZihuJiZ0aGlzLmNvbnRhaW5zUG9zaXRpb24odCkpcmV0dXJuW25ldyBHcyh0aGlzLnN0YXJ0LHQpLG5ldyBHcyh0LmdldFNoaWZ0ZWRCeShlKSx0aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpKV07e2NvbnN0IG49bmV3IEdzKHRoaXMuc3RhcnQsdGhpcy5lbmQpO3JldHVybiBuLnN0YXJ0PW4uc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odCxlKSxuLmVuZD1uLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbih0LGUpLFtuXX19X2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQsZSxuLGk9ITEpe2lmKHRoaXMuaXNDb2xsYXBzZWQpe2NvbnN0IGk9dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLG4pO3JldHVybltuZXcgR3MoaSldfWNvbnN0IG89R3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQsbikscj1lLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxuKTtpZih0aGlzLmNvbnRhaW5zUG9zaXRpb24oZSkmJiFpJiYoby5jb250YWluc1Bvc2l0aW9uKHRoaXMuc3RhcnQpfHxvLmNvbnRhaW5zUG9zaXRpb24odGhpcy5lbmQpKSl7Y29uc3QgaT10aGlzLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZSh0LGUsbiksbz10aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodCxlLG4pO3JldHVybltuZXcgR3MoaSxvKV19bGV0IHM7Y29uc3QgYT10aGlzLmdldERpZmZlcmVuY2Uobyk7bGV0IGM9bnVsbDtjb25zdCBsPXRoaXMuZ2V0SW50ZXJzZWN0aW9uKG8pO2lmKDE9PWEubGVuZ3RoP2M9bmV3IEdzKGFbMF0uc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LG4pLGFbMF0uZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxuKSk6Mj09YS5sZW5ndGgmJihjPW5ldyBHcyh0aGlzLnN0YXJ0LHRoaXMuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24odCxuKSkpLHM9Yz9jLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKHIsbixudWxsIT09bHx8aSk6W10sbCl7Y29uc3QgdD1uZXcgR3MobC5zdGFydC5fZ2V0Q29tYmluZWQoby5zdGFydCxyKSxsLmVuZC5fZ2V0Q29tYmluZWQoby5zdGFydCxyKSk7Mj09cy5sZW5ndGg/cy5zcGxpY2UoMSwwLHQpOnMucHVzaCh0KX1yZXR1cm4gc31fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSl7bGV0IG49dGhpcy5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSksaT10aGlzLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKHQsZSk7cmV0dXJuIG51bGw9PW4mJm51bGw9PWk/bnVsbDoobnVsbD09biYmKG49dCksbnVsbD09aSYmKGk9dCksbmV3IEdzKG4saSkpfXN0YXRpYyBfY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodCxlKXtjb25zdCBuPXQsaT10LmdldFNoaWZ0ZWRCeShlKTtyZXR1cm4gZT4wP25ldyB0aGlzKG4saSk6bmV3IHRoaXMoaSxuKX1zdGF0aWMgX2NyZWF0ZUluKHQpe3JldHVybiBuZXcgdGhpcygkcy5fY3JlYXRlQXQodCwwKSwkcy5fY3JlYXRlQXQodCx0Lm1heE9mZnNldCkpfXN0YXRpYyBfY3JlYXRlT24odCl7cmV0dXJuIHRoaXMuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KCRzLl9jcmVhdGVCZWZvcmUodCksdC5vZmZzZXRTaXplKX1zdGF0aWMgX2NyZWF0ZUZyb21SYW5nZXModCl7aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBHbi5iKFwicmFuZ2UtY3JlYXRlLWZyb20tcmFuZ2VzLWVtcHR5LWFycmF5OiBBdCBsZWFzdCBvbmUgcmFuZ2UgaGFzIHRvIGJlIHBhc3NlZC5cIik7aWYoMT09dC5sZW5ndGgpcmV0dXJuIHRbMF0uY2xvbmUoKTtjb25zdCBlPXRbMF07dC5zb3J0KCh0LGUpPT50LnN0YXJ0LmlzQWZ0ZXIoZS5zdGFydCk/MTotMSk7Y29uc3Qgbj10LmluZGV4T2YoZSksaT1uZXcgdGhpcyhlLnN0YXJ0LGUuZW5kKTtpZihuPjApZm9yKGxldCBlPW4tMTt0W2VdLmVuZC5pc0VxdWFsKGkuc3RhcnQpO2UrKylpLnN0YXJ0PSRzLl9jcmVhdGVBdCh0W2VdLnN0YXJ0KTtmb3IobGV0IGU9bisxO2U8dC5sZW5ndGgmJnRbZV0uc3RhcnQuaXNFcXVhbChpLmVuZCk7ZSsrKWkuZW5kPSRzLl9jcmVhdGVBdCh0W2VdLmVuZCk7cmV0dXJuIGl9c3RhdGljIGZyb21KU09OKHQsZSl7cmV0dXJuIG5ldyB0aGlzKCRzLmZyb21KU09OKHQuc3RhcnQsZSksJHMuZnJvbUpTT04odC5lbmQsZSkpfX1jbGFzcyBRc3tjb25zdHJ1Y3Rvcigpe3RoaXMuX21vZGVsVG9WaWV3TWFwcGluZz1uZXcgV2Vha01hcCx0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3M9bmV3IE1hcCx0aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cz1uZXcgTWFwLHRoaXMub24oXCJtb2RlbFRvVmlld1Bvc2l0aW9uXCIsKHQsZSk9PntpZihlLnZpZXdQb3NpdGlvbilyZXR1cm47Y29uc3Qgbj10aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZ2V0KGUubW9kZWxQb3NpdGlvbi5wYXJlbnQpO2Uudmlld1Bvc2l0aW9uPXRoaXMuX2ZpbmRQb3NpdGlvbkluKG4sZS5tb2RlbFBvc2l0aW9uLm9mZnNldCl9LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5vbihcInZpZXdUb01vZGVsUG9zaXRpb25cIiwodCxlKT0+e2lmKGUubW9kZWxQb3NpdGlvbilyZXR1cm47Y29uc3Qgbj10aGlzLmZpbmRNYXBwZWRWaWV3QW5jZXN0b3IoZS52aWV3UG9zaXRpb24pLGk9dGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmdldChuKSxvPXRoaXMuX3RvTW9kZWxPZmZzZXQoZS52aWV3UG9zaXRpb24ucGFyZW50LGUudmlld1Bvc2l0aW9uLm9mZnNldCxuKTtlLm1vZGVsUG9zaXRpb249JHMuX2NyZWF0ZUF0KGksbyl9LHtwcmlvcml0eTpcImxvd1wifSl9YmluZEVsZW1lbnRzKHQsZSl7dGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLnNldCh0LGUpLHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5zZXQoZSx0KX11bmJpbmRWaWV3RWxlbWVudCh0KXtjb25zdCBlPXRoaXMudG9Nb2RlbEVsZW1lbnQodCk7dGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nLmRlbGV0ZSh0KSx0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZ2V0KGUpPT10JiZ0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZGVsZXRlKGUpfXVuYmluZE1vZGVsRWxlbWVudCh0KXtjb25zdCBlPXRoaXMudG9WaWV3RWxlbWVudCh0KTt0aGlzLl9tb2RlbFRvVmlld01hcHBpbmcuZGVsZXRlKHQpLHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5nZXQoZSk9PXQmJnRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5kZWxldGUoZSl9YmluZEVsZW1lbnRUb01hcmtlcih0LGUpe2NvbnN0IG49dGhpcy5fbWFya2VyTmFtZVRvRWxlbWVudHMuZ2V0KGUpfHxuZXcgU2V0O24uYWRkKHQpLHRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzLnNldChlLG4pfXVuYmluZEVsZW1lbnRzRnJvbU1hcmtlck5hbWUodCl7dGhpcy5fbWFya2VyTmFtZVRvRWxlbWVudHMuZGVsZXRlKHQpfWNsZWFyQmluZGluZ3MoKXt0aGlzLl9tb2RlbFRvVmlld01hcHBpbmc9bmV3IFdlYWtNYXAsdGhpcy5fdmlld1RvTW9kZWxNYXBwaW5nPW5ldyBXZWFrTWFwLHRoaXMuX21hcmtlck5hbWVUb0VsZW1lbnRzPW5ldyBNYXB9dG9Nb2RlbEVsZW1lbnQodCl7cmV0dXJuIHRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5nZXQodCl9dG9WaWV3RWxlbWVudCh0KXtyZXR1cm4gdGhpcy5fbW9kZWxUb1ZpZXdNYXBwaW5nLmdldCh0KX10b01vZGVsUmFuZ2UodCl7cmV0dXJuIG5ldyBHcyh0aGlzLnRvTW9kZWxQb3NpdGlvbih0LnN0YXJ0KSx0aGlzLnRvTW9kZWxQb3NpdGlvbih0LmVuZCkpfXRvVmlld1JhbmdlKHQpe3JldHVybiBuZXcgWGkodGhpcy50b1ZpZXdQb3NpdGlvbih0LnN0YXJ0KSx0aGlzLnRvVmlld1Bvc2l0aW9uKHQuZW5kKSl9dG9Nb2RlbFBvc2l0aW9uKHQpe2NvbnN0IGU9e3ZpZXdQb3NpdGlvbjp0LG1hcHBlcjp0aGlzfTtyZXR1cm4gdGhpcy5maXJlKFwidmlld1RvTW9kZWxQb3NpdGlvblwiLGUpLGUubW9kZWxQb3NpdGlvbn10b1ZpZXdQb3NpdGlvbih0LGU9e2lzUGhhbnRvbTohMX0pe2NvbnN0IG49e21vZGVsUG9zaXRpb246dCxtYXBwZXI6dGhpcyxpc1BoYW50b206ZS5pc1BoYW50b219O3JldHVybiB0aGlzLmZpcmUoXCJtb2RlbFRvVmlld1Bvc2l0aW9uXCIsbiksbi52aWV3UG9zaXRpb259bWFya2VyTmFtZVRvRWxlbWVudHModCl7Y29uc3QgZT10aGlzLl9tYXJrZXJOYW1lVG9FbGVtZW50cy5nZXQodCk7aWYoIWUpcmV0dXJuIG51bGw7Y29uc3Qgbj1uZXcgU2V0O2Zvcihjb25zdCB0IG9mIGUpaWYodC5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikpZm9yKGNvbnN0IGUgb2YgdC5nZXRFbGVtZW50c1dpdGhTYW1lSWQoKSluLmFkZChlKTtlbHNlIG4uYWRkKHQpO3JldHVybiBufXJlZ2lzdGVyVmlld1RvTW9kZWxMZW5ndGgodCxlKXt0aGlzLl92aWV3VG9Nb2RlbExlbmd0aENhbGxiYWNrcy5zZXQodCxlKX1maW5kTWFwcGVkVmlld0FuY2VzdG9yKHQpe2xldCBlPXQucGFyZW50O2Zvcig7IXRoaXMuX3ZpZXdUb01vZGVsTWFwcGluZy5oYXMoZSk7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9X3RvTW9kZWxPZmZzZXQodCxlLG4pe2lmKG4hPXQpe3JldHVybiB0aGlzLl90b01vZGVsT2Zmc2V0KHQucGFyZW50LHQuaW5kZXgsbikrdGhpcy5fdG9Nb2RlbE9mZnNldCh0LGUsdCl9aWYodC5pcyhcInRleHRcIikpcmV0dXJuIGU7bGV0IGk9MDtmb3IobGV0IG49MDtuPGU7bisrKWkrPXRoaXMuZ2V0TW9kZWxMZW5ndGgodC5nZXRDaGlsZChuKSk7cmV0dXJuIGl9Z2V0TW9kZWxMZW5ndGgodCl7aWYodGhpcy5fdmlld1RvTW9kZWxMZW5ndGhDYWxsYmFja3MuZ2V0KHQubmFtZSkpe3JldHVybiB0aGlzLl92aWV3VG9Nb2RlbExlbmd0aENhbGxiYWNrcy5nZXQodC5uYW1lKSh0KX1pZih0aGlzLl92aWV3VG9Nb2RlbE1hcHBpbmcuaGFzKHQpKXJldHVybiAxO2lmKHQuaXMoXCJ0ZXh0XCIpKXJldHVybiB0LmRhdGEubGVuZ3RoO2lmKHQuaXMoXCJ1aUVsZW1lbnRcIikpcmV0dXJuIDA7e2xldCBlPTA7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKWUrPXRoaXMuZ2V0TW9kZWxMZW5ndGgobik7cmV0dXJuIGV9fV9maW5kUG9zaXRpb25Jbih0LGUpe2xldCBuLGk9MCxvPTAscj0wO2lmKHQuaXMoXCJ0ZXh0XCIpKXJldHVybiBuZXcgWmkodCxlKTtmb3IoO288ZTspbj10LmdldENoaWxkKHIpLG8rPWk9dGhpcy5nZXRNb2RlbExlbmd0aChuKSxyKys7cmV0dXJuIG89PWU/dGhpcy5fbW92ZVZpZXdQb3NpdGlvblRvVGV4dE5vZGUobmV3IFppKHQscikpOnRoaXMuX2ZpbmRQb3NpdGlvbkluKG4sZS0oby1pKSl9X21vdmVWaWV3UG9zaXRpb25Ub1RleHROb2RlKHQpe2NvbnN0IGU9dC5ub2RlQmVmb3JlLG49dC5ub2RlQWZ0ZXI7cmV0dXJuIGUgaW5zdGFuY2VvZiBmaT9uZXcgWmkoZSxlLmRhdGEubGVuZ3RoKTpuIGluc3RhbmNlb2YgZmk/bmV3IFppKG4sMCk6dH19Y2koUXMsZWkpO2NsYXNzIEpze2NvbnN0cnVjdG9yKCl7dGhpcy5fY29uc3VtYWJsZT1uZXcgTWFwLHRoaXMuX3RleHRQcm94eVJlZ2lzdHJ5PW5ldyBNYXB9YWRkKHQsZSl7ZT1LcyhlKSx0IGluc3RhbmNlb2YgRnMmJih0PXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eSh0KSksdGhpcy5fY29uc3VtYWJsZS5oYXModCl8fHRoaXMuX2NvbnN1bWFibGUuc2V0KHQsbmV3IE1hcCksdGhpcy5fY29uc3VtYWJsZS5nZXQodCkuc2V0KGUsITApfWNvbnN1bWUodCxlKXtyZXR1cm4gZT1LcyhlKSx0IGluc3RhbmNlb2YgRnMmJih0PXRoaXMuX2dldFN5bWJvbEZvclRleHRQcm94eSh0KSksISF0aGlzLnRlc3QodCxlKSYmKHRoaXMuX2NvbnN1bWFibGUuZ2V0KHQpLnNldChlLCExKSwhMCl9dGVzdCh0LGUpe2U9S3MoZSksdCBpbnN0YW5jZW9mIEZzJiYodD10aGlzLl9nZXRTeW1ib2xGb3JUZXh0UHJveHkodCkpO2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZS5nZXQodCk7aWYodm9pZCAwPT09bilyZXR1cm4gbnVsbDtjb25zdCBpPW4uZ2V0KGUpO3JldHVybiB2b2lkIDA9PT1pP251bGw6aX1yZXZlcnQodCxlKXtlPUtzKGUpLHQgaW5zdGFuY2VvZiBGcyYmKHQ9dGhpcy5fZ2V0U3ltYm9sRm9yVGV4dFByb3h5KHQpKTtjb25zdCBuPXRoaXMudGVzdCh0LGUpO3JldHVybiExPT09bj8odGhpcy5fY29uc3VtYWJsZS5nZXQodCkuc2V0KGUsITApLCEwKTohMCE9PW4mJm51bGx9X2dldFN5bWJvbEZvclRleHRQcm94eSh0KXtsZXQgZT1udWxsO2NvbnN0IG49dGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuZ2V0KHQuc3RhcnRPZmZzZXQpO2lmKG4pe2NvbnN0IGk9bi5nZXQodC5lbmRPZmZzZXQpO2kmJihlPWkuZ2V0KHQucGFyZW50KSl9cmV0dXJuIGV8fChlPXRoaXMuX2FkZFN5bWJvbEZvclRleHRQcm94eSh0LnN0YXJ0T2Zmc2V0LHQuZW5kT2Zmc2V0LHQucGFyZW50KSksZX1fYWRkU3ltYm9sRm9yVGV4dFByb3h5KHQsZSxuKXtjb25zdCBpPVN5bWJvbChcInRleHRQcm94eVN5bWJvbFwiKTtsZXQgbyxyO3JldHVybihvPXRoaXMuX3RleHRQcm94eVJlZ2lzdHJ5LmdldCh0KSl8fChvPW5ldyBNYXAsdGhpcy5fdGV4dFByb3h5UmVnaXN0cnkuc2V0KHQsbykpLChyPW8uZ2V0KGUpKXx8KHI9bmV3IE1hcCxvLnNldChlLHIpKSxyLnNldChuLGkpLGl9fWZ1bmN0aW9uIEtzKHQpe2NvbnN0IGU9dC5zcGxpdChcIjpcIik7cmV0dXJuIGUubGVuZ3RoPjE/ZVswXStcIjpcIitlWzFdOmVbMF19Y2xhc3MgWnN7Y29uc3RydWN0b3IodD17fSl7dGhpcy5jb252ZXJzaW9uQXBpPUxpKHtkaXNwYXRjaGVyOnRoaXN9LHQpfWNvbnZlcnRDaGFuZ2VzKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdC5nZXRNYXJrZXJzVG9SZW1vdmUoKSl0aGlzLmNvbnZlcnRNYXJrZXJSZW1vdmUobi5uYW1lLG4ucmFuZ2UsZSk7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGFuZ2VzKCkpXCJpbnNlcnRcIj09bi50eXBlP3RoaXMuY29udmVydEluc2VydChHcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQobi5wb3NpdGlvbixuLmxlbmd0aCksZSk6XCJyZW1vdmVcIj09bi50eXBlP3RoaXMuY29udmVydFJlbW92ZShuLnBvc2l0aW9uLG4ubGVuZ3RoLG4ubmFtZSxlKTp0aGlzLmNvbnZlcnRBdHRyaWJ1dGUobi5yYW5nZSxuLmF0dHJpYnV0ZUtleSxuLmF0dHJpYnV0ZU9sZFZhbHVlLG4uYXR0cmlidXRlTmV3VmFsdWUsZSk7Zm9yKGNvbnN0IG4gb2YgdC5nZXRNYXJrZXJzVG9BZGQoKSl0aGlzLmNvbnZlcnRNYXJrZXJBZGQobi5uYW1lLG4ucmFuZ2UsZSl9Y29udmVydEluc2VydCh0LGUpe3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9ZSx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVJbnNlcnRDb25zdW1hYmxlKHQpO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9ZS5pdGVtLG49e2l0ZW06dCxyYW5nZTpHcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5wcmV2aW91c1Bvc2l0aW9uLGUubGVuZ3RoKX07dGhpcy5fdGVzdEFuZEZpcmUoXCJpbnNlcnRcIixuKTtmb3IoY29uc3QgZSBvZiB0LmdldEF0dHJpYnV0ZUtleXMoKSluLmF0dHJpYnV0ZUtleT1lLG4uYXR0cmlidXRlT2xkVmFsdWU9bnVsbCxuLmF0dHJpYnV0ZU5ld1ZhbHVlPXQuZ2V0QXR0cmlidXRlKGUpLHRoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHtlfWAsbil9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydFJlbW92ZSh0LGUsbixpKXt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPWksdGhpcy5maXJlKFwicmVtb3ZlOlwiK24se3Bvc2l0aW9uOnQsbGVuZ3RoOmV9LHRoaXMuY29udmVyc2lvbkFwaSksdGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydEF0dHJpYnV0ZSh0LGUsbixpLG8pe3RoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9byx0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZT10aGlzLl9jcmVhdGVDb25zdW1hYmxlRm9yUmFuZ2UodCxgYXR0cmlidXRlOiR7ZX1gKTtmb3IoY29uc3QgbyBvZiB0KXtjb25zdCB0PXtpdGVtOm8uaXRlbSxyYW5nZTpHcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoby5wcmV2aW91c1Bvc2l0aW9uLG8ubGVuZ3RoKSxhdHRyaWJ1dGVLZXk6ZSxhdHRyaWJ1dGVPbGRWYWx1ZTpuLGF0dHJpYnV0ZU5ld1ZhbHVlOml9O3RoaXMuX3Rlc3RBbmRGaXJlKGBhdHRyaWJ1dGU6JHtlfWAsdCl9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9Y29udmVydFNlbGVjdGlvbih0LGUsbil7Y29uc3QgaT1BcnJheS5mcm9tKGUuZ2V0TWFya2Vyc0F0UG9zaXRpb24odC5nZXRGaXJzdFBvc2l0aW9uKCkpKTtpZih0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW4sdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9dGhpcy5fY3JlYXRlU2VsZWN0aW9uQ29uc3VtYWJsZSh0LGkpLHRoaXMuZmlyZShcInNlbGVjdGlvblwiLHtzZWxlY3Rpb246dH0sdGhpcy5jb252ZXJzaW9uQXBpKSx0LmlzQ29sbGFwc2VkKXtmb3IoY29uc3QgZSBvZiBpKXtjb25zdCBuPWUuZ2V0UmFuZ2UoKTtpZighWHModC5nZXRGaXJzdFBvc2l0aW9uKCksZSx0aGlzLmNvbnZlcnNpb25BcGkubWFwcGVyKSljb250aW51ZTtjb25zdCBpPXtpdGVtOnQsbWFya2VyTmFtZTplLm5hbWUsbWFya2VyUmFuZ2U6bn07dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdCh0LFwiYWRkTWFya2VyOlwiK2UubmFtZSkmJnRoaXMuZmlyZShcImFkZE1hcmtlcjpcIitlLm5hbWUsaSx0aGlzLmNvbnZlcnNpb25BcGkpfWZvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXtjb25zdCBuPXtpdGVtOnQscmFuZ2U6dC5nZXRGaXJzdFJhbmdlKCksYXR0cmlidXRlS2V5OmUsYXR0cmlidXRlT2xkVmFsdWU6bnVsbCxhdHRyaWJ1dGVOZXdWYWx1ZTp0LmdldEF0dHJpYnV0ZShlKX07dGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGUudGVzdCh0LFwiYXR0cmlidXRlOlwiK24uYXR0cmlidXRlS2V5KSYmdGhpcy5maXJlKFwiYXR0cmlidXRlOlwiK24uYXR0cmlidXRlS2V5K1wiOiR0ZXh0XCIsbix0aGlzLmNvbnZlcnNpb25BcGkpfXRoaXMuX2NsZWFyQ29udmVyc2lvbkFwaSgpfX1jb252ZXJ0TWFya2VyQWRkKHQsZSxuKXtpZighZS5yb290LmRvY3VtZW50fHxcIiRncmF2ZXlhcmRcIj09ZS5yb290LnJvb3ROYW1lKXJldHVybjt0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW47Y29uc3QgaT1cImFkZE1hcmtlcjpcIit0LG89bmV3IEpzO2lmKG8uYWRkKGUsaSksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnN1bWFibGU9byx0aGlzLmZpcmUoaSx7bWFya2VyTmFtZTp0LG1hcmtlclJhbmdlOmV9LHRoaXMuY29udmVyc2lvbkFwaSksby50ZXN0KGUsaSkpe3RoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPXRoaXMuX2NyZWF0ZUNvbnN1bWFibGVGb3JSYW5nZShlLGkpO2Zvcihjb25zdCBuIG9mIGUuZ2V0SXRlbXMoKSl7aWYoIXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QobixpKSljb250aW51ZTtjb25zdCBvPXtpdGVtOm4scmFuZ2U6R3MuX2NyZWF0ZU9uKG4pLG1hcmtlck5hbWU6dCxtYXJrZXJSYW5nZTplfTt0aGlzLmZpcmUoaSxvLHRoaXMuY29udmVyc2lvbkFwaSl9dGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCl9fWNvbnZlcnRNYXJrZXJSZW1vdmUodCxlLG4pe2Uucm9vdC5kb2N1bWVudCYmXCIkZ3JhdmV5YXJkXCIhPWUucm9vdC5yb290TmFtZSYmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXI9bix0aGlzLmZpcmUoXCJyZW1vdmVNYXJrZXI6XCIrdCx7bWFya2VyTmFtZTp0LG1hcmtlclJhbmdlOmV9LHRoaXMuY29udmVyc2lvbkFwaSksdGhpcy5fY2xlYXJDb252ZXJzaW9uQXBpKCkpfV9jcmVhdGVJbnNlcnRDb25zdW1hYmxlKHQpe2NvbnN0IGU9bmV3IEpzO2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5pdGVtO2UuYWRkKHQsXCJpbnNlcnRcIik7Zm9yKGNvbnN0IG4gb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpZS5hZGQodCxcImF0dHJpYnV0ZTpcIituKX1yZXR1cm4gZX1fY3JlYXRlQ29uc3VtYWJsZUZvclJhbmdlKHQsZSl7Y29uc3Qgbj1uZXcgSnM7Zm9yKGNvbnN0IGkgb2YgdC5nZXRJdGVtcygpKW4uYWRkKGksZSk7cmV0dXJuIG59X2NyZWF0ZVNlbGVjdGlvbkNvbnN1bWFibGUodCxlKXtjb25zdCBuPW5ldyBKcztuLmFkZCh0LFwic2VsZWN0aW9uXCIpO2Zvcihjb25zdCBpIG9mIGUpbi5hZGQodCxcImFkZE1hcmtlcjpcIitpLm5hbWUpO2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKW4uYWRkKHQsXCJhdHRyaWJ1dGU6XCIrZSk7cmV0dXJuIG59X3Rlc3RBbmRGaXJlKHQsZSl7aWYoIXRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlLnRlc3QoZS5pdGVtLHQpKXJldHVybjtjb25zdCBuPWUuaXRlbS5uYW1lfHxcIiR0ZXh0XCI7dGhpcy5maXJlKHQrXCI6XCIrbixlLHRoaXMuY29udmVyc2lvbkFwaSl9X2NsZWFyQ29udmVyc2lvbkFwaSgpe2RlbGV0ZSB0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyLGRlbGV0ZSB0aGlzLmNvbnZlcnNpb25BcGkuY29uc3VtYWJsZX19ZnVuY3Rpb24gWHModCxlLG4pe2NvbnN0IGk9ZS5nZXRSYW5nZSgpLG89QXJyYXkuZnJvbSh0LmdldEFuY2VzdG9ycygpKTtyZXR1cm4gby5zaGlmdCgpLG8ucmV2ZXJzZSgpLCFvLnNvbWUodD0+e2lmKGkuY29udGFpbnNJdGVtKHQpKXtyZXR1cm4hIW4udG9WaWV3RWxlbWVudCh0KS5nZXRDdXN0b21Qcm9wZXJ0eShcImFkZEhpZ2hsaWdodFwiKX19KX1jaShacyxlaSk7Y2xhc3MgdGF7Y29uc3RydWN0b3IodCxlLG4pe3RoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExLHRoaXMuX3Jhbmdlcz1bXSx0aGlzLl9hdHRycz1uZXcgTWFwLHQmJnRoaXMuc2V0VG8odCxlLG4pfWdldCBhbmNob3IoKXtpZih0aGlzLl9yYW5nZXMubGVuZ3RoPjApe2NvbnN0IHQ9dGhpcy5fcmFuZ2VzW3RoaXMuX3Jhbmdlcy5sZW5ndGgtMV07cmV0dXJuIHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkP3QuZW5kOnQuc3RhcnR9cmV0dXJuIG51bGx9Z2V0IGZvY3VzKCl7aWYodGhpcy5fcmFuZ2VzLmxlbmd0aD4wKXtjb25zdCB0PXRoaXMuX3Jhbmdlc1t0aGlzLl9yYW5nZXMubGVuZ3RoLTFdO3JldHVybiB0aGlzLl9sYXN0UmFuZ2VCYWNrd2FyZD90LnN0YXJ0OnQuZW5kfXJldHVybiBudWxsfWdldCBpc0NvbGxhcHNlZCgpe3JldHVybiAxPT09dGhpcy5fcmFuZ2VzLmxlbmd0aCYmdGhpcy5fcmFuZ2VzWzBdLmlzQ29sbGFwc2VkfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3Jhbmdlcy5sZW5ndGh9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4hdGhpcy5pc0NvbGxhcHNlZCYmdGhpcy5fbGFzdFJhbmdlQmFja3dhcmR9aXNFcXVhbCh0KXtpZih0aGlzLnJhbmdlQ291bnQhPXQucmFuZ2VDb3VudClyZXR1cm4hMTtpZigwPT09dGhpcy5yYW5nZUNvdW50KXJldHVybiEwO2lmKCF0aGlzLmFuY2hvci5pc0VxdWFsKHQuYW5jaG9yKXx8IXRoaXMuZm9jdXMuaXNFcXVhbCh0LmZvY3VzKSlyZXR1cm4hMTtmb3IoY29uc3QgZSBvZiB0aGlzLl9yYW5nZXMpe2xldCBuPSExO2Zvcihjb25zdCBpIG9mIHQuX3JhbmdlcylpZihlLmlzRXF1YWwoaSkpe249ITA7YnJlYWt9aWYoIW4pcmV0dXJuITF9cmV0dXJuITB9KmdldFJhbmdlcygpe2Zvcihjb25zdCB0IG9mIHRoaXMuX3Jhbmdlcyl5aWVsZCBuZXcgR3ModC5zdGFydCx0LmVuZCl9Z2V0Rmlyc3RSYW5nZSgpe2xldCB0PW51bGw7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fcmFuZ2VzKXQmJiFlLnN0YXJ0LmlzQmVmb3JlKHQuc3RhcnQpfHwodD1lKTtyZXR1cm4gdD9uZXcgR3ModC5zdGFydCx0LmVuZCk6bnVsbH1nZXRMYXN0UmFuZ2UoKXtsZXQgdD1udWxsO2Zvcihjb25zdCBlIG9mIHRoaXMuX3Jhbmdlcyl0JiYhZS5lbmQuaXNBZnRlcih0LmVuZCl8fCh0PWUpO3JldHVybiB0P25ldyBHcyh0LnN0YXJ0LHQuZW5kKTpudWxsfWdldEZpcnN0UG9zaXRpb24oKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RSYW5nZSgpO3JldHVybiB0P3Quc3RhcnQuY2xvbmUoKTpudWxsfWdldExhc3RQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5nZXRMYXN0UmFuZ2UoKTtyZXR1cm4gdD90LmVuZC5jbG9uZSgpOm51bGx9c2V0VG8odCxlLG4pe2lmKG51bGw9PT10KXRoaXMuX3NldFJhbmdlcyhbXSk7ZWxzZSBpZih0IGluc3RhbmNlb2YgdGEpdGhpcy5fc2V0UmFuZ2VzKHQuZ2V0UmFuZ2VzKCksdC5pc0JhY2t3YXJkKTtlbHNlIGlmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZ2V0UmFuZ2VzKXRoaXMuX3NldFJhbmdlcyh0LmdldFJhbmdlcygpLHQuaXNCYWNrd2FyZCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgR3MpdGhpcy5fc2V0UmFuZ2VzKFt0XSwhIWUmJiEhZS5iYWNrd2FyZCk7ZWxzZSBpZih0IGluc3RhbmNlb2YgJHMpdGhpcy5fc2V0UmFuZ2VzKFtuZXcgR3ModCldKTtlbHNlIGlmKHQgaW5zdGFuY2VvZiBCcyl7Y29uc3QgaT0hIW4mJiEhbi5iYWNrd2FyZDtsZXQgbztpZihcImluXCI9PWUpbz1Hcy5fY3JlYXRlSW4odCk7ZWxzZSBpZihcIm9uXCI9PWUpbz1Hcy5fY3JlYXRlT24odCk7ZWxzZXtpZih2b2lkIDA9PT1lKXRocm93IG5ldyBHbi5iKFwibW9kZWwtc2VsZWN0aW9uLXNldFRvLXJlcXVpcmVkLXNlY29uZC1wYXJhbWV0ZXI6IHNlbGVjdGlvbi5zZXRUbyByZXF1aXJlcyB0aGUgc2Vjb25kIHBhcmFtZXRlciB3aGVuIHRoZSBmaXJzdCBwYXJhbWV0ZXIgaXMgYSBub2RlLlwiKTtvPW5ldyBHcygkcy5fY3JlYXRlQXQodCxlKSl9dGhpcy5fc2V0UmFuZ2VzKFtvXSxpKX1lbHNle2lmKCFnaSh0KSl0aHJvdyBuZXcgR24uYihcIm1vZGVsLXNlbGVjdGlvbi1zZXRUby1ub3Qtc2VsZWN0YWJsZTogQ2Fubm90IHNldCB0aGUgc2VsZWN0aW9uIHRvIHRoZSBnaXZlbiBwbGFjZS5cIik7dGhpcy5fc2V0UmFuZ2VzKHQsZSYmISFlLmJhY2t3YXJkKX19X3NldFJhbmdlcyh0LGU9ITEpe2NvbnN0IG49KHQ9QXJyYXkuZnJvbSh0KSkuc29tZSh0PT57aWYoISh0IGluc3RhbmNlb2YgR3MpKXRocm93IG5ldyBHbi5iKFwibW9kZWwtc2VsZWN0aW9uLXNldC1yYW5nZXMtbm90LXJhbmdlOiBTZWxlY3Rpb24gcmFuZ2Ugc2V0IHRvIGFuIG9iamVjdCB0aGF0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBtb2RlbC5SYW5nZS5cIik7cmV0dXJuIHRoaXMuX3Jhbmdlcy5ldmVyeShlPT4hZS5pc0VxdWFsKHQpKX0pO2lmKHQubGVuZ3RoIT09dGhpcy5fcmFuZ2VzLmxlbmd0aHx8bil7dGhpcy5fcmVtb3ZlQWxsUmFuZ2VzKCk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl9wdXNoUmFuZ2UoZSk7dGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ISFlLHRoaXMuZmlyZShcImNoYW5nZTpyYW5nZVwiLHtkaXJlY3RDaGFuZ2U6ITB9KX19c2V0Rm9jdXModCxlKXtpZihudWxsPT09dGhpcy5hbmNob3IpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC1zZWxlY3Rpb24tc2V0Rm9jdXMtbm8tcmFuZ2VzOiBDYW5ub3Qgc2V0IHNlbGVjdGlvbiBmb2N1cyBpZiB0aGVyZSBhcmUgbm8gcmFuZ2VzIGluIHNlbGVjdGlvbi5cIik7Y29uc3Qgbj0kcy5fY3JlYXRlQXQodCxlKTtpZihcInNhbWVcIj09bi5jb21wYXJlV2l0aCh0aGlzLmZvY3VzKSlyZXR1cm47Y29uc3QgaT10aGlzLmFuY2hvcjt0aGlzLl9yYW5nZXMubGVuZ3RoJiZ0aGlzLl9wb3BSYW5nZSgpLFwiYmVmb3JlXCI9PW4uY29tcGFyZVdpdGgoaSk/KHRoaXMuX3B1c2hSYW5nZShuZXcgR3MobixpKSksdGhpcy5fbGFzdFJhbmdlQmFja3dhcmQ9ITApOih0aGlzLl9wdXNoUmFuZ2UobmV3IEdzKGksbikpLHRoaXMuX2xhc3RSYW5nZUJhY2t3YXJkPSExKSx0aGlzLmZpcmUoXCJjaGFuZ2U6cmFuZ2VcIix7ZGlyZWN0Q2hhbmdlOiEwfSl9Z2V0QXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9hdHRycy5nZXQodCl9Z2V0QXR0cmlidXRlcygpe3JldHVybiB0aGlzLl9hdHRycy5lbnRyaWVzKCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9hdHRycy5rZXlzKCl9aGFzQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9hdHRycy5oYXModCl9cmVtb3ZlQXR0cmlidXRlKHQpe3RoaXMuaGFzQXR0cmlidXRlKHQpJiYodGhpcy5fYXR0cnMuZGVsZXRlKHQpLHRoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czpbdF0sZGlyZWN0Q2hhbmdlOiEwfSkpfXNldEF0dHJpYnV0ZSh0LGUpe3RoaXMuZ2V0QXR0cmlidXRlKHQpIT09ZSYmKHRoaXMuX2F0dHJzLnNldCh0LGUpLHRoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czpbdF0sZGlyZWN0Q2hhbmdlOiEwfSkpfWdldFNlbGVjdGVkRWxlbWVudCgpe2lmKDEhPT10aGlzLnJhbmdlQ291bnQpcmV0dXJuIG51bGw7Y29uc3QgdD10aGlzLmdldEZpcnN0UmFuZ2UoKSxlPXQuc3RhcnQubm9kZUFmdGVyLG49dC5lbmQubm9kZUJlZm9yZTtyZXR1cm4gZSBpbnN0YW5jZW9mIEhzJiZlPT1uP2U6bnVsbH1pcyh0KXtyZXR1cm5cInNlbGVjdGlvblwiPT10fSpnZXRTZWxlY3RlZEJsb2Nrcygpe2NvbnN0IHQ9bmV3IFdlYWtTZXQ7Zm9yKGNvbnN0IGUgb2YgdGhpcy5nZXRSYW5nZXMoKSl7Y29uc3Qgbj1uYShlLnN0YXJ0LHQpO24mJih5aWVsZCBuKTtmb3IoY29uc3QgbiBvZiBlLmdldFdhbGtlcigpKVwiZWxlbWVudEVuZFwiPT1uLnR5cGUmJmVhKG4uaXRlbSx0KSYmKHlpZWxkIG4uaXRlbSk7Y29uc3QgaT1uYShlLmVuZCx0KTtpJiYhZS5lbmQuaXNUb3VjaGluZygkcy5fY3JlYXRlQXQoaSwwKSkmJih5aWVsZCBpKX19KmdldFRvcE1vc3RCbG9ja3MoKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5nZXRTZWxlY3RlZEJsb2NrcygpKTtmb3IoY29uc3QgZSBvZiB0KXtjb25zdCBuPWlhKGUpO24mJnQuaW5jbHVkZXMobil8fCh5aWVsZCBlKX19Y29udGFpbnNFbnRpcmVDb250ZW50KHQ9dGhpcy5hbmNob3Iucm9vdCl7Y29uc3QgZT0kcy5fY3JlYXRlQXQodCwwKSxuPSRzLl9jcmVhdGVBdCh0LFwiZW5kXCIpO3JldHVybiBlLmlzVG91Y2hpbmcodGhpcy5nZXRGaXJzdFBvc2l0aW9uKCkpJiZuLmlzVG91Y2hpbmcodGhpcy5nZXRMYXN0UG9zaXRpb24oKSl9X3B1c2hSYW5nZSh0KXt0aGlzLl9jaGVja1JhbmdlKHQpLHRoaXMuX3Jhbmdlcy5wdXNoKG5ldyBHcyh0LnN0YXJ0LHQuZW5kKSl9X2NoZWNrUmFuZ2UodCl7Zm9yKGxldCBlPTA7ZTx0aGlzLl9yYW5nZXMubGVuZ3RoO2UrKylpZih0LmlzSW50ZXJzZWN0aW5nKHRoaXMuX3Jhbmdlc1tlXSkpdGhyb3cgbmV3IEduLmIoXCJtb2RlbC1zZWxlY3Rpb24tcmFuZ2UtaW50ZXJzZWN0czogVHJ5aW5nIHRvIGFkZCBhIHJhbmdlIHRoYXQgaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgcmFuZ2UgaW4gdGhlIHNlbGVjdGlvbi5cIix7YWRkZWRSYW5nZTp0LGludGVyc2VjdGluZ1JhbmdlOnRoaXMuX3Jhbmdlc1tlXX0pfV9yZW1vdmVBbGxSYW5nZXMoKXtmb3IoO3RoaXMuX3Jhbmdlcy5sZW5ndGg+MDspdGhpcy5fcG9wUmFuZ2UoKX1fcG9wUmFuZ2UoKXt0aGlzLl9yYW5nZXMucG9wKCl9fWZ1bmN0aW9uIGVhKHQsZSl7cmV0dXJuIWUuaGFzKHQpJiYoZS5hZGQodCksdC5kb2N1bWVudC5tb2RlbC5zY2hlbWEuaXNCbG9jayh0KSYmdC5wYXJlbnQpfWZ1bmN0aW9uIG5hKHQsZSl7Y29uc3Qgbj10LnBhcmVudC5kb2N1bWVudC5tb2RlbC5zY2hlbWEsaT10LnBhcmVudC5nZXRBbmNlc3RvcnMoe3BhcmVudEZpcnN0OiEwLGluY2x1ZGVTZWxmOiEwfSk7bGV0IG89ITE7Y29uc3Qgcj1pLmZpbmQodD0+IW8mJighKG89bi5pc0xpbWl0KHQpKSYmZWEodCxlKSkpO3JldHVybiBpLmZvckVhY2godD0+ZS5hZGQodCkpLHJ9ZnVuY3Rpb24gaWEodCl7Y29uc3QgZT10LmRvY3VtZW50Lm1vZGVsLnNjaGVtYTtsZXQgbj10LnBhcmVudDtmb3IoO247KXtpZihlLmlzQmxvY2sobikpcmV0dXJuIG47bj1uLnBhcmVudH19Y2kodGEsZWkpO2NsYXNzIG9hIGV4dGVuZHMgR3N7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0LGUpLGZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5Ubyh0aGlzLnJvb3QuZG9jdW1lbnQubW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmdldFRyYW5zZm9ybWVkQnlPcGVyYXRpb24odCksbj1Hcy5fY3JlYXRlRnJvbVJhbmdlcyhlKSxpPSFuLmlzRXF1YWwodGhpcyksbz1mdW5jdGlvbih0LGUpe3N3aXRjaChlLnR5cGUpe2Nhc2VcImluc2VydFwiOnJldHVybiB0LmNvbnRhaW5zUG9zaXRpb24oZS5wb3NpdGlvbik7Y2FzZVwibW92ZVwiOmNhc2VcInJlbW92ZVwiOmNhc2VcInJlaW5zZXJ0XCI6Y2FzZVwibWVyZ2VcIjpyZXR1cm4gdC5jb250YWluc1Bvc2l0aW9uKGUuc291cmNlUG9zaXRpb24pfHx0LnN0YXJ0LmlzRXF1YWwoZS5zb3VyY2VQb3NpdGlvbil8fHQuY29udGFpbnNQb3NpdGlvbihlLnRhcmdldFBvc2l0aW9uKTtjYXNlXCJzcGxpdFwiOnJldHVybiB0LmNvbnRhaW5zUG9zaXRpb24oZS5zcGxpdFBvc2l0aW9uKXx8dC5jb250YWluc1Bvc2l0aW9uKGUuaW5zZXJ0aW9uUG9zaXRpb24pfXJldHVybiExfSh0aGlzLHQpO2xldCByPW51bGw7aWYoaSl7XCIkZ3JhdmV5YXJkXCI9PW4ucm9vdC5yb290TmFtZSYmKHI9XCJyZW1vdmVcIj09dC50eXBlP3Quc291cmNlUG9zaXRpb246dC5kZWxldGlvblBvc2l0aW9uKTtjb25zdCBlPXRoaXMudG9SYW5nZSgpO3RoaXMuc3RhcnQ9bi5zdGFydCx0aGlzLmVuZD1uLmVuZCx0aGlzLmZpcmUoXCJjaGFuZ2U6cmFuZ2VcIixlLHtkZWxldGlvblBvc2l0aW9uOnJ9KX1lbHNlIG8mJnRoaXMuZmlyZShcImNoYW5nZTpjb250ZW50XCIsdGhpcy50b1JhbmdlKCkse2RlbGV0aW9uUG9zaXRpb246cn0pfS5jYWxsKHRoaXMsbil9LHtwcmlvcml0eTpcImxvd1wifSl9LmNhbGwodGhpcyl9ZGV0YWNoKCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9dG9SYW5nZSgpe3JldHVybiBuZXcgR3ModGhpcy5zdGFydCx0aGlzLmVuZCl9c3RhdGljIGZyb21SYW5nZSh0KXtyZXR1cm4gbmV3IG9hKHQuc3RhcnQsdC5lbmQpfX1jaShvYSxlaSk7Y29uc3QgcmE9XCJzZWxlY3Rpb246XCI7Y2xhc3Mgc2F7Y29uc3RydWN0b3IodCl7dGhpcy5fc2VsZWN0aW9uPW5ldyBhYSh0KSx0aGlzLl9zZWxlY3Rpb24uZGVsZWdhdGUoXCJjaGFuZ2U6cmFuZ2VcIikudG8odGhpcyksdGhpcy5fc2VsZWN0aW9uLmRlbGVnYXRlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiKS50byh0aGlzKX1nZXQgaXNDb2xsYXBzZWQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzQ29sbGFwc2VkfWdldCBhbmNob3IoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmFuY2hvcn1nZXQgZm9jdXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmZvY3VzfWdldCByYW5nZUNvdW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5yYW5nZUNvdW50fWdldCBoYXNPd25SYW5nZSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzT3duUmFuZ2V9Z2V0IGlzQmFja3dhcmQoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzQmFja3dhcmR9Z2V0IGlzR3Jhdml0eU92ZXJyaWRkZW4oKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmlzR3Jhdml0eU92ZXJyaWRkZW59Z2V0IG1hcmtlcnMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLm1hcmtlcnN9Z2V0IF9yYW5nZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLl9yYW5nZXN9Z2V0UmFuZ2VzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRSYW5nZXMoKX1nZXRGaXJzdFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCl9Z2V0TGFzdFBvc2l0aW9uKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCl9Z2V0TGFzdFJhbmdlKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRMYXN0UmFuZ2UoKX1nZXRTZWxlY3RlZEJsb2Nrcygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKX1nZXRUb3BNb3N0QmxvY2tzKCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRUb3BNb3N0QmxvY2tzKCl9Z2V0U2VsZWN0ZWRFbGVtZW50KCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKX1jb250YWluc0VudGlyZUNvbnRlbnQodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5jb250YWluc0VudGlyZUNvbnRlbnQodCl9ZGVzdHJveSgpe3RoaXMuX3NlbGVjdGlvbi5kZXN0cm95KCl9Z2V0QXR0cmlidXRlS2V5cygpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uZ2V0QXR0cmlidXRlS2V5cygpfWdldEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLmdldEF0dHJpYnV0ZXMoKX1nZXRBdHRyaWJ1dGUodCl7cmV0dXJuIHRoaXMuX3NlbGVjdGlvbi5nZXRBdHRyaWJ1dGUodCl9aGFzQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24uaGFzQXR0cmlidXRlKHQpfWlzKHQpe3JldHVyblwic2VsZWN0aW9uXCI9PXR8fFwiZG9jdW1lbnRTZWxlY3Rpb25cIj09dH1fc2V0Rm9jdXModCxlKXt0aGlzLl9zZWxlY3Rpb24uc2V0Rm9jdXModCxlKX1fc2V0VG8odCxlLG4pe3RoaXMuX3NlbGVjdGlvbi5zZXRUbyh0LGUsbil9X3NldEF0dHJpYnV0ZSh0LGUpe3RoaXMuX3NlbGVjdGlvbi5zZXRBdHRyaWJ1dGUodCxlKX1fcmVtb3ZlQXR0cmlidXRlKHQpe3RoaXMuX3NlbGVjdGlvbi5yZW1vdmVBdHRyaWJ1dGUodCl9X2dldFN0b3JlZEF0dHJpYnV0ZXMoKXtyZXR1cm4gdGhpcy5fc2VsZWN0aW9uLl9nZXRTdG9yZWRBdHRyaWJ1dGVzKCl9X292ZXJyaWRlR3Jhdml0eSgpe3JldHVybiB0aGlzLl9zZWxlY3Rpb24ub3ZlcnJpZGVHcmF2aXR5KCl9X3Jlc3RvcmVHcmF2aXR5KHQpe3RoaXMuX3NlbGVjdGlvbi5yZXN0b3JlR3Jhdml0eSh0KX1zdGF0aWMgX2dldFN0b3JlQXR0cmlidXRlS2V5KHQpe3JldHVybiByYSt0fXN0YXRpYyBfaXNTdG9yZUF0dHJpYnV0ZUtleSh0KXtyZXR1cm4gdC5zdGFydHNXaXRoKHJhKX19Y2koc2EsZWkpO2NsYXNzIGFhIGV4dGVuZHMgdGF7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLm1hcmtlcnM9bmV3IG9vKHtpZFByb3BlcnR5OlwibmFtZVwifSksdGhpcy5fbW9kZWw9dC5tb2RlbCx0aGlzLl9kb2N1bWVudD10LHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5PW5ldyBNYXAsdGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YT1bXSx0aGlzLl9oYXNDaGFuZ2VkUmFuZ2U9ITEsdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlcj1uZXcgU2V0LHRoaXMub24oXCJjaGFuZ2U6cmFuZ2VcIiwoKT0+e2Zvcihjb25zdCB0IG9mIHRoaXMuZ2V0UmFuZ2VzKCkpaWYoIXRoaXMuX2RvY3VtZW50Ll92YWxpZGF0ZVNlbGVjdGlvblJhbmdlKHQpKXRocm93IG5ldyBHbi5iKFwiZG9jdW1lbnQtc2VsZWN0aW9uLXdyb25nLXBvc2l0aW9uOiBSYW5nZSBmcm9tIGRvY3VtZW50IHNlbGVjdGlvbiBzdGFydHMgb3IgZW5kcyBhdCBpbmNvcnJlY3QgcG9zaXRpb24uXCIse3JhbmdlOnR9KTt0aGlzLl91cGRhdGVNYXJrZXJzKCksdGhpcy5fdXBkYXRlQXR0cmlidXRlcyghMSl9KSx0aGlzLmxpc3RlblRvKHRoaXMuX21vZGVsLm1hcmtlcnMsXCJ1cGRhdGVcIiwoKT0+dGhpcy5fdXBkYXRlTWFya2VycygpKSx0aGlzLmxpc3RlblRvKHRoaXMuX21vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtpZihuLmlzRG9jdW1lbnRPcGVyYXRpb24mJlwibWFya2VyXCIhPW4udHlwZSYmXCJyZW5hbWVcIiE9bi50eXBlJiZcIm5vb3BcIiE9bi50eXBlKXtmb3IoO3RoaXMuX2ZpeEdyYXZleWFyZFJhbmdlc0RhdGEubGVuZ3RoOyl7Y29uc3R7bGl2ZVJhbmdlOnQsc291cmNlUG9zaXRpb246ZX09dGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5zaGlmdCgpO3RoaXMuX2ZpeEdyYXZleWFyZFNlbGVjdGlvbih0LGUpfXRoaXMuX2hhc0NoYW5nZWRSYW5nZSYmKHRoaXMuX2hhc0NoYW5nZWRSYW5nZT0hMSx0aGlzLmZpcmUoXCJjaGFuZ2U6cmFuZ2VcIix7ZGlyZWN0Q2hhbmdlOiExfSkpLHRoaXMuX3VwZGF0ZU1hcmtlcnMoKSx0aGlzLl91cGRhdGVBdHRyaWJ1dGVzKCExKX19LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy5saXN0ZW5Ubyh0aGlzLl9kb2N1bWVudCxcImNoYW5nZVwiLCh0LGUpPT57IWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LmRvY3VtZW50LmRpZmZlcjtmb3IoY29uc3QgaSBvZiBuLmdldENoYW5nZXMoKSl7aWYoXCJpbnNlcnRcIiE9aS50eXBlKWNvbnRpbnVlO2NvbnN0IG49aS5wb3NpdGlvbi5wYXJlbnQsbz1pLmxlbmd0aD09PW4ubWF4T2Zmc2V0O28mJnQuZW5xdWV1ZUNoYW5nZShlLHQ9Pntjb25zdCBlPUFycmF5LmZyb20obi5nZXRBdHRyaWJ1dGVLZXlzKCkpLmZpbHRlcih0PT50LnN0YXJ0c1dpdGgocmEpKTtmb3IoY29uc3QgaSBvZiBlKXQucmVtb3ZlQXR0cmlidXRlKGksbil9KX19KHRoaXMuX21vZGVsLGUpfSl9Z2V0IGlzQ29sbGFwc2VkKCl7cmV0dXJuIDA9PT10aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKS5pc0NvbGxhcHNlZDpzdXBlci5pc0NvbGxhcHNlZH1nZXQgYW5jaG9yKCl7cmV0dXJuIHN1cGVyLmFuY2hvcnx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLnN0YXJ0fWdldCBmb2N1cygpe3JldHVybiBzdXBlci5mb2N1c3x8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpLmVuZH1nZXQgcmFuZ2VDb3VudCgpe3JldHVybiB0aGlzLl9yYW5nZXMubGVuZ3RoP3RoaXMuX3Jhbmdlcy5sZW5ndGg6MX1nZXQgaGFzT3duUmFuZ2UoKXtyZXR1cm4gdGhpcy5fcmFuZ2VzLmxlbmd0aD4wfWdldCBpc0dyYXZpdHlPdmVycmlkZGVuKCl7cmV0dXJuISF0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemV9ZGVzdHJveSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5fcmFuZ2VzLmxlbmd0aDt0KyspdGhpcy5fcmFuZ2VzW3RdLmRldGFjaCgpO3RoaXMuc3RvcExpc3RlbmluZygpfSpnZXRSYW5nZXMoKXt0aGlzLl9yYW5nZXMubGVuZ3RoP3lpZWxkKnN1cGVyLmdldFJhbmdlcygpOnlpZWxkIHRoaXMuX2RvY3VtZW50Ll9nZXREZWZhdWx0UmFuZ2UoKX1nZXRGaXJzdFJhbmdlKCl7cmV0dXJuIHN1cGVyLmdldEZpcnN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfWdldExhc3RSYW5nZSgpe3JldHVybiBzdXBlci5nZXRMYXN0UmFuZ2UoKXx8dGhpcy5fZG9jdW1lbnQuX2dldERlZmF1bHRSYW5nZSgpfXNldFRvKHQsZSxuKXtzdXBlci5zZXRUbyh0LGUsbiksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRGb2N1cyh0LGUpe3N1cGVyLnNldEZvY3VzKHQsZSksdGhpcy5fcmVmcmVzaEF0dHJpYnV0ZXMoKX1zZXRBdHRyaWJ1dGUodCxlKXtpZih0aGlzLl9zZXRBdHRyaWJ1dGUodCxlKSl7Y29uc3QgZT1bdF07dGhpcy5maXJlKFwiY2hhbmdlOmF0dHJpYnV0ZVwiLHthdHRyaWJ1dGVLZXlzOmUsZGlyZWN0Q2hhbmdlOiEwfSl9fXJlbW92ZUF0dHJpYnV0ZSh0KXtpZih0aGlzLl9yZW1vdmVBdHRyaWJ1dGUodCkpe2NvbnN0IGU9W3RdO3RoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czplLGRpcmVjdENoYW5nZTohMH0pfX1vdmVycmlkZUdyYXZpdHkoKXtjb25zdCB0PUtuKCk7cmV0dXJuIHRoaXMuX292ZXJyaWRkZW5HcmF2aXR5UmVnaXN0ZXIuYWRkKHQpLDE9PT10aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLnNpemUmJnRoaXMuX3JlZnJlc2hBdHRyaWJ1dGVzKCksdH1yZXN0b3JlR3Jhdml0eSh0KXtpZighdGhpcy5fb3ZlcnJpZGRlbkdyYXZpdHlSZWdpc3Rlci5oYXModCkpdGhyb3cgbmV3IEduLmIoXCJkb2N1bWVudC1zZWxlY3Rpb24tZ3Jhdml0eS13cm9uZy1yZXN0b3JlOiBBdHRlbXB0aW5nIHRvIHJlc3RvcmUgdGhlIHNlbGVjdGlvbiBncmF2aXR5IGZvciBhbiB1bmtub3duIFVJRC5cIix7dWlkOnR9KTt0aGlzLl9vdmVycmlkZGVuR3Jhdml0eVJlZ2lzdGVyLmRlbGV0ZSh0KSx0aGlzLmlzR3Jhdml0eU92ZXJyaWRkZW58fHRoaXMuX3JlZnJlc2hBdHRyaWJ1dGVzKCl9X3JlZnJlc2hBdHRyaWJ1dGVzKCl7dGhpcy5fdXBkYXRlQXR0cmlidXRlcyghMCl9X3BvcFJhbmdlKCl7dGhpcy5fcmFuZ2VzLnBvcCgpLmRldGFjaCgpfV9wdXNoUmFuZ2UodCl7Y29uc3QgZT10aGlzLl9wcmVwYXJlUmFuZ2UodCk7ZSYmdGhpcy5fcmFuZ2VzLnB1c2goZSl9X3ByZXBhcmVSYW5nZSh0KXtpZih0aGlzLl9jaGVja1JhbmdlKHQpLHQucm9vdD09dGhpcy5fZG9jdW1lbnQuZ3JhdmV5YXJkKXJldHVybiB2b2lkIGJzLmEud2FybihcIm1vZGVsLXNlbGVjdGlvbi1yYW5nZS1pbi1ncmF2ZXlhcmQ6IFRyeWluZyB0byBhZGQgYSBSYW5nZSB0aGF0IGlzIGluIHRoZSBncmF2ZXlhcmQgcm9vdC4gUmFuZ2UgcmVqZWN0ZWQuXCIpO2NvbnN0IGU9b2EuZnJvbVJhbmdlKHQpO3JldHVybiBlLm9uKFwiY2hhbmdlOnJhbmdlXCIsKHQsbixpKT0+e3RoaXMuX2hhc0NoYW5nZWRSYW5nZT0hMCxlLnJvb3Q9PXRoaXMuX2RvY3VtZW50LmdyYXZleWFyZCYmdGhpcy5fZml4R3JhdmV5YXJkUmFuZ2VzRGF0YS5wdXNoKHtsaXZlUmFuZ2U6ZSxzb3VyY2VQb3NpdGlvbjppLmRlbGV0aW9uUG9zaXRpb259KX0pLGV9X3VwZGF0ZU1hcmtlcnMoKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX21vZGVsLm1hcmtlcnMpe2NvbnN0IG49ZS5nZXRSYW5nZSgpO2Zvcihjb25zdCBpIG9mIHRoaXMuZ2V0UmFuZ2VzKCkpbi5jb250YWluc1JhbmdlKGksIWkuaXNDb2xsYXBzZWQpJiZ0LnB1c2goZSl9Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLm1hcmtlcnMuaGFzKGUpfHx0aGlzLm1hcmtlcnMuYWRkKGUpO2Zvcihjb25zdCBlIG9mIEFycmF5LmZyb20odGhpcy5tYXJrZXJzKSl0LmluY2x1ZGVzKGUpfHx0aGlzLm1hcmtlcnMucmVtb3ZlKGUpfV91cGRhdGVBdHRyaWJ1dGVzKHQpe2NvbnN0IGU9VnModGhpcy5fZ2V0U3Vycm91bmRpbmdBdHRyaWJ1dGVzKCkpLG49VnModGhpcy5nZXRBdHRyaWJ1dGVzKCkpO2lmKHQpdGhpcy5fYXR0cmlidXRlUHJpb3JpdHk9bmV3IE1hcCx0aGlzLl9hdHRycz1uZXcgTWFwO2Vsc2UgZm9yKGNvbnN0W3QsZV1vZiB0aGlzLl9hdHRyaWJ1dGVQcmlvcml0eSlcImxvd1wiPT1lJiYodGhpcy5fYXR0cnMuZGVsZXRlKHQpLHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5LmRlbGV0ZSh0KSk7dGhpcy5fc2V0QXR0cmlidXRlc1RvKGUpO2NvbnN0IGk9W107Zm9yKGNvbnN0W3QsZV1vZiB0aGlzLmdldEF0dHJpYnV0ZXMoKSluLmhhcyh0KSYmbi5nZXQodCk9PT1lfHxpLnB1c2godCk7Zm9yKGNvbnN0W3Rdb2Ygbil0aGlzLmhhc0F0dHJpYnV0ZSh0KXx8aS5wdXNoKHQpO2kubGVuZ3RoPjAmJnRoaXMuZmlyZShcImNoYW5nZTphdHRyaWJ1dGVcIix7YXR0cmlidXRlS2V5czppLGRpcmVjdENoYW5nZTohMX0pfV9zZXRBdHRyaWJ1dGUodCxlLG49ITApe2NvbnN0IGk9bj9cIm5vcm1hbFwiOlwibG93XCI7cmV0dXJuKFwibG93XCIhPWl8fFwibm9ybWFsXCIhPXRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5LmdldCh0KSkmJihzdXBlci5nZXRBdHRyaWJ1dGUodCkhPT1lJiYodGhpcy5fYXR0cnMuc2V0KHQsZSksdGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuc2V0KHQsaSksITApKX1fcmVtb3ZlQXR0cmlidXRlKHQsZT0hMCl7Y29uc3Qgbj1lP1wibm9ybWFsXCI6XCJsb3dcIjtyZXR1cm4oXCJsb3dcIiE9bnx8XCJub3JtYWxcIiE9dGhpcy5fYXR0cmlidXRlUHJpb3JpdHkuZ2V0KHQpKSYmKHRoaXMuX2F0dHJpYnV0ZVByaW9yaXR5LnNldCh0LG4pLCEhc3VwZXIuaGFzQXR0cmlidXRlKHQpJiYodGhpcy5fYXR0cnMuZGVsZXRlKHQpLCEwKSl9X3NldEF0dHJpYnV0ZXNUbyh0KXtjb25zdCBlPW5ldyBTZXQ7Zm9yKGNvbnN0W2Usbl1vZiB0aGlzLmdldEF0dHJpYnV0ZXMoKSl0LmdldChlKSE9PW4mJnRoaXMuX3JlbW92ZUF0dHJpYnV0ZShlLCExKTtmb3IoY29uc3RbbixpXW9mIHQpe3RoaXMuX3NldEF0dHJpYnV0ZShuLGksITEpJiZlLmFkZChuKX1yZXR1cm4gZX0qX2dldFN0b3JlZEF0dHJpYnV0ZXMoKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudDtpZih0aGlzLmlzQ29sbGFwc2VkJiZ0LmlzRW1wdHkpZm9yKGNvbnN0IGUgb2YgdC5nZXRBdHRyaWJ1dGVLZXlzKCkpaWYoZS5zdGFydHNXaXRoKHJhKSl7eWllbGRbZS5zdWJzdHIocmEubGVuZ3RoKSx0LmdldEF0dHJpYnV0ZShlKV19fV9nZXRTdXJyb3VuZGluZ0F0dHJpYnV0ZXMoKXtjb25zdCB0PXRoaXMuZ2V0Rmlyc3RQb3NpdGlvbigpLGU9dGhpcy5fbW9kZWwuc2NoZW1hO2xldCBuPW51bGw7aWYodGhpcy5pc0NvbGxhcHNlZCl7Y29uc3QgZT10LnRleHROb2RlP3QudGV4dE5vZGU6dC5ub2RlQmVmb3JlLGk9dC50ZXh0Tm9kZT90LnRleHROb2RlOnQubm9kZUFmdGVyO2lmKHRoaXMuaXNHcmF2aXR5T3ZlcnJpZGRlbnx8KG49Y2EoZSkpLG58fChuPWNhKGkpKSwhdGhpcy5pc0dyYXZpdHlPdmVycmlkZGVuJiYhbil7bGV0IHQ9ZTtmb3IoO3QmJiFuOyluPWNhKHQ9dC5wcmV2aW91c1NpYmxpbmcpfWlmKCFuKXtsZXQgdD1pO2Zvcig7dCYmIW47KW49Y2EodD10Lm5leHRTaWJsaW5nKX1ufHwobj10aGlzLl9nZXRTdG9yZWRBdHRyaWJ1dGVzKCkpfWVsc2V7Y29uc3QgdD10aGlzLmdldEZpcnN0UmFuZ2UoKTtmb3IoY29uc3QgaSBvZiB0KXtpZihpLml0ZW0uaXMoXCJlbGVtZW50XCIpJiZlLmlzT2JqZWN0KGkuaXRlbSkpYnJlYWs7aWYoXCJ0ZXh0XCI9PWkudHlwZSl7bj1pLml0ZW0uZ2V0QXR0cmlidXRlcygpO2JyZWFrfX19cmV0dXJuIG59X2ZpeEdyYXZleWFyZFNlbGVjdGlvbih0LGUpe2NvbnN0IG49ZS5jbG9uZSgpLGk9dGhpcy5fbW9kZWwuc2NoZW1hLmdldE5lYXJlc3RTZWxlY3Rpb25SYW5nZShuKSxvPXRoaXMuX3Jhbmdlcy5pbmRleE9mKHQpO2lmKHRoaXMuX3Jhbmdlcy5zcGxpY2UobywxKSx0LmRldGFjaCgpLGkpe2NvbnN0IHQ9dGhpcy5fcHJlcGFyZVJhbmdlKGkpO3RoaXMuX3Jhbmdlcy5zcGxpY2UobywwLHQpfX19ZnVuY3Rpb24gY2EodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBGc3x8dCBpbnN0YW5jZW9mIHpzP3QuZ2V0QXR0cmlidXRlcygpOm51bGx9Y2xhc3MgbGF7Y29uc3RydWN0b3IodCl7dGhpcy5fZGlzcGF0Y2hlcnM9dH1hZGQodCl7Zm9yKGNvbnN0IGUgb2YgdGhpcy5fZGlzcGF0Y2hlcnMpdChlKTtyZXR1cm4gdGhpc319dmFyIGRhPTEsdWE9NDt2YXIgaGE9ZnVuY3Rpb24odCl7cmV0dXJuIEZuKHQsZGF8dWEpfTtjbGFzcyBmYSBleHRlbmRzIGxhe2VsZW1lbnRUb0VsZW1lbnQodCl7cmV0dXJuIHRoaXMuYWRkKGZ1bmN0aW9uKHQpe3JldHVybih0PWhhKHQpKS52aWV3PXBhKHQudmlldyxcImNvbnRhaW5lclwiKSxlPT57ZS5vbihcImluc2VydDpcIit0Lm1vZGVsLGZ1bmN0aW9uKHQpe3JldHVybihlLG4saSk9Pntjb25zdCBvPXQobi5pdGVtLGkud3JpdGVyKTtpZighbylyZXR1cm47aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxcImluc2VydFwiKSlyZXR1cm47Y29uc3Qgcj1pLm1hcHBlci50b1ZpZXdQb3NpdGlvbihuLnJhbmdlLnN0YXJ0KTtpLm1hcHBlci5iaW5kRWxlbWVudHMobi5pdGVtLG8pLGkud3JpdGVyLmluc2VydChyLG8pfX0odC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX0odCkpfWF0dHJpYnV0ZVRvRWxlbWVudCh0KXtyZXR1cm4gdGhpcy5hZGQoZnVuY3Rpb24odCl7bGV0IGU9XCJhdHRyaWJ1dGU6XCIrKCh0PWhhKHQpKS5tb2RlbC5rZXk/dC5tb2RlbC5rZXk6dC5tb2RlbCk7dC5tb2RlbC5uYW1lJiYoZSs9XCI6XCIrdC5tb2RlbC5uYW1lKTtpZih0Lm1vZGVsLnZhbHVlcylmb3IoY29uc3QgZSBvZiB0Lm1vZGVsLnZhbHVlcyl0LnZpZXdbZV09cGEodC52aWV3W2VdLFwiYXR0cmlidXRlXCIpO2Vsc2UgdC52aWV3PXBhKHQudmlldyxcImF0dHJpYnV0ZVwiKTtjb25zdCBuPWdhKHQpO3JldHVybiBpPT57aS5vbihlLGZ1bmN0aW9uKHQpe3JldHVybihlLG4saSk9Pntjb25zdCBvPXQobi5hdHRyaWJ1dGVPbGRWYWx1ZSxpLndyaXRlcikscj10KG4uYXR0cmlidXRlTmV3VmFsdWUsaS53cml0ZXIpO2lmKCFvJiYhcilyZXR1cm47aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxlLm5hbWUpKXJldHVybjtjb25zdCBzPWkud3JpdGVyLGE9cy5kb2N1bWVudC5zZWxlY3Rpb247aWYobi5pdGVtIGluc3RhbmNlb2YgdGF8fG4uaXRlbSBpbnN0YW5jZW9mIHNhKXMud3JhcChhLmdldEZpcnN0UmFuZ2UoKSxyKTtlbHNle2xldCB0PWkubWFwcGVyLnRvVmlld1JhbmdlKG4ucmFuZ2UpO251bGwhPT1uLmF0dHJpYnV0ZU9sZFZhbHVlJiZvJiYodD1zLnVud3JhcCh0LG8pKSxudWxsIT09bi5hdHRyaWJ1dGVOZXdWYWx1ZSYmciYmcy53cmFwKHQscil9fX0obikse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19KHQpKX1hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5hZGQoZnVuY3Rpb24odCl7bGV0IGU9XCJhdHRyaWJ1dGU6XCIrKCh0PWhhKHQpKS5tb2RlbC5rZXk/dC5tb2RlbC5rZXk6dC5tb2RlbCk7dC5tb2RlbC5uYW1lJiYoZSs9XCI6XCIrdC5tb2RlbC5uYW1lKTtpZih0Lm1vZGVsLnZhbHVlcylmb3IoY29uc3QgZSBvZiB0Lm1vZGVsLnZhbHVlcyl0LnZpZXdbZV09YmEodC52aWV3W2VdKTtlbHNlIHQudmlldz1iYSh0LnZpZXcpO2NvbnN0IG49Z2EodCk7cmV0dXJuIGk9PntpLm9uKGUsZnVuY3Rpb24odCl7cmV0dXJuKGUsbixpKT0+e2NvbnN0IG89dChuLmF0dHJpYnV0ZU9sZFZhbHVlLG4pLHI9dChuLmF0dHJpYnV0ZU5ld1ZhbHVlLG4pO2lmKCFvJiYhcilyZXR1cm47aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxlLm5hbWUpKXJldHVybjtjb25zdCBzPWkubWFwcGVyLnRvVmlld0VsZW1lbnQobi5pdGVtKSxhPWkud3JpdGVyO2lmKHMpe2lmKG51bGwhPT1uLmF0dHJpYnV0ZU9sZFZhbHVlJiZvKWlmKFwiY2xhc3NcIj09by5rZXkpe2NvbnN0IHQ9QXJyYXkuaXNBcnJheShvLnZhbHVlKT9vLnZhbHVlOltvLnZhbHVlXTtmb3IoY29uc3QgZSBvZiB0KWEucmVtb3ZlQ2xhc3MoZSxzKX1lbHNlIGlmKFwic3R5bGVcIj09by5rZXkpe2NvbnN0IHQ9T2JqZWN0LmtleXMoby52YWx1ZSk7Zm9yKGNvbnN0IGUgb2YgdClhLnJlbW92ZVN0eWxlKGUscyl9ZWxzZSBhLnJlbW92ZUF0dHJpYnV0ZShvLmtleSxzKTtpZihudWxsIT09bi5hdHRyaWJ1dGVOZXdWYWx1ZSYmcilpZihcImNsYXNzXCI9PXIua2V5KXtjb25zdCB0PUFycmF5LmlzQXJyYXkoci52YWx1ZSk/ci52YWx1ZTpbci52YWx1ZV07Zm9yKGNvbnN0IGUgb2YgdClhLmFkZENsYXNzKGUscyl9ZWxzZSBpZihcInN0eWxlXCI9PXIua2V5KXtjb25zdCB0PU9iamVjdC5rZXlzKHIudmFsdWUpO2Zvcihjb25zdCBlIG9mIHQpYS5zZXRTdHlsZShlLHIudmFsdWVbZV0scyl9ZWxzZSBhLnNldEF0dHJpYnV0ZShyLmtleSxyLnZhbHVlLHMpfWVsc2UgYnMuYS53YXJuKFwiY29udmVyc2lvbi1hdHRyaWJ1dGUtdG8tYXR0cmlidXRlLW9uLXRleHQ6IFRyeWluZyB0byBjb252ZXJ0IHRleHQgbm9kZSdzIGF0dHJpYnV0ZSB3aXRoIGF0dHJpYnV0ZS10by1hdHRyaWJ1dGUgY29udmVydGVyLlwiKX19KG4pLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSl9fSh0KSl9bWFya2VyVG9FbGVtZW50KHQpe3JldHVybiB0aGlzLmFkZChmdW5jdGlvbih0KXtyZXR1cm4odD1oYSh0KSkudmlldz1wYSh0LnZpZXcsXCJ1aVwiKSxlPT57ZS5vbihcImFkZE1hcmtlcjpcIit0Lm1vZGVsLGZ1bmN0aW9uKHQpe3JldHVybihlLG4saSk9PntuLmlzT3BlbmluZz0hMDtjb25zdCBvPXQobixpLndyaXRlcik7bi5pc09wZW5pbmc9ITE7Y29uc3Qgcj10KG4saS53cml0ZXIpO2lmKCFvfHwhcilyZXR1cm47Y29uc3Qgcz1uLm1hcmtlclJhbmdlO2lmKHMuaXNDb2xsYXBzZWQmJiFpLmNvbnN1bWFibGUuY29uc3VtZShzLGUubmFtZSkpcmV0dXJuO2Zvcihjb25zdCB0IG9mIHMpaWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSxlLm5hbWUpKXJldHVybjtjb25zdCBhPWkubWFwcGVyLGM9aS53cml0ZXI7Yy5pbnNlcnQoYS50b1ZpZXdQb3NpdGlvbihzLnN0YXJ0KSxvKSxpLm1hcHBlci5iaW5kRWxlbWVudFRvTWFya2VyKG8sbi5tYXJrZXJOYW1lKSxzLmlzQ29sbGFwc2VkfHwoYy5pbnNlcnQoYS50b1ZpZXdQb3NpdGlvbihzLmVuZCksciksaS5tYXBwZXIuYmluZEVsZW1lbnRUb01hcmtlcihyLG4ubWFya2VyTmFtZSkpLGUuc3RvcCgpfX0odC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pLGUub24oXCJyZW1vdmVNYXJrZXI6XCIrdC5tb2RlbCwodC52aWV3LCh0LGUsbik9Pntjb25zdCBpPW4ubWFwcGVyLm1hcmtlck5hbWVUb0VsZW1lbnRzKGUubWFya2VyTmFtZSk7aWYoaSl7bi5tYXBwZXIudW5iaW5kRWxlbWVudHNGcm9tTWFya2VyTmFtZShlLm1hcmtlck5hbWUpO2Zvcihjb25zdCB0IG9mIGkpbi53cml0ZXIuY2xlYXIobi53cml0ZXIuY3JlYXRlUmFuZ2VPbih0KSx0KTtuLndyaXRlci5jbGVhckNsb25lZEVsZW1lbnRzR3JvdXAoZS5tYXJrZXJOYW1lKSx0LnN0b3AoKX19KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pfX0odCkpfW1hcmtlclRvSGlnaGxpZ2h0KHQpe3JldHVybiB0aGlzLmFkZChmdW5jdGlvbih0KXtyZXR1cm4gZT0+e2Uub24oXCJhZGRNYXJrZXI6XCIrdC5tb2RlbCxmdW5jdGlvbih0KXtyZXR1cm4oZSxuLGkpPT57aWYoIW4uaXRlbSlyZXR1cm47aWYoIShuLml0ZW0gaW5zdGFuY2VvZiB0YXx8bi5pdGVtIGluc3RhbmNlb2Ygc2F8fG4uaXRlbS5pcyhcInRleHRQcm94eVwiKSkpcmV0dXJuO2NvbnN0IG89d2EodCxuLGkpO2lmKCFvKXJldHVybjtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLGUubmFtZSkpcmV0dXJuO2NvbnN0IHI9bWEobykscz1pLndyaXRlcixhPXMuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG4uaXRlbSBpbnN0YW5jZW9mIHRhfHxuLml0ZW0gaW5zdGFuY2VvZiBzYSlzLndyYXAoYS5nZXRGaXJzdFJhbmdlKCkscixhKTtlbHNle2NvbnN0IHQ9aS5tYXBwZXIudG9WaWV3UmFuZ2Uobi5yYW5nZSksZT1zLndyYXAodCxyKTtmb3IoY29uc3QgdCBvZiBlLmdldEl0ZW1zKCkpaWYodC5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJnQuaXNTaW1pbGFyKHIpKXtpLm1hcHBlci5iaW5kRWxlbWVudFRvTWFya2VyKHQsbi5tYXJrZXJOYW1lKTticmVha319fX0odC52aWV3KSx7cHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eXx8XCJub3JtYWxcIn0pLGUub24oXCJhZGRNYXJrZXI6XCIrdC5tb2RlbCxmdW5jdGlvbih0KXtyZXR1cm4oZSxuLGkpPT57aWYoIW4uaXRlbSlyZXR1cm47aWYoIShuLml0ZW0gaW5zdGFuY2VvZiBIcykpcmV0dXJuO2NvbnN0IG89d2EodCxuLGkpO2lmKCFvKXJldHVybjtpZighaS5jb25zdW1hYmxlLnRlc3Qobi5pdGVtLGUubmFtZSkpcmV0dXJuO2NvbnN0IHI9aS5tYXBwZXIudG9WaWV3RWxlbWVudChuLml0ZW0pO2lmKHImJnIuZ2V0Q3VzdG9tUHJvcGVydHkoXCJhZGRIaWdobGlnaHRcIikpe2kuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxlLm5hbWUpO2Zvcihjb25zdCB0IG9mIEdzLl9jcmVhdGVJbihuLml0ZW0pKWkuY29uc3VtYWJsZS5jb25zdW1lKHQuaXRlbSxlLm5hbWUpO3IuZ2V0Q3VzdG9tUHJvcGVydHkoXCJhZGRIaWdobGlnaHRcIikocixvLGkud3JpdGVyKSxpLm1hcHBlci5iaW5kRWxlbWVudFRvTWFya2VyKHIsbi5tYXJrZXJOYW1lKX19fSh0LnZpZXcpLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcIm5vcm1hbFwifSksZS5vbihcInJlbW92ZU1hcmtlcjpcIit0Lm1vZGVsLGZ1bmN0aW9uKHQpe3JldHVybihlLG4saSk9PntpZihuLm1hcmtlclJhbmdlLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBvPXdhKHQsbixpKTtpZighbylyZXR1cm47Y29uc3Qgcj1tYShvKSxzPWkubWFwcGVyLm1hcmtlck5hbWVUb0VsZW1lbnRzKG4ubWFya2VyTmFtZSk7aWYocyl7aS5tYXBwZXIudW5iaW5kRWxlbWVudHNGcm9tTWFya2VyTmFtZShuLm1hcmtlck5hbWUpO2Zvcihjb25zdCB0IG9mIHMpdC5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIik/aS53cml0ZXIudW53cmFwKGkud3JpdGVyLmNyZWF0ZVJhbmdlT24odCkscik6dC5nZXRDdXN0b21Qcm9wZXJ0eShcInJlbW92ZUhpZ2hsaWdodFwiKSh0LG8uaWQsaS53cml0ZXIpO2kud3JpdGVyLmNsZWFyQ2xvbmVkRWxlbWVudHNHcm91cChuLm1hcmtlck5hbWUpLGUuc3RvcCgpfX19KHQudmlldykse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19KHQpKX19ZnVuY3Rpb24gbWEodCl7Y29uc3QgZT1uZXcgYW8oXCJzcGFuXCIsdC5hdHRyaWJ1dGVzKTtyZXR1cm4gdC5jbGFzc2VzJiZlLl9hZGRDbGFzcyh0LmNsYXNzZXMpLHQucHJpb3JpdHkmJihlLl9wcmlvcml0eT10LnByaW9yaXR5KSxlLl9pZD10LmlkLGV9ZnVuY3Rpb24gcGEodCxlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6KG4saSk9PihmdW5jdGlvbih0LGUsbil7XCJzdHJpbmdcIj09dHlwZW9mIHQmJih0PXtuYW1lOnR9KTtsZXQgaTtjb25zdCBvPU9iamVjdC5hc3NpZ24oe30sdC5hdHRyaWJ1dGVzKTtpZihcImNvbnRhaW5lclwiPT1uKWk9ZS5jcmVhdGVDb250YWluZXJFbGVtZW50KHQubmFtZSxvKTtlbHNlIGlmKFwiYXR0cmlidXRlXCI9PW4pe2NvbnN0IG49e3ByaW9yaXR5OnQucHJpb3JpdHl8fGFvLkRFRkFVTFRfUFJJT1JJVFl9O2k9ZS5jcmVhdGVBdHRyaWJ1dGVFbGVtZW50KHQubmFtZSxvLG4pfWVsc2UgaT1lLmNyZWF0ZVVJRWxlbWVudCh0Lm5hbWUsbyk7aWYodC5zdHlsZXMpe2NvbnN0IG49T2JqZWN0LmtleXModC5zdHlsZXMpO2Zvcihjb25zdCBvIG9mIG4pZS5zZXRTdHlsZShvLHQuc3R5bGVzW29dLGkpfWlmKHQuY2xhc3Nlcyl7Y29uc3Qgbj10LmNsYXNzZXM7aWYoXCJzdHJpbmdcIj09dHlwZW9mIG4pZS5hZGRDbGFzcyhuLGkpO2Vsc2UgZm9yKGNvbnN0IHQgb2YgbillLmFkZENsYXNzKHQsaSl9cmV0dXJuIGl9KSh0LGksZSl9ZnVuY3Rpb24gZ2EodCl7cmV0dXJuIHQubW9kZWwudmFsdWVzPyhlLG4pPT57Y29uc3QgaT10LnZpZXdbZV07cmV0dXJuIGk/aShlLG4pOm51bGx9OnQudmlld31mdW5jdGlvbiBiYSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD9lPT4oe2tleTp0LHZhbHVlOmV9KTpcIm9iamVjdFwiPT10eXBlb2YgdD90LnZhbHVlPygpPT50OmU9Pih7a2V5OnQua2V5LHZhbHVlOmV9KTp0fWZ1bmN0aW9uIHdhKHQsZSxuKXtjb25zdCBpPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/dChlLG4pOnQ7cmV0dXJuIGk/KGkucHJpb3JpdHl8fChpLnByaW9yaXR5PTEwKSxpLmlkfHwoaS5pZD1lLm1hcmtlck5hbWUpLGkpOm51bGx9Y2xhc3MgX2EgZXh0ZW5kcyBsYXtlbGVtZW50VG9FbGVtZW50KHQpe3JldHVybiB0aGlzLmFkZChrYSh0KSl9ZWxlbWVudFRvQXR0cmlidXRlKHQpe3JldHVybiB0aGlzLmFkZChmdW5jdGlvbih0KXt5YSh0PWhhKHQpKTtjb25zdCBlPXhhKHQsITEpLG49dmEodCksaT1uP1wiZWxlbWVudDpcIituOlwiZWxlbWVudFwiO3JldHVybiBuPT57bi5vbihpLGUse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibG93XCJ9KX19KHQpKX1hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh0KXtyZXR1cm4gdGhpcy5hZGQoZnVuY3Rpb24odCl7bGV0IGU9bnVsbDsoXCJzdHJpbmdcIj09dHlwZW9mKHQ9aGEodCkpLnZpZXd8fHQudmlldy5rZXkpJiYoZT1mdW5jdGlvbih0KXtcInN0cmluZ1wiPT10eXBlb2YgdC52aWV3JiYodC52aWV3PXtrZXk6dC52aWV3fSk7Y29uc3QgZT10LnZpZXcua2V5O2xldCBuO2lmKFwiY2xhc3NcIj09ZXx8XCJzdHlsZVwiPT1lKXtjb25zdCBpPVwiY2xhc3NcIj09ZT9cImNsYXNzZXNcIjpcInN0eWxlc1wiO249e1tpXTp0LnZpZXcudmFsdWV9fWVsc2V7Y29uc3QgaT12b2lkIDA9PT10LnZpZXcudmFsdWU/L1tcXHNcXFNdKi86dC52aWV3LnZhbHVlO249e2F0dHJpYnV0ZXM6e1tlXTppfX19dC52aWV3Lm5hbWUmJihuLm5hbWU9dC52aWV3Lm5hbWUpO3JldHVybiB0LnZpZXc9bixlfSh0KSk7eWEodCxlKTtjb25zdCBuPXhhKHQsITApO3JldHVybiBlPT57ZS5vbihcImVsZW1lbnRcIixuLHtwcmlvcml0eTp0LmNvbnZlcnRlclByaW9yaXR5fHxcImxvd1wifSl9fSh0KSl9ZWxlbWVudFRvTWFya2VyKHQpe3JldHVybiB0aGlzLmFkZChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1vZGVsO3QubW9kZWw9KCh0LG4pPT57Y29uc3QgaT1cInN0cmluZ1wiPT10eXBlb2YgZT9lOmUodCk7cmV0dXJuIG4uY3JlYXRlRWxlbWVudChcIiRtYXJrZXJcIix7XCJkYXRhLW5hbWVcIjppfSl9KX0odD1oYSh0KSksa2EodCl9KHQpKX19ZnVuY3Rpb24ga2EodCl7Y29uc3QgZT1mdW5jdGlvbih0KXtjb25zdCBlPXQudmlldz9uZXcgYmkodC52aWV3KTpudWxsO3JldHVybihuLGksbyk9PntsZXQgcj17fTtpZihlKXtjb25zdCB0PWUubWF0Y2goaS52aWV3SXRlbSk7aWYoIXQpcmV0dXJuO3I9dC5tYXRjaH1yLm5hbWU9ITA7Y29uc3Qgcz1mdW5jdGlvbih0LGUsbil7cmV0dXJuIHQgaW5zdGFuY2VvZiBGdW5jdGlvbj90KGUsbik6bi5jcmVhdGVFbGVtZW50KHQpfSh0Lm1vZGVsLGkudmlld0l0ZW0sby53cml0ZXIpO2lmKCFzKXJldHVybjtpZighby5jb25zdW1hYmxlLnRlc3QoaS52aWV3SXRlbSxyKSlyZXR1cm47Y29uc3QgYT1vLnNwbGl0VG9BbGxvd2VkUGFyZW50KHMsaS5tb2RlbEN1cnNvcik7aWYoIWEpcmV0dXJuO28ud3JpdGVyLmluc2VydChzLGEucG9zaXRpb24pLG8uY29udmVydENoaWxkcmVuKGkudmlld0l0ZW0sby53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChzLDApKSxvLmNvbnN1bWFibGUuY29uc3VtZShpLnZpZXdJdGVtLHIpO2NvbnN0IGM9by5nZXRTcGxpdFBhcnRzKHMpO2kubW9kZWxSYW5nZT1uZXcgR3Moby53cml0ZXIuY3JlYXRlUG9zaXRpb25CZWZvcmUocyksby53cml0ZXIuY3JlYXRlUG9zaXRpb25BZnRlcihjW2MubGVuZ3RoLTFdKSksYS5jdXJzb3JQYXJlbnQ/aS5tb2RlbEN1cnNvcj1vLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGEuY3Vyc29yUGFyZW50LDApOmkubW9kZWxDdXJzb3I9aS5tb2RlbFJhbmdlLmVuZH19KHQ9aGEodCkpLG49dmEodCksaT1uP1wiZWxlbWVudDpcIituOlwiZWxlbWVudFwiO3JldHVybiBuPT57bi5vbihpLGUse3ByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl8fFwibm9ybWFsXCJ9KX19ZnVuY3Rpb24gdmEodCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQudmlldz90LnZpZXc6XCJvYmplY3RcIj09dHlwZW9mIHQudmlldyYmXCJzdHJpbmdcIj09dHlwZW9mIHQudmlldy5uYW1lP3Qudmlldy5uYW1lOm51bGx9ZnVuY3Rpb24geWEodCxlPW51bGwpe2NvbnN0IG49bnVsbD09PWV8fCh0PT50LmdldEF0dHJpYnV0ZShlKSksaT1cIm9iamVjdFwiIT10eXBlb2YgdC5tb2RlbD90Lm1vZGVsOnQubW9kZWwua2V5LG89XCJvYmplY3RcIiE9dHlwZW9mIHQubW9kZWx8fHZvaWQgMD09PXQubW9kZWwudmFsdWU/bjp0Lm1vZGVsLnZhbHVlO3QubW9kZWw9e2tleTppLHZhbHVlOm99fWZ1bmN0aW9uIHhhKHQsZSl7Y29uc3Qgbj1uZXcgYmkodC52aWV3KTtyZXR1cm4oaSxvLHIpPT57Y29uc3Qgcz1uLm1hdGNoKG8udmlld0l0ZW0pO2lmKCFzKXJldHVybjtjb25zdCBhPXQubW9kZWwua2V5LGM9XCJmdW5jdGlvblwiPT10eXBlb2YgdC5tb2RlbC52YWx1ZT90Lm1vZGVsLnZhbHVlKG8udmlld0l0ZW0pOnQubW9kZWwudmFsdWU7bnVsbCE9PWMmJighZnVuY3Rpb24odCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHQudmlldyYmIXZhKHQpKXJldHVybiExO3JldHVybiF0LnZpZXcuY2xhc3NlcyYmIXQudmlldy5hdHRyaWJ1dGVzJiYhdC52aWV3LnN0eWxlc30odCk/ZGVsZXRlIHMubWF0Y2gubmFtZTpzLm1hdGNoLm5hbWU9ITAsci5jb25zdW1hYmxlLnRlc3Qoby52aWV3SXRlbSxzLm1hdGNoKSYmKG8ubW9kZWxSYW5nZXx8KG89T2JqZWN0LmFzc2lnbihvLHIuY29udmVydENoaWxkcmVuKG8udmlld0l0ZW0sby5tb2RlbEN1cnNvcikpKSxmdW5jdGlvbih0LGUsbixpKXtsZXQgbz0hMTtmb3IoY29uc3QgciBvZiBBcnJheS5mcm9tKHQuZ2V0SXRlbXMoe3NoYWxsb3c6bn0pKSlpLnNjaGVtYS5jaGVja0F0dHJpYnV0ZShyLGUua2V5KSYmKGkud3JpdGVyLnNldEF0dHJpYnV0ZShlLmtleSxlLnZhbHVlLHIpLG89ITApO3JldHVybiBvfShvLm1vZGVsUmFuZ2Use2tleTphLHZhbHVlOmN9LGUscikmJnIuY29uc3VtYWJsZS5jb25zdW1lKG8udmlld0l0ZW0scy5tYXRjaCkpKX19Y2xhc3MgQWF7Y29uc3RydWN0b3IodCl7dGhpcy5tb2RlbD10LHRoaXMudmlldz1uZXcganMsdGhpcy5tYXBwZXI9bmV3IFFzLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyBacyh7bWFwcGVyOnRoaXMubWFwcGVyfSk7Y29uc3QgZT10aGlzLm1vZGVsLmRvY3VtZW50LG49ZS5zZWxlY3Rpb24saT10aGlzLm1vZGVsLm1hcmtlcnM7dGhpcy5saXN0ZW5Ubyh0aGlzLm1vZGVsLFwiX2JlZm9yZUNoYW5nZXNcIiwoKT0+e3RoaXMudmlldy5fZGlzYWJsZVJlbmRlcmluZyghMCl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMubGlzdGVuVG8odGhpcy5tb2RlbCxcIl9hZnRlckNoYW5nZXNcIiwoKT0+e3RoaXMudmlldy5fZGlzYWJsZVJlbmRlcmluZyghMSl9LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy5saXN0ZW5UbyhlLFwiY2hhbmdlXCIsKCk9Pnt0aGlzLnZpZXcuY2hhbmdlKHQ9Pnt0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0Q2hhbmdlcyhlLmRpZmZlcix0KSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0U2VsZWN0aW9uKG4saSx0KX0pfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8odGhpcy52aWV3LmRvY3VtZW50LFwic2VsZWN0aW9uQ2hhbmdlXCIsZnVuY3Rpb24odCxlKXtyZXR1cm4obixpKT0+e2NvbnN0IG89aS5uZXdTZWxlY3Rpb24scj1uZXcgdGEscz1bXTtmb3IoY29uc3QgdCBvZiBvLmdldFJhbmdlcygpKXMucHVzaChlLnRvTW9kZWxSYW5nZSh0KSk7ci5zZXRUbyhzLHtiYWNrd2FyZDpvLmlzQmFja3dhcmR9KSxyLmlzRXF1YWwodC5kb2N1bWVudC5zZWxlY3Rpb24pfHx0LmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24ocil9KX19KHRoaXMubW9kZWwsdGhpcy5tYXBwZXIpKSx0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDokdGV4dFwiLCh0LGUsbik9PntpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCBpPW4ud3JpdGVyLG89bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5yYW5nZS5zdGFydCkscj1pLmNyZWF0ZVRleHQoZS5pdGVtLmRhdGEpO2kuaW5zZXJ0KG8scil9LHtwcmlvcml0eTpcImxvd2VzdFwifSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmVcIiwodCxlLG4pPT57Y29uc3QgaT1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihlLnBvc2l0aW9uKSxvPWUucG9zaXRpb24uZ2V0U2hpZnRlZEJ5KGUubGVuZ3RoKSxyPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKG8se2lzUGhhbnRvbTohMH0pLHM9bi53cml0ZXIuY3JlYXRlUmFuZ2UoaSxyKSxhPW4ud3JpdGVyLnJlbW92ZShzLmdldFRyaW1tZWQoKSk7Zm9yKGNvbnN0IHQgb2Ygbi53cml0ZXIuY3JlYXRlUmFuZ2VJbihhKS5nZXRJdGVtcygpKW4ubWFwcGVyLnVuYmluZFZpZXdFbGVtZW50KHQpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IGk9bi53cml0ZXIsbz1pLmRvY3VtZW50LnNlbGVjdGlvbjtmb3IoY29uc3QgdCBvZiBvLmdldFJhbmdlcygpKXQuaXNDb2xsYXBzZWQmJnQuZW5kLnBhcmVudC5kb2N1bWVudCYmbi53cml0ZXIubWVyZ2VBdHRyaWJ1dGVzKHQuc3RhcnQpO2kuc2V0U2VsZWN0aW9uKG51bGwpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IGk9ZS5zZWxlY3Rpb247aWYoaS5pc0NvbGxhcHNlZClyZXR1cm47aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGksXCJzZWxlY3Rpb25cIikpcmV0dXJuO2NvbnN0IG89W107Zm9yKGNvbnN0IHQgb2YgaS5nZXRSYW5nZXMoKSl7Y29uc3QgZT1uLm1hcHBlci50b1ZpZXdSYW5nZSh0KTtvLnB1c2goZSl9bi53cml0ZXIuc2V0U2VsZWN0aW9uKG8se2JhY2t3YXJkOmkuaXNCYWNrd2FyZH0pfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e2NvbnN0IGk9ZS5zZWxlY3Rpb247aWYoIWkuaXNDb2xsYXBzZWQpcmV0dXJuO2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShpLFwic2VsZWN0aW9uXCIpKXJldHVybjtjb25zdCBvPW4ud3JpdGVyLHI9aS5nZXRGaXJzdFBvc2l0aW9uKCkscz1uLm1hcHBlci50b1ZpZXdQb3NpdGlvbihyKSxhPW8uYnJlYWtBdHRyaWJ1dGVzKHMpO28uc2V0U2VsZWN0aW9uKGEpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMudmlldy5kb2N1bWVudC5yb290cy5iaW5kVG8odGhpcy5tb2RlbC5kb2N1bWVudC5yb290cykudXNpbmcodD0+e2lmKFwiJGdyYXZleWFyZFwiPT10LnJvb3ROYW1lKXJldHVybiBudWxsO2NvbnN0IGU9bmV3IEppKHQubmFtZSk7cmV0dXJuIGUucm9vdE5hbWU9dC5yb290TmFtZSxlLl9kb2N1bWVudD10aGlzLnZpZXcuZG9jdW1lbnQsdGhpcy5tYXBwZXIuYmluZEVsZW1lbnRzKHQsZSksZX0pfWRlc3Ryb3koKXt0aGlzLnZpZXcuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfX1jaShBYSxGaSk7Y2xhc3MgQ2F7Y29uc3RydWN0b3IodCxlPVtdKXt0aGlzLl9lZGl0b3I9dCx0aGlzLl9hdmFpbGFibGVQbHVnaW5zPW5ldyBNYXAsdGhpcy5fcGx1Z2lucz1uZXcgTWFwO2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fYXZhaWxhYmxlUGx1Z2lucy5zZXQodCx0KSx0LnBsdWdpbk5hbWUmJnRoaXMuX2F2YWlsYWJsZVBsdWdpbnMuc2V0KHQucGx1Z2luTmFtZSx0KX0qW1N5bWJvbC5pdGVyYXRvcl0oKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9wbHVnaW5zKVwiZnVuY3Rpb25cIj09dHlwZW9mIHRbMF0mJih5aWVsZCB0KX1nZXQodCl7Y29uc3QgZT10aGlzLl9wbHVnaW5zLmdldCh0KTtpZighZSl7Y29uc3QgZT1cInBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5vdC1sb2FkZWQ6IFRoZSByZXF1ZXN0ZWQgcGx1Z2luIGlzIG5vdCBsb2FkZWQuXCI7bGV0IG49dDt0aHJvd1wiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihuPXQucGx1Z2luTmFtZXx8dC5uYW1lKSxuZXcgR24uYihlLHtwbHVnaW46bn0pfXJldHVybiBlfWhhcyh0KXtyZXR1cm4gdGhpcy5fcGx1Z2lucy5oYXModCl9aW5pdCh0LGU9W10pe2NvbnN0IG49dGhpcyxpPXRoaXMuX2VkaXRvcixvPW5ldyBTZXQscj1bXSxzPWgodCksYT1oKGUpLGM9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KXUobil8fGUucHVzaChuKTtyZXR1cm4gZS5sZW5ndGg/ZTpudWxsfSh0KTtpZihjKXtjb25zdCB0PVwicGx1Z2luY29sbGVjdGlvbi1wbHVnaW4tbm90LWZvdW5kOiBTb21lIHBsdWdpbnMgYXJlIG5vdCBhdmFpbGFibGUgYW5kIGNvdWxkIG5vdCBiZSBsb2FkZWQuXCI7cmV0dXJuIGJzLmEuZXJyb3IodCx7cGx1Z2luczpjfSksUHJvbWlzZS5yZWplY3QobmV3IEduLmIodCx7cGx1Z2luczpjfSkpfXJldHVybiBQcm9taXNlLmFsbChzLm1hcChsKSkudGhlbigoKT0+ZChyLFwiaW5pdFwiKSkudGhlbigoKT0+ZChyLFwiYWZ0ZXJJbml0XCIpKS50aGVuKCgpPT5yKTtmdW5jdGlvbiBsKHQpe2lmKCFhLmluY2x1ZGVzKHQpJiYhbi5fcGx1Z2lucy5oYXModCkmJiFvLmhhcyh0KSlyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBQcm9taXNlKHM9PntvLmFkZCh0KSx0LnJlcXVpcmVzJiZ0LnJlcXVpcmVzLmZvckVhY2gobj0+e2NvbnN0IGk9dShuKTtpZihlLmluY2x1ZGVzKGkpKXRocm93IG5ldyBHbi5iKFwicGx1Z2luY29sbGVjdGlvbi1yZXF1aXJlZDogQ2Fubm90IGxvYWQgYSBwbHVnaW4gYmVjYXVzZSBvbmUgb2YgaXRzIGRlcGVuZGVuY2llcyBpcyBsaXN0ZWQgaW50aGUgYHJlbW92ZVBsdWdpbnNgIG9wdGlvbi5cIix7cGx1Z2luOmkscmVxdWlyZWRCeTp0fSk7bChpKX0pO2NvbnN0IGE9bmV3IHQoaSk7bi5fYWRkKHQsYSksci5wdXNoKGEpLHMoKX0pfSh0KS5jYXRjaChlPT57dGhyb3cgYnMuYS5lcnJvcihcInBsdWdpbmNvbGxlY3Rpb24tbG9hZDogSXQgd2FzIG5vdCBwb3NzaWJsZSB0byBsb2FkIHRoZSBwbHVnaW4uXCIse3BsdWdpbjp0fSksZX0pfWZ1bmN0aW9uIGQodCxlKXtyZXR1cm4gdC5yZWR1Y2UoKHQsbik9Pm5bZV0/dC50aGVuKG5bZV0uYmluZChuKSk6dCxQcm9taXNlLnJlc29sdmUoKSl9ZnVuY3Rpb24gdSh0KXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6bi5fYXZhaWxhYmxlUGx1Z2lucy5nZXQodCl9ZnVuY3Rpb24gaCh0KXtyZXR1cm4gdC5tYXAodD0+dSh0KSkuZmlsdGVyKHQ9PiEhdCl9fWRlc3Ryb3koKXtjb25zdCB0PUFycmF5LmZyb20odGhpcykubWFwKChbLHRdKT0+dCkuZmlsdGVyKHQ9PlwiZnVuY3Rpb25cIj09dHlwZW9mIHQuZGVzdHJveSkubWFwKHQ9PnQuZGVzdHJveSgpKTtyZXR1cm4gUHJvbWlzZS5hbGwodCl9X2FkZCh0LGUpe3RoaXMuX3BsdWdpbnMuc2V0KHQsZSk7Y29uc3Qgbj10LnBsdWdpbk5hbWU7biYmKHRoaXMuX3BsdWdpbnMuaGFzKG4pP2JzLmEud2FybihcInBsdWdpbmNvbGxlY3Rpb24tcGx1Z2luLW5hbWUtY29uZmxpY3Q6IFR3byBwbHVnaW5zIHdpdGggdGhlIHNhbWUgbmFtZSB3ZXJlIGxvYWRlZC5cIix7cGx1Z2luTmFtZTpuLHBsdWdpbjE6dGhpcy5fcGx1Z2lucy5nZXQobikuY29uc3RydWN0b3IscGx1Z2luMjp0fSk6dGhpcy5fcGx1Z2lucy5zZXQobixlKSl9fWNpKENhLGVpKTtjbGFzcyBUYXtjb25zdHJ1Y3Rvcigpe3RoaXMuX2NvbW1hbmRzPW5ldyBNYXB9YWRkKHQsZSl7dGhpcy5fY29tbWFuZHMuc2V0KHQsZSl9Z2V0KHQpe3JldHVybiB0aGlzLl9jb21tYW5kcy5nZXQodCl9ZXhlY3V0ZSh0LC4uLmUpe2NvbnN0IG49dGhpcy5nZXQodCk7aWYoIW4pdGhyb3cgbmV3IEduLmIoXCJjb21tYW5kY29sbGVjdGlvbi1jb21tYW5kLW5vdC1mb3VuZDogQ29tbWFuZCBkb2VzIG5vdCBleGlzdC5cIix7Y29tbWFuZE5hbWU6dH0pO24uZXhlY3V0ZSguLi5lKX0qbmFtZXMoKXt5aWVsZCp0aGlzLl9jb21tYW5kcy5rZXlzKCl9KmNvbW1hbmRzKCl7eWllbGQqdGhpcy5fY29tbWFuZHMudmFsdWVzKCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fY29tbWFuZHNbU3ltYm9sLml0ZXJhdG9yXSgpfWRlc3Ryb3koKXtmb3IoY29uc3QgdCBvZiB0aGlzLmNvbW1hbmRzKCkpdC5kZXN0cm95KCl9fWZ1bmN0aW9uIFBhKHQsZSl7Y29uc3Qgbj1PYmplY3Qua2V5cyh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TKS5sZW5ndGg7cmV0dXJuIDE9PT1uJiYodD1PYmplY3Qua2V5cyh3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TKVswXSksMCE9PW4mJmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQgaW4gd2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OUyYmZSBpbiB3aW5kb3cuQ0tFRElUT1JfVFJBTlNMQVRJT05TW3RdfSh0LGUpP3dpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlNbdF1bZV0ucmVwbGFjZSgvIFxcW2NvbnRleHQ6IFteXFxdXStcXF0kLyxcIlwiKTplLnJlcGxhY2UoLyBcXFtjb250ZXh0OiBbXlxcXV0rXFxdJC8sXCJcIil9d2luZG93LkNLRURJVE9SX1RSQU5TTEFUSU9OU3x8KHdpbmRvdy5DS0VESVRPUl9UUkFOU0xBVElPTlM9e30pO2NsYXNzIE1he2NvbnN0cnVjdG9yKHQpe3RoaXMubGFuZ3VhZ2U9dHx8XCJlblwiLHRoaXMudD0oKC4uLnQpPT50aGlzLl90KC4uLnQpKX1fdCh0LGUpe2xldCBuPVBhKHRoaXMubGFuZ3VhZ2UsdCk7cmV0dXJuIGUmJihuPW4ucmVwbGFjZSgvJShcXGQrKS9nLCh0LG4pPT5uPGUubGVuZ3RoP2Vbbl06dCkpLG59fWNsYXNzIEVhe2NvbnN0cnVjdG9yKCl7dGhpcy5fY29uc3VtYWJsZXM9bmV3IE1hcH1hZGQodCxlKXtsZXQgbjt0LmlzKFwidGV4dFwiKXx8dC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIik/dGhpcy5fY29uc3VtYWJsZXMuc2V0KHQsITApOih0aGlzLl9jb25zdW1hYmxlcy5oYXModCk/bj10aGlzLl9jb25zdW1hYmxlcy5nZXQodCk6KG49bmV3IFNhLHRoaXMuX2NvbnN1bWFibGVzLnNldCh0LG4pKSxuLmFkZChlKSl9dGVzdCh0LGUpe2NvbnN0IG49dGhpcy5fY29uc3VtYWJsZXMuZ2V0KHQpO3JldHVybiB2b2lkIDA9PT1uP251bGw6dC5pcyhcInRleHRcIil8fHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP246bi50ZXN0KGUpfWNvbnN1bWUodCxlKXtyZXR1cm4hIXRoaXMudGVzdCh0LGUpJiYodC5pcyhcInRleHRcIil8fHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpP3RoaXMuX2NvbnN1bWFibGVzLnNldCh0LCExKTp0aGlzLl9jb25zdW1hYmxlcy5nZXQodCkuY29uc3VtZShlKSwhMCl9cmV2ZXJ0KHQsZSl7Y29uc3Qgbj10aGlzLl9jb25zdW1hYmxlcy5nZXQodCk7dm9pZCAwIT09biYmKHQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT90aGlzLl9jb25zdW1hYmxlcy5zZXQodCwhMCk6bi5yZXZlcnQoZSkpfXN0YXRpYyBjb25zdW1hYmxlc0Zyb21FbGVtZW50KHQpe2NvbnN0IGU9e25hbWU6ITAsYXR0cmlidXRlczpbXSxjbGFzc2VzOltdLHN0eWxlczpbXX0sbj10LmdldEF0dHJpYnV0ZUtleXMoKTtmb3IoY29uc3QgdCBvZiBuKVwic3R5bGVcIiE9dCYmXCJjbGFzc1wiIT10JiZlLmF0dHJpYnV0ZXMucHVzaCh0KTtjb25zdCBpPXQuZ2V0Q2xhc3NOYW1lcygpO2Zvcihjb25zdCB0IG9mIGkpZS5jbGFzc2VzLnB1c2godCk7Y29uc3Qgbz10LmdldFN0eWxlTmFtZXMoKTtmb3IoY29uc3QgdCBvZiBvKWUuc3R5bGVzLnB1c2godCk7cmV0dXJuIGV9c3RhdGljIGNyZWF0ZUZyb20odCxlKXtpZihlfHwoZT1uZXcgRWEpLHQuaXMoXCJ0ZXh0XCIpKXJldHVybiBlLmFkZCh0KSxlO3QuaXMoXCJlbGVtZW50XCIpJiZlLmFkZCh0LEVhLmNvbnN1bWFibGVzRnJvbUVsZW1lbnQodCkpLHQuaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpJiZlLmFkZCh0KTtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpZT1FYS5jcmVhdGVGcm9tKG4sZSk7cmV0dXJuIGV9fWNsYXNzIFNhe2NvbnN0cnVjdG9yKCl7dGhpcy5fY2FuQ29uc3VtZU5hbWU9bnVsbCx0aGlzLl9jb25zdW1hYmxlcz17YXR0cmlidXRlczpuZXcgTWFwLHN0eWxlczpuZXcgTWFwLGNsYXNzZXM6bmV3IE1hcH19YWRkKHQpe3QubmFtZSYmKHRoaXMuX2NhbkNvbnN1bWVOYW1lPSEwKTtmb3IoY29uc3QgZSBpbiB0aGlzLl9jb25zdW1hYmxlcyllIGluIHQmJnRoaXMuX2FkZChlLHRbZV0pfXRlc3QodCl7aWYodC5uYW1lJiYhdGhpcy5fY2FuQ29uc3VtZU5hbWUpcmV0dXJuIHRoaXMuX2NhbkNvbnN1bWVOYW1lO2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbnN1bWFibGVzKWlmKGUgaW4gdCl7Y29uc3Qgbj10aGlzLl90ZXN0KGUsdFtlXSk7aWYoITAhPT1uKXJldHVybiBufXJldHVybiEwfWNvbnN1bWUodCl7dC5uYW1lJiYodGhpcy5fY2FuQ29uc3VtZU5hbWU9ITEpO2Zvcihjb25zdCBlIGluIHRoaXMuX2NvbnN1bWFibGVzKWUgaW4gdCYmdGhpcy5fY29uc3VtZShlLHRbZV0pfXJldmVydCh0KXt0Lm5hbWUmJih0aGlzLl9jYW5Db25zdW1lTmFtZT0hMCk7Zm9yKGNvbnN0IGUgaW4gdGhpcy5fY29uc3VtYWJsZXMpZSBpbiB0JiZ0aGlzLl9yZXZlcnQoZSx0W2VdKX1fYWRkKHQsZSl7Y29uc3Qgbj1XdChlKT9lOltlXSxpPXRoaXMuX2NvbnN1bWFibGVzW3RdO2Zvcihjb25zdCBlIG9mIG4pe2lmKFwiYXR0cmlidXRlc1wiPT09dCYmKFwiY2xhc3NcIj09PWV8fFwic3R5bGVcIj09PWUpKXRocm93IG5ldyBHbi5iKFwidmlld2NvbnN1bWFibGUtaW52YWxpZC1hdHRyaWJ1dGU6IENsYXNzZXMgYW5kIHN0eWxlcyBzaG91bGQgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5LlwiKTtpLnNldChlLCEwKX19X3Rlc3QodCxlKXtjb25zdCBuPVd0KGUpP2U6W2VdLGk9dGhpcy5fY29uc3VtYWJsZXNbdF07Zm9yKGNvbnN0IGUgb2YgbilpZihcImF0dHJpYnV0ZXNcIiE9PXR8fFwiY2xhc3NcIiE9PWUmJlwic3R5bGVcIiE9PWUpe2NvbnN0IHQ9aS5nZXQoZSk7aWYodm9pZCAwPT09dClyZXR1cm4gbnVsbDtpZighdClyZXR1cm4hMX1lbHNle2NvbnN0IHQ9XCJjbGFzc1wiPT1lP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCIsbj10aGlzLl90ZXN0KHQsWy4uLnRoaXMuX2NvbnN1bWFibGVzW3RdLmtleXMoKV0pO2lmKCEwIT09bilyZXR1cm4gbn1yZXR1cm4hMH1fY29uc3VtZSh0LGUpe2NvbnN0IG49V3QoZSk/ZTpbZV0saT10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKWlmKFwiYXR0cmlidXRlc1wiIT09dHx8XCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSlpLnNldChlLCExKTtlbHNle2NvbnN0IHQ9XCJjbGFzc1wiPT1lP1wiY2xhc3Nlc1wiOlwic3R5bGVzXCI7dGhpcy5fY29uc3VtZSh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX19X3JldmVydCh0LGUpe2NvbnN0IG49V3QoZSk/ZTpbZV0saT10aGlzLl9jb25zdW1hYmxlc1t0XTtmb3IoY29uc3QgZSBvZiBuKWlmKFwiYXR0cmlidXRlc1wiIT09dHx8XCJjbGFzc1wiIT09ZSYmXCJzdHlsZVwiIT09ZSl7ITE9PT1pLmdldChlKSYmaS5zZXQoZSwhMCl9ZWxzZXtjb25zdCB0PVwiY2xhc3NcIj09ZT9cImNsYXNzZXNcIjpcInN0eWxlc1wiO3RoaXMuX3JldmVydCh0LFsuLi50aGlzLl9jb25zdW1hYmxlc1t0XS5rZXlzKCldKX19fWNsYXNzIElhe2NvbnN0cnVjdG9yKCl7dGhpcy5fc291cmNlRGVmaW5pdGlvbnM9e30sdGhpcy5fYXR0cmlidXRlUHJvcGVydGllcz17fSx0aGlzLmRlY29yYXRlKFwiY2hlY2tDaGlsZFwiKSx0aGlzLmRlY29yYXRlKFwiY2hlY2tBdHRyaWJ1dGVcIiksdGhpcy5vbihcImNoZWNrQXR0cmlidXRlXCIsKHQsZSk9PntlWzBdPW5ldyBOYShlWzBdKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdGhpcy5vbihcImNoZWNrQ2hpbGRcIiwodCxlKT0+e2VbMF09bmV3IE5hKGVbMF0pLGVbMV09dGhpcy5nZXREZWZpbml0aW9uKGVbMV0pfSx7cHJpb3JpdHk6XCJoaWdoZXN0XCJ9KX1yZWdpc3Rlcih0LGUpe2lmKHRoaXMuX3NvdXJjZURlZmluaXRpb25zW3RdKXRocm93IG5ldyBHbi5iKFwic2NoZW1hLWNhbm5vdC1yZWdpc3Rlci1pdGVtLXR3aWNlOiBBIHNpbmdsZSBpdGVtIGNhbm5vdCBiZSByZWdpc3RlcmVkIHR3aWNlIGluIHRoZSBzY2hlbWEuXCIse2l0ZW1OYW1lOnR9KTt0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XT1bT2JqZWN0LmFzc2lnbih7fSxlKV0sdGhpcy5fY2xlYXJDYWNoZSgpfWV4dGVuZCh0LGUpe2lmKCF0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XSl0aHJvdyBuZXcgR24uYihcInNjaGVtYS1jYW5ub3QtZXh0ZW5kLW1pc3NpbmctaXRlbTogQ2Fubm90IGV4dGVuZCBhbiBpdGVtIHdoaWNoIHdhcyBub3QgcmVnaXN0ZXJlZCB5ZXQuXCIse2l0ZW1OYW1lOnR9KTt0aGlzLl9zb3VyY2VEZWZpbml0aW9uc1t0XS5wdXNoKE9iamVjdC5hc3NpZ24oe30sZSkpLHRoaXMuX2NsZWFyQ2FjaGUoKX1nZXREZWZpbml0aW9ucygpe3JldHVybiB0aGlzLl9jb21waWxlZERlZmluaXRpb25zfHx0aGlzLl9jb21waWxlKCksdGhpcy5fY29tcGlsZWREZWZpbml0aW9uc31nZXREZWZpbml0aW9uKHQpe2xldCBlO3JldHVybiBlPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC5pcyYmKHQuaXMoXCJ0ZXh0XCIpfHx0LmlzKFwidGV4dFByb3h5XCIpKT9cIiR0ZXh0XCI6dC5uYW1lLHRoaXMuZ2V0RGVmaW5pdGlvbnMoKVtlXX1pc1JlZ2lzdGVyZWQodCl7cmV0dXJuISF0aGlzLmdldERlZmluaXRpb24odCl9aXNCbG9jayh0KXtjb25zdCBlPXRoaXMuZ2V0RGVmaW5pdGlvbih0KTtyZXR1cm4hKCFlfHwhZS5pc0Jsb2NrKX1pc0xpbWl0KHQpe2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKHQpO3JldHVybiEhZSYmISghZS5pc0xpbWl0JiYhZS5pc09iamVjdCl9aXNPYmplY3QodCl7Y29uc3QgZT10aGlzLmdldERlZmluaXRpb24odCk7cmV0dXJuISghZXx8IWUuaXNPYmplY3QpfWlzSW5saW5lKHQpe2NvbnN0IGU9dGhpcy5nZXREZWZpbml0aW9uKHQpO3JldHVybiEoIWV8fCFlLmlzSW5saW5lKX1jaGVja0NoaWxkKHQsZSl7cmV0dXJuISFlJiZ0aGlzLl9jaGVja0NvbnRleHRNYXRjaChlLHQpfWNoZWNrQXR0cmlidXRlKHQsZSl7Y29uc3Qgbj10aGlzLmdldERlZmluaXRpb24odC5sYXN0KTtyZXR1cm4hIW4mJm4uYWxsb3dBdHRyaWJ1dGVzLmluY2x1ZGVzKGUpfWNoZWNrTWVyZ2UodCxlPW51bGwpe2lmKHQgaW5zdGFuY2VvZiAkcyl7Y29uc3QgZT10Lm5vZGVCZWZvcmUsbj10Lm5vZGVBZnRlcjtpZighKGUgaW5zdGFuY2VvZiBIcykpdGhyb3cgbmV3IEduLmIoXCJzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1iZWZvcmU6IFRoZSBub2RlIGJlZm9yZSB0aGUgbWVyZ2UgcG9zaXRpb24gbXVzdCBiZSBhbiBlbGVtZW50LlwiKTtpZighKG4gaW5zdGFuY2VvZiBIcykpdGhyb3cgbmV3IEduLmIoXCJzY2hlbWEtY2hlY2stbWVyZ2Utbm8tZWxlbWVudC1hZnRlcjogVGhlIG5vZGUgYWZ0ZXIgdGhlIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC5cIik7cmV0dXJuIHRoaXMuY2hlY2tNZXJnZShlLG4pfWZvcihjb25zdCBuIG9mIGUuZ2V0Q2hpbGRyZW4oKSlpZighdGhpcy5jaGVja0NoaWxkKHQsbikpcmV0dXJuITE7cmV0dXJuITB9YWRkQ2hpbGRDaGVjayh0KXt0aGlzLm9uKFwiY2hlY2tDaGlsZFwiLChlLFtuLGldKT0+e2lmKCFpKXJldHVybjtjb25zdCBvPXQobixpKTtcImJvb2xlYW5cIj09dHlwZW9mIG8mJihlLnN0b3AoKSxlLnJldHVybj1vKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9YWRkQXR0cmlidXRlQ2hlY2sodCl7dGhpcy5vbihcImNoZWNrQXR0cmlidXRlXCIsKGUsW24saV0pPT57Y29uc3Qgbz10KG4saSk7XCJib29sZWFuXCI9PXR5cGVvZiBvJiYoZS5zdG9wKCksZS5yZXR1cm49byl9LHtwcmlvcml0eTpcImhpZ2hcIn0pfXNldEF0dHJpYnV0ZVByb3BlcnRpZXModCxlKXt0aGlzLl9hdHRyaWJ1dGVQcm9wZXJ0aWVzW3RdPU9iamVjdC5hc3NpZ24odGhpcy5nZXRBdHRyaWJ1dGVQcm9wZXJ0aWVzKHQpLGUpfWdldEF0dHJpYnV0ZVByb3BlcnRpZXModCl7cmV0dXJuIHRoaXMuX2F0dHJpYnV0ZVByb3BlcnRpZXNbdF18fHt9fWdldExpbWl0RWxlbWVudCh0KXtsZXQgZTtpZih0IGluc3RhbmNlb2YgJHMpZT10LnBhcmVudDtlbHNle2U9KHQgaW5zdGFuY2VvZiBHcz9bdF06QXJyYXkuZnJvbSh0LmdldFJhbmdlcygpKSkucmVkdWNlKCh0LGUpPT57Y29uc3Qgbj1lLmdldENvbW1vbkFuY2VzdG9yKCk7cmV0dXJuIHQ/dC5nZXRDb21tb25BbmNlc3RvcihuLHtpbmNsdWRlU2VsZjohMH0pOm59LG51bGwpfWZvcig7IXRoaXMuaXNMaW1pdChlKSYmZS5wYXJlbnQ7KWU9ZS5wYXJlbnQ7cmV0dXJuIGV9Y2hlY2tBdHRyaWJ1dGVJblNlbGVjdGlvbih0LGUpe2lmKHQuaXNDb2xsYXBzZWQpe2NvbnN0IG49Wy4uLnQuZ2V0Rmlyc3RQb3NpdGlvbigpLmdldEFuY2VzdG9ycygpLG5ldyB6cyhcIlwiLHQuZ2V0QXR0cmlidXRlcygpKV07cmV0dXJuIHRoaXMuY2hlY2tBdHRyaWJ1dGUobixlKX17Y29uc3Qgbj10LmdldFJhbmdlcygpO2Zvcihjb25zdCB0IG9mIG4pZm9yKGNvbnN0IG4gb2YgdClpZih0aGlzLmNoZWNrQXR0cmlidXRlKG4uaXRlbSxlKSlyZXR1cm4hMH1yZXR1cm4hMX0qZ2V0VmFsaWRSYW5nZXModCxlKXt0PWZ1bmN0aW9uKih0KXtmb3IoY29uc3QgZSBvZiB0KXlpZWxkKmUuZ2V0TWluaW1hbEZsYXRSYW5nZXMoKX0odCk7Zm9yKGNvbnN0IG4gb2YgdCl5aWVsZCp0aGlzLl9nZXRWYWxpZFJhbmdlc0ZvclJhbmdlKG4sZSl9Z2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKHQsZT1cImJvdGhcIil7aWYodGhpcy5jaGVja0NoaWxkKHQsXCIkdGV4dFwiKSlyZXR1cm4gbmV3IEdzKHQpO2xldCBuLGk7XCJib3RoXCIhPWUmJlwiYmFja3dhcmRcIiE9ZXx8KG49bmV3IHFzKHtzdGFydFBvc2l0aW9uOnQsZGlyZWN0aW9uOlwiYmFja3dhcmRcIn0pKSxcImJvdGhcIiE9ZSYmXCJmb3J3YXJkXCIhPWV8fChpPW5ldyBxcyh7c3RhcnRQb3NpdGlvbjp0fSkpO2Zvcihjb25zdCB0IG9mIGZ1bmN0aW9uKih0LGUpe2xldCBuPSExO2Zvcig7IW47KXtpZihuPSEwLHQpe2NvbnN0IGU9dC5uZXh0KCk7ZS5kb25lfHwobj0hMSx5aWVsZHt3YWxrZXI6dCx2YWx1ZTplLnZhbHVlfSl9aWYoZSl7Y29uc3QgdD1lLm5leHQoKTt0LmRvbmV8fChuPSExLHlpZWxke3dhbGtlcjplLHZhbHVlOnQudmFsdWV9KX19fShuLGkpKXtjb25zdCBlPXQud2Fsa2VyPT1uP1wiZWxlbWVudEVuZFwiOlwiZWxlbWVudFN0YXJ0XCIsaT10LnZhbHVlO2lmKGkudHlwZT09ZSYmdGhpcy5pc09iamVjdChpLml0ZW0pKXJldHVybiBHcy5fY3JlYXRlT24oaS5pdGVtKTtpZih0aGlzLmNoZWNrQ2hpbGQoaS5uZXh0UG9zaXRpb24sXCIkdGV4dFwiKSlyZXR1cm4gbmV3IEdzKGkubmV4dFBvc2l0aW9uKX1yZXR1cm4gbnVsbH1maW5kQWxsb3dlZFBhcmVudCh0LGUpe2xldCBuPXQucGFyZW50O2Zvcig7bjspe2lmKHRoaXMuY2hlY2tDaGlsZChuLGUpKXJldHVybiBuO2lmKHRoaXMuaXNMaW1pdChuKSlyZXR1cm4gbnVsbDtuPW4ucGFyZW50fXJldHVybiBudWxsfXJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdCl7Zm9yKGNvbnN0IHQgb2Ygbi5nZXRBdHRyaWJ1dGVLZXlzKCkpdGhpcy5jaGVja0F0dHJpYnV0ZShuLHQpfHxlLnJlbW92ZUF0dHJpYnV0ZSh0LG4pO24uaXMoXCJlbGVtZW50XCIpJiZ0aGlzLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKG4uZ2V0Q2hpbGRyZW4oKSxlKX19Y3JlYXRlQ29udGV4dCh0KXtyZXR1cm4gbmV3IE5hKHQpfV9jbGVhckNhY2hlKCl7dGhpcy5fY29tcGlsZWREZWZpbml0aW9ucz1udWxsfV9jb21waWxlKCl7Y29uc3QgdD17fSxlPXRoaXMuX3NvdXJjZURlZmluaXRpb25zLG49T2JqZWN0LmtleXMoZSk7Zm9yKGNvbnN0IGkgb2Ygbil0W2ldPU9hKGVbaV0saSk7Zm9yKGNvbnN0IGUgb2YgbilSYSh0LGUpO2Zvcihjb25zdCBlIG9mIG4pRGEodCxlKTtmb3IoY29uc3QgZSBvZiBuKUxhKHQsZSksamEodCxlKTtmb3IoY29uc3QgZSBvZiBuKVZhKHQsZSksQmEodCxlKTt0aGlzLl9jb21waWxlZERlZmluaXRpb25zPXR9X2NoZWNrQ29udGV4dE1hdGNoKHQsZSxuPWUubGVuZ3RoLTEpe2NvbnN0IGk9ZS5nZXRJdGVtKG4pO2lmKHQuYWxsb3dJbi5pbmNsdWRlcyhpLm5hbWUpKXtpZigwPT1uKXJldHVybiEwO3tjb25zdCB0PXRoaXMuZ2V0RGVmaW5pdGlvbihpKTtyZXR1cm4gdGhpcy5fY2hlY2tDb250ZXh0TWF0Y2godCxlLG4tMSl9fXJldHVybiExfSpfZ2V0VmFsaWRSYW5nZXNGb3JSYW5nZSh0LGUpe2xldCBuPXQuc3RhcnQsaT10LnN0YXJ0O2Zvcihjb25zdCBvIG9mIHQuZ2V0SXRlbXMoe3NoYWxsb3c6ITB9KSlvLmlzKFwiZWxlbWVudFwiKSYmKHlpZWxkKnRoaXMuX2dldFZhbGlkUmFuZ2VzRm9yUmFuZ2UoR3MuX2NyZWF0ZUluKG8pLGUpKSx0aGlzLmNoZWNrQXR0cmlidXRlKG8sZSl8fChuLmlzRXF1YWwoaSl8fCh5aWVsZCBuZXcgR3MobixpKSksbj0kcy5fY3JlYXRlQWZ0ZXIobykpLGk9JHMuX2NyZWF0ZUFmdGVyKG8pO24uaXNFcXVhbChpKXx8KHlpZWxkIG5ldyBHcyhuLGkpKX19Y2koSWEsRmkpO2NsYXNzIE5he2NvbnN0cnVjdG9yKHQpe2lmKHQgaW5zdGFuY2VvZiBOYSlyZXR1cm4gdDtcInN0cmluZ1wiPT10eXBlb2YgdD90PVt0XTpBcnJheS5pc0FycmF5KHQpfHwodD10LmdldEFuY2VzdG9ycyh7aW5jbHVkZVNlbGY6ITB9KSksdFswXSYmXCJzdHJpbmdcIiE9dHlwZW9mIHRbMF0mJnRbMF0uaXMoXCJkb2N1bWVudEZyYWdtZW50XCIpJiZ0LnNoaWZ0KCksdGhpcy5faXRlbXM9dC5tYXAoVWEpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RofWdldCBsYXN0KCl7cmV0dXJuIHRoaXMuX2l0ZW1zW3RoaXMuX2l0ZW1zLmxlbmd0aC0xXX1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzLl9pdGVtc1tTeW1ib2wuaXRlcmF0b3JdKCl9cHVzaCh0KXtjb25zdCBlPW5ldyBOYShbdF0pO3JldHVybiBlLl9pdGVtcz1bLi4udGhpcy5faXRlbXMsLi4uZS5faXRlbXNdLGV9Z2V0SXRlbSh0KXtyZXR1cm4gdGhpcy5faXRlbXNbdF19KmdldE5hbWVzKCl7eWllbGQqdGhpcy5faXRlbXMubWFwKHQ9PnQubmFtZSl9ZW5kc1dpdGgodCl7cmV0dXJuIEFycmF5LmZyb20odGhpcy5nZXROYW1lcygpKS5qb2luKFwiIFwiKS5lbmRzV2l0aCh0KX19ZnVuY3Rpb24gT2EodCxlKXtjb25zdCBuPXtuYW1lOmUsYWxsb3dJbjpbXSxhbGxvd0NvbnRlbnRPZjpbXSxhbGxvd1doZXJlOltdLGFsbG93QXR0cmlidXRlczpbXSxhbGxvd0F0dHJpYnV0ZXNPZjpbXSxpbmhlcml0VHlwZXNGcm9tOltdfTtyZXR1cm4gZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgbiBvZiB0KXtjb25zdCB0PU9iamVjdC5rZXlzKG4pLmZpbHRlcih0PT50LnN0YXJ0c1dpdGgoXCJpc1wiKSk7Zm9yKGNvbnN0IGkgb2YgdCllW2ldPW5baV19fSh0LG4pLHphKHQsbixcImFsbG93SW5cIiksemEodCxuLFwiYWxsb3dDb250ZW50T2ZcIiksemEodCxuLFwiYWxsb3dXaGVyZVwiKSx6YSh0LG4sXCJhbGxvd0F0dHJpYnV0ZXNcIiksemEodCxuLFwiYWxsb3dBdHRyaWJ1dGVzT2ZcIiksemEodCxuLFwiaW5oZXJpdFR5cGVzRnJvbVwiKSxmdW5jdGlvbih0LGUpe2Zvcihjb25zdCBuIG9mIHQpe2NvbnN0IHQ9bi5pbmhlcml0QWxsRnJvbTt0JiYoZS5hbGxvd0NvbnRlbnRPZi5wdXNoKHQpLGUuYWxsb3dXaGVyZS5wdXNoKHQpLGUuYWxsb3dBdHRyaWJ1dGVzT2YucHVzaCh0KSxlLmluaGVyaXRUeXBlc0Zyb20ucHVzaCh0KSl9fSh0LG4pLG59ZnVuY3Rpb24gUmEodCxlKXtmb3IoY29uc3QgbiBvZiB0W2VdLmFsbG93Q29udGVudE9mKWlmKHRbbl0pe0ZhKHQsbikuZm9yRWFjaCh0PT57dC5hbGxvd0luLnB1c2goZSl9KX1kZWxldGUgdFtlXS5hbGxvd0NvbnRlbnRPZn1mdW5jdGlvbiBEYSh0LGUpe2Zvcihjb25zdCBuIG9mIHRbZV0uYWxsb3dXaGVyZSl7Y29uc3QgaT10W25dO2lmKGkpe2NvbnN0IG49aS5hbGxvd0luO3RbZV0uYWxsb3dJbi5wdXNoKC4uLm4pfX1kZWxldGUgdFtlXS5hbGxvd1doZXJlfWZ1bmN0aW9uIExhKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdFtlXS5hbGxvd0F0dHJpYnV0ZXNPZil7Y29uc3QgaT10W25dO2lmKGkpe2NvbnN0IG49aS5hbGxvd0F0dHJpYnV0ZXM7dFtlXS5hbGxvd0F0dHJpYnV0ZXMucHVzaCguLi5uKX19ZGVsZXRlIHRbZV0uYWxsb3dBdHRyaWJ1dGVzT2Z9ZnVuY3Rpb24gamEodCxlKXtjb25zdCBuPXRbZV07Zm9yKGNvbnN0IGUgb2Ygbi5pbmhlcml0VHlwZXNGcm9tKXtjb25zdCBpPXRbZV07aWYoaSl7Y29uc3QgdD1PYmplY3Qua2V5cyhpKS5maWx0ZXIodD0+dC5zdGFydHNXaXRoKFwiaXNcIikpO2Zvcihjb25zdCBlIG9mIHQpZSBpbiBufHwobltlXT1pW2VdKX19ZGVsZXRlIG4uaW5oZXJpdFR5cGVzRnJvbX1mdW5jdGlvbiBWYSh0LGUpe2NvbnN0IG49dFtlXSxpPW4uYWxsb3dJbi5maWx0ZXIoZT0+dFtlXSk7bi5hbGxvd0luPUFycmF5LmZyb20obmV3IFNldChpKSl9ZnVuY3Rpb24gQmEodCxlKXtjb25zdCBuPXRbZV07bi5hbGxvd0F0dHJpYnV0ZXM9QXJyYXkuZnJvbShuZXcgU2V0KG4uYWxsb3dBdHRyaWJ1dGVzKSl9ZnVuY3Rpb24gemEodCxlLG4pe2Zvcihjb25zdCBpIG9mIHQpXCJzdHJpbmdcIj09dHlwZW9mIGlbbl0/ZVtuXS5wdXNoKGlbbl0pOkFycmF5LmlzQXJyYXkoaVtuXSkmJmVbbl0ucHVzaCguLi5pW25dKX1mdW5jdGlvbiBGYSh0LGUpe2NvbnN0IG49dFtlXTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5rZXlzKHQpLm1hcChlPT50W2VdKX0odCkuZmlsdGVyKHQ9PnQuYWxsb3dJbi5pbmNsdWRlcyhuLm5hbWUpKX1mdW5jdGlvbiBVYSh0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgdD97bmFtZTp0LCpnZXRBdHRyaWJ1dGVLZXlzKCl7fSxnZXRBdHRyaWJ1dGUoKXt9fTp7bmFtZTp0LmlzKFwiZWxlbWVudFwiKT90Lm5hbWU6XCIkdGV4dFwiLCpnZXRBdHRyaWJ1dGVLZXlzKCl7eWllbGQqdC5nZXRBdHRyaWJ1dGVLZXlzKCl9LGdldEF0dHJpYnV0ZTplPT50LmdldEF0dHJpYnV0ZShlKX19Y2xhc3MgSGF7Y29uc3RydWN0b3IodD17fSl7dGhpcy5fc3BsaXRQYXJ0cz1uZXcgTWFwLHRoaXMuX21vZGVsQ3Vyc29yPW51bGwsdGhpcy5jb252ZXJzaW9uQXBpPU9iamVjdC5hc3NpZ24oe30sdCksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnZlcnRJdGVtPXRoaXMuX2NvbnZlcnRJdGVtLmJpbmQodGhpcyksdGhpcy5jb252ZXJzaW9uQXBpLmNvbnZlcnRDaGlsZHJlbj10aGlzLl9jb252ZXJ0Q2hpbGRyZW4uYmluZCh0aGlzKSx0aGlzLmNvbnZlcnNpb25BcGkuc3BsaXRUb0FsbG93ZWRQYXJlbnQ9dGhpcy5fc3BsaXRUb0FsbG93ZWRQYXJlbnQuYmluZCh0aGlzKSx0aGlzLmNvbnZlcnNpb25BcGkuZ2V0U3BsaXRQYXJ0cz10aGlzLl9nZXRTcGxpdFBhcnRzLmJpbmQodGhpcyl9Y29udmVydCh0LGUsbj1bXCIkcm9vdFwiXSl7dGhpcy5maXJlKFwidmlld0NsZWFudXBcIix0KSx0aGlzLl9tb2RlbEN1cnNvcj1mdW5jdGlvbih0LGUpe2xldCBuO2Zvcihjb25zdCBpIG9mIG5ldyBOYSh0KSl7Y29uc3QgdD17fTtmb3IoY29uc3QgZSBvZiBpLmdldEF0dHJpYnV0ZUtleXMoKSl0W2VdPWkuZ2V0QXR0cmlidXRlKGUpO2NvbnN0IG89ZS5jcmVhdGVFbGVtZW50KGkubmFtZSx0KTtuJiZlLmFwcGVuZChvLG4pLG49JHMuX2NyZWF0ZUF0KG8sMCl9cmV0dXJuIG59KG4sZSksdGhpcy5jb252ZXJzaW9uQXBpLndyaXRlcj1lLHRoaXMuY29udmVyc2lvbkFwaS5jb25zdW1hYmxlPUVhLmNyZWF0ZUZyb20odCksdGhpcy5jb252ZXJzaW9uQXBpLnN0b3JlPXt9O2NvbnN0e21vZGVsUmFuZ2U6aX09dGhpcy5fY29udmVydEl0ZW0odCx0aGlzLl9tb2RlbEN1cnNvciksbz1lLmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtpZihpKXt0aGlzLl9yZW1vdmVFbXB0eUVsZW1lbnRzKCk7Zm9yKGNvbnN0IHQgb2YgQXJyYXkuZnJvbSh0aGlzLl9tb2RlbEN1cnNvci5wYXJlbnQuZ2V0Q2hpbGRyZW4oKSkpZS5hcHBlbmQodCxvKTtvLm1hcmtlcnM9ZnVuY3Rpb24odCxlKXtjb25zdCBuPW5ldyBTZXQsaT1uZXcgTWFwLG89R3MuX2NyZWF0ZUluKHQpLmdldEl0ZW1zKCk7Zm9yKGNvbnN0IHQgb2YgbylcIiRtYXJrZXJcIj09dC5uYW1lJiZuLmFkZCh0KTtmb3IoY29uc3QgdCBvZiBuKXtjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1uYW1lXCIpLG89ZS5jcmVhdGVQb3NpdGlvbkJlZm9yZSh0KTtpLmhhcyhuKT9pLmdldChuKS5lbmQ9by5jbG9uZSgpOmkuc2V0KG4sbmV3IEdzKG8uY2xvbmUoKSkpLGUucmVtb3ZlKHQpfXJldHVybiBpfShvLGUpfXJldHVybiB0aGlzLl9tb2RlbEN1cnNvcj1udWxsLHRoaXMuX3NwbGl0UGFydHMuY2xlYXIoKSx0aGlzLmNvbnZlcnNpb25BcGkud3JpdGVyPW51bGwsdGhpcy5jb252ZXJzaW9uQXBpLnN0b3JlPW51bGwsb31fY29udmVydEl0ZW0odCxlKXtjb25zdCBuPU9iamVjdC5hc3NpZ24oe3ZpZXdJdGVtOnQsbW9kZWxDdXJzb3I6ZSxtb2RlbFJhbmdlOm51bGx9KTtpZih0LmlzKFwiZWxlbWVudFwiKT90aGlzLmZpcmUoXCJlbGVtZW50OlwiK3QubmFtZSxuLHRoaXMuY29udmVyc2lvbkFwaSk6dC5pcyhcInRleHRcIik/dGhpcy5maXJlKFwidGV4dFwiLG4sdGhpcy5jb252ZXJzaW9uQXBpKTp0aGlzLmZpcmUoXCJkb2N1bWVudEZyYWdtZW50XCIsbix0aGlzLmNvbnZlcnNpb25BcGkpLG4ubW9kZWxSYW5nZSYmIShuLm1vZGVsUmFuZ2UgaW5zdGFuY2VvZiBHcykpdGhyb3cgbmV3IEduLmIoXCJ2aWV3LWNvbnZlcnNpb24tZGlzcGF0Y2hlci1pbmNvcnJlY3QtcmVzdWx0OiBJbmNvcnJlY3QgY29udmVyc2lvbiByZXN1bHQgd2FzIGRyb3BwZWQuXCIpO3JldHVybnttb2RlbFJhbmdlOm4ubW9kZWxSYW5nZSxtb2RlbEN1cnNvcjpuLm1vZGVsQ3Vyc29yfX1fY29udmVydENoaWxkcmVuKHQsZSl7Y29uc3Qgbj1uZXcgR3MoZSk7bGV0IGk9ZTtmb3IoY29uc3QgZSBvZiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkpe2NvbnN0IHQ9dGhpcy5fY29udmVydEl0ZW0oZSxpKTt0Lm1vZGVsUmFuZ2UgaW5zdGFuY2VvZiBHcyYmKG4uZW5kPXQubW9kZWxSYW5nZS5lbmQsaT10Lm1vZGVsQ3Vyc29yKX1yZXR1cm57bW9kZWxSYW5nZTpuLG1vZGVsQ3Vyc29yOml9fV9zcGxpdFRvQWxsb3dlZFBhcmVudCh0LGUpe2NvbnN0IG49dGhpcy5jb252ZXJzaW9uQXBpLnNjaGVtYS5maW5kQWxsb3dlZFBhcmVudChlLHQpO2lmKCFuKXJldHVybiBudWxsO2lmKG49PT1lLnBhcmVudClyZXR1cm57cG9zaXRpb246ZX07aWYodGhpcy5fbW9kZWxDdXJzb3IucGFyZW50LmdldEFuY2VzdG9ycygpLmluY2x1ZGVzKG4pKXJldHVybiBudWxsO2NvbnN0IGk9dGhpcy5jb252ZXJzaW9uQXBpLndyaXRlci5zcGxpdChlLG4pLG89W107Zm9yKGNvbnN0IHQgb2YgaS5yYW5nZS5nZXRXYWxrZXIoKSlpZihcImVsZW1lbnRFbmRcIj09dC50eXBlKW8ucHVzaCh0Lml0ZW0pO2Vsc2V7Y29uc3QgZT1vLnBvcCgpLG49dC5pdGVtO3RoaXMuX3JlZ2lzdGVyU3BsaXRQYWlyKGUsbil9cmV0dXJue3Bvc2l0aW9uOmkucG9zaXRpb24sY3Vyc29yUGFyZW50OmkucmFuZ2UuZW5kLnBhcmVudH19X3JlZ2lzdGVyU3BsaXRQYWlyKHQsZSl7dGhpcy5fc3BsaXRQYXJ0cy5oYXModCl8fHRoaXMuX3NwbGl0UGFydHMuc2V0KHQsW3RdKTtjb25zdCBuPXRoaXMuX3NwbGl0UGFydHMuZ2V0KHQpO3RoaXMuX3NwbGl0UGFydHMuc2V0KGUsbiksbi5wdXNoKGUpfV9nZXRTcGxpdFBhcnRzKHQpe2xldCBlO3JldHVybiBlPXRoaXMuX3NwbGl0UGFydHMuaGFzKHQpP3RoaXMuX3NwbGl0UGFydHMuZ2V0KHQpOlt0XX1fcmVtb3ZlRW1wdHlFbGVtZW50cygpe2xldCB0PSExO2Zvcihjb25zdCBlIG9mIHRoaXMuX3NwbGl0UGFydHMua2V5cygpKWUuaXNFbXB0eSYmKHRoaXMuY29udmVyc2lvbkFwaS53cml0ZXIucmVtb3ZlKGUpLHRoaXMuX3NwbGl0UGFydHMuZGVsZXRlKGUpLHQ9ITApO3QmJnRoaXMuX3JlbW92ZUVtcHR5RWxlbWVudHMoKX19Y2koSGEsZWkpO2NsYXNzIHFhe2NvbnN0cnVjdG9yKHQsZSl7dGhpcy5tb2RlbD10LHRoaXMucHJvY2Vzc29yPWUsdGhpcy5tYXBwZXI9bmV3IFFzLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyPW5ldyBacyh7bWFwcGVyOnRoaXMubWFwcGVyfSksdGhpcy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6JHRleHRcIiwodCxlLG4pPT57aWYoIW4uY29uc3VtYWJsZS5jb25zdW1lKGUuaXRlbSxcImluc2VydFwiKSlyZXR1cm47Y29uc3QgaT1uLndyaXRlcixvPW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpLHI9aS5jcmVhdGVUZXh0KGUuaXRlbS5kYXRhKTtpLmluc2VydChvLHIpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMudXBjYXN0RGlzcGF0Y2hlcj1uZXcgSGEoe3NjaGVtYTp0LnNjaGVtYX0pLHRoaXMudXBjYXN0RGlzcGF0Y2hlci5vbihcInRleHRcIiwodCxlLG4pPT57aWYobi5zY2hlbWEuY2hlY2tDaGlsZChlLm1vZGVsQ3Vyc29yLFwiJHRleHRcIikmJm4uY29uc3VtYWJsZS5jb25zdW1lKGUudmlld0l0ZW0pKXtjb25zdCB0PW4ud3JpdGVyLmNyZWF0ZVRleHQoZS52aWV3SXRlbS5kYXRhKTtuLndyaXRlci5pbnNlcnQodCxlLm1vZGVsQ3Vyc29yKSxlLm1vZGVsUmFuZ2U9R3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUubW9kZWxDdXJzb3IsdC5vZmZzZXRTaXplKSxlLm1vZGVsQ3Vyc29yPWUubW9kZWxSYW5nZS5lbmR9fSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnRcIiwodCxlLG4pPT57aWYoIWUubW9kZWxSYW5nZSYmbi5jb25zdW1hYmxlLmNvbnN1bWUoZS52aWV3SXRlbSx7bmFtZTohMH0pKXtjb25zdHttb2RlbFJhbmdlOnQsbW9kZWxDdXJzb3I6aX09bi5jb252ZXJ0Q2hpbGRyZW4oZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yKTtlLm1vZGVsUmFuZ2U9dCxlLm1vZGVsQ3Vyc29yPWl9fSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMudXBjYXN0RGlzcGF0Y2hlci5vbihcImRvY3VtZW50RnJhZ21lbnRcIiwodCxlLG4pPT57aWYoIWUubW9kZWxSYW5nZSYmbi5jb25zdW1hYmxlLmNvbnN1bWUoZS52aWV3SXRlbSx7bmFtZTohMH0pKXtjb25zdHttb2RlbFJhbmdlOnQsbW9kZWxDdXJzb3I6aX09bi5jb252ZXJ0Q2hpbGRyZW4oZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yKTtlLm1vZGVsUmFuZ2U9dCxlLm1vZGVsQ3Vyc29yPWl9fSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLHRoaXMuZGVjb3JhdGUoXCJpbml0XCIpLHRoaXMub24oXCJpbml0XCIsKCk9Pnt0aGlzLmZpcmUoXCJyZWFkeVwiKX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1nZXQodCl7Y29uc3R7cm9vdE5hbWU6ZT1cIm1haW5cIix0cmltOm49XCJlbXB0eVwifT10fHx7fTtpZighdGhpcy5fY2hlY2tJZlJvb3RzRXhpc3RzKFtlXSkpdGhyb3cgbmV3IEduLmIoXCJkYXRhY29udHJvbGxlci1nZXQtbm9uLWV4aXN0ZW50LXJvb3Q6IEF0dGVtcHRpbmcgdG8gZ2V0IGRhdGEgZnJvbSBhIG5vbi1leGlzdGluZyByb290LlwiKTtjb25zdCBpPXRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdChlKTtyZXR1cm5cImVtcHR5XCIhPT1ufHx0aGlzLm1vZGVsLmhhc0NvbnRlbnQoaSx7aWdub3JlV2hpdGVzcGFjZXM6ITB9KT90aGlzLnN0cmluZ2lmeShpKTpcIlwifXN0cmluZ2lmeSh0KXtjb25zdCBlPXRoaXMudG9WaWV3KHQpO3JldHVybiB0aGlzLnByb2Nlc3Nvci50b0RhdGEoZSl9dG9WaWV3KHQpe3RoaXMubWFwcGVyLmNsZWFyQmluZGluZ3MoKTtjb25zdCBlPUdzLl9jcmVhdGVJbih0KSxuPW5ldyBBbyxpPW5ldyBDbyhuZXcgcm8pO2lmKHRoaXMubWFwcGVyLmJpbmRFbGVtZW50cyh0LG4pLHRoaXMuZG93bmNhc3REaXNwYXRjaGVyLmNvbnZlcnRJbnNlcnQoZSxpKSwhdC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpe2NvbnN0IGU9ZnVuY3Rpb24odCl7Y29uc3QgZT1bXSxuPXQucm9vdC5kb2N1bWVudDtpZighbilyZXR1cm5bXTtjb25zdCBpPUdzLl9jcmVhdGVJbih0KTtmb3IoY29uc3QgdCBvZiBuLm1vZGVsLm1hcmtlcnMpe2NvbnN0IG49aS5nZXRJbnRlcnNlY3Rpb24odC5nZXRSYW5nZSgpKTtuJiZlLnB1c2goW3QubmFtZSxuXSl9cmV0dXJuIGV9KHQpO2Zvcihjb25zdFt0LG5db2YgZSl0aGlzLmRvd25jYXN0RGlzcGF0Y2hlci5jb252ZXJ0TWFya2VyQWRkKHQsbixpKX1yZXR1cm4gbn1pbml0KHQpe2lmKHRoaXMubW9kZWwuZG9jdW1lbnQudmVyc2lvbil0aHJvdyBuZXcgR24uYihcImRhdGFjb250cm9sbGVyLWluaXQtZG9jdW1lbnQtbm90LWVtcHR5OiBUcnlpbmcgdG8gc2V0IGluaXRpYWwgZGF0YSB0byBub3QgZW1wdHkgZG9jdW1lbnQuXCIpO2xldCBlPXt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0P2UubWFpbj10OmU9dCwhdGhpcy5fY2hlY2tJZlJvb3RzRXhpc3RzKE9iamVjdC5rZXlzKGUpKSl0aHJvdyBuZXcgR24uYihcImRhdGFjb250cm9sbGVyLWluaXQtbm9uLWV4aXN0ZW50LXJvb3Q6IEF0dGVtcHRpbmcgdG8gaW5pdCBkYXRhIG9uIGEgbm9uLWV4aXN0aW5nIHJvb3QuXCIpO3JldHVybiB0aGlzLm1vZGVsLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pntmb3IoY29uc3QgbiBvZiBPYmplY3Qua2V5cyhlKSl7Y29uc3QgaT10aGlzLm1vZGVsLmRvY3VtZW50LmdldFJvb3Qobik7dC5pbnNlcnQodGhpcy5wYXJzZShlW25dLGkpLGksMCl9fSksUHJvbWlzZS5yZXNvbHZlKCl9c2V0KHQpe2xldCBlPXt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0P2UubWFpbj10OmU9dCwhdGhpcy5fY2hlY2tJZlJvb3RzRXhpc3RzKE9iamVjdC5rZXlzKGUpKSl0aHJvdyBuZXcgR24uYihcImRhdGFjb250cm9sbGVyLXNldC1ub24tZXhpc3RlbnQtcm9vdDogQXR0ZW1wdGluZyB0byBzZXQgZGF0YSBvbiBhIG5vbi1leGlzdGluZyByb290LlwiKTt0aGlzLm1vZGVsLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnNldFNlbGVjdGlvbihudWxsKSx0LnJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVLZXlzKCkpO2Zvcihjb25zdCBuIG9mIE9iamVjdC5rZXlzKGUpKXtjb25zdCBpPXRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdChuKTt0LnJlbW92ZSh0LmNyZWF0ZVJhbmdlSW4oaSkpLHQuaW5zZXJ0KHRoaXMucGFyc2UoZVtuXSxpKSxpLDApfX0pfXBhcnNlKHQsZT1cIiRyb290XCIpe2NvbnN0IG49dGhpcy5wcm9jZXNzb3IudG9WaWV3KHQpO3JldHVybiB0aGlzLnRvTW9kZWwobixlKX10b01vZGVsKHQsZT1cIiRyb290XCIpe3JldHVybiB0aGlzLm1vZGVsLmNoYW5nZShuPT50aGlzLnVwY2FzdERpc3BhdGNoZXIuY29udmVydCh0LG4sZSkpfWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX1fY2hlY2tJZlJvb3RzRXhpc3RzKHQpe2Zvcihjb25zdCBlIG9mIHQpaWYoIXRoaXMubW9kZWwuZG9jdW1lbnQuZ2V0Um9vdE5hbWVzKCkuaW5jbHVkZXMoZSkpcmV0dXJuITE7cmV0dXJuITB9fWNpKHFhLEZpKTtjbGFzcyBXYXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMuX2hlbHBlcnM9bmV3IE1hcCx0aGlzLl9kb3duY2FzdD1BcnJheS5pc0FycmF5KHQpP3Q6W3RdLHRoaXMuX2NyZWF0ZUNvbnZlcnNpb25IZWxwZXJzKHtuYW1lOlwiZG93bmNhc3RcIixkaXNwYXRjaGVyczp0aGlzLl9kb3duY2FzdCxpc0Rvd25jYXN0OiEwfSksdGhpcy5fdXBjYXN0PUFycmF5LmlzQXJyYXkoZSk/ZTpbZV0sdGhpcy5fY3JlYXRlQ29udmVyc2lvbkhlbHBlcnMoe25hbWU6XCJ1cGNhc3RcIixkaXNwYXRjaGVyczp0aGlzLl91cGNhc3QsaXNEb3duY2FzdDohMX0pfWFkZEFsaWFzKHQsZSl7Y29uc3Qgbj10aGlzLl9kb3duY2FzdC5pbmNsdWRlcyhlKTtpZighdGhpcy5fdXBjYXN0LmluY2x1ZGVzKGUpJiYhbil0aHJvdyBuZXcgR24uYihcImNvbnZlcnNpb24tYWRkLWFsaWFzLWRpc3BhdGNoZXItbm90LXJlZ2lzdGVyZWQ6IFRyeWluZyB0byByZWdpc3RlciBhbmQgYWxpYXMgZm9yIGEgZGlzcGF0Y2hlciB0aGF0IG5hcyBub3QgYmVlbiByZWdpc3RlcmVkLlwiKTt0aGlzLl9jcmVhdGVDb252ZXJzaW9uSGVscGVycyh7bmFtZTp0LGRpc3BhdGNoZXJzOltlXSxpc0Rvd25jYXN0Om59KX1mb3IodCl7aWYoIXRoaXMuX2hlbHBlcnMuaGFzKHQpKXRocm93IG5ldyBHbi5iKFwiY29udmVyc2lvbi1mb3ItdW5rbm93bi1ncm91cDogVHJ5aW5nIHRvIGFkZCBhIGNvbnZlcnRlciB0byBhbiB1bmtub3duIGRpc3BhdGNoZXJzIGdyb3VwLlwiKTtyZXR1cm4gdGhpcy5faGVscGVycy5nZXQodCl9ZWxlbWVudFRvRWxlbWVudCh0KXt0aGlzLmZvcihcImRvd25jYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQodCk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzpufW9mIFlhKHQpKXRoaXMuZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOmUsdmlldzpuLGNvbnZlcnRlclByaW9yaXR5OnQuY29udmVydGVyUHJpb3JpdHl9KX1hdHRyaWJ1dGVUb0VsZW1lbnQodCl7dGhpcy5mb3IoXCJkb3duY2FzdFwiKS5hdHRyaWJ1dGVUb0VsZW1lbnQodCk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzpufW9mIFlhKHQpKXRoaXMuZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0F0dHJpYnV0ZSh7dmlldzpuLG1vZGVsOmUsY29udmVydGVyUHJpb3JpdHk6dC5jb252ZXJ0ZXJQcmlvcml0eX0pfWF0dHJpYnV0ZVRvQXR0cmlidXRlKHQpe3RoaXMuZm9yKFwiZG93bmNhc3RcIikuYXR0cmlidXRlVG9BdHRyaWJ1dGUodCk7Zm9yKGNvbnN0e21vZGVsOmUsdmlldzpufW9mIFlhKHQpKXRoaXMuZm9yKFwidXBjYXN0XCIpLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHt2aWV3Om4sbW9kZWw6ZX0pfV9jcmVhdGVDb252ZXJzaW9uSGVscGVycyh7bmFtZTp0LGRpc3BhdGNoZXJzOmUsaXNEb3duY2FzdDpufSl7aWYodGhpcy5faGVscGVycy5oYXModCkpdGhyb3cgbmV3IEduLmIoXCJjb252ZXJzaW9uLWdyb3VwLWV4aXN0czogVHJ5aW5nIHRvIHJlZ2lzdGVyIGEgZ3JvdXAgbmFtZSB0aGF0IGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZC5cIik7Y29uc3QgaT1uP25ldyBmYShlKTpuZXcgX2EoZSk7dGhpcy5faGVscGVycy5zZXQodCxpKX19ZnVuY3Rpb24qWWEodCl7aWYodC5tb2RlbC52YWx1ZXMpZm9yKGNvbnN0IGUgb2YgdC5tb2RlbC52YWx1ZXMpe3lpZWxkKiRhKHtrZXk6dC5tb2RlbC5rZXksdmFsdWU6ZX0sdC52aWV3W2VdLHQudXBjYXN0QWxzbz90LnVwY2FzdEFsc29bZV06dm9pZCAwKX1lbHNlIHlpZWxkKiRhKHQubW9kZWwsdC52aWV3LHQudXBjYXN0QWxzbyl9ZnVuY3Rpb24qJGEodCxlLG4pe2lmKHlpZWxke21vZGVsOnQsdmlldzplfSxuKXtuPUFycmF5LmlzQXJyYXkobik/bjpbbl07Zm9yKGNvbnN0IGUgb2Ygbil5aWVsZHttb2RlbDp0LHZpZXc6ZX19fWNsYXNzIEdhe2NvbnN0cnVjdG9yKHQ9XCJkZWZhdWx0XCIpe3RoaXMub3BlcmF0aW9ucz1bXSx0aGlzLnR5cGU9dH1nZXQgYmFzZVZlcnNpb24oKXtmb3IoY29uc3QgdCBvZiB0aGlzLm9wZXJhdGlvbnMpaWYobnVsbCE9PXQuYmFzZVZlcnNpb24pcmV0dXJuIHQuYmFzZVZlcnNpb247cmV0dXJuIG51bGx9YWRkT3BlcmF0aW9uKHQpe3JldHVybiB0LmJhdGNoPXRoaXMsdGhpcy5vcGVyYXRpb25zLnB1c2godCksdH19Y2xhc3MgUWF7Y29uc3RydWN0b3IodCl7dGhpcy5iYXNlVmVyc2lvbj10LHRoaXMuaXNEb2N1bWVudE9wZXJhdGlvbj1udWxsIT09dGhpcy5iYXNlVmVyc2lvbix0aGlzLmJhdGNoPW51bGx9X3ZhbGlkYXRlKCl7fXRvSlNPTigpe2NvbnN0IHQ9T2JqZWN0LmFzc2lnbih7fSx0aGlzKTtyZXR1cm4gdC5fX2NsYXNzTmFtZT10aGlzLmNvbnN0cnVjdG9yLmNsYXNzTmFtZSxkZWxldGUgdC5iYXRjaCxkZWxldGUgdC5pc0RvY3VtZW50T3BlcmF0aW9uLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0KXtyZXR1cm4gbmV3IHRoaXModC5iYXNlVmVyc2lvbil9fWNsYXNzIEphe2NvbnN0cnVjdG9yKHQpe3RoaXMubWFya2Vycz1uZXcgTWFwLHRoaXMuX2NoaWxkcmVuPW5ldyBVcyx0JiZ0aGlzLl9pbnNlcnRDaGlsZCgwLHQpfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRyZW4oKX1nZXQgY2hpbGRDb3VudCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5sZW5ndGh9Z2V0IG1heE9mZnNldCgpe3JldHVybiB0aGlzLl9jaGlsZHJlbi5tYXhPZmZzZXR9Z2V0IGlzRW1wdHkoKXtyZXR1cm4gMD09PXRoaXMuY2hpbGRDb3VudH1nZXQgcm9vdCgpe3JldHVybiB0aGlzfWdldCBwYXJlbnQoKXtyZXR1cm4gbnVsbH1pcyh0KXtyZXR1cm5cImRvY3VtZW50RnJhZ21lbnRcIj09dH1nZXRDaGlsZCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZSh0KX1nZXRDaGlsZHJlbigpe3JldHVybiB0aGlzLl9jaGlsZHJlbltTeW1ib2wuaXRlcmF0b3JdKCl9Z2V0Q2hpbGRJbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4uZ2V0Tm9kZUluZGV4KHQpfWdldENoaWxkU3RhcnRPZmZzZXQodCl7cmV0dXJuIHRoaXMuX2NoaWxkcmVuLmdldE5vZGVTdGFydE9mZnNldCh0KX1nZXRQYXRoKCl7cmV0dXJuW119Z2V0Tm9kZUJ5UGF0aCh0KXtsZXQgZT10aGlzO2Zvcihjb25zdCBuIG9mIHQpZT1lLmdldENoaWxkKGUub2Zmc2V0VG9JbmRleChuKSk7cmV0dXJuIGV9b2Zmc2V0VG9JbmRleCh0KXtyZXR1cm4gdGhpcy5fY2hpbGRyZW4ub2Zmc2V0VG9JbmRleCh0KX10b0pTT04oKXtjb25zdCB0PVtdO2Zvcihjb25zdCBlIG9mIHRoaXMuX2NoaWxkcmVuKXQucHVzaChlLnRvSlNPTigpKTtyZXR1cm4gdH1zdGF0aWMgZnJvbUpTT04odCl7Y29uc3QgZT1bXTtmb3IoY29uc3QgbiBvZiB0KW4ubmFtZT9lLnB1c2goSHMuZnJvbUpTT04obikpOmUucHVzaCh6cy5mcm9tSlNPTihuKSk7cmV0dXJuIG5ldyBKYShlKX1fYXBwZW5kQ2hpbGQodCl7dGhpcy5faW5zZXJ0Q2hpbGQodGhpcy5jaGlsZENvdW50LHQpfV9pbnNlcnRDaGlsZCh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuW25ldyB6cyh0KV07Z2kodCl8fCh0PVt0XSk7cmV0dXJuIEFycmF5LmZyb20odCkubWFwKHQ9Plwic3RyaW5nXCI9PXR5cGVvZiB0P25ldyB6cyh0KTp0IGluc3RhbmNlb2YgRnM/bmV3IHpzKHQuZGF0YSx0LmdldEF0dHJpYnV0ZXMoKSk6dCl9KGUpO2Zvcihjb25zdCB0IG9mIG4pbnVsbCE9PXQucGFyZW50JiZ0Ll9yZW1vdmUoKSx0LnBhcmVudD10aGlzO3RoaXMuX2NoaWxkcmVuLl9pbnNlcnROb2Rlcyh0LG4pfV9yZW1vdmVDaGlsZHJlbih0LGU9MSl7Y29uc3Qgbj10aGlzLl9jaGlsZHJlbi5fcmVtb3ZlTm9kZXModCxlKTtmb3IoY29uc3QgdCBvZiBuKXQucGFyZW50PW51bGw7cmV0dXJuIG59fWZ1bmN0aW9uIEthKHQsZSl7Y29uc3Qgbj0oZT10YyhlKSkucmVkdWNlKCh0LGUpPT50K2Uub2Zmc2V0U2l6ZSwwKSxpPXQucGFyZW50O25jKHQpO2NvbnN0IG89dC5pbmRleDtyZXR1cm4gaS5faW5zZXJ0Q2hpbGQobyxlKSxlYyhpLG8rZS5sZW5ndGgpLGVjKGksbyksbmV3IEdzKHQsdC5nZXRTaGlmdGVkQnkobikpfWZ1bmN0aW9uIFphKHQpe2lmKCF0LmlzRmxhdCl0aHJvdyBuZXcgR24uYihcIm9wZXJhdGlvbi11dGlscy1yZW1vdmUtcmFuZ2Utbm90LWZsYXQ6IFRyeWluZyB0byByZW1vdmUgYSByYW5nZSB3aGljaCBzdGFydHMgYW5kIGVuZHMgaW4gZGlmZmVyZW50IGVsZW1lbnQuXCIpO2NvbnN0IGU9dC5zdGFydC5wYXJlbnQ7bmModC5zdGFydCksbmModC5lbmQpO2NvbnN0IG49ZS5fcmVtb3ZlQ2hpbGRyZW4odC5zdGFydC5pbmRleCx0LmVuZC5pbmRleC10LnN0YXJ0LmluZGV4KTtyZXR1cm4gZWMoZSx0LnN0YXJ0LmluZGV4KSxufWZ1bmN0aW9uIFhhKHQsZSl7aWYoIXQuaXNGbGF0KXRocm93IG5ldyBHbi5iKFwib3BlcmF0aW9uLXV0aWxzLW1vdmUtcmFuZ2Utbm90LWZsYXQ6IFRyeWluZyB0byBtb3ZlIGEgcmFuZ2Ugd2hpY2ggc3RhcnRzIGFuZCBlbmRzIGluIGRpZmZlcmVudCBlbGVtZW50LlwiKTtjb25zdCBuPVphKHQpO3JldHVybiBLYShlPWUuX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCksbil9ZnVuY3Rpb24gdGModCl7Y29uc3QgZT1bXTt0IGluc3RhbmNlb2YgQXJyYXl8fCh0PVt0XSk7Zm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoXCJzdHJpbmdcIj09dHlwZW9mIHRbbl0pZS5wdXNoKG5ldyB6cyh0W25dKSk7ZWxzZSBpZih0W25daW5zdGFuY2VvZiBGcyllLnB1c2gobmV3IHpzKHRbbl0uZGF0YSx0W25dLmdldEF0dHJpYnV0ZXMoKSkpO2Vsc2UgaWYodFtuXWluc3RhbmNlb2YgSmF8fHRbbl1pbnN0YW5jZW9mIFVzKWZvcihjb25zdCBpIG9mIHRbbl0pZS5wdXNoKGkpO2Vsc2UgdFtuXWluc3RhbmNlb2YgQnMmJmUucHVzaCh0W25dKTtmb3IobGV0IHQ9MTt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdLGk9ZVt0LTFdO24gaW5zdGFuY2VvZiB6cyYmaSBpbnN0YW5jZW9mIHpzJiZpYyhuLGkpJiYoZS5zcGxpY2UodC0xLDIsbmV3IHpzKGkuZGF0YStuLmRhdGEsaS5nZXRBdHRyaWJ1dGVzKCkpKSx0LS0pfXJldHVybiBlfWZ1bmN0aW9uIGVjKHQsZSl7Y29uc3Qgbj10LmdldENoaWxkKGUtMSksaT10LmdldENoaWxkKGUpO2lmKG4mJmkmJm4uaXMoXCJ0ZXh0XCIpJiZpLmlzKFwidGV4dFwiKSYmaWMobixpKSl7Y29uc3Qgbz1uZXcgenMobi5kYXRhK2kuZGF0YSxuLmdldEF0dHJpYnV0ZXMoKSk7dC5fcmVtb3ZlQ2hpbGRyZW4oZS0xLDIpLHQuX2luc2VydENoaWxkKGUtMSxvKX19ZnVuY3Rpb24gbmModCl7Y29uc3QgZT10LnRleHROb2RlLG49dC5wYXJlbnQ7aWYoZSl7Y29uc3QgaT10Lm9mZnNldC1lLnN0YXJ0T2Zmc2V0LG89ZS5pbmRleDtuLl9yZW1vdmVDaGlsZHJlbihvLDEpO2NvbnN0IHI9bmV3IHpzKGUuZGF0YS5zdWJzdHIoMCxpKSxlLmdldEF0dHJpYnV0ZXMoKSkscz1uZXcgenMoZS5kYXRhLnN1YnN0cihpKSxlLmdldEF0dHJpYnV0ZXMoKSk7bi5faW5zZXJ0Q2hpbGQobyxbcixzXSl9fWZ1bmN0aW9uIGljKHQsZSl7Y29uc3Qgbj10LmdldEF0dHJpYnV0ZXMoKSxpPWUuZ2V0QXR0cmlidXRlcygpO2Zvcihjb25zdCB0IG9mIG4pe2lmKHRbMV0hPT1lLmdldEF0dHJpYnV0ZSh0WzBdKSlyZXR1cm4hMTtpLm5leHQoKX1yZXR1cm4gaS5uZXh0KCkuZG9uZX12YXIgb2M9ZnVuY3Rpb24odCxlKXtyZXR1cm4gSnIodCxlKX07Y2xhc3MgcmMgZXh0ZW5kcyBRYXtjb25zdHJ1Y3Rvcih0LGUsbixpLG8pe3N1cGVyKG8pLHRoaXMucmFuZ2U9dC5jbG9uZSgpLHRoaXMua2V5PWUsdGhpcy5vbGRWYWx1ZT12b2lkIDA9PT1uP251bGw6bix0aGlzLm5ld1ZhbHVlPXZvaWQgMD09PWk/bnVsbDppfWdldCB0eXBlKCl7cmV0dXJuIG51bGw9PT10aGlzLm9sZFZhbHVlP1wiYWRkQXR0cmlidXRlXCI6bnVsbD09PXRoaXMubmV3VmFsdWU/XCJyZW1vdmVBdHRyaWJ1dGVcIjpcImNoYW5nZUF0dHJpYnV0ZVwifWNsb25lKCl7cmV0dXJuIG5ldyByYyh0aGlzLnJhbmdlLHRoaXMua2V5LHRoaXMub2xkVmFsdWUsdGhpcy5uZXdWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgcmModGhpcy5yYW5nZSx0aGlzLmtleSx0aGlzLm5ld1ZhbHVlLHRoaXMub2xkVmFsdWUsdGhpcy5iYXNlVmVyc2lvbisxKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LnJhbmdlPXRoaXMucmFuZ2UudG9KU09OKCksdH1fdmFsaWRhdGUoKXtpZighdGhpcy5yYW5nZS5pc0ZsYXQpdGhyb3cgbmV3IEduLmIoXCJhdHRyaWJ1dGUtb3BlcmF0aW9uLXJhbmdlLW5vdC1mbGF0OiBUaGUgcmFuZ2UgdG8gY2hhbmdlIGlzIG5vdCBmbGF0LlwiKTtmb3IoY29uc3QgdCBvZiB0aGlzLnJhbmdlLmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpe2lmKG51bGwhPT10aGlzLm9sZFZhbHVlJiYhb2ModC5nZXRBdHRyaWJ1dGUodGhpcy5rZXkpLHRoaXMub2xkVmFsdWUpKXRocm93IG5ldyBHbi5iKFwiYXR0cmlidXRlLW9wZXJhdGlvbi13cm9uZy1vbGQtdmFsdWU6IENoYW5nZWQgbm9kZSBoYXMgZGlmZmVyZW50IGF0dHJpYnV0ZSB2YWx1ZSB0aGFuIG9wZXJhdGlvbidzIG9sZCBhdHRyaWJ1dGUgdmFsdWUuXCIse2l0ZW06dCxrZXk6dGhpcy5rZXksdmFsdWU6dGhpcy5vbGRWYWx1ZX0pO2lmKG51bGw9PT10aGlzLm9sZFZhbHVlJiZudWxsIT09dGhpcy5uZXdWYWx1ZSYmdC5oYXNBdHRyaWJ1dGUodGhpcy5rZXkpKXRocm93IG5ldyBHbi5iKFwiYXR0cmlidXRlLW9wZXJhdGlvbi1hdHRyaWJ1dGUtZXhpc3RzOiBUaGUgYXR0cmlidXRlIHdpdGggZ2l2ZW4ga2V5IGFscmVhZHkgZXhpc3RzLlwiLHtub2RlOnQsa2V5OnRoaXMua2V5fSl9fV9leGVjdXRlKCl7b2ModGhpcy5vbGRWYWx1ZSx0aGlzLm5ld1ZhbHVlKXx8ZnVuY3Rpb24odCxlLG4pe25jKHQuc3RhcnQpLG5jKHQuZW5kKTtmb3IoY29uc3QgaSBvZiB0LmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpe2NvbnN0IHQ9aS5pcyhcInRleHRQcm94eVwiKT9pLnRleHROb2RlOmk7bnVsbCE9PW4/dC5fc2V0QXR0cmlidXRlKGUsbik6dC5fcmVtb3ZlQXR0cmlidXRlKGUpLGVjKHQucGFyZW50LHQuaW5kZXgpfWVjKHQuZW5kLnBhcmVudCx0LmVuZC5pbmRleCl9KHRoaXMucmFuZ2UsdGhpcy5rZXksdGhpcy5uZXdWYWx1ZSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIkF0dHJpYnV0ZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgcmMoR3MuZnJvbUpTT04odC5yYW5nZSxlKSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbil9fWNsYXNzIHNjIGV4dGVuZHMgUWF7Y29uc3RydWN0b3IodCxlKXtzdXBlcihudWxsKSx0aGlzLnNvdXJjZVBvc2l0aW9uPXQuY2xvbmUoKSx0aGlzLmhvd01hbnk9ZX1nZXQgdHlwZSgpe3JldHVyblwiZGV0YWNoXCJ9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbj10aGlzLnNvdXJjZVBvc2l0aW9uLnRvSlNPTigpLHR9X3ZhbGlkYXRlKCl7aWYodGhpcy5zb3VyY2VQb3NpdGlvbi5yb290LmRvY3VtZW50KXRocm93IG5ldyBHbi5iKFwiZGV0YWNoLW9wZXJhdGlvbi1vbi1kb2N1bWVudC1ub2RlOiBDYW5ub3QgZGV0YWNoIGRvY3VtZW50IG5vZGUuXCIpfV9leGVjdXRlKCl7WmEoR3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KSl9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIkRldGFjaE9wZXJhdGlvblwifX1jbGFzcyBhYyBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKGkpLHRoaXMuc291cmNlUG9zaXRpb249dC5jbG9uZSgpLHRoaXMuc291cmNlUG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiLHRoaXMuaG93TWFueT1lLHRoaXMudGFyZ2V0UG9zaXRpb249bi5jbG9uZSgpLHRoaXMudGFyZ2V0UG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTm9uZVwifWdldCB0eXBlKCl7cmV0dXJuXCIkZ3JhdmV5YXJkXCI9PXRoaXMudGFyZ2V0UG9zaXRpb24ucm9vdC5yb290TmFtZT9cInJlbW92ZVwiOlwiJGdyYXZleWFyZFwiPT10aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3Qucm9vdE5hbWU/XCJyZWluc2VydFwiOlwibW92ZVwifWNsb25lKCl7cmV0dXJuIG5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55LHRoaXMudGFyZ2V0UG9zaXRpb24sdGhpcy5iYXNlVmVyc2lvbil9Z2V0TW92ZWRSYW5nZVN0YXJ0KCl7cmV0dXJuIHRoaXMudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbih0aGlzLnNvdXJjZVBvc2l0aW9uLHRoaXMuaG93TWFueSl9Z2V0UmV2ZXJzZWQoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24odGhpcy50YXJnZXRQb3NpdGlvbix0aGlzLmhvd01hbnkpO3JldHVybiBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih0aGlzLmdldE1vdmVkUmFuZ2VTdGFydCgpLHRoaXMuaG93TWFueSx0LHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLnBhcmVudCxlPXRoaXMudGFyZ2V0UG9zaXRpb24ucGFyZW50LG49dGhpcy5zb3VyY2VQb3NpdGlvbi5vZmZzZXQsaT10aGlzLnRhcmdldFBvc2l0aW9uLm9mZnNldDtpZighdHx8IWUpdGhyb3cgbmV3IEduLmIoXCJtb3ZlLW9wZXJhdGlvbi1wb3NpdGlvbi1pbnZhbGlkOiBTb3VyY2UgcG9zaXRpb24gb3IgdGFyZ2V0IHBvc2l0aW9uIGlzIGludmFsaWQuXCIpO2lmKG4rdGhpcy5ob3dNYW55PnQubWF4T2Zmc2V0KXRocm93IG5ldyBHbi5iKFwibW92ZS1vcGVyYXRpb24tbm9kZXMtZG8tbm90LWV4aXN0OiBUaGUgbm9kZXMgd2hpY2ggc2hvdWxkIGJlIG1vdmVkIGRvIG5vdCBleGlzdC5cIik7aWYodD09PWUmJm48aSYmaTxuK3RoaXMuaG93TWFueSl0aHJvdyBuZXcgR24uYihcIm1vdmUtb3BlcmF0aW9uLXJhbmdlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIHRvIHRoZSBpbnNpZGUgb2YgdGhhdCByYW5nZS5cIik7aWYodGhpcy5zb3VyY2VQb3NpdGlvbi5yb290PT10aGlzLnRhcmdldFBvc2l0aW9uLnJvb3QmJlwicHJlZml4XCI9PWxpKHRoaXMuc291cmNlUG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpLHRoaXMudGFyZ2V0UG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSl7Y29uc3QgdD10aGlzLnNvdXJjZVBvc2l0aW9uLnBhdGgubGVuZ3RoLTE7aWYodGhpcy50YXJnZXRQb3NpdGlvbi5wYXRoW3RdPj1uJiZ0aGlzLnRhcmdldFBvc2l0aW9uLnBhdGhbdF08bit0aGlzLmhvd01hbnkpdGhyb3cgbmV3IEduLmIoXCJtb3ZlLW9wZXJhdGlvbi1ub2RlLWludG8taXRzZWxmOiBUcnlpbmcgdG8gbW92ZSBhIHJhbmdlIG9mIG5vZGVzIGludG8gb25lIG9mIG5vZGVzIGZyb20gdGhhdCByYW5nZS5cIil9fV9leGVjdXRlKCl7WGEoR3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHRoaXMuc291cmNlUG9zaXRpb24sdGhpcy5ob3dNYW55KSx0aGlzLnRhcmdldFBvc2l0aW9uKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LnNvdXJjZVBvc2l0aW9uPXRoaXMuc291cmNlUG9zaXRpb24udG9KU09OKCksdC50YXJnZXRQb3NpdGlvbj10aGlzLnRhcmdldFBvc2l0aW9uLnRvSlNPTigpLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk1vdmVPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtjb25zdCBuPSRzLmZyb21KU09OKHQuc291cmNlUG9zaXRpb24sZSksaT0kcy5mcm9tSlNPTih0LnRhcmdldFBvc2l0aW9uLGUpO3JldHVybiBuZXcgdGhpcyhuLHQuaG93TWFueSxpLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBjYyBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcihuKSx0aGlzLnBvc2l0aW9uPXQuY2xvbmUoKSx0aGlzLnBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05vbmVcIix0aGlzLm5vZGVzPW5ldyBVcyh0YyhlKSksdGhpcy5zaG91bGRSZWNlaXZlQXR0cmlidXRlcz0hMX1nZXQgdHlwZSgpe3JldHVyblwiaW5zZXJ0XCJ9Z2V0IGhvd01hbnkoKXtyZXR1cm4gdGhpcy5ub2Rlcy5tYXhPZmZzZXR9Y2xvbmUoKXtjb25zdCB0PW5ldyBVcyhbLi4udGhpcy5ub2Rlc10ubWFwKHQ9PnQuX2Nsb25lKCEwKSkpLGU9bmV3IGNjKHRoaXMucG9zaXRpb24sdCx0aGlzLmJhc2VWZXJzaW9uKTtyZXR1cm4gZS5zaG91bGRSZWNlaXZlQXR0cmlidXRlcz10aGlzLnNob3VsZFJlY2VpdmVBdHRyaWJ1dGVzLGV9Z2V0UmV2ZXJzZWQoKXtjb25zdCB0PXRoaXMucG9zaXRpb24ucm9vdC5kb2N1bWVudC5ncmF2ZXlhcmQsZT1uZXcgJHModCxbMF0pO3JldHVybiBuZXcgYWModGhpcy5wb3NpdGlvbix0aGlzLm5vZGVzLm1heE9mZnNldCxlLHRoaXMuYmFzZVZlcnNpb24rMSl9X3ZhbGlkYXRlKCl7Y29uc3QgdD10aGlzLnBvc2l0aW9uLnBhcmVudDtpZighdHx8dC5tYXhPZmZzZXQ8dGhpcy5wb3NpdGlvbi5vZmZzZXQpdGhyb3cgbmV3IEduLmIoXCJpbnNlcnQtb3BlcmF0aW9uLXBvc2l0aW9uLWludmFsaWQ6IEluc2VydGlvbiBwb3NpdGlvbiBpcyBpbnZhbGlkLlwiKX1fZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5ub2Rlczt0aGlzLm5vZGVzPW5ldyBVcyhbLi4udF0ubWFwKHQ9PnQuX2Nsb25lKCEwKSkpLEthKHRoaXMucG9zaXRpb24sdCl9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5wb3NpdGlvbj10aGlzLnBvc2l0aW9uLnRvSlNPTigpLHQubm9kZXM9dGhpcy5ub2Rlcy50b0pTT04oKSx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJJbnNlcnRPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtjb25zdCBuPVtdO2Zvcihjb25zdCBlIG9mIHQubm9kZXMpZS5uYW1lP24ucHVzaChIcy5mcm9tSlNPTihlKSk6bi5wdXNoKHpzLmZyb21KU09OKGUpKTtjb25zdCBpPW5ldyBjYygkcy5mcm9tSlNPTih0LnBvc2l0aW9uLGUpLG4sdC5iYXNlVmVyc2lvbik7cmV0dXJuIGkuc2hvdWxkUmVjZWl2ZUF0dHJpYnV0ZXM9dC5zaG91bGRSZWNlaXZlQXR0cmlidXRlcyxpfX1jbGFzcyBsYyBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKHQsZSxuLGksbyxyKXtzdXBlcihyKSx0aGlzLm5hbWU9dCx0aGlzLm9sZFJhbmdlPWU/ZS5jbG9uZSgpOm51bGwsdGhpcy5uZXdSYW5nZT1uP24uY2xvbmUoKTpudWxsLHRoaXMuYWZmZWN0c0RhdGE9byx0aGlzLl9tYXJrZXJzPWl9Z2V0IHR5cGUoKXtyZXR1cm5cIm1hcmtlclwifWNsb25lKCl7cmV0dXJuIG5ldyBsYyh0aGlzLm5hbWUsdGhpcy5vbGRSYW5nZSx0aGlzLm5ld1JhbmdlLHRoaXMuX21hcmtlcnMsdGhpcy5hZmZlY3RzRGF0YSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgbGModGhpcy5uYW1lLHRoaXMubmV3UmFuZ2UsdGhpcy5vbGRSYW5nZSx0aGlzLl9tYXJrZXJzLHRoaXMuYWZmZWN0c0RhdGEsdGhpcy5iYXNlVmVyc2lvbisxKX1fZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5uZXdSYW5nZT9cIl9zZXRcIjpcIl9yZW1vdmVcIjt0aGlzLl9tYXJrZXJzW3RdKHRoaXMubmFtZSx0aGlzLm5ld1JhbmdlLCEwLHRoaXMuYWZmZWN0c0RhdGEpfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHRoaXMub2xkUmFuZ2UmJih0Lm9sZFJhbmdlPXRoaXMub2xkUmFuZ2UudG9KU09OKCkpLHRoaXMubmV3UmFuZ2UmJih0Lm5ld1JhbmdlPXRoaXMubmV3UmFuZ2UudG9KU09OKCkpLGRlbGV0ZSB0Ll9tYXJrZXJzLHR9c3RhdGljIGdldCBjbGFzc05hbWUoKXtyZXR1cm5cIk1hcmtlck9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe3JldHVybiBuZXcgbGModC5uYW1lLHQub2xkUmFuZ2U/R3MuZnJvbUpTT04odC5vbGRSYW5nZSxlKTpudWxsLHQubmV3UmFuZ2U/R3MuZnJvbUpTT04odC5uZXdSYW5nZSxlKTpudWxsLGUubW9kZWwubWFya2Vycyx0LmFmZmVjdHNEYXRhLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBkYyBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKHQsZSxuLGkpe3N1cGVyKGkpLHRoaXMucG9zaXRpb249dCx0aGlzLnBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIix0aGlzLm9sZE5hbWU9ZSx0aGlzLm5ld05hbWU9bn1nZXQgdHlwZSgpe3JldHVyblwicmVuYW1lXCJ9Y2xvbmUoKXtyZXR1cm4gbmV3IGRjKHRoaXMucG9zaXRpb24uY2xvbmUoKSx0aGlzLm9sZE5hbWUsdGhpcy5uZXdOYW1lLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7cmV0dXJuIG5ldyBkYyh0aGlzLnBvc2l0aW9uLmNsb25lKCksdGhpcy5uZXdOYW1lLHRoaXMub2xkTmFtZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2NvbnN0IHQ9dGhpcy5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYoISh0IGluc3RhbmNlb2YgSHMpKXRocm93IG5ldyBHbi5iKFwicmVuYW1lLW9wZXJhdGlvbi13cm9uZy1wb3NpdGlvbjogR2l2ZW4gcG9zaXRpb24gaXMgaW52YWxpZCBvciBub2RlIGFmdGVyIGl0IGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LlwiKTtpZih0Lm5hbWUhPT10aGlzLm9sZE5hbWUpdGhyb3cgbmV3IEduLmIoXCJyZW5hbWUtb3BlcmF0aW9uLXdyb25nLW5hbWU6IEVsZW1lbnQgdG8gY2hhbmdlIGhhcyBkaWZmZXJlbnQgbmFtZSB0aGFuIG9wZXJhdGlvbidzIG9sZCBuYW1lLlwiKX1fZXhlY3V0ZSgpe3RoaXMucG9zaXRpb24ubm9kZUFmdGVyLm5hbWU9dGhpcy5uZXdOYW1lfXRvSlNPTigpe2NvbnN0IHQ9c3VwZXIudG9KU09OKCk7cmV0dXJuIHQucG9zaXRpb249dGhpcy5wb3NpdGlvbi50b0pTT04oKSx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJSZW5hbWVPcGVyYXRpb25cIn1zdGF0aWMgZnJvbUpTT04odCxlKXtyZXR1cm4gbmV3IGRjKCRzLmZyb21KU09OKHQucG9zaXRpb24sZSksdC5vbGROYW1lLHQubmV3TmFtZSx0LmJhc2VWZXJzaW9uKX19Y2xhc3MgdWMgZXh0ZW5kcyBRYXtjb25zdHJ1Y3Rvcih0LGUsbixpLG8pe3N1cGVyKG8pLHRoaXMucm9vdD10LHRoaXMua2V5PWUsdGhpcy5vbGRWYWx1ZT1uLHRoaXMubmV3VmFsdWU9aX1nZXQgdHlwZSgpe3JldHVybiBudWxsPT09dGhpcy5vbGRWYWx1ZT9cImFkZFJvb3RBdHRyaWJ1dGVcIjpudWxsPT09dGhpcy5uZXdWYWx1ZT9cInJlbW92ZVJvb3RBdHRyaWJ1dGVcIjpcImNoYW5nZVJvb3RBdHRyaWJ1dGVcIn1jbG9uZSgpe3JldHVybiBuZXcgdWModGhpcy5yb290LHRoaXMua2V5LHRoaXMub2xkVmFsdWUsdGhpcy5uZXdWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgdWModGhpcy5yb290LHRoaXMua2V5LHRoaXMubmV3VmFsdWUsdGhpcy5vbGRWYWx1ZSx0aGlzLmJhc2VWZXJzaW9uKzEpfV92YWxpZGF0ZSgpe2lmKHRoaXMucm9vdCE9dGhpcy5yb290LnJvb3R8fHRoaXMucm9vdC5pcyhcImRvY3VtZW50RnJhZ21lbnRcIikpdGhyb3cgbmV3IEduLmIoXCJyb290YXR0cmlidXRlLW9wZXJhdGlvbi1ub3QtYS1yb290OiBUaGUgZWxlbWVudCB0byBjaGFuZ2UgaXMgbm90IGEgcm9vdCBlbGVtZW50LlwiLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KTtpZihudWxsIT09dGhpcy5vbGRWYWx1ZSYmdGhpcy5yb290LmdldEF0dHJpYnV0ZSh0aGlzLmtleSkhPT10aGlzLm9sZFZhbHVlKXRocm93IG5ldyBHbi5iKFwicm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24td3Jvbmctb2xkLXZhbHVlOiBDaGFuZ2VkIG5vZGUgaGFzIGRpZmZlcmVudCBhdHRyaWJ1dGUgdmFsdWUgdGhhbiBvcGVyYXRpb24ncyBvbGQgYXR0cmlidXRlIHZhbHVlLlwiLHtyb290OnRoaXMucm9vdCxrZXk6dGhpcy5rZXl9KTtpZihudWxsPT09dGhpcy5vbGRWYWx1ZSYmbnVsbCE9PXRoaXMubmV3VmFsdWUmJnRoaXMucm9vdC5oYXNBdHRyaWJ1dGUodGhpcy5rZXkpKXRocm93IG5ldyBHbi5iKFwicm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tYXR0cmlidXRlLWV4aXN0czogVGhlIGF0dHJpYnV0ZSB3aXRoIGdpdmVuIGtleSBhbHJlYWR5IGV4aXN0cy5cIix7cm9vdDp0aGlzLnJvb3Qsa2V5OnRoaXMua2V5fSl9X2V4ZWN1dGUoKXtudWxsIT09dGhpcy5uZXdWYWx1ZT90aGlzLnJvb3QuX3NldEF0dHJpYnV0ZSh0aGlzLmtleSx0aGlzLm5ld1ZhbHVlKTp0aGlzLnJvb3QuX3JlbW92ZUF0dHJpYnV0ZSh0aGlzLmtleSl9dG9KU09OKCl7Y29uc3QgdD1zdXBlci50b0pTT04oKTtyZXR1cm4gdC5yb290PXRoaXMucm9vdC50b0pTT04oKSx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJSb290QXR0cmlidXRlT3BlcmF0aW9uXCJ9c3RhdGljIGZyb21KU09OKHQsZSl7aWYoIWUuZ2V0Um9vdCh0LnJvb3QpKXRocm93IG5ldyBHbi5iKFwicm9vdGF0dHJpYnV0ZS1vcGVyYXRpb24tZnJvbWpzb24tbm8tcm9vdDogQ2Fubm90IGNyZWF0ZSBSb290QXR0cmlidXRlT3BlcmF0aW9uLiBSb290IHdpdGggc3BlY2lmaWVkIG5hbWUgZG9lcyBub3QgZXhpc3QuXCIse3Jvb3ROYW1lOnQucm9vdH0pO3JldHVybiBuZXcgdWMoZS5nZXRSb290KHQucm9vdCksdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLHQuYmFzZVZlcnNpb24pfX1jbGFzcyBoYyBleHRlbmRzIFFhe2NvbnN0cnVjdG9yKHQsZSxuLGksbyl7c3VwZXIobyksdGhpcy5zb3VyY2VQb3NpdGlvbj10LmNsb25lKCksdGhpcy5zb3VyY2VQb3NpdGlvbi5zdGlja2luZXNzPVwidG9QcmV2aW91c1wiLHRoaXMuaG93TWFueT1lLHRoaXMudGFyZ2V0UG9zaXRpb249bi5jbG9uZSgpLHRoaXMudGFyZ2V0UG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiLHRoaXMuZ3JhdmV5YXJkUG9zaXRpb249aS5jbG9uZSgpfWdldCB0eXBlKCl7cmV0dXJuXCJtZXJnZVwifWdldCBkZWxldGlvblBvc2l0aW9uKCl7cmV0dXJuIG5ldyAkcyh0aGlzLnNvdXJjZVBvc2l0aW9uLnJvb3QsdGhpcy5zb3VyY2VQb3NpdGlvbi5wYXRoLnNsaWNlKDAsLTEpKX1nZXQgbW92ZWRSYW5nZSgpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5nZXRTaGlmdGVkQnkoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtyZXR1cm4gbmV3IEdzKHRoaXMuc291cmNlUG9zaXRpb24sdCl9Y2xvbmUoKXtyZXR1cm4gbmV3IHRoaXMuY29uc3RydWN0b3IodGhpcy5zb3VyY2VQb3NpdGlvbix0aGlzLmhvd01hbnksdGhpcy50YXJnZXRQb3NpdGlvbix0aGlzLmdyYXZleWFyZFBvc2l0aW9uLHRoaXMuYmFzZVZlcnNpb24pfWdldFJldmVyc2VkKCl7Y29uc3QgdD10aGlzLnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odGhpcyksZT10aGlzLnNvdXJjZVBvc2l0aW9uLnBhdGguc2xpY2UoMCwtMSksbj1uZXcgJHModGhpcy5zb3VyY2VQb3NpdGlvbi5yb290LGUpLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24odGhpcyksaT1uZXcgZmModCx0aGlzLmhvd01hbnksdGhpcy5ncmF2ZXlhcmRQb3NpdGlvbix0aGlzLmJhc2VWZXJzaW9uKzEpO3JldHVybiBpLmluc2VydGlvblBvc2l0aW9uPW4saX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMuc291cmNlUG9zaXRpb24ucGFyZW50LGU9dGhpcy50YXJnZXRQb3NpdGlvbi5wYXJlbnQ7aWYoISh0JiZ0LmlzKFwiZWxlbWVudFwiKSYmdC5wYXJlbnQpKXRocm93IG5ldyBHbi5iKFwibWVyZ2Utb3BlcmF0aW9uLXNvdXJjZS1wb3NpdGlvbi1pbnZhbGlkOiBNZXJnZSBzb3VyY2UgcG9zaXRpb24gaXMgaW52YWxpZC5cIik7aWYoIShlJiZlLmlzKFwiZWxlbWVudFwiKSYmZS5wYXJlbnQpKXRocm93IG5ldyBHbi5iKFwibWVyZ2Utb3BlcmF0aW9uLXRhcmdldC1wb3NpdGlvbi1pbnZhbGlkOiBNZXJnZSB0YXJnZXQgcG9zaXRpb24gaXMgaW52YWxpZC5cIik7aWYodGhpcy5ob3dNYW55IT10Lm1heE9mZnNldCl0aHJvdyBuZXcgR24uYihcIm1lcmdlLW9wZXJhdGlvbi1ob3ctbWFueS1pbnZhbGlkOiBNZXJnZSBvcGVyYXRpb24gc3BlY2lmaWVzIHdyb25nIG51bWJlciBvZiBub2RlcyB0byBtb3ZlLlwiKX1fZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5zb3VyY2VQb3NpdGlvbi5wYXJlbnQ7WGEoR3MuX2NyZWF0ZUluKHQpLHRoaXMudGFyZ2V0UG9zaXRpb24pLFhhKEdzLl9jcmVhdGVPbih0KSx0aGlzLmdyYXZleWFyZFBvc2l0aW9uKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LnNvdXJjZVBvc2l0aW9uPXQuc291cmNlUG9zaXRpb24udG9KU09OKCksdC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLnRvSlNPTigpLHQuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi50b0pTT04oKSx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJNZXJnZU9wZXJhdGlvblwifXN0YXRpYyBmcm9tSlNPTih0LGUpe2NvbnN0IG49JHMuZnJvbUpTT04odC5zb3VyY2VQb3NpdGlvbixlKSxpPSRzLmZyb21KU09OKHQudGFyZ2V0UG9zaXRpb24sZSksbz0kcy5mcm9tSlNPTih0LmdyYXZleWFyZFBvc2l0aW9uLGUpO3JldHVybiBuZXcgdGhpcyhuLHQuaG93TWFueSxpLG8sdC5iYXNlVmVyc2lvbil9fWNsYXNzIGZjIGV4dGVuZHMgUWF7Y29uc3RydWN0b3IodCxlLG4saSl7c3VwZXIoaSksdGhpcy5zcGxpdFBvc2l0aW9uPXQuY2xvbmUoKSx0aGlzLnNwbGl0UG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiLHRoaXMuaG93TWFueT1lLHRoaXMuaW5zZXJ0aW9uUG9zaXRpb249ZmMuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odCksdGhpcy5pbnNlcnRpb25Qb3NpdGlvbi5zdGlja2luZXNzPVwidG9Ob25lXCIsdGhpcy5ncmF2ZXlhcmRQb3NpdGlvbj1uP24uY2xvbmUoKTpudWxsLHRoaXMuZ3JhdmV5YXJkUG9zaXRpb24mJih0aGlzLmdyYXZleWFyZFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIil9Z2V0IHR5cGUoKXtyZXR1cm5cInNwbGl0XCJ9Z2V0IG1vdmVUYXJnZXRQb3NpdGlvbigpe2NvbnN0IHQ9dGhpcy5pbnNlcnRpb25Qb3NpdGlvbi5wYXRoLnNsaWNlKCk7cmV0dXJuIHQucHVzaCgwKSxuZXcgJHModGhpcy5pbnNlcnRpb25Qb3NpdGlvbi5yb290LHQpfWdldCBtb3ZlZFJhbmdlKCl7Y29uc3QgdD10aGlzLnNwbGl0UG9zaXRpb24uZ2V0U2hpZnRlZEJ5KE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7cmV0dXJuIG5ldyBHcyh0aGlzLnNwbGl0UG9zaXRpb24sdCl9Y2xvbmUoKXtjb25zdCB0PW5ldyB0aGlzLmNvbnN0cnVjdG9yKHRoaXMuc3BsaXRQb3NpdGlvbix0aGlzLmhvd01hbnksdGhpcy5ncmF2ZXlhcmRQb3NpdGlvbix0aGlzLmJhc2VWZXJzaW9uKTtyZXR1cm4gdC5pbnNlcnRpb25Qb3NpdGlvbj10aGlzLmluc2VydGlvblBvc2l0aW9uLHR9Z2V0UmV2ZXJzZWQoKXtjb25zdCB0PXRoaXMuc3BsaXRQb3NpdGlvbi5yb290LmRvY3VtZW50LmdyYXZleWFyZCxlPW5ldyAkcyh0LFswXSk7cmV0dXJuIG5ldyBoYyh0aGlzLm1vdmVUYXJnZXRQb3NpdGlvbix0aGlzLmhvd01hbnksdGhpcy5zcGxpdFBvc2l0aW9uLGUsdGhpcy5iYXNlVmVyc2lvbisxKX1fdmFsaWRhdGUoKXtjb25zdCB0PXRoaXMuc3BsaXRQb3NpdGlvbi5wYXJlbnQsZT10aGlzLnNwbGl0UG9zaXRpb24ub2Zmc2V0O2lmKCF0fHx0Lm1heE9mZnNldDxlKXRocm93IG5ldyBHbi5iKFwic3BsaXQtb3BlcmF0aW9uLXBvc2l0aW9uLWludmFsaWQ6IFNwbGl0IHBvc2l0aW9uIGlzIGludmFsaWQuXCIpO2lmKCF0LnBhcmVudCl0aHJvdyBuZXcgR24uYihcInNwbGl0LW9wZXJhdGlvbi1zcGxpdC1pbi1yb290OiBDYW5ub3Qgc3BsaXQgcm9vdCBlbGVtZW50LlwiKTtpZih0aGlzLmhvd01hbnkhPXQubWF4T2Zmc2V0LXRoaXMuc3BsaXRQb3NpdGlvbi5vZmZzZXQpdGhyb3cgbmV3IEduLmIoXCJzcGxpdC1vcGVyYXRpb24taG93LW1hbnktaW52YWxpZDogU3BsaXQgb3BlcmF0aW9uIHNwZWNpZmllcyB3cm9uZyBudW1iZXIgb2Ygbm9kZXMgdG8gbW92ZS5cIik7aWYodGhpcy5ncmF2ZXlhcmRQb3NpdGlvbiYmIXRoaXMuZ3JhdmV5YXJkUG9zaXRpb24ubm9kZUFmdGVyKXRocm93IG5ldyBHbi5iKFwic3BsaXQtb3BlcmF0aW9uLWdyYXZleWFyZC1wb3NpdGlvbi1pbnZhbGlkOiBHcmF2ZXlhcmQgcG9zaXRpb24gaW52YWxpZC5cIil9X2V4ZWN1dGUoKXtjb25zdCB0PXRoaXMuc3BsaXRQb3NpdGlvbi5wYXJlbnQ7aWYodGhpcy5ncmF2ZXlhcmRQb3NpdGlvbilYYShHcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodGhpcy5ncmF2ZXlhcmRQb3NpdGlvbiwxKSx0aGlzLmluc2VydGlvblBvc2l0aW9uKTtlbHNle2NvbnN0IGU9dC5fY2xvbmUoKTtLYSh0aGlzLmluc2VydGlvblBvc2l0aW9uLGUpfVhhKG5ldyBHcygkcy5fY3JlYXRlQXQodCx0aGlzLnNwbGl0UG9zaXRpb24ub2Zmc2V0KSwkcy5fY3JlYXRlQXQodCx0Lm1heE9mZnNldCkpLHRoaXMubW92ZVRhcmdldFBvc2l0aW9uKX10b0pTT04oKXtjb25zdCB0PXN1cGVyLnRvSlNPTigpO3JldHVybiB0LnNwbGl0UG9zaXRpb249dGhpcy5zcGxpdFBvc2l0aW9uLnRvSlNPTigpLHQuaW5zZXJ0aW9uUG9zaXRpb249dGhpcy5pbnNlcnRpb25Qb3NpdGlvbi50b0pTT04oKSx0aGlzLmdyYXZleWFyZFBvc2l0aW9uJiYodC5ncmF2ZXlhcmRQb3NpdGlvbj10aGlzLmdyYXZleWFyZFBvc2l0aW9uLnRvSlNPTigpKSx0fXN0YXRpYyBnZXQgY2xhc3NOYW1lKCl7cmV0dXJuXCJTcGxpdE9wZXJhdGlvblwifXN0YXRpYyBnZXRJbnNlcnRpb25Qb3NpdGlvbih0KXtjb25zdCBlPXQucGF0aC5zbGljZSgwLC0xKTtyZXR1cm4gZVtlLmxlbmd0aC0xXSsrLG5ldyAkcyh0LnJvb3QsZSl9c3RhdGljIGZyb21KU09OKHQsZSl7Y29uc3Qgbj0kcy5mcm9tSlNPTih0LnNwbGl0UG9zaXRpb24sZSksaT0kcy5mcm9tSlNPTih0Lmluc2VydGlvblBvc2l0aW9uLGUpLG89dC5ncmF2ZXlhcmRQb3NpdGlvbj8kcy5mcm9tSlNPTih0LmdyYXZleWFyZFBvc2l0aW9uLGUpOm51bGwscj1uZXcgdGhpcyhuLHQuaG93TWFueSxvLHQuYmFzZVZlcnNpb24pO3JldHVybiByLmluc2VydGlvblBvc2l0aW9uPWkscn19Y2xhc3MgbWMgZXh0ZW5kcyBIc3tjb25zdHJ1Y3Rvcih0LGUsbj1cIm1haW5cIil7c3VwZXIoZSksdGhpcy5fZG9jPXQsdGhpcy5yb290TmFtZT1ufWdldCBkb2N1bWVudCgpe3JldHVybiB0aGlzLl9kb2N9aXModCxlKXtyZXR1cm4gZT9cInJvb3RFbGVtZW50XCI9PXQmJmU9PXRoaXMubmFtZXx8c3VwZXIuaXModCxlKTpcInJvb3RFbGVtZW50XCI9PXR8fHN1cGVyLmlzKHQpfXRvSlNPTigpe3JldHVybiB0aGlzLnJvb3ROYW1lfX1jbGFzcyBwY3tjb25zdHJ1Y3Rvcih0LGUpe3RoaXMubW9kZWw9dCx0aGlzLmJhdGNoPWV9Y3JlYXRlVGV4dCh0LGUpe3JldHVybiBuZXcgenModCxlKX1jcmVhdGVFbGVtZW50KHQsZSl7cmV0dXJuIG5ldyBIcyh0LGUpfWNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKXtyZXR1cm4gbmV3IEphfWluc2VydCh0LGUsbj0wKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksdCBpbnN0YW5jZW9mIHpzJiZcIlwiPT10LmRhdGEpcmV0dXJuO2NvbnN0IGk9JHMuX2NyZWF0ZUF0KGUsbik7aWYodC5wYXJlbnQpe2lmKGtjKHQucm9vdCxpLnJvb3QpKXJldHVybiB2b2lkIHRoaXMubW92ZShHcy5fY3JlYXRlT24odCksaSk7aWYodC5yb290LmRvY3VtZW50KXRocm93IG5ldyBFcnJvcihcIm1vZGVsLXdyaXRlci1pbnNlcnQtZm9yYmlkZGVuLW1vdmU6IENhbm5vdCBtb3ZlIGEgbm9kZSBmcm9tIGEgZG9jdW1lbnQgdG8gYSBkaWZmZXJlbnQgdHJlZS5cIik7dGhpcy5yZW1vdmUodCl9Y29uc3Qgbz1pLnJvb3QuZG9jdW1lbnQ/aS5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxyPW5ldyBjYyhpLHQsbyk7aWYodCBpbnN0YW5jZW9mIHpzJiYoci5zaG91bGRSZWNlaXZlQXR0cmlidXRlcz0hMCksdGhpcy5iYXRjaC5hZGRPcGVyYXRpb24ociksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihyKSx0IGluc3RhbmNlb2YgSmEpZm9yKGNvbnN0W2Usbl1vZiB0Lm1hcmtlcnMpe2NvbnN0IHQ9JHMuX2NyZWF0ZUF0KG4ucm9vdCwwKSxvPW5ldyBHcyhuLnN0YXJ0Ll9nZXRDb21iaW5lZCh0LGkpLG4uZW5kLl9nZXRDb21iaW5lZCh0LGkpKTt0aGlzLmFkZE1hcmtlcihlLHtyYW5nZTpvLHVzaW5nT3BlcmF0aW9uOiEwLGFmZmVjdHNEYXRhOiEwfSl9fWluc2VydFRleHQodCxlLG4saSl7ZSBpbnN0YW5jZW9mIEphfHxlIGluc3RhbmNlb2YgSHN8fGUgaW5zdGFuY2VvZiAkcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxuKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCxlKSxuLGkpfWluc2VydEVsZW1lbnQodCxlLG4saSl7ZSBpbnN0YW5jZW9mIEphfHxlIGluc3RhbmNlb2YgSHN8fGUgaW5zdGFuY2VvZiAkcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCksZSxuKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZUVsZW1lbnQodCxlKSxuLGkpfWFwcGVuZCh0LGUpe3RoaXMuaW5zZXJ0KHQsZSxcImVuZFwiKX1hcHBlbmRUZXh0KHQsZSxuKXtlIGluc3RhbmNlb2YgSmF8fGUgaW5zdGFuY2VvZiBIcz90aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCksZSxcImVuZFwiKTp0aGlzLmluc2VydCh0aGlzLmNyZWF0ZVRleHQodCxlKSxuLFwiZW5kXCIpfWFwcGVuZEVsZW1lbnQodCxlLG4pe2UgaW5zdGFuY2VvZiBKYXx8ZSBpbnN0YW5jZW9mIEhzP3RoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0KSxlLFwiZW5kXCIpOnRoaXMuaW5zZXJ0KHRoaXMuY3JlYXRlRWxlbWVudCh0LGUpLG4sXCJlbmRcIil9c2V0QXR0cmlidXRlKHQsZSxuKXtpZih0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCksbiBpbnN0YW5jZW9mIEdzKXtjb25zdCBpPW4uZ2V0TWluaW1hbEZsYXRSYW5nZXMoKTtmb3IoY29uc3QgbiBvZiBpKWdjKHRoaXMsdCxlLG4pfWVsc2UgYmModGhpcyx0LGUsbil9c2V0QXR0cmlidXRlcyh0LGUpe2Zvcihjb25zdFtuLGldb2YgVnModCkpdGhpcy5zZXRBdHRyaWJ1dGUobixpLGUpfXJlbW92ZUF0dHJpYnV0ZSh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxlIGluc3RhbmNlb2YgR3Mpe2NvbnN0IG49ZS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpO2Zvcihjb25zdCBlIG9mIG4pZ2ModGhpcyx0LG51bGwsZSl9ZWxzZSBiYyh0aGlzLHQsbnVsbCxlKX1jbGVhckF0dHJpYnV0ZXModCl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpO2NvbnN0IGU9dD0+e2Zvcihjb25zdCBlIG9mIHQuZ2V0QXR0cmlidXRlS2V5cygpKXRoaXMucmVtb3ZlQXR0cmlidXRlKGUsdCl9O2lmKHQgaW5zdGFuY2VvZiBHcylmb3IoY29uc3QgbiBvZiB0LmdldEl0ZW1zKCkpZShuKTtlbHNlIGUodCl9bW92ZSh0LGUsbil7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCEodCBpbnN0YW5jZW9mIEdzKSl0aHJvdyBuZXcgR24uYihcIndyaXRlci1tb3ZlLWludmFsaWQtcmFuZ2U6IEludmFsaWQgcmFuZ2UgdG8gbW92ZS5cIik7aWYoIXQuaXNGbGF0KXRocm93IG5ldyBHbi5iKFwid3JpdGVyLW1vdmUtcmFuZ2Utbm90LWZsYXQ6IFJhbmdlIHRvIG1vdmUgaXMgbm90IGZsYXQuXCIpO2NvbnN0IGk9JHMuX2NyZWF0ZUF0KGUsbik7aWYoaS5pc0VxdWFsKHQuc3RhcnQpKXJldHVybjtpZih0aGlzLl9hZGRPcGVyYXRpb25Gb3JBZmZlY3RlZE1hcmtlcnMoXCJtb3ZlXCIsdCksIWtjKHQucm9vdCxpLnJvb3QpKXRocm93IG5ldyBHbi5iKFwid3JpdGVyLW1vdmUtZGlmZmVyZW50LWRvY3VtZW50OiBSYW5nZSBpcyBnb2luZyB0byBiZSBtb3ZlZCBiZXR3ZWVuIGRpZmZlcmVudCBkb2N1bWVudHMuXCIpO2NvbnN0IG89dC5yb290LmRvY3VtZW50P3Qucm9vdC5kb2N1bWVudC52ZXJzaW9uOm51bGwscj1uZXcgYWModC5zdGFydCx0LmVuZC5vZmZzZXQtdC5zdGFydC5vZmZzZXQsaSxvKTt0aGlzLmJhdGNoLmFkZE9wZXJhdGlvbihyKSx0aGlzLm1vZGVsLmFwcGx5T3BlcmF0aW9uKHIpfXJlbW92ZSh0KXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3QgZT0odCBpbnN0YW5jZW9mIEdzP3Q6R3MuX2NyZWF0ZU9uKHQpKS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpLnJldmVyc2UoKTtmb3IoY29uc3QgdCBvZiBlKXRoaXMuX2FkZE9wZXJhdGlvbkZvckFmZmVjdGVkTWFya2VycyhcIm1vdmVcIix0KSxfYyh0LnN0YXJ0LHQuZW5kLm9mZnNldC10LnN0YXJ0Lm9mZnNldCx0aGlzLmJhdGNoLHRoaXMubW9kZWwpfW1lcmdlKHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBlPXQubm9kZUJlZm9yZSxuPXQubm9kZUFmdGVyO2lmKHRoaXMuX2FkZE9wZXJhdGlvbkZvckFmZmVjdGVkTWFya2VycyhcIm1lcmdlXCIsdCksIShlIGluc3RhbmNlb2YgSHMpKXRocm93IG5ldyBHbi5iKFwid3JpdGVyLW1lcmdlLW5vLWVsZW1lbnQtYmVmb3JlOiBOb2RlIGJlZm9yZSBtZXJnZSBwb3NpdGlvbiBtdXN0IGJlIGFuIGVsZW1lbnQuXCIpO2lmKCEobiBpbnN0YW5jZW9mIEhzKSl0aHJvdyBuZXcgR24uYihcIndyaXRlci1tZXJnZS1uby1lbGVtZW50LWFmdGVyOiBOb2RlIGFmdGVyIG1lcmdlIHBvc2l0aW9uIG11c3QgYmUgYW4gZWxlbWVudC5cIik7dC5yb290LmRvY3VtZW50P3RoaXMuX21lcmdlKHQpOnRoaXMuX21lcmdlRGV0YWNoZWQodCl9Y3JlYXRlUG9zaXRpb25Gcm9tUGF0aCh0LGUsbil7cmV0dXJuIHRoaXMubW9kZWwuY3JlYXRlUG9zaXRpb25Gcm9tUGF0aCh0LGUsbil9Y3JlYXRlUG9zaXRpb25BdCh0LGUpe3JldHVybiB0aGlzLm1vZGVsLmNyZWF0ZVBvc2l0aW9uQXQodCxlKX1jcmVhdGVQb3NpdGlvbkFmdGVyKHQpe3JldHVybiB0aGlzLm1vZGVsLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIodCl9Y3JlYXRlUG9zaXRpb25CZWZvcmUodCl7cmV0dXJuIHRoaXMubW9kZWwuY3JlYXRlUG9zaXRpb25CZWZvcmUodCl9Y3JlYXRlUmFuZ2UodCxlKXtyZXR1cm4gdGhpcy5tb2RlbC5jcmVhdGVSYW5nZSh0LGUpfWNyZWF0ZVJhbmdlSW4odCl7cmV0dXJuIHRoaXMubW9kZWwuY3JlYXRlUmFuZ2VJbih0KX1jcmVhdGVSYW5nZU9uKHQpe3JldHVybiB0aGlzLm1vZGVsLmNyZWF0ZVJhbmdlT24odCl9Y3JlYXRlU2VsZWN0aW9uKHQsZSxuKXtyZXR1cm4gdGhpcy5tb2RlbC5jcmVhdGVTZWxlY3Rpb24odCxlLG4pfV9tZXJnZURldGFjaGVkKHQpe2NvbnN0IGU9dC5ub2RlQmVmb3JlLG49dC5ub2RlQWZ0ZXI7dGhpcy5tb3ZlKEdzLl9jcmVhdGVJbihuKSwkcy5fY3JlYXRlQXQoZSxcImVuZFwiKSksdGhpcy5yZW1vdmUobil9X21lcmdlKHQpe2NvbnN0IGU9JHMuX2NyZWF0ZUF0KHQubm9kZUJlZm9yZSxcImVuZFwiKSxuPSRzLl9jcmVhdGVBdCh0Lm5vZGVBZnRlciwwKSxpPXQucm9vdC5kb2N1bWVudC5ncmF2ZXlhcmQsbz1uZXcgJHMoaSxbMF0pLHI9dC5yb290LmRvY3VtZW50LnZlcnNpb24scz1uZXcgaGMobix0Lm5vZGVBZnRlci5tYXhPZmZzZXQsZSxvLHIpO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKHMpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocyl9cmVuYW1lKHQsZSl7aWYodGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLCEodCBpbnN0YW5jZW9mIEhzKSl0aHJvdyBuZXcgR24uYihcIndyaXRlci1yZW5hbWUtbm90LWVsZW1lbnQtaW5zdGFuY2U6IFRyeWluZyB0byByZW5hbWUgYW4gb2JqZWN0IHdoaWNoIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBFbGVtZW50LlwiKTtjb25zdCBuPXQucm9vdC5kb2N1bWVudD90LnJvb3QuZG9jdW1lbnQudmVyc2lvbjpudWxsLGk9bmV3IGRjKCRzLl9jcmVhdGVCZWZvcmUodCksdC5uYW1lLGUsbik7dGhpcy5iYXRjaC5hZGRPcGVyYXRpb24oaSksdGhpcy5tb2RlbC5hcHBseU9wZXJhdGlvbihpKX1zcGxpdCh0LGUpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtsZXQgbixpLG89dC5wYXJlbnQ7aWYoIW8ucGFyZW50KXRocm93IG5ldyBHbi5iKFwid3JpdGVyLXNwbGl0LWVsZW1lbnQtbm8tcGFyZW50OiBFbGVtZW50IHdpdGggbm8gcGFyZW50IGNhbiBub3QgYmUgc3BsaXQuXCIpO2lmKGV8fChlPW8ucGFyZW50KSwhdC5wYXJlbnQuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMH0pLmluY2x1ZGVzKGUpKXRocm93IG5ldyBHbi5iKFwid3JpdGVyLXNwbGl0LWludmFsaWQtbGltaXQtZWxlbWVudDogTGltaXQgZWxlbWVudCBpcyBub3QgYSBwb3NpdGlvbiBhbmNlc3Rvci5cIik7ZG97Y29uc3QgZT1vLnJvb3QuZG9jdW1lbnQ/by5yb290LmRvY3VtZW50LnZlcnNpb246bnVsbCxyPW8ubWF4T2Zmc2V0LXQub2Zmc2V0LHM9bmV3IGZjKHQscixudWxsLGUpO3RoaXMuYmF0Y2guYWRkT3BlcmF0aW9uKHMpLHRoaXMubW9kZWwuYXBwbHlPcGVyYXRpb24ocyksbnx8aXx8KG49byxpPXQucGFyZW50Lm5leHRTaWJsaW5nKSxvPSh0PXRoaXMuY3JlYXRlUG9zaXRpb25BZnRlcih0LnBhcmVudCkpLnBhcmVudH13aGlsZShvIT09ZSk7cmV0dXJue3Bvc2l0aW9uOnQscmFuZ2U6bmV3IEdzKCRzLl9jcmVhdGVBdChuLFwiZW5kXCIpLCRzLl9jcmVhdGVBdChpLDApKX19d3JhcCh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhdC5pc0ZsYXQpdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItd3JhcC1yYW5nZS1ub3QtZmxhdDogUmFuZ2UgdG8gd3JhcCBpcyBub3QgZmxhdC5cIik7Y29uc3Qgbj1lIGluc3RhbmNlb2YgSHM/ZTpuZXcgSHMoZSk7aWYobi5jaGlsZENvdW50PjApdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItd3JhcC1lbGVtZW50LW5vdC1lbXB0eTogRWxlbWVudCB0byB3cmFwIHdpdGggaXMgbm90IGVtcHR5LlwiKTtpZihudWxsIT09bi5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItd3JhcC1lbGVtZW50LWF0dGFjaGVkOiBFbGVtZW50IHRvIHdyYXAgd2l0aCBpcyBhbHJlYWR5IGF0dGFjaGVkIHRvIHRyZWUgbW9kZWwuXCIpO3RoaXMuaW5zZXJ0KG4sdC5zdGFydCk7Y29uc3QgaT1uZXcgR3ModC5zdGFydC5nZXRTaGlmdGVkQnkoMSksdC5lbmQuZ2V0U2hpZnRlZEJ5KDEpKTt0aGlzLm1vdmUoaSwkcy5fY3JlYXRlQXQobiwwKSl9dW53cmFwKHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxudWxsPT09dC5wYXJlbnQpdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItdW53cmFwLWVsZW1lbnQtbm8tcGFyZW50OiBUcnlpbmcgdG8gdW53cmFwIGFuIGVsZW1lbnQgd2hpY2ggaGFzIG5vIHBhcmVudC5cIik7dGhpcy5tb3ZlKEdzLl9jcmVhdGVJbih0KSx0aGlzLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIodCkpLHRoaXMucmVtb3ZlKHQpfWFkZE1hcmtlcih0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSwhZXx8XCJib29sZWFuXCIhPXR5cGVvZiBlLnVzaW5nT3BlcmF0aW9uKXRocm93IG5ldyBHbi5iKFwid3JpdGVyLWFkZE1hcmtlci1uby11c2luZ09wZXJhdGlvbjogVGhlIG9wdGlvbnMudXNpbmdPcGVyYXRpb24gcGFyYW1ldGVyIGlzIHJlcXVpcmVkIHdoZW4gYWRkaW5nIGEgbmV3IG1hcmtlci5cIik7Y29uc3Qgbj1lLnVzaW5nT3BlcmF0aW9uLGk9ZS5yYW5nZSxvPXZvaWQgMCE9PWUuYWZmZWN0c0RhdGEmJmUuYWZmZWN0c0RhdGE7aWYodGhpcy5tb2RlbC5tYXJrZXJzLmhhcyh0KSl0aHJvdyBuZXcgR24uYihcIndyaXRlci1hZGRNYXJrZXItbWFya2VyLWV4aXN0czogTWFya2VyIHdpdGggcHJvdmlkZWQgbmFtZSBhbHJlYWR5IGV4aXN0cy5cIik7aWYoIWkpdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItYWRkTWFya2VyLW5vLXJhbmdlOiBSYW5nZSBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQgd2hlbiBhZGRpbmcgYSBuZXcgbWFya2VyLlwiKTtyZXR1cm4gbj8od2ModGhpcyx0LG51bGwsaSxvKSx0aGlzLm1vZGVsLm1hcmtlcnMuZ2V0KHQpKTp0aGlzLm1vZGVsLm1hcmtlcnMuX3NldCh0LGksbixvKX11cGRhdGVNYXJrZXIodCxlKXt0aGlzLl9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCk7Y29uc3Qgbj1cInN0cmluZ1wiPT10eXBlb2YgdD90OnQubmFtZSxpPXRoaXMubW9kZWwubWFya2Vycy5nZXQobik7aWYoIWkpdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItdXBkYXRlTWFya2VyLW1hcmtlci1ub3QtZXhpc3RzOiBNYXJrZXIgd2l0aCBwcm92aWRlZCBuYW1lIGRvZXMgbm90IGV4aXN0cy5cIik7aWYoIWUpcmV0dXJuIHZvaWQgdGhpcy5tb2RlbC5tYXJrZXJzLl9yZWZyZXNoKGkpO2NvbnN0IG89XCJib29sZWFuXCI9PXR5cGVvZiBlLnVzaW5nT3BlcmF0aW9uLHI9XCJib29sZWFuXCI9PXR5cGVvZiBlLmFmZmVjdHNEYXRhLHM9cj9lLmFmZmVjdHNEYXRhOmkuYWZmZWN0c0RhdGE7aWYoIW8mJiFlLnJhbmdlJiYhcil0aHJvdyBuZXcgR24uYihcIndyaXRlci11cGRhdGVNYXJrZXItd3Jvbmctb3B0aW9uczogT25lIG9mIHRoZSBvcHRpb25zIGlzIHJlcXVpcmVkIC0gcHJvdmlkZSByYW5nZSwgdXNpbmdPcGVyYXRpb25zIG9yIGFmZmVjdHNEYXRhLlwiKTtjb25zdCBhPWkuZ2V0UmFuZ2UoKSxjPWUucmFuZ2U/ZS5yYW5nZTphO28mJmUudXNpbmdPcGVyYXRpb24hPT1pLm1hbmFnZWRVc2luZ09wZXJhdGlvbnM/ZS51c2luZ09wZXJhdGlvbj93Yyh0aGlzLG4sbnVsbCxjLHMpOih3Yyh0aGlzLG4sYSxudWxsLHMpLHRoaXMubW9kZWwubWFya2Vycy5fc2V0KG4sYyx2b2lkIDAscykpOmkubWFuYWdlZFVzaW5nT3BlcmF0aW9ucz93Yyh0aGlzLG4sYSxjLHMpOnRoaXMubW9kZWwubWFya2Vycy5fc2V0KG4sYyx2b2lkIDAscyl9cmVtb3ZlTWFya2VyKHQpe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKTtjb25zdCBlPVwic3RyaW5nXCI9PXR5cGVvZiB0P3Q6dC5uYW1lO2lmKCF0aGlzLm1vZGVsLm1hcmtlcnMuaGFzKGUpKXRocm93IG5ldyBHbi5iKFwid3JpdGVyLXJlbW92ZU1hcmtlci1uby1tYXJrZXI6IFRyeWluZyB0byByZW1vdmUgbWFya2VyIHdoaWNoIGRvZXMgbm90IGV4aXN0LlwiKTtjb25zdCBuPXRoaXMubW9kZWwubWFya2Vycy5nZXQoZSk7bi5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zP3djKHRoaXMsZSxuLmdldFJhbmdlKCksbnVsbCxuLmFmZmVjdHNEYXRhKTp0aGlzLm1vZGVsLm1hcmtlcnMuX3JlbW92ZShlKX1zZXRTZWxlY3Rpb24odCxlLG4pe3RoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5fc2V0VG8odCxlLG4pfXNldFNlbGVjdGlvbkZvY3VzKHQsZSl7dGhpcy5fYXNzZXJ0V3JpdGVyVXNlZENvcnJlY3RseSgpLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9zZXRGb2N1cyh0LGUpfXNldFNlbGVjdGlvbkF0dHJpYnV0ZSh0LGUpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLl9zZXRTZWxlY3Rpb25BdHRyaWJ1dGUodCxlKTtlbHNlIGZvcihjb25zdFtlLG5db2YgVnModCkpdGhpcy5fc2V0U2VsZWN0aW9uQXR0cmlidXRlKGUsbil9cmVtb3ZlU2VsZWN0aW9uQXR0cmlidXRlKHQpe2lmKHRoaXMuX2Fzc2VydFdyaXRlclVzZWRDb3JyZWN0bHkoKSxcInN0cmluZ1wiPT10eXBlb2YgdCl0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodCk7ZWxzZSBmb3IoY29uc3QgZSBvZiB0KXRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZShlKX1vdmVycmlkZVNlbGVjdGlvbkdyYXZpdHkoKXtyZXR1cm4gdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uX292ZXJyaWRlR3Jhdml0eSgpfXJlc3RvcmVTZWxlY3Rpb25HcmF2aXR5KHQpe3RoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLl9yZXN0b3JlR3Jhdml0eSh0KX1fc2V0U2VsZWN0aW9uQXR0cmlidXRlKHQsZSl7Y29uc3Qgbj10aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihuLmlzQ29sbGFwc2VkJiZuLmFuY2hvci5wYXJlbnQuaXNFbXB0eSl7Y29uc3QgaT1zYS5fZ2V0U3RvcmVBdHRyaWJ1dGVLZXkodCk7dGhpcy5zZXRBdHRyaWJ1dGUoaSxlLG4uYW5jaG9yLnBhcmVudCl9bi5fc2V0QXR0cmlidXRlKHQsZSl9X3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSh0KXtjb25zdCBlPXRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKGUuaXNDb2xsYXBzZWQmJmUuYW5jaG9yLnBhcmVudC5pc0VtcHR5KXtjb25zdCBuPXNhLl9nZXRTdG9yZUF0dHJpYnV0ZUtleSh0KTt0aGlzLnJlbW92ZUF0dHJpYnV0ZShuLGUuYW5jaG9yLnBhcmVudCl9ZS5fcmVtb3ZlQXR0cmlidXRlKHQpfV9hc3NlcnRXcml0ZXJVc2VkQ29ycmVjdGx5KCl7aWYodGhpcy5tb2RlbC5fY3VycmVudFdyaXRlciE9PXRoaXMpdGhyb3cgbmV3IEduLmIoXCJ3cml0ZXItaW5jb3JyZWN0LXVzZTogVHJ5aW5nIHRvIHVzZSBhIHdyaXRlciBvdXRzaWRlIHRoZSBjaGFuZ2UoKSBibG9jay5cIil9X2FkZE9wZXJhdGlvbkZvckFmZmVjdGVkTWFya2Vycyh0LGUpe2Zvcihjb25zdCBuIG9mIHRoaXMubW9kZWwubWFya2Vycyl7aWYoIW4ubWFuYWdlZFVzaW5nT3BlcmF0aW9ucyljb250aW51ZTtjb25zdCBpPW4uZ2V0UmFuZ2UoKTtsZXQgbz0hMTtpZihcIm1vdmVcIj09dClvPWUuY29udGFpbnNQb3NpdGlvbihpLnN0YXJ0KXx8ZS5zdGFydC5pc0VxdWFsKGkuc3RhcnQpfHxlLmNvbnRhaW5zUG9zaXRpb24oaS5lbmQpfHxlLmVuZC5pc0VxdWFsKGkuZW5kKTtlbHNle2NvbnN0IHQ9ZS5ub2RlQmVmb3JlLG49ZS5ub2RlQWZ0ZXIscj1pLnN0YXJ0LnBhcmVudD09dCYmaS5zdGFydC5pc0F0RW5kLHM9aS5lbmQucGFyZW50PT1uJiYwPT1pLmVuZC5vZmZzZXQ7bz1yfHxzfW8mJnRoaXMudXBkYXRlTWFya2VyKG4ubmFtZSx7cmFuZ2U6aX0pfX19ZnVuY3Rpb24gZ2ModCxlLG4saSl7Y29uc3Qgbz10Lm1vZGVsLHI9by5kb2N1bWVudDtsZXQgcyxhLGMsbD1pLnN0YXJ0O2Zvcihjb25zdCB0IG9mIGkuZ2V0V2Fsa2VyKHtzaGFsbG93OiEwfSkpYz10Lml0ZW0uZ2V0QXR0cmlidXRlKGUpLHMmJmEhPWMmJihhIT1uJiZkKCksbD1zKSxzPXQubmV4dFBvc2l0aW9uLGE9YztmdW5jdGlvbiBkKCl7Y29uc3QgaT1uZXcgR3MobCxzKSxjPWkucm9vdC5kb2N1bWVudD9yLnZlcnNpb246bnVsbCxkPW5ldyByYyhpLGUsYSxuLGMpO3QuYmF0Y2guYWRkT3BlcmF0aW9uKGQpLG8uYXBwbHlPcGVyYXRpb24oZCl9cyBpbnN0YW5jZW9mICRzJiZzIT1sJiZhIT1uJiZkKCl9ZnVuY3Rpb24gYmModCxlLG4saSl7Y29uc3Qgbz10Lm1vZGVsLHI9by5kb2N1bWVudCxzPWkuZ2V0QXR0cmlidXRlKGUpO2xldCBhLGM7aWYocyE9bil7aWYoaS5yb290PT09aSl7Y29uc3QgdD1pLmRvY3VtZW50P3IudmVyc2lvbjpudWxsO2M9bmV3IHVjKGksZSxzLG4sdCl9ZWxzZXtjb25zdCBvPShhPW5ldyBHcygkcy5fY3JlYXRlQmVmb3JlKGkpLHQuY3JlYXRlUG9zaXRpb25BZnRlcihpKSkpLnJvb3QuZG9jdW1lbnQ/ci52ZXJzaW9uOm51bGw7Yz1uZXcgcmMoYSxlLHMsbixvKX10LmJhdGNoLmFkZE9wZXJhdGlvbihjKSxvLmFwcGx5T3BlcmF0aW9uKGMpfX1mdW5jdGlvbiB3Yyh0LGUsbixpLG8pe2NvbnN0IHI9dC5tb2RlbCxzPXIuZG9jdW1lbnQsYT1uZXcgbGMoZSxuLGksci5tYXJrZXJzLG8scy52ZXJzaW9uKTt0LmJhdGNoLmFkZE9wZXJhdGlvbihhKSxyLmFwcGx5T3BlcmF0aW9uKGEpfWZ1bmN0aW9uIF9jKHQsZSxuLGkpe2xldCBvO2lmKHQucm9vdC5kb2N1bWVudCl7Y29uc3Qgbj1pLmRvY3VtZW50LHI9bmV3ICRzKG4uZ3JhdmV5YXJkLFswXSk7bz1uZXcgYWModCxlLHIsbi52ZXJzaW9uKX1lbHNlIG89bmV3IHNjKHQsZSk7bi5hZGRPcGVyYXRpb24obyksaS5hcHBseU9wZXJhdGlvbihvKX1mdW5jdGlvbiBrYyh0LGUpe3JldHVybiB0PT09ZXx8dCBpbnN0YW5jZW9mIG1jJiZlIGluc3RhbmNlb2YgbWN9Y2xhc3MgdmN7Y29uc3RydWN0b3IodCl7dGhpcy5fbWFya2VyQ29sbGVjdGlvbj10LHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQ9bmV3IE1hcCx0aGlzLl9lbGVtZW50U25hcHNob3RzPW5ldyBNYXAsdGhpcy5fY2hhbmdlZE1hcmtlcnM9bmV3IE1hcCx0aGlzLl9jaGFuZ2VDb3VudD0wLHRoaXMuX2NhY2hlZENoYW5nZXM9bnVsbCx0aGlzLl9jYWNoZWRDaGFuZ2VzV2l0aEdyYXZleWFyZD1udWxsfWdldCBpc0VtcHR5KCl7cmV0dXJuIDA9PXRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuc2l6ZSYmMD09dGhpcy5fY2hhbmdlZE1hcmtlcnMuc2l6ZX1idWZmZXJPcGVyYXRpb24odCl7c3dpdGNoKHQudHlwZSl7Y2FzZVwiaW5zZXJ0XCI6aWYodGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnBvc2l0aW9uLnBhcmVudCkpcmV0dXJuO3RoaXMuX21hcmtJbnNlcnQodC5wb3NpdGlvbi5wYXJlbnQsdC5wb3NpdGlvbi5vZmZzZXQsdC5ub2Rlcy5tYXhPZmZzZXQpO2JyZWFrO2Nhc2VcImFkZEF0dHJpYnV0ZVwiOmNhc2VcInJlbW92ZUF0dHJpYnV0ZVwiOmNhc2VcImNoYW5nZUF0dHJpYnV0ZVwiOmZvcihjb25zdCBlIG9mIHQucmFuZ2UuZ2V0SXRlbXMoKSl0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KGUucGFyZW50KXx8dGhpcy5fbWFya0F0dHJpYnV0ZShlKTticmVhaztjYXNlXCJyZW1vdmVcIjpjYXNlXCJtb3ZlXCI6Y2FzZVwicmVpbnNlcnRcIjp7aWYodC5zb3VyY2VQb3NpdGlvbi5pc0VxdWFsKHQudGFyZ2V0UG9zaXRpb24pfHx0LnNvdXJjZVBvc2l0aW9uLmdldFNoaWZ0ZWRCeSh0Lmhvd01hbnkpLmlzRXF1YWwodC50YXJnZXRQb3NpdGlvbikpcmV0dXJuO2NvbnN0IGU9dGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0LnNvdXJjZVBvc2l0aW9uLnBhcmVudCksbj10aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KHQudGFyZ2V0UG9zaXRpb24ucGFyZW50KTtlfHx0aGlzLl9tYXJrUmVtb3ZlKHQuc291cmNlUG9zaXRpb24ucGFyZW50LHQuc291cmNlUG9zaXRpb24ub2Zmc2V0LHQuaG93TWFueSksbnx8dGhpcy5fbWFya0luc2VydCh0LnRhcmdldFBvc2l0aW9uLnBhcmVudCx0LmdldE1vdmVkUmFuZ2VTdGFydCgpLm9mZnNldCx0Lmhvd01hbnkpO2JyZWFrfWNhc2VcInJlbmFtZVwiOntpZih0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KHQucG9zaXRpb24ucGFyZW50KSlyZXR1cm47dGhpcy5fbWFya1JlbW92ZSh0LnBvc2l0aW9uLnBhcmVudCx0LnBvc2l0aW9uLm9mZnNldCwxKSx0aGlzLl9tYXJrSW5zZXJ0KHQucG9zaXRpb24ucGFyZW50LHQucG9zaXRpb24ub2Zmc2V0LDEpO2NvbnN0IGU9R3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQucG9zaXRpb24sMSk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2VyQ29sbGVjdGlvbi5nZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UoZSkpe2NvbnN0IGU9dC5nZXRSYW5nZSgpO3RoaXMuYnVmZmVyTWFya2VyQ2hhbmdlKHQubmFtZSxlLGUsdC5hZmZlY3RzRGF0YSl9YnJlYWt9Y2FzZVwic3BsaXRcIjp7Y29uc3QgZT10LnNwbGl0UG9zaXRpb24ucGFyZW50O3RoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZSl8fHRoaXMuX21hcmtSZW1vdmUoZSx0LnNwbGl0UG9zaXRpb24ub2Zmc2V0LHQuaG93TWFueSksdGhpcy5faXNJbkluc2VydGVkRWxlbWVudCh0Lmluc2VydGlvblBvc2l0aW9uLnBhcmVudCl8fHRoaXMuX21hcmtJbnNlcnQodC5pbnNlcnRpb25Qb3NpdGlvbi5wYXJlbnQsdC5pbnNlcnRpb25Qb3NpdGlvbi5vZmZzZXQsMSksdC5ncmF2ZXlhcmRQb3NpdGlvbiYmdGhpcy5fbWFya1JlbW92ZSh0LmdyYXZleWFyZFBvc2l0aW9uLnBhcmVudCx0LmdyYXZleWFyZFBvc2l0aW9uLm9mZnNldCwxKTticmVha31jYXNlXCJtZXJnZVwiOntjb25zdCBlPXQuc291cmNlUG9zaXRpb24ucGFyZW50O3RoaXMuX2lzSW5JbnNlcnRlZEVsZW1lbnQoZS5wYXJlbnQpfHx0aGlzLl9tYXJrUmVtb3ZlKGUucGFyZW50LGUuc3RhcnRPZmZzZXQsMSk7Y29uc3Qgbj10LmdyYXZleWFyZFBvc2l0aW9uLnBhcmVudDt0aGlzLl9tYXJrSW5zZXJ0KG4sdC5ncmF2ZXlhcmRQb3NpdGlvbi5vZmZzZXQsMSk7Y29uc3QgaT10LnRhcmdldFBvc2l0aW9uLnBhcmVudDt0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KGkpfHx0aGlzLl9tYXJrSW5zZXJ0KGksdC50YXJnZXRQb3NpdGlvbi5vZmZzZXQsZS5tYXhPZmZzZXQpO2JyZWFrfX10aGlzLl9jYWNoZWRDaGFuZ2VzPW51bGx9YnVmZmVyTWFya2VyQ2hhbmdlKHQsZSxuLGkpe2NvbnN0IG89dGhpcy5fY2hhbmdlZE1hcmtlcnMuZ2V0KHQpO28/KG8ubmV3UmFuZ2U9bixvLmFmZmVjdHNEYXRhPWksbnVsbD09by5vbGRSYW5nZSYmbnVsbD09by5uZXdSYW5nZSYmdGhpcy5fY2hhbmdlZE1hcmtlcnMuZGVsZXRlKHQpKTp0aGlzLl9jaGFuZ2VkTWFya2Vycy5zZXQodCx7b2xkUmFuZ2U6ZSxuZXdSYW5nZTpuLGFmZmVjdHNEYXRhOml9KX1nZXRNYXJrZXJzVG9SZW1vdmUoKXtjb25zdCB0PVtdO2Zvcihjb25zdFtlLG5db2YgdGhpcy5fY2hhbmdlZE1hcmtlcnMpbnVsbCE9bi5vbGRSYW5nZSYmdC5wdXNoKHtuYW1lOmUscmFuZ2U6bi5vbGRSYW5nZX0pO3JldHVybiB0fWdldE1hcmtlcnNUb0FkZCgpe2NvbnN0IHQ9W107Zm9yKGNvbnN0W2Usbl1vZiB0aGlzLl9jaGFuZ2VkTWFya2VycyludWxsIT1uLm5ld1JhbmdlJiZ0LnB1c2goe25hbWU6ZSxyYW5nZTpuLm5ld1JhbmdlfSk7cmV0dXJuIHR9Z2V0Q2hhbmdlZE1hcmtlcnMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLl9jaGFuZ2VkTWFya2VycykubWFwKHQ9Pih7bmFtZTp0WzBdLGRhdGE6e29sZFJhbmdlOnRbMV0ub2xkUmFuZ2UsbmV3UmFuZ2U6dFsxXS5uZXdSYW5nZX19KSl9aGFzRGF0YUNoYW5nZXMoKXtmb3IoY29uc3RbLHRdb2YgdGhpcy5fY2hhbmdlZE1hcmtlcnMpaWYodC5hZmZlY3RzRGF0YSlyZXR1cm4hMDtyZXR1cm4gdGhpcy5fY2hhbmdlc0luRWxlbWVudC5zaXplPjB9Z2V0Q2hhbmdlcyh0PXtpbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkOiExfSl7aWYodGhpcy5fY2FjaGVkQ2hhbmdlcylyZXR1cm4gdC5pbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkP3RoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkLnNsaWNlKCk6dGhpcy5fY2FjaGVkQ2hhbmdlcy5zbGljZSgpO2NvbnN0IGU9W107Zm9yKGNvbnN0IHQgb2YgdGhpcy5fY2hhbmdlc0luRWxlbWVudC5rZXlzKCkpe2NvbnN0IG49dGhpcy5fY2hhbmdlc0luRWxlbWVudC5nZXQodCkuc29ydCgodCxlKT0+dC5vZmZzZXQ9PT1lLm9mZnNldD90LnR5cGUhPWUudHlwZT9cInJlbW92ZVwiPT10LnR5cGU/LTE6MTowOnQub2Zmc2V0PGUub2Zmc2V0Py0xOjEpLGk9dGhpcy5fZWxlbWVudFNuYXBzaG90cy5nZXQodCksbz15Yyh0LmdldENoaWxkcmVuKCkpLHI9eGMoaS5sZW5ndGgsbik7bGV0IHM9MCxhPTA7Zm9yKGNvbnN0IG4gb2YgcilpZihcImlcIj09PW4pZS5wdXNoKHRoaXMuX2dldEluc2VydERpZmYodCxzLG9bc10ubmFtZSkpLHMrKztlbHNlIGlmKFwiclwiPT09billLnB1c2godGhpcy5fZ2V0UmVtb3ZlRGlmZih0LHMsaVthXS5uYW1lKSksYSsrO2Vsc2UgaWYoXCJhXCI9PT1uKXtjb25zdCBuPW9bc10uYXR0cmlidXRlcyxyPWlbYV0uYXR0cmlidXRlcztsZXQgYztpZihcIiR0ZXh0XCI9PW9bc10ubmFtZSljPW5ldyBHcygkcy5fY3JlYXRlQXQodCxzKSwkcy5fY3JlYXRlQXQodCxzKzEpKTtlbHNle2NvbnN0IGU9dC5vZmZzZXRUb0luZGV4KHMpO2M9bmV3IEdzKCRzLl9jcmVhdGVBdCh0LHMpLCRzLl9jcmVhdGVBdCh0LmdldENoaWxkKGUpLDApKX1lLnB1c2goLi4udGhpcy5fZ2V0QXR0cmlidXRlc0RpZmYoYyxyLG4pKSxzKyssYSsrfWVsc2UgcysrLGErK31lLnNvcnQoKHQsZSk9PnQucG9zaXRpb24ucm9vdCE9ZS5wb3NpdGlvbi5yb290P3QucG9zaXRpb24ucm9vdC5yb290TmFtZTxlLnBvc2l0aW9uLnJvb3Qucm9vdE5hbWU/LTE6MTp0LnBvc2l0aW9uLmlzRXF1YWwoZS5wb3NpdGlvbik/dC5jaGFuZ2VDb3VudC1lLmNoYW5nZUNvdW50OnQucG9zaXRpb24uaXNCZWZvcmUoZS5wb3NpdGlvbik/LTE6MSk7Zm9yKGxldCB0PTE7dDxlLmxlbmd0aDt0Kyspe2NvbnN0IG49ZVt0LTFdLGk9ZVt0XSxvPVwicmVtb3ZlXCI9PW4udHlwZSYmXCJyZW1vdmVcIj09aS50eXBlJiZcIiR0ZXh0XCI9PW4ubmFtZSYmXCIkdGV4dFwiPT1pLm5hbWUmJm4ucG9zaXRpb24uaXNFcXVhbChpLnBvc2l0aW9uKSxyPVwiaW5zZXJ0XCI9PW4udHlwZSYmXCJpbnNlcnRcIj09aS50eXBlJiZcIiR0ZXh0XCI9PW4ubmFtZSYmXCIkdGV4dFwiPT1pLm5hbWUmJm4ucG9zaXRpb24ucGFyZW50PT1pLnBvc2l0aW9uLnBhcmVudCYmbi5wb3NpdGlvbi5vZmZzZXQrbi5sZW5ndGg9PWkucG9zaXRpb24ub2Zmc2V0LHM9XCJhdHRyaWJ1dGVcIj09bi50eXBlJiZcImF0dHJpYnV0ZVwiPT1pLnR5cGUmJm4ucG9zaXRpb24ucGFyZW50PT1pLnBvc2l0aW9uLnBhcmVudCYmbi5yYW5nZS5pc0ZsYXQmJmkucmFuZ2UuaXNGbGF0JiZuLnBvc2l0aW9uLm9mZnNldCtuLmxlbmd0aD09aS5wb3NpdGlvbi5vZmZzZXQmJm4uYXR0cmlidXRlS2V5PT1pLmF0dHJpYnV0ZUtleSYmbi5hdHRyaWJ1dGVPbGRWYWx1ZT09aS5hdHRyaWJ1dGVPbGRWYWx1ZSYmbi5hdHRyaWJ1dGVOZXdWYWx1ZT09aS5hdHRyaWJ1dGVOZXdWYWx1ZTsob3x8cnx8cykmJihlW3QtMV0ubGVuZ3RoKysscyYmKGVbdC0xXS5yYW5nZS5lbmQ9ZVt0LTFdLnJhbmdlLmVuZC5nZXRTaGlmdGVkQnkoMSkpLGUuc3BsaWNlKHQsMSksdC0tKX1mb3IoY29uc3QgdCBvZiBlKWRlbGV0ZSB0LmNoYW5nZUNvdW50LFwiYXR0cmlidXRlXCI9PXQudHlwZSYmKGRlbGV0ZSB0LnBvc2l0aW9uLGRlbGV0ZSB0Lmxlbmd0aCk7cmV0dXJuIHRoaXMuX2NoYW5nZUNvdW50PTAsdGhpcy5fY2FjaGVkQ2hhbmdlc1dpdGhHcmF2ZXlhcmQ9ZS5zbGljZSgpLHRoaXMuX2NhY2hlZENoYW5nZXM9ZS5zbGljZSgpLmZpbHRlcihBYyksdC5pbmNsdWRlQ2hhbmdlc0luR3JhdmV5YXJkP3RoaXMuX2NhY2hlZENoYW5nZXNXaXRoR3JhdmV5YXJkOnRoaXMuX2NhY2hlZENoYW5nZXN9cmVzZXQoKXt0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmNsZWFyKCksdGhpcy5fZWxlbWVudFNuYXBzaG90cy5jbGVhcigpLHRoaXMuX2NoYW5nZWRNYXJrZXJzLmNsZWFyKCksdGhpcy5fY2FjaGVkQ2hhbmdlcz1udWxsfV9tYXJrSW5zZXJ0KHQsZSxuKXtjb25zdCBpPXt0eXBlOlwiaW5zZXJ0XCIsb2Zmc2V0OmUsaG93TWFueTpuLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UodCxpKX1fbWFya1JlbW92ZSh0LGUsbil7Y29uc3QgaT17dHlwZTpcInJlbW92ZVwiLG9mZnNldDplLGhvd01hbnk6bixjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9tYXJrQ2hhbmdlKHQsaSksdGhpcy5fcmVtb3ZlQWxsTmVzdGVkQ2hhbmdlcyh0LGUsbil9X21hcmtBdHRyaWJ1dGUodCl7Y29uc3QgZT17dHlwZTpcImF0dHJpYnV0ZVwiLG9mZnNldDp0LnN0YXJ0T2Zmc2V0LGhvd01hbnk6dC5vZmZzZXRTaXplLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9O3RoaXMuX21hcmtDaGFuZ2UodC5wYXJlbnQsZSl9X21hcmtDaGFuZ2UodCxlKXt0aGlzLl9tYWtlU25hcHNob3QodCk7Y29uc3Qgbj10aGlzLl9nZXRDaGFuZ2VzRm9yRWxlbWVudCh0KTt0aGlzLl9oYW5kbGVDaGFuZ2UoZSxuKSxuLnB1c2goZSk7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspblt0XS5ob3dNYW55PDEmJihuLnNwbGljZSh0LDEpLHQtLSl9X2dldENoYW5nZXNGb3JFbGVtZW50KHQpe2xldCBlO3JldHVybiB0aGlzLl9jaGFuZ2VzSW5FbGVtZW50Lmhhcyh0KT9lPXRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuZ2V0KHQpOihlPVtdLHRoaXMuX2NoYW5nZXNJbkVsZW1lbnQuc2V0KHQsZSkpLGV9X21ha2VTbmFwc2hvdCh0KXt0aGlzLl9lbGVtZW50U25hcHNob3RzLmhhcyh0KXx8dGhpcy5fZWxlbWVudFNuYXBzaG90cy5zZXQodCx5Yyh0LmdldENoaWxkcmVuKCkpKX1faGFuZGxlQ2hhbmdlKHQsZSl7dC5ub2Rlc1RvSGFuZGxlPXQuaG93TWFueTtmb3IoY29uc3QgbiBvZiBlKXtjb25zdCBpPXQub2Zmc2V0K3QuaG93TWFueSxvPW4ub2Zmc2V0K24uaG93TWFueTtpZihcImluc2VydFwiPT10LnR5cGUmJihcImluc2VydFwiPT1uLnR5cGUmJih0Lm9mZnNldDw9bi5vZmZzZXQ/bi5vZmZzZXQrPXQuaG93TWFueTp0Lm9mZnNldDxvJiYobi5ob3dNYW55Kz10Lm5vZGVzVG9IYW5kbGUsdC5ub2Rlc1RvSGFuZGxlPTApKSxcInJlbW92ZVwiPT1uLnR5cGUmJnQub2Zmc2V0PG4ub2Zmc2V0JiYobi5vZmZzZXQrPXQuaG93TWFueSksXCJhdHRyaWJ1dGVcIj09bi50eXBlKSlpZih0Lm9mZnNldDw9bi5vZmZzZXQpbi5vZmZzZXQrPXQuaG93TWFueTtlbHNlIGlmKHQub2Zmc2V0PG8pe2NvbnN0IG89bi5ob3dNYW55O24uaG93TWFueT10Lm9mZnNldC1uLm9mZnNldCxlLnVuc2hpZnQoe3R5cGU6XCJhdHRyaWJ1dGVcIixvZmZzZXQ6aSxob3dNYW55Om8tbi5ob3dNYW55LGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1pZihcInJlbW92ZVwiPT10LnR5cGUpe2lmKFwiaW5zZXJ0XCI9PW4udHlwZSlpZihpPD1uLm9mZnNldCluLm9mZnNldC09dC5ob3dNYW55O2Vsc2UgaWYoaTw9bylpZih0Lm9mZnNldDxuLm9mZnNldCl7Y29uc3QgZT1pLW4ub2Zmc2V0O24ub2Zmc2V0PXQub2Zmc2V0LG4uaG93TWFueS09ZSx0Lm5vZGVzVG9IYW5kbGUtPWV9ZWxzZSBuLmhvd01hbnktPXQubm9kZXNUb0hhbmRsZSx0Lm5vZGVzVG9IYW5kbGU9MDtlbHNlIGlmKHQub2Zmc2V0PD1uLm9mZnNldCl0Lm5vZGVzVG9IYW5kbGUtPW4uaG93TWFueSxuLmhvd01hbnk9MDtlbHNlIGlmKHQub2Zmc2V0PG8pe2NvbnN0IGU9by10Lm9mZnNldDtuLmhvd01hbnktPWUsdC5ub2Rlc1RvSGFuZGxlLT1lfWlmKFwicmVtb3ZlXCI9PW4udHlwZSYmKGk8PW4ub2Zmc2V0P24ub2Zmc2V0LT10Lmhvd01hbnk6dC5vZmZzZXQ8bi5vZmZzZXQmJih0Lm5vZGVzVG9IYW5kbGUrPW4uaG93TWFueSxuLmhvd01hbnk9MCkpLFwiYXR0cmlidXRlXCI9PW4udHlwZSlpZihpPD1uLm9mZnNldCluLm9mZnNldC09dC5ob3dNYW55O2Vsc2UgaWYodC5vZmZzZXQ8bi5vZmZzZXQpe2NvbnN0IGU9aS1uLm9mZnNldDtuLm9mZnNldD10Lm9mZnNldCxuLmhvd01hbnktPWV9ZWxzZSBpZih0Lm9mZnNldDxvKWlmKGk8PW8pe2NvbnN0IGk9bi5ob3dNYW55O24uaG93TWFueT10Lm9mZnNldC1uLm9mZnNldDtjb25zdCBvPWktbi5ob3dNYW55LXQubm9kZXNUb0hhbmRsZTtlLnVuc2hpZnQoe3R5cGU6XCJhdHRyaWJ1dGVcIixvZmZzZXQ6dC5vZmZzZXQsaG93TWFueTpvLGNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9KX1lbHNlIG4uaG93TWFueS09by10Lm9mZnNldH1pZihcImF0dHJpYnV0ZVwiPT10LnR5cGUpe2lmKFwiaW5zZXJ0XCI9PW4udHlwZSlpZih0Lm9mZnNldDxuLm9mZnNldCYmaT5uLm9mZnNldCl7aWYoaT5vKXtjb25zdCB0PXt0eXBlOlwiYXR0cmlidXRlXCIsb2Zmc2V0Om8saG93TWFueTppLW8sY291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK307dGhpcy5faGFuZGxlQ2hhbmdlKHQsZSksZS5wdXNoKHQpfXQubm9kZXNUb0hhbmRsZT1uLm9mZnNldC10Lm9mZnNldCx0Lmhvd01hbnk9dC5ub2Rlc1RvSGFuZGxlfWVsc2UgdC5vZmZzZXQ+PW4ub2Zmc2V0JiZ0Lm9mZnNldDxvJiYoaT5vPyh0Lm5vZGVzVG9IYW5kbGU9aS1vLHQub2Zmc2V0PW8pOnQubm9kZXNUb0hhbmRsZT0wKTtpZihcInJlbW92ZVwiPT1uLnR5cGUmJnQub2Zmc2V0PG4ub2Zmc2V0JiZpPm4ub2Zmc2V0KXtjb25zdCBvPXt0eXBlOlwiYXR0cmlidXRlXCIsb2Zmc2V0Om4ub2Zmc2V0LGhvd01hbnk6aS1uLm9mZnNldCxjb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfTt0aGlzLl9oYW5kbGVDaGFuZ2UobyxlKSxlLnB1c2gobyksdC5ub2Rlc1RvSGFuZGxlPW4ub2Zmc2V0LXQub2Zmc2V0LHQuaG93TWFueT10Lm5vZGVzVG9IYW5kbGV9XCJhdHRyaWJ1dGVcIj09bi50eXBlJiYodC5vZmZzZXQ+PW4ub2Zmc2V0JiZpPD1vPyh0Lm5vZGVzVG9IYW5kbGU9MCx0Lmhvd01hbnk9MCx0Lm9mZnNldD0wKTp0Lm9mZnNldDw9bi5vZmZzZXQmJmk+PW8mJihuLmhvd01hbnk9MCkpfX10Lmhvd01hbnk9dC5ub2Rlc1RvSGFuZGxlLGRlbGV0ZSB0Lm5vZGVzVG9IYW5kbGV9X2dldEluc2VydERpZmYodCxlLG4pe3JldHVybnt0eXBlOlwiaW5zZXJ0XCIscG9zaXRpb246JHMuX2NyZWF0ZUF0KHQsZSksbmFtZTpuLGxlbmd0aDoxLGNoYW5nZUNvdW50OnRoaXMuX2NoYW5nZUNvdW50Kyt9fV9nZXRSZW1vdmVEaWZmKHQsZSxuKXtyZXR1cm57dHlwZTpcInJlbW92ZVwiLHBvc2l0aW9uOiRzLl9jcmVhdGVBdCh0LGUpLG5hbWU6bixsZW5ndGg6MSxjaGFuZ2VDb3VudDp0aGlzLl9jaGFuZ2VDb3VudCsrfX1fZ2V0QXR0cmlidXRlc0RpZmYodCxlLG4pe2NvbnN0IGk9W107bj1uZXcgTWFwKG4pO2Zvcihjb25zdFtvLHJdb2YgZSl7Y29uc3QgZT1uLmhhcyhvKT9uLmdldChvKTpudWxsO2UhPT1yJiZpLnB1c2goe3R5cGU6XCJhdHRyaWJ1dGVcIixwb3NpdGlvbjp0LnN0YXJ0LHJhbmdlOnQuY2xvbmUoKSxsZW5ndGg6MSxhdHRyaWJ1dGVLZXk6byxhdHRyaWJ1dGVPbGRWYWx1ZTpyLGF0dHJpYnV0ZU5ld1ZhbHVlOmUsY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pLG4uZGVsZXRlKG8pfWZvcihjb25zdFtlLG9db2YgbilpLnB1c2goe3R5cGU6XCJhdHRyaWJ1dGVcIixwb3NpdGlvbjp0LnN0YXJ0LHJhbmdlOnQuY2xvbmUoKSxsZW5ndGg6MSxhdHRyaWJ1dGVLZXk6ZSxhdHRyaWJ1dGVPbGRWYWx1ZTpudWxsLGF0dHJpYnV0ZU5ld1ZhbHVlOm8sY2hhbmdlQ291bnQ6dGhpcy5fY2hhbmdlQ291bnQrK30pO3JldHVybiBpfV9pc0luSW5zZXJ0ZWRFbGVtZW50KHQpe2NvbnN0IGU9dC5wYXJlbnQ7aWYoIWUpcmV0dXJuITE7Y29uc3Qgbj10aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmdldChlKSxpPXQuc3RhcnRPZmZzZXQ7aWYobilmb3IoY29uc3QgdCBvZiBuKWlmKFwiaW5zZXJ0XCI9PXQudHlwZSYmaT49dC5vZmZzZXQmJmk8dC5vZmZzZXQrdC5ob3dNYW55KXJldHVybiEwO3JldHVybiB0aGlzLl9pc0luSW5zZXJ0ZWRFbGVtZW50KGUpfV9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsZSxuKXtjb25zdCBpPW5ldyBHcygkcy5fY3JlYXRlQXQodCxlKSwkcy5fY3JlYXRlQXQodCxlK24pKTtmb3IoY29uc3QgdCBvZiBpLmdldEl0ZW1zKHtzaGFsbG93OiEwfSkpdC5pcyhcImVsZW1lbnRcIikmJih0aGlzLl9lbGVtZW50U25hcHNob3RzLmRlbGV0ZSh0KSx0aGlzLl9jaGFuZ2VzSW5FbGVtZW50LmRlbGV0ZSh0KSx0aGlzLl9yZW1vdmVBbGxOZXN0ZWRDaGFuZ2VzKHQsMCx0Lm1heE9mZnNldCkpfX1mdW5jdGlvbiB5Yyh0KXtjb25zdCBlPVtdO2Zvcihjb25zdCBuIG9mIHQpaWYobi5pcyhcInRleHRcIikpZm9yKGxldCB0PTA7dDxuLmRhdGEubGVuZ3RoO3QrKyllLnB1c2goe25hbWU6XCIkdGV4dFwiLGF0dHJpYnV0ZXM6bmV3IE1hcChuLmdldEF0dHJpYnV0ZXMoKSl9KTtlbHNlIGUucHVzaCh7bmFtZTpuLm5hbWUsYXR0cmlidXRlczpuZXcgTWFwKG4uZ2V0QXR0cmlidXRlcygpKX0pO3JldHVybiBlfWZ1bmN0aW9uIHhjKHQsZSl7Y29uc3Qgbj1bXTtsZXQgaT0wLG89MDtmb3IoY29uc3QgdCBvZiBlKXQub2Zmc2V0PmkmJihuLnB1c2goLi4uXCJlXCIucmVwZWF0KHQub2Zmc2V0LWkpLnNwbGl0KFwiXCIpKSxvKz10Lm9mZnNldC1pKSxcImluc2VydFwiPT10LnR5cGU/KG4ucHVzaCguLi5cImlcIi5yZXBlYXQodC5ob3dNYW55KS5zcGxpdChcIlwiKSksaT10Lm9mZnNldCt0Lmhvd01hbnkpOlwicmVtb3ZlXCI9PXQudHlwZT8obi5wdXNoKC4uLlwiclwiLnJlcGVhdCh0Lmhvd01hbnkpLnNwbGl0KFwiXCIpKSxpPXQub2Zmc2V0LG8rPXQuaG93TWFueSk6KG4ucHVzaCguLi5cImFcIi5yZXBlYXQodC5ob3dNYW55KS5zcGxpdChcIlwiKSksaT10Lm9mZnNldCt0Lmhvd01hbnksbys9dC5ob3dNYW55KTtyZXR1cm4gbzx0JiZuLnB1c2goLi4uXCJlXCIucmVwZWF0KHQtbykuc3BsaXQoXCJcIikpLG59ZnVuY3Rpb24gQWModCl7Y29uc3QgZT10LnBvc2l0aW9uJiZcIiRncmF2ZXlhcmRcIj09dC5wb3NpdGlvbi5yb290LnJvb3ROYW1lLG49dC5yYW5nZSYmXCIkZ3JhdmV5YXJkXCI9PXQucmFuZ2Uucm9vdC5yb290TmFtZTtyZXR1cm4hZSYmIW59Y2xhc3MgQ2N7Y29uc3RydWN0b3IoKXt0aGlzLl9vcGVyYXRpb25zPVtdLHRoaXMuX3VuZG9QYWlycz1uZXcgTWFwLHRoaXMuX3VuZG9uZU9wZXJhdGlvbnM9bmV3IFNldH1hZGRPcGVyYXRpb24odCl7dGhpcy5fb3BlcmF0aW9ucy5pbmNsdWRlcyh0KXx8dGhpcy5fb3BlcmF0aW9ucy5wdXNoKHQpfWdldE9wZXJhdGlvbnModD0wLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKXtyZXR1cm4gdDwwP1tdOnRoaXMuX29wZXJhdGlvbnMuc2xpY2UodCxlKX1nZXRPcGVyYXRpb24odCl7cmV0dXJuIHRoaXMuX29wZXJhdGlvbnNbdF19c2V0T3BlcmF0aW9uQXNVbmRvbmUodCxlKXt0aGlzLl91bmRvUGFpcnMuc2V0KGUsdCksdGhpcy5fdW5kb25lT3BlcmF0aW9ucy5hZGQodCl9aXNVbmRvaW5nT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl91bmRvUGFpcnMuaGFzKHQpfWlzVW5kb25lT3BlcmF0aW9uKHQpe3JldHVybiB0aGlzLl91bmRvbmVPcGVyYXRpb25zLmhhcyh0KX1nZXRVbmRvbmVPcGVyYXRpb24odCl7cmV0dXJuIHRoaXMuX3VuZG9QYWlycy5nZXQodCl9fWZ1bmN0aW9uIFRjKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMT09dC5sZW5ndGgmJi9bXFx1ZDgwMC1cXHVkYmZmXS8udGVzdCh0KX0odC5jaGFyQXQoZS0xKSkmJmZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMT09dC5sZW5ndGgmJi9bXFx1ZGMwMC1cXHVkZmZmXS8udGVzdCh0KX0odC5jaGFyQXQoZSkpfWZ1bmN0aW9uIFBjKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiEhdCYmMT09dC5sZW5ndGgmJi9bXFx1MDMwMC1cXHUwMzZmXFx1MWFiMC1cXHUxYWZmXFx1MWRjMC1cXHUxZGZmXFx1MjBkMC1cXHUyMGZmXFx1ZmUyMC1cXHVmZTJmXS8udGVzdCh0KX0odC5jaGFyQXQoZSkpfWNvbnN0IE1jPVwiJGdyYXZleWFyZFwiO2NsYXNzIEVje2NvbnN0cnVjdG9yKHQpe3RoaXMubW9kZWw9dCx0aGlzLnZlcnNpb249MCx0aGlzLmhpc3Rvcnk9bmV3IENjKHRoaXMpLHRoaXMuc2VsZWN0aW9uPW5ldyBzYSh0aGlzKSx0aGlzLnJvb3RzPW5ldyBvbyh7aWRQcm9wZXJ0eTpcInJvb3ROYW1lXCJ9KSx0aGlzLmRpZmZlcj1uZXcgdmModC5tYXJrZXJzKSx0aGlzLl9wb3N0Rml4ZXJzPW5ldyBTZXQsdGhpcy5faGFzU2VsZWN0aW9uQ2hhbmdlZEZyb21UaGVMYXN0Q2hhbmdlQmxvY2s9ITEsdGhpcy5jcmVhdGVSb290KFwiJHJvb3RcIixNYyksdGhpcy5saXN0ZW5Ubyh0LFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtpZihuLmlzRG9jdW1lbnRPcGVyYXRpb24mJm4uYmFzZVZlcnNpb24hPT10aGlzLnZlcnNpb24pdGhyb3cgbmV3IEduLmIoXCJtb2RlbC1kb2N1bWVudC1hcHBseU9wZXJhdGlvbi13cm9uZy12ZXJzaW9uOiBPbmx5IG9wZXJhdGlvbnMgd2l0aCBtYXRjaGluZyB2ZXJzaW9ucyBjYW4gYmUgYXBwbGllZC5cIix7b3BlcmF0aW9uOm59KX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdGhpcy5saXN0ZW5Ubyh0LFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtuLmlzRG9jdW1lbnRPcGVyYXRpb24mJnRoaXMuZGlmZmVyLmJ1ZmZlck9wZXJhdGlvbihuKX0se3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5saXN0ZW5Ubyh0LFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtuLmlzRG9jdW1lbnRPcGVyYXRpb24mJih0aGlzLnZlcnNpb24rKyx0aGlzLmhpc3RvcnkuYWRkT3BlcmF0aW9uKG4pKX0se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKHRoaXMuc2VsZWN0aW9uLFwiY2hhbmdlXCIsKCk9Pnt0aGlzLl9oYXNTZWxlY3Rpb25DaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9jaz0hMH0pLHRoaXMubGlzdGVuVG8odC5tYXJrZXJzLFwidXBkYXRlXCIsKHQsZSxuLGkpPT57dGhpcy5kaWZmZXIuYnVmZmVyTWFya2VyQ2hhbmdlKGUubmFtZSxuLGksZS5hZmZlY3RzRGF0YSksbnVsbD09PW4mJmUub24oXCJjaGFuZ2VcIiwodCxuKT0+e3RoaXMuZGlmZmVyLmJ1ZmZlck1hcmtlckNoYW5nZShlLm5hbWUsbixlLmdldFJhbmdlKCksZS5hZmZlY3RzRGF0YSl9KX0pfWdldCBncmF2ZXlhcmQoKXtyZXR1cm4gdGhpcy5nZXRSb290KE1jKX1jcmVhdGVSb290KHQ9XCIkcm9vdFwiLGU9XCJtYWluXCIpe2lmKHRoaXMucm9vdHMuZ2V0KGUpKXRocm93IG5ldyBHbi5iKFwibW9kZWwtZG9jdW1lbnQtY3JlYXRlUm9vdC1uYW1lLWV4aXN0czogUm9vdCB3aXRoIHNwZWNpZmllZCBuYW1lIGFscmVhZHkgZXhpc3RzLlwiLHtuYW1lOmV9KTtjb25zdCBuPW5ldyBtYyh0aGlzLHQsZSk7cmV0dXJuIHRoaXMucm9vdHMuYWRkKG4pLG59ZGVzdHJveSgpe3RoaXMuc2VsZWN0aW9uLmRlc3Ryb3koKSx0aGlzLnN0b3BMaXN0ZW5pbmcoKX1nZXRSb290KHQ9XCJtYWluXCIpe3JldHVybiB0aGlzLnJvb3RzLmdldCh0KX1nZXRSb290TmFtZXMoKXtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJvb3RzLHQ9PnQucm9vdE5hbWUpLmZpbHRlcih0PT50IT1NYyl9cmVnaXN0ZXJQb3N0Rml4ZXIodCl7dGhpcy5fcG9zdEZpeGVycy5hZGQodCl9dG9KU09OKCl7Y29uc3QgdD11aSh0aGlzKTtyZXR1cm4gdC5zZWxlY3Rpb249XCJbZW5naW5lLm1vZGVsLkRvY3VtZW50U2VsZWN0aW9uXVwiLHQubW9kZWw9XCJbZW5naW5lLm1vZGVsLk1vZGVsXVwiLHR9X2hhbmRsZUNoYW5nZUJsb2NrKHQpe3RoaXMuX2hhc0RvY3VtZW50Q2hhbmdlZEZyb21UaGVMYXN0Q2hhbmdlQmxvY2soKSYmKHRoaXMuX2NhbGxQb3N0Rml4ZXJzKHQpLHRoaXMuZGlmZmVyLmhhc0RhdGFDaGFuZ2VzKCk/dGhpcy5maXJlKFwiY2hhbmdlOmRhdGFcIix0LmJhdGNoKTp0aGlzLmZpcmUoXCJjaGFuZ2VcIix0LmJhdGNoKSx0aGlzLmRpZmZlci5yZXNldCgpKSx0aGlzLl9oYXNTZWxlY3Rpb25DaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9jaz0hMX1faGFzRG9jdW1lbnRDaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9jaygpe3JldHVybiF0aGlzLmRpZmZlci5pc0VtcHR5fHx0aGlzLl9oYXNTZWxlY3Rpb25DaGFuZ2VkRnJvbVRoZUxhc3RDaGFuZ2VCbG9ja31fZ2V0RGVmYXVsdFJvb3QoKXtmb3IoY29uc3QgdCBvZiB0aGlzLnJvb3RzKWlmKHQhPT10aGlzLmdyYXZleWFyZClyZXR1cm4gdDtyZXR1cm4gdGhpcy5ncmF2ZXlhcmR9X2dldERlZmF1bHRSYW5nZSgpe2NvbnN0IHQ9dGhpcy5fZ2V0RGVmYXVsdFJvb3QoKSxlPXRoaXMubW9kZWwsbj1lLnNjaGVtYSxpPWUuY3JlYXRlUG9zaXRpb25Gcm9tUGF0aCh0LFswXSk7cmV0dXJuIG4uZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKGkpfHxlLmNyZWF0ZVJhbmdlKGkpfV92YWxpZGF0ZVNlbGVjdGlvblJhbmdlKHQpe3JldHVybiBTYyh0LnN0YXJ0KSYmU2ModC5lbmQpfV9jYWxsUG9zdEZpeGVycyh0KXtsZXQgZT0hMTtkb3tmb3IoY29uc3QgbiBvZiB0aGlzLl9wb3N0Rml4ZXJzKWlmKGU9bih0KSlicmVha313aGlsZShlKX19ZnVuY3Rpb24gU2ModCl7Y29uc3QgZT10LnRleHROb2RlO2lmKGUpe2NvbnN0IG49ZS5kYXRhLGk9dC5vZmZzZXQtZS5zdGFydE9mZnNldDtyZXR1cm4hVGMobixpKSYmIVBjKG4saSl9cmV0dXJuITB9Y2koRWMsZWkpO2NsYXNzIElje2NvbnN0cnVjdG9yKCl7dGhpcy5fbWFya2Vycz1uZXcgTWFwfVtTeW1ib2wuaXRlcmF0b3JdKCl7cmV0dXJuIHRoaXMuX21hcmtlcnMudmFsdWVzKCl9aGFzKHQpe3JldHVybiB0aGlzLl9tYXJrZXJzLmhhcyh0KX1nZXQodCl7cmV0dXJuIHRoaXMuX21hcmtlcnMuZ2V0KHQpfHxudWxsfV9zZXQodCxlLG49ITEsaT0hMSl7Y29uc3Qgbz10IGluc3RhbmNlb2YgTmM/dC5uYW1lOnQscj10aGlzLl9tYXJrZXJzLmdldChvKTtpZihyKXtjb25zdCB0PXIuZ2V0UmFuZ2UoKTtsZXQgcz0hMTtyZXR1cm4gdC5pc0VxdWFsKGUpfHwoci5fYXR0YWNoTGl2ZVJhbmdlKG9hLmZyb21SYW5nZShlKSkscz0hMCksbiE9ci5tYW5hZ2VkVXNpbmdPcGVyYXRpb25zJiYoci5fbWFuYWdlZFVzaW5nT3BlcmF0aW9ucz1uLHM9ITApLFwiYm9vbGVhblwiPT10eXBlb2YgaSYmaSE9ci5hZmZlY3RzRGF0YSYmKHIuX2FmZmVjdHNEYXRhPWkscz0hMCkscyYmdGhpcy5maXJlKFwidXBkYXRlOlwiK28scix0LGUpLHJ9Y29uc3Qgcz1vYS5mcm9tUmFuZ2UoZSksYT1uZXcgTmMobyxzLG4saSk7cmV0dXJuIHRoaXMuX21hcmtlcnMuc2V0KG8sYSksdGhpcy5maXJlKFwidXBkYXRlOlwiK28sYSxudWxsLGUpLGF9X3JlbW92ZSh0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBOYz90Lm5hbWU6dCxuPXRoaXMuX21hcmtlcnMuZ2V0KGUpO3JldHVybiEhbiYmKHRoaXMuX21hcmtlcnMuZGVsZXRlKGUpLHRoaXMuZmlyZShcInVwZGF0ZTpcIitlLG4sbi5nZXRSYW5nZSgpLG51bGwpLHRoaXMuX2Rlc3Ryb3lNYXJrZXIobiksITApfV9yZWZyZXNoKHQpe2NvbnN0IGU9dCBpbnN0YW5jZW9mIE5jP3QubmFtZTp0LG49dGhpcy5fbWFya2Vycy5nZXQoZSk7aWYoIW4pdGhyb3cgbmV3IEduLmIoXCJtYXJrZXJjb2xsZWN0aW9uLXJlZnJlc2gtbWFya2VyLW5vdC1leGlzdHM6IE1hcmtlciB3aXRoIHByb3ZpZGVkIG5hbWUgZG9lcyBub3QgZXhpc3RzLlwiKTtjb25zdCBpPW4uZ2V0UmFuZ2UoKTt0aGlzLmZpcmUoXCJ1cGRhdGU6XCIrZSxuLGksaSxuLm1hbmFnZWRVc2luZ09wZXJhdGlvbnMsbi5hZmZlY3RzRGF0YSl9KmdldE1hcmtlcnNBdFBvc2l0aW9uKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMpZS5nZXRSYW5nZSgpLmNvbnRhaW5zUG9zaXRpb24odCkmJih5aWVsZCBlKX0qZ2V0TWFya2Vyc0ludGVyc2VjdGluZ1JhbmdlKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMpbnVsbCE9PWUuZ2V0UmFuZ2UoKS5nZXRJbnRlcnNlY3Rpb24odCkmJih5aWVsZCBlKX1kZXN0cm95KCl7Zm9yKGNvbnN0IHQgb2YgdGhpcy5fbWFya2Vycy52YWx1ZXMoKSl0aGlzLl9kZXN0cm95TWFya2VyKHQpO3RoaXMuX21hcmtlcnM9bnVsbCx0aGlzLnN0b3BMaXN0ZW5pbmcoKX0qZ2V0TWFya2Vyc0dyb3VwKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX21hcmtlcnMudmFsdWVzKCkpZS5uYW1lLnN0YXJ0c1dpdGgodCtcIjpcIikmJih5aWVsZCBlKX1fZGVzdHJveU1hcmtlcih0KXt0LnN0b3BMaXN0ZW5pbmcoKSx0Ll9kZXRhY2hMaXZlUmFuZ2UoKX19Y2koSWMsZWkpO2NsYXNzIE5je2NvbnN0cnVjdG9yKHQsZSxuLGkpe3RoaXMubmFtZT10LHRoaXMuX2xpdmVSYW5nZT10aGlzLl9hdHRhY2hMaXZlUmFuZ2UoZSksdGhpcy5fbWFuYWdlZFVzaW5nT3BlcmF0aW9ucz1uLHRoaXMuX2FmZmVjdHNEYXRhPWl9Z2V0IG1hbmFnZWRVc2luZ09wZXJhdGlvbnMoKXtpZighdGhpcy5fbGl2ZVJhbmdlKXRocm93IG5ldyBHbi5iKFwibWFya2VyLWRlc3Ryb3llZDogQ2Fubm90IHVzZSBhIGRlc3Ryb3llZCBtYXJrZXIgaW5zdGFuY2UuXCIpO3JldHVybiB0aGlzLl9tYW5hZ2VkVXNpbmdPcGVyYXRpb25zfWdldCBhZmZlY3RzRGF0YSgpe2lmKCF0aGlzLl9saXZlUmFuZ2UpdGhyb3cgbmV3IEduLmIoXCJtYXJrZXItZGVzdHJveWVkOiBDYW5ub3QgdXNlIGEgZGVzdHJveWVkIG1hcmtlciBpbnN0YW5jZS5cIik7cmV0dXJuIHRoaXMuX2FmZmVjdHNEYXRhfWdldFN0YXJ0KCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgR24uYihcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiKTtyZXR1cm4gdGhpcy5fbGl2ZVJhbmdlLnN0YXJ0LmNsb25lKCl9Z2V0RW5kKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgR24uYihcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiKTtyZXR1cm4gdGhpcy5fbGl2ZVJhbmdlLmVuZC5jbG9uZSgpfWdldFJhbmdlKCl7aWYoIXRoaXMuX2xpdmVSYW5nZSl0aHJvdyBuZXcgR24uYihcIm1hcmtlci1kZXN0cm95ZWQ6IENhbm5vdCB1c2UgYSBkZXN0cm95ZWQgbWFya2VyIGluc3RhbmNlLlwiKTtyZXR1cm4gdGhpcy5fbGl2ZVJhbmdlLnRvUmFuZ2UoKX1fYXR0YWNoTGl2ZVJhbmdlKHQpe3JldHVybiB0aGlzLl9saXZlUmFuZ2UmJnRoaXMuX2RldGFjaExpdmVSYW5nZSgpLHQuZGVsZWdhdGUoXCJjaGFuZ2U6cmFuZ2VcIikudG8odGhpcyksdC5kZWxlZ2F0ZShcImNoYW5nZTpjb250ZW50XCIpLnRvKHRoaXMpLHRoaXMuX2xpdmVSYW5nZT10LHR9X2RldGFjaExpdmVSYW5nZSgpe3RoaXMuX2xpdmVSYW5nZS5zdG9wRGVsZWdhdGluZyhcImNoYW5nZTpyYW5nZVwiLHRoaXMpLHRoaXMuX2xpdmVSYW5nZS5zdG9wRGVsZWdhdGluZyhcImNoYW5nZTpjb250ZW50XCIsdGhpcyksdGhpcy5fbGl2ZVJhbmdlLmRldGFjaCgpLHRoaXMuX2xpdmVSYW5nZT1udWxsfX1jaShOYyxlaSk7Y2xhc3MgT2MgZXh0ZW5kcyAkc3tjb25zdHJ1Y3Rvcih0LGUsbj1cInRvTm9uZVwiKXtpZihzdXBlcih0LGUsbiksIXRoaXMucm9vdC5pcyhcInJvb3RFbGVtZW50XCIpKXRocm93IG5ldyBHbi5iKFwibW9kZWwtbGl2ZXBvc2l0aW9uLXJvb3Qtbm90LXJvb3RlbGVtZW50OiBMaXZlUG9zaXRpb24ncyByb290IGhhcyB0byBiZSBhbiBpbnN0YW5jZSBvZiBSb290RWxlbWVudC5cIik7KGZ1bmN0aW9uKCl7dGhpcy5saXN0ZW5Ubyh0aGlzLnJvb3QuZG9jdW1lbnQubW9kZWwsXCJhcHBseU9wZXJhdGlvblwiLCh0LGUpPT57Y29uc3Qgbj1lWzBdO24uaXNEb2N1bWVudE9wZXJhdGlvbiYmZnVuY3Rpb24odCl7Y29uc3QgZT10aGlzLmdldFRyYW5zZm9ybWVkQnlPcGVyYXRpb24odCk7aWYoIXRoaXMuaXNFcXVhbChlKSl7Y29uc3QgdD10aGlzLnRvUG9zaXRpb24oKTt0aGlzLnBhdGg9ZS5wYXRoLHRoaXMucm9vdD1lLnJvb3QsdGhpcy5maXJlKFwiY2hhbmdlXCIsdCl9fS5jYWxsKHRoaXMsbil9LHtwcmlvcml0eTpcImxvd1wifSl9KS5jYWxsKHRoaXMpfWRldGFjaCgpe3RoaXMuc3RvcExpc3RlbmluZygpfXRvUG9zaXRpb24oKXtyZXR1cm4gbmV3ICRzKHRoaXMucm9vdCx0aGlzLnBhdGguc2xpY2UoKSx0aGlzLnN0aWNraW5lc3MpfXN0YXRpYyBmcm9tUG9zaXRpb24odCxlKXtyZXR1cm4gbmV3IHRoaXModC5yb290LHQucGF0aC5zbGljZSgpLGV8fHQuc3RpY2tpbmVzcyl9fWNpKE9jLGVpKTtjbGFzcyBSY3tjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5tb2RlbD10LHRoaXMud3JpdGVyPWUsdGhpcy5wb3NpdGlvbj1uLHRoaXMuY2FuTWVyZ2VXaXRoPW5ldyBTZXQoW3RoaXMucG9zaXRpb24ucGFyZW50XSksdGhpcy5zY2hlbWE9dC5zY2hlbWEsdGhpcy5fZmlsdGVyQXR0cmlidXRlc09mPVtdLHRoaXMuX2FmZmVjdGVkU3RhcnQ9bnVsbCx0aGlzLl9hZmZlY3RlZEVuZD1udWxsfWhhbmRsZU5vZGVzKHQsZSl7dD1BcnJheS5mcm9tKHQpO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBpPXRbbl07dGhpcy5faGFuZGxlTm9kZShpLHtpc0ZpcnN0OjA9PT1uJiZlLmlzRmlyc3QsaXNMYXN0Om49PT10Lmxlbmd0aC0xJiZlLmlzTGFzdH0pfXRoaXMuc2NoZW1hLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZix0aGlzLndyaXRlciksdGhpcy5fZmlsdGVyQXR0cmlidXRlc09mPVtdfWdldFNlbGVjdGlvblJhbmdlKCl7cmV0dXJuIHRoaXMubm9kZVRvU2VsZWN0P0dzLl9jcmVhdGVPbih0aGlzLm5vZGVUb1NlbGVjdCk6dGhpcy5tb2RlbC5zY2hlbWEuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKHRoaXMucG9zaXRpb24pfWdldEFmZmVjdGVkUmFuZ2UoKXtyZXR1cm4gdGhpcy5fYWZmZWN0ZWRTdGFydD9uZXcgR3ModGhpcy5fYWZmZWN0ZWRTdGFydCx0aGlzLl9hZmZlY3RlZEVuZCk6bnVsbH1kZXN0cm95KCl7dGhpcy5fYWZmZWN0ZWRTdGFydCYmdGhpcy5fYWZmZWN0ZWRTdGFydC5kZXRhY2goKSx0aGlzLl9hZmZlY3RlZEVuZCYmdGhpcy5fYWZmZWN0ZWRFbmQuZGV0YWNoKCl9X2hhbmRsZU5vZGUodCxlKXtpZih0aGlzLnNjaGVtYS5pc09iamVjdCh0KSlyZXR1cm4gdm9pZCB0aGlzLl9oYW5kbGVPYmplY3QodCxlKTt0aGlzLl9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24odCxlKT8odGhpcy5faW5zZXJ0KHQpLHRoaXMuX21lcmdlU2libGluZ3NPZih0LGUpKTp0aGlzLl9oYW5kbGVEaXNhbGxvd2VkTm9kZSh0LGUpfV9oYW5kbGVPYmplY3QodCxlKXt0aGlzLl9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24odCk/dGhpcy5faW5zZXJ0KHQpOnRoaXMuX3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKX1faGFuZGxlRGlzYWxsb3dlZE5vZGUodCxlKXt0LmlzKFwiZWxlbWVudFwiKT90aGlzLmhhbmRsZU5vZGVzKHQuZ2V0Q2hpbGRyZW4oKSxlKTp0aGlzLl90cnlBdXRvcGFyYWdyYXBoaW5nKHQsZSl9X2luc2VydCh0KXtpZighdGhpcy5zY2hlbWEuY2hlY2tDaGlsZCh0aGlzLnBvc2l0aW9uLHQpKXJldHVybiB2b2lkIGJzLmEuZXJyb3IoXCJpbnNlcnRjb250ZW50LXdyb25nLXBvc2l0aW9uOiBUaGUgbm9kZSBjYW5ub3QgYmUgaW5zZXJ0ZWQgb24gdGhlIGdpdmVuIHBvc2l0aW9uLlwiLHtub2RlOnQscG9zaXRpb246dGhpcy5wb3NpdGlvbn0pO2NvbnN0IGU9T2MuZnJvbVBvc2l0aW9uKHRoaXMucG9zaXRpb24sXCJ0b05leHRcIik7dGhpcy5fc2V0QWZmZWN0ZWRCb3VuZGFyaWVzKHRoaXMucG9zaXRpb24pLHRoaXMud3JpdGVyLmluc2VydCh0LHRoaXMucG9zaXRpb24pLHRoaXMucG9zaXRpb249ZS50b1Bvc2l0aW9uKCksZS5kZXRhY2goKSx0aGlzLnNjaGVtYS5pc09iamVjdCh0KSYmIXRoaXMuc2NoZW1hLmNoZWNrQ2hpbGQodGhpcy5wb3NpdGlvbixcIiR0ZXh0XCIpP3RoaXMubm9kZVRvU2VsZWN0PXQ6dGhpcy5ub2RlVG9TZWxlY3Q9bnVsbCx0aGlzLl9maWx0ZXJBdHRyaWJ1dGVzT2YucHVzaCh0KX1fc2V0QWZmZWN0ZWRCb3VuZGFyaWVzKHQpe3RoaXMuX2FmZmVjdGVkU3RhcnR8fCh0aGlzLl9hZmZlY3RlZFN0YXJ0PU9jLmZyb21Qb3NpdGlvbih0LFwidG9QcmV2aW91c1wiKSksdGhpcy5fYWZmZWN0ZWRFbmQmJiF0aGlzLl9hZmZlY3RlZEVuZC5pc0JlZm9yZSh0KXx8KHRoaXMuX2FmZmVjdGVkRW5kJiZ0aGlzLl9hZmZlY3RlZEVuZC5kZXRhY2goKSx0aGlzLl9hZmZlY3RlZEVuZD1PYy5mcm9tUG9zaXRpb24odCxcInRvTmV4dFwiKSl9X21lcmdlU2libGluZ3NPZih0LGUpe2lmKCEodCBpbnN0YW5jZW9mIEhzKSlyZXR1cm47Y29uc3Qgbj10aGlzLl9jYW5NZXJnZUxlZnQodCxlKSxpPXRoaXMuX2Nhbk1lcmdlUmlnaHQodCxlKSxvPU9jLl9jcmVhdGVCZWZvcmUodCk7by5zdGlja2luZXNzPVwidG9OZXh0XCI7Y29uc3Qgcj1PYy5fY3JlYXRlQWZ0ZXIodCk7aWYoci5zdGlja2luZXNzPVwidG9OZXh0XCIsbil7Y29uc3QgdD1PYy5mcm9tUG9zaXRpb24odGhpcy5wb3NpdGlvbik7dC5zdGlja2luZXNzPVwidG9OZXh0XCIsdGhpcy5fYWZmZWN0ZWRTdGFydC5pc0VxdWFsKG8pJiYodGhpcy5fYWZmZWN0ZWRTdGFydC5kZXRhY2goKSx0aGlzLl9hZmZlY3RlZFN0YXJ0PU9jLl9jcmVhdGVBdChvLm5vZGVCZWZvcmUsXCJlbmRcIixcInRvUHJldmlvdXNcIikpLHRoaXMud3JpdGVyLm1lcmdlKG8pLG8uaXNFcXVhbCh0aGlzLl9hZmZlY3RlZEVuZCkmJmUuaXNMYXN0JiYodGhpcy5fYWZmZWN0ZWRFbmQuZGV0YWNoKCksdGhpcy5fYWZmZWN0ZWRFbmQ9T2MuX2NyZWF0ZUF0KG8ubm9kZUJlZm9yZSxcImVuZFwiLFwidG9OZXh0XCIpKSx0aGlzLnBvc2l0aW9uPXQudG9Qb3NpdGlvbigpLHQuZGV0YWNoKCl9aWYoaSl7dGhpcy5wb3NpdGlvbi5pc0VxdWFsKHIpfHxicy5hLmVycm9yKFwiaW5zZXJ0Y29udGVudC13cm9uZy1wb3NpdGlvbi1vbi1tZXJnZTogVGhlIGluc2VydGlvbiBwb3NpdGlvbiBzaG91bGQgZXF1YWwgdGhlIG1lcmdlIHBvc2l0aW9uXCIpLHRoaXMucG9zaXRpb249JHMuX2NyZWF0ZUF0KHIubm9kZUJlZm9yZSxcImVuZFwiKTtjb25zdCB0PU9jLmZyb21Qb3NpdGlvbih0aGlzLnBvc2l0aW9uLFwidG9QcmV2aW91c1wiKTt0aGlzLl9hZmZlY3RlZEVuZC5pc0VxdWFsKHIpJiYodGhpcy5fYWZmZWN0ZWRFbmQuZGV0YWNoKCksdGhpcy5fYWZmZWN0ZWRFbmQ9T2MuX2NyZWF0ZUF0KHIubm9kZUJlZm9yZSxcImVuZFwiLFwidG9OZXh0XCIpKSx0aGlzLndyaXRlci5tZXJnZShyKSxyLmdldFNoaWZ0ZWRCeSgtMSkuaXNFcXVhbCh0aGlzLl9hZmZlY3RlZFN0YXJ0KSYmZS5pc0ZpcnN0JiYodGhpcy5fYWZmZWN0ZWRTdGFydC5kZXRhY2goKSx0aGlzLl9hZmZlY3RlZFN0YXJ0PU9jLl9jcmVhdGVBdChyLm5vZGVCZWZvcmUsMCxcInRvUHJldmlvdXNcIikpLHRoaXMucG9zaXRpb249dC50b1Bvc2l0aW9uKCksdC5kZXRhY2goKX0obnx8aSkmJnRoaXMuX2ZpbHRlckF0dHJpYnV0ZXNPZi5wdXNoKHRoaXMucG9zaXRpb24ucGFyZW50KSxvLmRldGFjaCgpLHIuZGV0YWNoKCl9X2Nhbk1lcmdlTGVmdCh0LGUpe2NvbnN0IG49dC5wcmV2aW91c1NpYmxpbmc7cmV0dXJuIGUuaXNGaXJzdCYmbiBpbnN0YW5jZW9mIEhzJiZ0aGlzLmNhbk1lcmdlV2l0aC5oYXMobikmJnRoaXMubW9kZWwuc2NoZW1hLmNoZWNrTWVyZ2Uobix0KX1fY2FuTWVyZ2VSaWdodCh0LGUpe2NvbnN0IG49dC5uZXh0U2libGluZztyZXR1cm4gZS5pc0xhc3QmJm4gaW5zdGFuY2VvZiBIcyYmdGhpcy5jYW5NZXJnZVdpdGguaGFzKG4pJiZ0aGlzLm1vZGVsLnNjaGVtYS5jaGVja01lcmdlKHQsbil9X3RyeUF1dG9wYXJhZ3JhcGhpbmcodCxlKXtjb25zdCBuPXRoaXMud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJwYXJhZ3JhcGhcIik7dGhpcy5fZ2V0QWxsb3dlZEluKG4sdGhpcy5wb3NpdGlvbi5wYXJlbnQpJiZ0aGlzLnNjaGVtYS5jaGVja0NoaWxkKG4sdCkmJihuLl9hcHBlbmRDaGlsZCh0KSx0aGlzLl9oYW5kbGVOb2RlKG4sZSkpfV9jaGVja0FuZFNwbGl0VG9BbGxvd2VkUG9zaXRpb24odCl7Y29uc3QgZT10aGlzLl9nZXRBbGxvd2VkSW4odCx0aGlzLnBvc2l0aW9uLnBhcmVudCk7aWYoIWUpcmV0dXJuITE7Zm9yKDtlIT10aGlzLnBvc2l0aW9uLnBhcmVudDspe2lmKHRoaXMuc2NoZW1hLmlzTGltaXQodGhpcy5wb3NpdGlvbi5wYXJlbnQpKXJldHVybiExO2lmKHRoaXMucG9zaXRpb24uaXNBdFN0YXJ0KXtjb25zdCB0PXRoaXMucG9zaXRpb24ucGFyZW50O3RoaXMucG9zaXRpb249dGhpcy53cml0ZXIuY3JlYXRlUG9zaXRpb25CZWZvcmUodCksdC5pc0VtcHR5JiZ0aGlzLndyaXRlci5yZW1vdmUodCl9ZWxzZSBpZih0aGlzLnBvc2l0aW9uLmlzQXRFbmQpdGhpcy5wb3NpdGlvbj10aGlzLndyaXRlci5jcmVhdGVQb3NpdGlvbkFmdGVyKHRoaXMucG9zaXRpb24ucGFyZW50KTtlbHNle2NvbnN0IHQ9dGhpcy53cml0ZXIuY3JlYXRlUG9zaXRpb25BZnRlcih0aGlzLnBvc2l0aW9uLnBhcmVudCk7dGhpcy5fc2V0QWZmZWN0ZWRCb3VuZGFyaWVzKHRoaXMucG9zaXRpb24pLHRoaXMud3JpdGVyLnNwbGl0KHRoaXMucG9zaXRpb24pLHRoaXMucG9zaXRpb249dCx0aGlzLmNhbk1lcmdlV2l0aC5hZGQodGhpcy5wb3NpdGlvbi5ub2RlQWZ0ZXIpfX1yZXR1cm4hMH1fZ2V0QWxsb3dlZEluKHQsZSl7cmV0dXJuIHRoaXMuc2NoZW1hLmNoZWNrQ2hpbGQoZSx0KT9lOmUucGFyZW50P3RoaXMuX2dldEFsbG93ZWRJbih0LGUucGFyZW50KTpudWxsfX1mdW5jdGlvbiBEYyh0LGUsbj17fSl7aWYoZS5pc0NvbGxhcHNlZClyZXR1cm47Y29uc3QgaT1lLmdldEZpcnN0UmFuZ2UoKTtpZihcIiRncmF2ZXlhcmRcIj09aS5yb290LnJvb3ROYW1lKXJldHVybjtjb25zdCBvPXQuc2NoZW1hO3QuY2hhbmdlKHQ9PntpZighbi5kb05vdFJlc2V0RW50aXJlQ29udGVudCYmZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZ2V0TGltaXRFbGVtZW50KGUpO2lmKCFlLmNvbnRhaW5zRW50aXJlQ29udGVudChuKSlyZXR1cm4hMTtjb25zdCBpPWUuZ2V0Rmlyc3RSYW5nZSgpO2lmKGkuc3RhcnQucGFyZW50PT1pLmVuZC5wYXJlbnQpcmV0dXJuITE7cmV0dXJuIHQuY2hlY2tDaGlsZChuLFwicGFyYWdyYXBoXCIpfShvLGUpKXJldHVybiB2b2lkIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj10Lm1vZGVsLnNjaGVtYS5nZXRMaW1pdEVsZW1lbnQoZSk7dC5yZW1vdmUodC5jcmVhdGVSYW5nZUluKG4pKSxMYyh0LHQuY3JlYXRlUG9zaXRpb25BdChuLDApLGUpfSh0LGUpO2NvbnN0IHI9aS5zdGFydCxzPU9jLmZyb21Qb3NpdGlvbihpLmVuZCxcInRvTmV4dFwiKTtpZihpLnN0YXJ0LmlzVG91Y2hpbmcoaS5lbmQpfHx0LnJlbW92ZShpKSxuLmxlYXZlVW5tZXJnZWR8fCghZnVuY3Rpb24gdChlLG4saSl7Y29uc3Qgbz1uLnBhcmVudDtjb25zdCByPWkucGFyZW50O2lmKG89PXIpcmV0dXJuO2lmKGUubW9kZWwuc2NoZW1hLmlzTGltaXQobyl8fGUubW9kZWwuc2NoZW1hLmlzTGltaXQocikpcmV0dXJuO2lmKCFmdW5jdGlvbih0LGUsbil7Y29uc3QgaT1uZXcgR3ModCxlKTtmb3IoY29uc3QgdCBvZiBpLmdldFdhbGtlcigpKWlmKG4uaXNMaW1pdCh0Lml0ZW0pKXJldHVybiExO3JldHVybiEwfShuLGksZS5tb2RlbC5zY2hlbWEpKXJldHVybjtuPWUuY3JlYXRlUG9zaXRpb25BZnRlcihvKTtpPWUuY3JlYXRlUG9zaXRpb25CZWZvcmUocik7aS5pc0VxdWFsKG4pfHxlLmluc2VydChyLG4pO2UubWVyZ2Uobik7Zm9yKDtpLnBhcmVudC5pc0VtcHR5Oyl7Y29uc3QgdD1pLnBhcmVudDtpPWUuY3JlYXRlUG9zaXRpb25CZWZvcmUodCksZS5yZW1vdmUodCl9dChlLG4saSl9KHQscixzKSxvLnJlbW92ZURpc2FsbG93ZWRBdHRyaWJ1dGVzKHIucGFyZW50LmdldENoaWxkcmVuKCksdCkpLGpjKHQsZSxyKSxmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5jaGVja0NoaWxkKGUsXCIkdGV4dFwiKSxpPXQuY2hlY2tDaGlsZChlLFwicGFyYWdyYXBoXCIpO3JldHVybiFuJiZpfShvLHIpKXtjb25zdCBpPW8uZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKHIpO24uZG9Ob3RBdXRvcGFyYWdyYXBoJiZpP2pjKHQsZSxpKTpMYyh0LHIsZSl9cy5kZXRhY2goKX0pfWZ1bmN0aW9uIExjKHQsZSxuKXtjb25zdCBpPXQuY3JlYXRlRWxlbWVudChcInBhcmFncmFwaFwiKTt0Lmluc2VydChpLGUpLGpjKHQsbix0LmNyZWF0ZVBvc2l0aW9uQXQoaSwwKSl9ZnVuY3Rpb24gamModCxlLG4pe2UgaW5zdGFuY2VvZiBzYT90LnNldFNlbGVjdGlvbihuKTplLnNldFRvKG4pfWNvbnN0IFZjPScgLC4/ITo7XCItKCknO2Z1bmN0aW9uIEJjKHQsZSxuPXt9KXtjb25zdCBpPXQuc2NoZW1hLG89XCJiYWNrd2FyZFwiIT1uLmRpcmVjdGlvbixyPW4udW5pdD9uLnVuaXQ6XCJjaGFyYWN0ZXJcIixzPWUuZm9jdXMsYT1uZXcgcXMoe2JvdW5kYXJpZXM6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQucm9vdCxpPSRzLl9jcmVhdGVBdChuLGU/XCJlbmRcIjowKTtyZXR1cm4gZT9uZXcgR3ModCxpKTpuZXcgR3MoaSx0KX0ocyxvKSxzaW5nbGVDaGFyYWN0ZXJzOiEwLGRpcmVjdGlvbjpvP1wiZm9yd2FyZFwiOlwiYmFja3dhcmRcIn0pLGM9e3dhbGtlcjphLHNjaGVtYTppLGlzRm9yd2FyZDpvLHVuaXQ6cn07bGV0IGw7Zm9yKDtsPWEubmV4dCgpOyl7aWYobC5kb25lKXJldHVybjtjb25zdCBuPXpjKGMsbC52YWx1ZSk7aWYobilyZXR1cm4gdm9pZChlIGluc3RhbmNlb2Ygc2E/dC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uRm9jdXMobil9KTplLnNldEZvY3VzKG4pKX19ZnVuY3Rpb24gemModCxlKXtpZihcInRleHRcIj09ZS50eXBlKXJldHVyblwid29yZFwiPT09dC51bml0P2Z1bmN0aW9uKHQsZSl7bGV0IG49dC5wb3NpdGlvbi50ZXh0Tm9kZTtpZihuKXtsZXQgaT10LnBvc2l0aW9uLm9mZnNldC1uLnN0YXJ0T2Zmc2V0O2Zvcig7IUZjKG4uZGF0YSxpLGUpJiYhVWMobixpLGUpOyl7dC5uZXh0KCk7Y29uc3Qgbz1lP3QucG9zaXRpb24ubm9kZUFmdGVyOnQucG9zaXRpb24ubm9kZUJlZm9yZTtpZihvJiZvLmlzKFwidGV4dFwiKSl7Y29uc3QgaT1vLmRhdGEuY2hhckF0KGU/MDpvLmRhdGEubGVuZ3RoLTEpO1ZjLmluY2x1ZGVzKGkpfHwodC5uZXh0KCksbj10LnBvc2l0aW9uLnRleHROb2RlKX1pPXQucG9zaXRpb24ub2Zmc2V0LW4uc3RhcnRPZmZzZXR9fXJldHVybiB0LnBvc2l0aW9ufSh0LndhbGtlcix0LmlzRm9yd2FyZCk6ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQucG9zaXRpb24udGV4dE5vZGU7aWYobil7Y29uc3QgaT1uLmRhdGE7bGV0IG89dC5wb3NpdGlvbi5vZmZzZXQtbi5zdGFydE9mZnNldDtmb3IoO1RjKGksbyl8fFwiY2hhcmFjdGVyXCI9PWUmJlBjKGksbyk7KXQubmV4dCgpLG89dC5wb3NpdGlvbi5vZmZzZXQtbi5zdGFydE9mZnNldH1yZXR1cm4gdC5wb3NpdGlvbn0odC53YWxrZXIsdC51bml0LHQuaXNGb3J3YXJkKTtpZihlLnR5cGU9PSh0LmlzRm9yd2FyZD9cImVsZW1lbnRTdGFydFwiOlwiZWxlbWVudEVuZFwiKSl7aWYodC5zY2hlbWEuaXNPYmplY3QoZS5pdGVtKSlyZXR1cm4gJHMuX2NyZWF0ZUF0KGUuaXRlbSx0LmlzRm9yd2FyZD9cImFmdGVyXCI6XCJiZWZvcmVcIik7aWYodC5zY2hlbWEuY2hlY2tDaGlsZChlLm5leHRQb3NpdGlvbixcIiR0ZXh0XCIpKXJldHVybiBlLm5leHRQb3NpdGlvbn1lbHNle2lmKHQuc2NoZW1hLmlzTGltaXQoZS5pdGVtKSlyZXR1cm4gdm9pZCB0LndhbGtlci5za2lwKCgpPT4hMCk7aWYodC5zY2hlbWEuY2hlY2tDaGlsZChlLm5leHRQb3NpdGlvbixcIiR0ZXh0XCIpKXJldHVybiBlLm5leHRQb3NpdGlvbn19ZnVuY3Rpb24gRmModCxlLG4pe2NvbnN0IGk9ZSsobj8wOi0xKTtyZXR1cm4gVmMuaW5jbHVkZXModC5jaGFyQXQoaSkpfWZ1bmN0aW9uIFVjKHQsZSxuKXtyZXR1cm4gZT09PShuP3QuZW5kT2Zmc2V0OjApfWZ1bmN0aW9uIEhjKHQsZSl7Y29uc3Qgbj1bXTtBcnJheS5mcm9tKHQuZ2V0SXRlbXMoe2RpcmVjdGlvbjpcImJhY2t3YXJkXCJ9KSkubWFwKHQ9PmUuY3JlYXRlUmFuZ2VPbih0KSkuZmlsdGVyKGU9PntyZXR1cm4oZS5zdGFydC5pc0FmdGVyKHQuc3RhcnQpfHxlLnN0YXJ0LmlzRXF1YWwodC5zdGFydCkpJiYoZS5lbmQuaXNCZWZvcmUodC5lbmQpfHxlLmVuZC5pc0VxdWFsKHQuZW5kKSl9KS5mb3JFYWNoKHQ9PntuLnB1c2godC5zdGFydC5wYXJlbnQpLGUucmVtb3ZlKHQpfSksbi5mb3JFYWNoKHQ9PntsZXQgbj10O2Zvcig7bi5wYXJlbnQmJm4uaXNFbXB0eTspe2NvbnN0IHQ9ZS5jcmVhdGVSYW5nZU9uKG4pO249bi5wYXJlbnQsZS5yZW1vdmUodCl9fSl9ZnVuY3Rpb24gcWModCl7dC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcihlPT4oZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLGk9ZS5zY2hlbWEsbz1bXTtsZXQgcj0hMTtmb3IoY29uc3QgdCBvZiBuLmdldFJhbmdlcygpKXtjb25zdCBlPVdjKHQsaSk7ZT8oby5wdXNoKGUpLHI9ITApOm8ucHVzaCh0KX1pZihyKXtsZXQgZT1vO2lmKG8ubGVuZ3RoPjEpe2NvbnN0IHQ9b1swXS5zdGFydCxuPW9bby5sZW5ndGgtMV0uZW5kO2U9W25ldyBHcyh0LG4pXX10LnNldFNlbGVjdGlvbihlLHtiYWNrd2FyZDpuLmlzQmFja3dhcmR9KX19KShlLHQpKX1mdW5jdGlvbiBXYyh0LGUpe3JldHVybiB0LmlzQ29sbGFwc2VkP2Z1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LnN0YXJ0LGk9ZS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2Uobik7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgbz1pLnN0YXJ0O2lmKG4uaXNFcXVhbChvKSlyZXR1cm4gbnVsbDtpZihvLm5vZGVBZnRlciYmZS5pc0xpbWl0KG8ubm9kZUFmdGVyKSlyZXR1cm4gbmV3IEdzKG8sJHMuX2NyZWF0ZUFmdGVyKG8ubm9kZUFmdGVyKSk7cmV0dXJuIG5ldyBHcyhvKX0odCxlKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5zdGFydCxpPXQuZW5kLG89ZS5jaGVja0NoaWxkKG4sXCIkdGV4dFwiKSxyPWUuY2hlY2tDaGlsZChpLFwiJHRleHRcIikscz1lLmdldExpbWl0RWxlbWVudChuKSxhPWUuZ2V0TGltaXRFbGVtZW50KGkpO2lmKHM9PT1hKXtpZihvJiZyKXJldHVybiBudWxsO2lmKGZ1bmN0aW9uKHQsZSxuKXtjb25zdCBpPXQubm9kZUFmdGVyJiYhbi5pc0xpbWl0KHQubm9kZUFmdGVyKXx8bi5jaGVja0NoaWxkKHQsXCIkdGV4dFwiKSxvPWUubm9kZUJlZm9yZSYmIW4uaXNMaW1pdChlLm5vZGVCZWZvcmUpfHxuLmNoZWNrQ2hpbGQoZSxcIiR0ZXh0XCIpO3JldHVybiBpfHxvfShuLGksZSkpe2NvbnN0IHQ9bi5ub2RlQWZ0ZXImJmUuaXNPYmplY3Qobi5ub2RlQWZ0ZXIpLG89dD9udWxsOmUuZ2V0TmVhcmVzdFNlbGVjdGlvblJhbmdlKG4sXCJmb3J3YXJkXCIpLHI9aS5ub2RlQmVmb3JlJiZlLmlzT2JqZWN0KGkubm9kZUJlZm9yZSkscz1yP251bGw6ZS5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2UoaSxcImJhY2t3YXJkXCIpLGE9bz9vLnN0YXJ0Om4sYz1zP3Muc3RhcnQ6aTtyZXR1cm4gbmV3IEdzKGEsYyl9fWNvbnN0IGM9cyYmIXMuaXMoXCJyb290RWxlbWVudFwiKSxsPWEmJiFhLmlzKFwicm9vdEVsZW1lbnRcIik7aWYoY3x8bCl7Y29uc3QgdD1uLm5vZGVBZnRlciYmaS5ub2RlQmVmb3JlJiZuLm5vZGVBZnRlci5wYXJlbnQ9PT1pLm5vZGVCZWZvcmUucGFyZW50LG89YyYmKCF0fHwhJGMobi5ub2RlQWZ0ZXIsZSkpLHI9bCYmKCF0fHwhJGMoaS5ub2RlQmVmb3JlLGUpKTtsZXQgZD1uLHU9aTtyZXR1cm4gbyYmKGQ9JHMuX2NyZWF0ZUJlZm9yZShZYyhzLGUpKSksciYmKHU9JHMuX2NyZWF0ZUFmdGVyKFljKGEsZSkpKSxuZXcgR3MoZCx1KX1yZXR1cm4gbnVsbH0odCxlKX1mdW5jdGlvbiBZYyh0LGUpe2xldCBuPXQsaT1uO2Zvcig7ZS5pc0xpbWl0KGkpJiZpLnBhcmVudDspbj1pLGk9aS5wYXJlbnQ7cmV0dXJuIG59ZnVuY3Rpb24gJGModCxlKXtyZXR1cm4gdCYmZS5pc09iamVjdCh0KX1jbGFzcyBHY3tjb25zdHJ1Y3Rvcigpe3RoaXMubWFya2Vycz1uZXcgSWMsdGhpcy5kb2N1bWVudD1uZXcgRWModGhpcyksdGhpcy5zY2hlbWE9bmV3IElhLHRoaXMuX3BlbmRpbmdDaGFuZ2VzPVtdLHRoaXMuX2N1cnJlbnRXcml0ZXI9bnVsbCxbXCJpbnNlcnRDb250ZW50XCIsXCJkZWxldGVDb250ZW50XCIsXCJtb2RpZnlTZWxlY3Rpb25cIixcImdldFNlbGVjdGVkQ29udGVudFwiLFwiYXBwbHlPcGVyYXRpb25cIl0uZm9yRWFjaCh0PT50aGlzLmRlY29yYXRlKHQpKSx0aGlzLm9uKFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2VbMF0uX3ZhbGlkYXRlKCl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKFwiJHJvb3RcIix7aXNMaW1pdDohMH0pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKFwiJGJsb2NrXCIse2FsbG93SW46XCIkcm9vdFwiLGlzQmxvY2s6ITB9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiR0ZXh0XCIse2FsbG93SW46XCIkYmxvY2tcIixpc0lubGluZTohMH0pLHRoaXMuc2NoZW1hLnJlZ2lzdGVyKFwiJGNsaXBib2FyZEhvbGRlclwiLHthbGxvd0NvbnRlbnRPZjpcIiRyb290XCIsaXNMaW1pdDohMH0pLHRoaXMuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93SW46XCIkY2xpcGJvYXJkSG9sZGVyXCJ9KSx0aGlzLnNjaGVtYS5yZWdpc3RlcihcIiRtYXJrZXJcIiksdGhpcy5zY2hlbWEuYWRkQ2hpbGRDaGVjaygodCxlKT0+e2lmKFwiJG1hcmtlclwiPT09ZS5uYW1lKXJldHVybiEwfSkscWModGhpcyl9Y2hhbmdlKHQpe3JldHVybiAwPT09dGhpcy5fcGVuZGluZ0NoYW5nZXMubGVuZ3RoPyh0aGlzLl9wZW5kaW5nQ2hhbmdlcy5wdXNoKHtiYXRjaDpuZXcgR2EsY2FsbGJhY2s6dH0pLHRoaXMuX3J1blBlbmRpbmdDaGFuZ2VzKClbMF0pOnQodGhpcy5fY3VycmVudFdyaXRlcil9ZW5xdWV1ZUNoYW5nZSh0LGUpe1wic3RyaW5nXCI9PXR5cGVvZiB0P3Q9bmV3IEdhKHQpOlwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJihlPXQsdD1uZXcgR2EpLHRoaXMuX3BlbmRpbmdDaGFuZ2VzLnB1c2goe2JhdGNoOnQsY2FsbGJhY2s6ZX0pLDE9PXRoaXMuX3BlbmRpbmdDaGFuZ2VzLmxlbmd0aCYmdGhpcy5fcnVuUGVuZGluZ0NoYW5nZXMoKX1hcHBseU9wZXJhdGlvbih0KXt0Ll9leGVjdXRlKCl9aW5zZXJ0Q29udGVudCh0LGUsbil7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuLGkpe3JldHVybiB0LmNoYW5nZShvPT57bGV0IHI7Y29uc3Qgcz0ocj1uP24gaW5zdGFuY2VvZiB0YXx8biBpbnN0YW5jZW9mIHNhP246by5jcmVhdGVTZWxlY3Rpb24obixpKTp0LmRvY3VtZW50LnNlbGVjdGlvbikuZ2V0Rmlyc3RQb3NpdGlvbigpO3IuaXNDb2xsYXBzZWR8fHQuZGVsZXRlQ29udGVudChyLHtkb05vdEF1dG9wYXJhZ3JhcGg6ITB9KTtjb25zdCBhPW5ldyBSYyh0LG8scyk7bGV0IGM7Yz1lLmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT9lLmdldENoaWxkcmVuKCk6W2VdLGEuaGFuZGxlTm9kZXMoYyx7aXNGaXJzdDohMCxpc0xhc3Q6ITB9KTtjb25zdCBsPWEuZ2V0U2VsZWN0aW9uUmFuZ2UoKTtsP3IgaW5zdGFuY2VvZiBzYT9vLnNldFNlbGVjdGlvbihsKTpyLnNldFRvKGwpOmJzLmEud2FybihcImluc2VydGNvbnRlbnQtbm8tcmFuZ2U6IENhbm5vdCBkZXRlcm1pbmUgYSBwcm9wZXIgc2VsZWN0aW9uIHJhbmdlIGFmdGVyIGluc2VydGlvbi5cIik7Y29uc3QgZD1hLmdldEFmZmVjdGVkUmFuZ2UoKXx8dC5jcmVhdGVSYW5nZShzKTtyZXR1cm4gYS5kZXN0cm95KCksZH0pfSh0aGlzLHQsZSxuKX1kZWxldGVDb250ZW50KHQsZSl7RGModGhpcyx0LGUpfW1vZGlmeVNlbGVjdGlvbih0LGUpe0JjKHRoaXMsdCxlKX1nZXRTZWxlY3RlZENvbnRlbnQodCl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQuY2hhbmdlKHQ9Pntjb25zdCBuPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9ZS5nZXRGaXJzdFJhbmdlKCk7aWYoIWl8fGkuaXNDb2xsYXBzZWQpcmV0dXJuIG47Y29uc3Qgbz1pLnN0YXJ0LnJvb3Qscj1pLnN0YXJ0LmdldENvbW1vblBhdGgoaS5lbmQpLHM9by5nZXROb2RlQnlQYXRoKHIpO2xldCBhO2NvbnN0IGM9KGE9aS5zdGFydC5wYXJlbnQ9PWkuZW5kLnBhcmVudD9pOnQuY3JlYXRlUmFuZ2UodC5jcmVhdGVQb3NpdGlvbkF0KHMsaS5zdGFydC5wYXRoW3IubGVuZ3RoXSksdC5jcmVhdGVQb3NpdGlvbkF0KHMsaS5lbmQucGF0aFtyLmxlbmd0aF0rMSkpKS5lbmQub2Zmc2V0LWEuc3RhcnQub2Zmc2V0O2Zvcihjb25zdCBlIG9mIGEuZ2V0SXRlbXMoe3NoYWxsb3c6ITB9KSllLmlzKFwidGV4dFByb3h5XCIpP3QuYXBwZW5kVGV4dChlLmRhdGEsZS5nZXRBdHRyaWJ1dGVzKCksbik6dC5hcHBlbmQoZS5fY2xvbmUoITApLG4pO2lmKGEhPWkpe2NvbnN0IGU9aS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoYS5zdGFydCx0LmNyZWF0ZVBvc2l0aW9uQXQobiwwKSxjKVswXSxvPXQuY3JlYXRlUmFuZ2UodC5jcmVhdGVQb3NpdGlvbkF0KG4sMCksZS5zdGFydCk7SGModC5jcmVhdGVSYW5nZShlLmVuZCx0LmNyZWF0ZVBvc2l0aW9uQXQobixcImVuZFwiKSksdCksSGMobyx0KX1yZXR1cm4gbn0pfSh0aGlzLHQpfWhhc0NvbnRlbnQodCxlKXtjb25zdCBuPXQgaW5zdGFuY2VvZiBIcz9Hcy5fY3JlYXRlSW4odCk6dDtpZihuLmlzQ29sbGFwc2VkKXJldHVybiExO2Zvcihjb25zdCB0IG9mIHRoaXMubWFya2Vycy5nZXRNYXJrZXJzSW50ZXJzZWN0aW5nUmFuZ2UobikpaWYodC5hZmZlY3RzRGF0YSlyZXR1cm4hMDtjb25zdHtpZ25vcmVXaGl0ZXNwYWNlczppPSExfT1lfHx7fTtmb3IoY29uc3QgdCBvZiBuLmdldEl0ZW1zKCkpaWYodC5pcyhcInRleHRQcm94eVwiKSl7aWYoIWkpcmV0dXJuITA7aWYoLTEhPT10LmRhdGEuc2VhcmNoKC9cXFMvKSlyZXR1cm4hMH1lbHNlIGlmKHRoaXMuc2NoZW1hLmlzT2JqZWN0KHQpKXJldHVybiEwO3JldHVybiExfWNyZWF0ZVBvc2l0aW9uRnJvbVBhdGgodCxlLG4pe3JldHVybiBuZXcgJHModCxlLG4pfWNyZWF0ZVBvc2l0aW9uQXQodCxlKXtyZXR1cm4gJHMuX2NyZWF0ZUF0KHQsZSl9Y3JlYXRlUG9zaXRpb25BZnRlcih0KXtyZXR1cm4gJHMuX2NyZWF0ZUFmdGVyKHQpfWNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpe3JldHVybiAkcy5fY3JlYXRlQmVmb3JlKHQpfWNyZWF0ZVJhbmdlKHQsZSl7cmV0dXJuIG5ldyBHcyh0LGUpfWNyZWF0ZVJhbmdlSW4odCl7cmV0dXJuIEdzLl9jcmVhdGVJbih0KX1jcmVhdGVSYW5nZU9uKHQpe3JldHVybiBHcy5fY3JlYXRlT24odCl9Y3JlYXRlU2VsZWN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IHRhKHQsZSxuKX1jcmVhdGVCYXRjaCgpe3JldHVybiBuZXcgR2F9ZGVzdHJveSgpe3RoaXMuZG9jdW1lbnQuZGVzdHJveSgpLHRoaXMuc3RvcExpc3RlbmluZygpfV9ydW5QZW5kaW5nQ2hhbmdlcygpe2NvbnN0IHQ9W107Zm9yKHRoaXMuZmlyZShcIl9iZWZvcmVDaGFuZ2VzXCIpO3RoaXMuX3BlbmRpbmdDaGFuZ2VzLmxlbmd0aDspe2NvbnN0IGU9dGhpcy5fcGVuZGluZ0NoYW5nZXNbMF0uYmF0Y2g7dGhpcy5fY3VycmVudFdyaXRlcj1uZXcgcGModGhpcyxlKTtjb25zdCBuPXRoaXMuX3BlbmRpbmdDaGFuZ2VzWzBdLmNhbGxiYWNrKHRoaXMuX2N1cnJlbnRXcml0ZXIpO3QucHVzaChuKSx0aGlzLmRvY3VtZW50Ll9oYW5kbGVDaGFuZ2VCbG9jayh0aGlzLl9jdXJyZW50V3JpdGVyKSx0aGlzLl9wZW5kaW5nQ2hhbmdlcy5zaGlmdCgpLHRoaXMuX2N1cnJlbnRXcml0ZXI9bnVsbH1yZXR1cm4gdGhpcy5maXJlKFwiX2FmdGVyQ2hhbmdlc1wiKSx0fX1jaShHYyxGaSk7Y2xhc3MgUWN7Y29uc3RydWN0b3IoKXt0aGlzLl9saXN0ZW5lcj1PYmplY3QuY3JlYXRlKGxyKX1saXN0ZW5Ubyh0KXt0aGlzLl9saXN0ZW5lci5saXN0ZW5Ubyh0LFwia2V5ZG93blwiLCh0LGUpPT57dGhpcy5fbGlzdGVuZXIuZmlyZShcIl9rZXlkb3duOlwiK3dvKGUpLGUpfSl9c2V0KHQsZSxuPXt9KXtjb25zdCBpPV9vKHQpLG89bi5wcmlvcml0eTt0aGlzLl9saXN0ZW5lci5saXN0ZW5Ubyh0aGlzLl9saXN0ZW5lcixcIl9rZXlkb3duOlwiK2ksKHQsbik9PntlKG4sKCk9PntuLnByZXZlbnREZWZhdWx0KCksbi5zdG9wUHJvcGFnYXRpb24oKSx0LnN0b3AoKX0pLHQucmV0dXJuPSEwfSx7cHJpb3JpdHk6b30pfXByZXNzKHQpe3JldHVybiEhdGhpcy5fbGlzdGVuZXIuZmlyZShcIl9rZXlkb3duOlwiK3dvKHQpLHQpfWRlc3Ryb3koKXt0aGlzLl9saXN0ZW5lci5zdG9wTGlzdGVuaW5nKCl9fWNsYXNzIEpjIGV4dGVuZHMgUWN7Y29uc3RydWN0b3IodCl7c3VwZXIoKSx0aGlzLmVkaXRvcj10fXNldCh0LGUsbj17fSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9ZTtlPSgoZSxuKT0+e3RoaXMuZWRpdG9yLmV4ZWN1dGUodCksbigpfSl9c3VwZXIuc2V0KHQsZSxuKX19Y2xhc3MgS2N7Y29uc3RydWN0b3IodCl7Y29uc3QgZT10aGlzLmNvbnN0cnVjdG9yLmJ1aWx0aW5QbHVnaW5zO3RoaXMuY29uZmlnPW5ldyBZbih0LHRoaXMuY29uc3RydWN0b3IuZGVmYXVsdENvbmZpZyksdGhpcy5jb25maWcuZGVmaW5lKFwicGx1Z2luc1wiLGUpLHRoaXMucGx1Z2lucz1uZXcgQ2EodGhpcyxlKSx0aGlzLmNvbW1hbmRzPW5ldyBUYSx0aGlzLmxvY2FsZT1uZXcgTWEodGhpcy5jb25maWcuZ2V0KFwibGFuZ3VhZ2VcIikpLHRoaXMudD10aGlzLmxvY2FsZS50LHRoaXMuc2V0KFwic3RhdGVcIixcImluaXRpYWxpemluZ1wiKSx0aGlzLm9uY2UoXCJyZWFkeVwiLCgpPT50aGlzLnN0YXRlPVwicmVhZHlcIix7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0aGlzLm9uY2UoXCJkZXN0cm95XCIsKCk9PnRoaXMuc3RhdGU9XCJkZXN0cm95ZWRcIix7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0aGlzLnNldChcImlzUmVhZE9ubHlcIiwhMSksdGhpcy5tb2RlbD1uZXcgR2MsdGhpcy5kYXRhPW5ldyBxYSh0aGlzLm1vZGVsKSx0aGlzLmVkaXRpbmc9bmV3IEFhKHRoaXMubW9kZWwpLHRoaXMuZWRpdGluZy52aWV3LmRvY3VtZW50LmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKHRoaXMpLHRoaXMuY29udmVyc2lvbj1uZXcgV2EoW3RoaXMuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIsdGhpcy5kYXRhLmRvd25jYXN0RGlzcGF0Y2hlcl0sdGhpcy5kYXRhLnVwY2FzdERpc3BhdGNoZXIpLHRoaXMuY29udmVyc2lvbi5hZGRBbGlhcyhcImRhdGFEb3duY2FzdFwiLHRoaXMuZGF0YS5kb3duY2FzdERpc3BhdGNoZXIpLHRoaXMuY29udmVyc2lvbi5hZGRBbGlhcyhcImVkaXRpbmdEb3duY2FzdFwiLHRoaXMuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIpLHRoaXMua2V5c3Ryb2tlcz1uZXcgSmModGhpcyksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWRpdGluZy52aWV3LmRvY3VtZW50KX1pbml0UGx1Z2lucygpe2NvbnN0IHQ9dGhpcy5jb25maWcsZT10LmdldChcInBsdWdpbnNcIil8fFtdLG49dC5nZXQoXCJyZW1vdmVQbHVnaW5zXCIpfHxbXSxpPXQuZ2V0KFwiZXh0cmFQbHVnaW5zXCIpfHxbXTtyZXR1cm4gdGhpcy5wbHVnaW5zLmluaXQoZS5jb25jYXQoaSksbil9ZGVzdHJveSgpe2xldCB0PVByb21pc2UucmVzb2x2ZSgpO3JldHVyblwiaW5pdGlhbGl6aW5nXCI9PXRoaXMuc3RhdGUmJih0PW5ldyBQcm9taXNlKHQ9PnRoaXMub25jZShcInJlYWR5XCIsdCkpKSx0LnRoZW4oKCk9Pnt0aGlzLmZpcmUoXCJkZXN0cm95XCIpLHRoaXMuc3RvcExpc3RlbmluZygpLHRoaXMuY29tbWFuZHMuZGVzdHJveSgpfSkudGhlbigoKT0+dGhpcy5wbHVnaW5zLmRlc3Ryb3koKSkudGhlbigoKT0+e3RoaXMubW9kZWwuZGVzdHJveSgpLHRoaXMuZGF0YS5kZXN0cm95KCksdGhpcy5lZGl0aW5nLmRlc3Ryb3koKSx0aGlzLmtleXN0cm9rZXMuZGVzdHJveSgpfSl9ZXhlY3V0ZSguLi50KXt0aGlzLmNvbW1hbmRzLmV4ZWN1dGUoLi4udCl9fWNpKEtjLEZpKTt2YXIgWmM9e3NldERhdGEodCl7dGhpcy5kYXRhLnNldCh0KX0sZ2V0RGF0YSh0KXtyZXR1cm4gdGhpcy5kYXRhLmdldCh0KX19O3ZhciBYYz17dXBkYXRlU291cmNlRWxlbWVudCgpe2lmKCF0aGlzLnNvdXJjZUVsZW1lbnQpdGhyb3cgbmV3IEduLmIoXCJlZGl0b3ItbWlzc2luZy1zb3VyY2VlbGVtZW50OiBDYW5ub3QgdXBkYXRlIHRoZSBzb3VyY2UgZWxlbWVudCBvZiBhIGRldGFjaGVkIGVkaXRvci5cIik7IWZ1bmN0aW9uKHQsZSl7dCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQmJih0LnZhbHVlPWUpLHQuaW5uZXJIVE1MPWV9KHRoaXMuc291cmNlRWxlbWVudCx0aGlzLmRhdGEuZ2V0KCkpfX07Y2xhc3MgdGx7Z2V0SHRtbCh0KXtjb25zdCBlPWRvY3VtZW50LmltcGxlbWVudGF0aW9uLmNyZWF0ZUhUTUxEb2N1bWVudChcIlwiKS5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3JldHVybiBlLmFwcGVuZENoaWxkKHQpLGUuaW5uZXJIVE1MfX1jbGFzcyBlbHtjb25zdHJ1Y3Rvcigpe3RoaXMuX2RvbVBhcnNlcj1uZXcgRE9NUGFyc2VyLHRoaXMuX2RvbUNvbnZlcnRlcj1uZXcgcnIoe2Jsb2NrRmlsbGVyOmpvfSksdGhpcy5faHRtbFdyaXRlcj1uZXcgdGx9dG9EYXRhKHQpe2NvbnN0IGU9dGhpcy5fZG9tQ29udmVydGVyLnZpZXdUb0RvbSh0LGRvY3VtZW50KTtyZXR1cm4gdGhpcy5faHRtbFdyaXRlci5nZXRIdG1sKGUpfXRvVmlldyh0KXtjb25zdCBlPXRoaXMuX3RvRG9tKHQpO3JldHVybiB0aGlzLl9kb21Db252ZXJ0ZXIuZG9tVG9WaWV3KGUpfV90b0RvbSh0KXtjb25zdCBlPXRoaXMuX2RvbVBhcnNlci5wYXJzZUZyb21TdHJpbmcodCxcInRleHQvaHRtbFwiKSxuPWUuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9ZS5ib2R5LmNoaWxkTm9kZXM7Zm9yKDtpLmxlbmd0aD4wOyluLmFwcGVuZENoaWxkKGlbMF0pO3JldHVybiBufX1jbGFzcyBubHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10LHRoaXMuX2NvbXBvbmVudHM9bmV3IE1hcH0qbmFtZXMoKXtmb3IoY29uc3QgdCBvZiB0aGlzLl9jb21wb25lbnRzLnZhbHVlcygpKXlpZWxkIHQub3JpZ2luYWxOYW1lfWFkZCh0LGUpe2lmKHRoaXMuaGFzKHQpKXRocm93IG5ldyBHbi5iKFwiY29tcG9uZW50ZmFjdG9yeS1pdGVtLWV4aXN0czogVGhlIGl0ZW0gYWxyZWFkeSBleGlzdHMgaW4gdGhlIGNvbXBvbmVudCBmYWN0b3J5LlwiLHtuYW1lOnR9KTt0aGlzLl9jb21wb25lbnRzLnNldChpbCh0KSx7Y2FsbGJhY2s6ZSxvcmlnaW5hbE5hbWU6dH0pfWNyZWF0ZSh0KXtpZighdGhpcy5oYXModCkpdGhyb3cgbmV3IEduLmIoXCJjb21wb25lbnRmYWN0b3J5LWl0ZW0tbWlzc2luZzogVGhlIHJlcXVpcmVkIGNvbXBvbmVudCBpcyBub3QgcmVnaXN0ZXJlZCBpbiB0aGUgZmFjdG9yeS5cIix7bmFtZTp0fSk7cmV0dXJuIHRoaXMuX2NvbXBvbmVudHMuZ2V0KGlsKHQpKS5jYWxsYmFjayh0aGlzLmVkaXRvci5sb2NhbGUpfWhhcyh0KXtyZXR1cm4gdGhpcy5fY29tcG9uZW50cy5oYXMoaWwodCkpfX1mdW5jdGlvbiBpbCh0KXtyZXR1cm4gU3RyaW5nKHQpLnRvTG93ZXJDYXNlKCl9Y2xhc3Mgb2x7Y29uc3RydWN0b3IoKXt0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKSx0aGlzLnNldChcImZvY3VzZWRFbGVtZW50XCIsbnVsbCksdGhpcy5fZWxlbWVudHM9bmV3IFNldCx0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1udWxsfWFkZCh0KXtpZih0aGlzLl9lbGVtZW50cy5oYXModCkpdGhyb3cgbmV3IEduLmIoXCJmb2N1c1RyYWNrZXItYWRkLWVsZW1lbnQtYWxyZWFkeS1leGlzdFwiKTt0aGlzLmxpc3RlblRvKHQsXCJmb2N1c1wiLCgpPT50aGlzLl9mb2N1cyh0KSx7dXNlQ2FwdHVyZTohMH0pLHRoaXMubGlzdGVuVG8odCxcImJsdXJcIiwoKT0+dGhpcy5fYmx1cigpLHt1c2VDYXB0dXJlOiEwfSksdGhpcy5fZWxlbWVudHMuYWRkKHQpfXJlbW92ZSh0KXt0PT09dGhpcy5mb2N1c2VkRWxlbWVudCYmdGhpcy5fYmx1cih0KSx0aGlzLl9lbGVtZW50cy5oYXModCkmJih0aGlzLnN0b3BMaXN0ZW5pbmcodCksdGhpcy5fZWxlbWVudHMuZGVsZXRlKHQpKX1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCl9X2ZvY3VzKHQpe2NsZWFyVGltZW91dCh0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dCksdGhpcy5mb2N1c2VkRWxlbWVudD10LHRoaXMuaXNGb2N1c2VkPSEwfV9ibHVyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX25leHRFdmVudExvb3BUaW1lb3V0KSx0aGlzLl9uZXh0RXZlbnRMb29wVGltZW91dD1zZXRUaW1lb3V0KCgpPT57dGhpcy5mb2N1c2VkRWxlbWVudD1udWxsLHRoaXMuaXNGb2N1c2VkPSExfSwwKX19Y2kob2wsbHIpLGNpKG9sLEZpKTtjbGFzcyBybHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10LHRoaXMuY29tcG9uZW50RmFjdG9yeT1uZXcgbmwodCksdGhpcy5mb2N1c1RyYWNrZXI9bmV3IG9sLHRoaXMuX2VkaXRhYmxlRWxlbWVudHM9bmV3IE1hcCx0aGlzLmxpc3RlblRvKHQuZWRpdGluZy52aWV3LmRvY3VtZW50LFwibGF5b3V0Q2hhbmdlZFwiLCgpPT50aGlzLnVwZGF0ZSgpKX1nZXQgZWxlbWVudCgpe3JldHVybiBudWxsfXVwZGF0ZSgpe3RoaXMuZmlyZShcInVwZGF0ZVwiKX1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5mb2N1c1RyYWNrZXIuZGVzdHJveSgpLHRoaXMuX2VkaXRhYmxlRWxlbWVudHM9bmV3IE1hcH1nZXRFZGl0YWJsZUVsZW1lbnQodD1cIm1haW5cIil7cmV0dXJuIHRoaXMuX2VkaXRhYmxlRWxlbWVudHMuZ2V0KHQpfWdldEVkaXRhYmxlRWxlbWVudHNOYW1lcygpe3JldHVybiB0aGlzLl9lZGl0YWJsZUVsZW1lbnRzLmtleXMoKX19Y2kocmwsZWkpO24oNDMpO2NvbnN0IHNsPW5ldyBXZWFrTWFwO2Z1bmN0aW9uIGFsKHQpe2NvbnN0e3ZpZXc6ZSxlbGVtZW50Om4sdGV4dDppLGlzRGlyZWN0SG9zdDpvPSEwfT10LHI9ZS5kb2N1bWVudDtzbC5oYXMocil8fChzbC5zZXQocixuZXcgTWFwKSxyLnJlZ2lzdGVyUG9zdEZpeGVyKHQ9PmxsKHIsdCkpKSxzbC5nZXQocikuc2V0KG4se3RleHQ6aSxpc0RpcmVjdEhvc3Q6b30pLGUuY2hhbmdlKHQ9PmxsKHIsdCkpfWZ1bmN0aW9uIGNsKHQsZSl7cmV0dXJuISFlLmhhc0NsYXNzKFwiY2stcGxhY2Vob2xkZXJcIikmJih0LnJlbW92ZUNsYXNzKFwiY2stcGxhY2Vob2xkZXJcIixlKSwhMCl9ZnVuY3Rpb24gbGwodCxlKXtjb25zdCBuPXNsLmdldCh0KTtsZXQgaT0hMTtmb3IoY29uc3RbdCxvXW9mIG4pZGwoZSx0LG8pJiYoaT0hMCk7cmV0dXJuIGl9ZnVuY3Rpb24gZGwodCxlLG4pe2NvbnN0e3RleHQ6aSxpc0RpcmVjdEhvc3Q6b309bixyPW8/ZTpmdW5jdGlvbih0KXtpZigxPT09dC5jaGlsZENvdW50KXtjb25zdCBlPXQuZ2V0Q2hpbGQoMCk7aWYoZS5pcyhcImVsZW1lbnRcIikmJiFlLmlzKFwidWlFbGVtZW50XCIpKXJldHVybiBlfXJldHVybiBudWxsfShlKTtsZXQgcz0hMTtyZXR1cm4hIXImJihuLmhvc3RFbGVtZW50PXIsci5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpIT09aSYmKHQuc2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiLGkscikscz0hMCksIWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5kb2N1bWVudDtpZighZSlyZXR1cm4hMTtjb25zdCBuPSFBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkuc29tZSh0PT4hdC5pcyhcInVpRWxlbWVudFwiKSk7aWYoIWUuaXNGb2N1c2VkJiZuKXJldHVybiEwO2NvbnN0IGk9ZS5zZWxlY3Rpb24uYW5jaG9yO3JldHVybiEoIW58fCFpfHxpLnBhcmVudD09PXQpfShyKT9jbCh0LHIpJiYocz0hMCk6ZnVuY3Rpb24odCxlKXtyZXR1cm4hZS5oYXNDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIpJiYodC5hZGRDbGFzcyhcImNrLXBsYWNlaG9sZGVyXCIsZSksITApfSh0LHIpJiYocz0hMCkscyl9Y2xhc3MgdWx7Y29uc3RydWN0b3IoKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzPVtdfXJlcGxhY2UodCxlKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzLnB1c2goe2VsZW1lbnQ6dCxuZXdFbGVtZW50OmV9KSx0LnN0eWxlLmRpc3BsYXk9XCJub25lXCIsZSYmdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQubmV4dFNpYmxpbmcpfXJlc3RvcmUoKXt0aGlzLl9yZXBsYWNlZEVsZW1lbnRzLmZvckVhY2goKHtlbGVtZW50OnQsbmV3RWxlbWVudDplfSk9Pnt0LnN0eWxlLmRpc3BsYXk9XCJcIixlJiZlLnJlbW92ZSgpfSksdGhpcy5fcmVwbGFjZWRFbGVtZW50cz1bXX19Y2xhc3MgaGwgZXh0ZW5kcyBybHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudmlldz1lLHRoaXMuX3Rvb2xiYXJDb25maWc9ZnVuY3Rpb24odCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/e2l0ZW1zOnR9OnQ/T2JqZWN0LmFzc2lnbih7aXRlbXM6W119LHQpOntpdGVtczpbXX19KHQuY29uZmlnLmdldChcInRvb2xiYXJcIikpLHRoaXMuX2VsZW1lbnRSZXBsYWNlcj1uZXcgdWx9Z2V0IGVsZW1lbnQoKXtyZXR1cm4gdGhpcy52aWV3LmVsZW1lbnR9aW5pdCh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLG49dGhpcy52aWV3LGk9ZS5lZGl0aW5nLnZpZXcsbz1uLmVkaXRhYmxlLHI9aS5kb2N1bWVudC5nZXRSb290KCk7by5uYW1lPXIucm9vdE5hbWUsbi5yZW5kZXIoKTtjb25zdCBzPW8uZWxlbWVudDt0aGlzLl9lZGl0YWJsZUVsZW1lbnRzLnNldChvLm5hbWUscyksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHMpLG4uZWRpdGFibGUuYmluZChcImlzRm9jdXNlZFwiKS50byh0aGlzLmZvY3VzVHJhY2tlciksaS5hdHRhY2hEb21Sb290KHMpLHQmJnRoaXMuX2VsZW1lbnRSZXBsYWNlci5yZXBsYWNlKHQsdGhpcy5lbGVtZW50KSx0aGlzLl9pbml0UGxhY2Vob2xkZXIoKSx0aGlzLl9pbml0VG9vbGJhcigpLHRoaXMuZmlyZShcInJlYWR5XCIpfWRlc3Ryb3koKXtjb25zdCB0PXRoaXMudmlldyxlPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldzt0aGlzLl9lbGVtZW50UmVwbGFjZXIucmVzdG9yZSgpLGUuZGV0YWNoRG9tUm9vdCh0LmVkaXRhYmxlLm5hbWUpLHQuZGVzdHJveSgpLHN1cGVyLmRlc3Ryb3koKX1faW5pdFRvb2xiYXIoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dGhpcy52aWV3LG49dC5lZGl0aW5nLnZpZXc7ZS5zdGlja3lQYW5lbC5iaW5kKFwiaXNBY3RpdmVcIikudG8odGhpcy5mb2N1c1RyYWNrZXIsXCJpc0ZvY3VzZWRcIiksZS5zdGlja3lQYW5lbC5saW1pdGVyRWxlbWVudD1lLmVsZW1lbnQsdGhpcy5fdG9vbGJhckNvbmZpZy52aWV3cG9ydFRvcE9mZnNldCYmKGUuc3RpY2t5UGFuZWwudmlld3BvcnRUb3BPZmZzZXQ9dGhpcy5fdG9vbGJhckNvbmZpZy52aWV3cG9ydFRvcE9mZnNldCksZS50b29sYmFyLmZpbGxGcm9tQ29uZmlnKHRoaXMuX3Rvb2xiYXJDb25maWcuaXRlbXMsdGhpcy5jb21wb25lbnRGYWN0b3J5KSxmdW5jdGlvbih7b3JpZ2luOnQsb3JpZ2luS2V5c3Ryb2tlSGFuZGxlcjplLG9yaWdpbkZvY3VzVHJhY2tlcjpuLHRvb2xiYXI6aSxiZWZvcmVGb2N1czpvLGFmdGVyQmx1cjpyfSl7bi5hZGQoaS5lbGVtZW50KSxlLnNldChcIkFsdCtGMTBcIiwodCxlKT0+e24uaXNGb2N1c2VkJiYhaS5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYobyYmbygpLGkuZm9jdXMoKSxlKCkpfSksaS5rZXlzdHJva2VzLnNldChcIkVzY1wiLChlLG4pPT57aS5mb2N1c1RyYWNrZXIuaXNGb2N1c2VkJiYodC5mb2N1cygpLHImJnIoKSxuKCkpfSl9KHtvcmlnaW46bixvcmlnaW5Gb2N1c1RyYWNrZXI6dGhpcy5mb2N1c1RyYWNrZXIsb3JpZ2luS2V5c3Ryb2tlSGFuZGxlcjp0LmtleXN0cm9rZXMsdG9vbGJhcjplLnRvb2xiYXJ9KX1faW5pdFBsYWNlaG9sZGVyKCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuZWRpdGluZy52aWV3LG49ZS5kb2N1bWVudC5nZXRSb290KCksaT10LnNvdXJjZUVsZW1lbnQsbz10LmNvbmZpZy5nZXQoXCJwbGFjZWhvbGRlclwiKXx8aSYmXCJ0ZXh0YXJlYVwiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJmkuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIik7byYmYWwoe3ZpZXc6ZSxlbGVtZW50Om4sdGV4dDpvLGlzRGlyZWN0SG9zdDohMX0pfX1jbGFzcyBmbCBleHRlbmRzIG9ve2NvbnN0cnVjdG9yKHQpe3N1cGVyKHtpZFByb3BlcnR5Olwidmlld1VpZFwifSksdGhpcy5vbihcImFkZFwiLCh0LGUsbik9PntlLmlzUmVuZGVyZWR8fGUucmVuZGVyKCksZS5lbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50JiZ0aGlzLl9wYXJlbnRFbGVtZW50Lmluc2VydEJlZm9yZShlLmVsZW1lbnQsdGhpcy5fcGFyZW50RWxlbWVudC5jaGlsZHJlbltuXSl9KSx0aGlzLm9uKFwicmVtb3ZlXCIsKHQsZSk9PntlLmVsZW1lbnQmJnRoaXMuX3BhcmVudEVsZW1lbnQmJmUuZWxlbWVudC5yZW1vdmUoKX0pLHRoaXMubG9jYWxlPXQsdGhpcy5fcGFyZW50RWxlbWVudD1udWxsfWRlc3Ryb3koKXt0aGlzLm1hcCh0PT50LmRlc3Ryb3koKSl9c2V0UGFyZW50KHQpe3RoaXMuX3BhcmVudEVsZW1lbnQ9dH1kZWxlZ2F0ZSguLi50KXtpZighdC5sZW5ndGh8fCFmdW5jdGlvbih0KXtyZXR1cm4gdC5ldmVyeSh0PT5cInN0cmluZ1wiPT10eXBlb2YgdCl9KHQpKXRocm93IG5ldyBHbi5iKFwidWktdmlld2NvbGxlY3Rpb24tZGVsZWdhdGUtd3JvbmctZXZlbnRzOiBBbGwgZXZlbnQgbmFtZXMgbXVzdCBiZSBzdHJpbmdzLlwiKTtyZXR1cm57dG86ZT0+e2Zvcihjb25zdCBuIG9mIHRoaXMpZm9yKGNvbnN0IGkgb2YgdCluLmRlbGVnYXRlKGkpLnRvKGUpO3RoaXMub24oXCJhZGRcIiwobixpKT0+e2Zvcihjb25zdCBuIG9mIHQpaS5kZWxlZ2F0ZShuKS50byhlKX0pLHRoaXMub24oXCJyZW1vdmVcIiwobixpKT0+e2Zvcihjb25zdCBuIG9mIHQpaS5zdG9wRGVsZWdhdGluZyhuLGUpfSl9fX19Y2kob28sRmkpO2NvbnN0IG1sPVwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94aHRtbFwiO2NsYXNzIHBse2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyxBbCh4bCh0KSkpLHRoaXMuX2lzUmVuZGVyZWQ9ITEsdGhpcy5fcmV2ZXJ0RGF0YT1udWxsfXJlbmRlcigpe2NvbnN0IHQ9dGhpcy5fcmVuZGVyTm9kZSh7aW50b0ZyYWdtZW50OiEwfSk7cmV0dXJuIHRoaXMuX2lzUmVuZGVyZWQ9ITAsdH1hcHBseSh0KXtyZXR1cm4gdGhpcy5fcmV2ZXJ0RGF0YT17Y2hpbGRyZW46W10sYmluZGluZ3M6W10sYXR0cmlidXRlczp7fX0sdGhpcy5fcmVuZGVyTm9kZSh7bm9kZTp0LGlzQXBwbHlpbmc6ITAscmV2ZXJ0RGF0YTp0aGlzLl9yZXZlcnREYXRhfSksdH1yZXZlcnQodCl7aWYoIXRoaXMuX3JldmVydERhdGEpdGhyb3cgbmV3IEduLmIoXCJ1aS10ZW1wbGF0ZS1yZXZlcnQtbm90LWFwcGxpZWQ6IEF0dGVtcHRpbmcgdG8gcmV2ZXJ0IGEgdGVtcGxhdGUgd2hpY2ggaGFzIG5vdCBiZWVuIGFwcGxpZWQgeWV0LlwiKTt0aGlzLl9yZXZlcnRUZW1wbGF0ZUZyb21Ob2RlKHQsdGhpcy5fcmV2ZXJ0RGF0YSl9KmdldFZpZXdzKCl7eWllbGQqZnVuY3Rpb24qdChlKXtpZihlLmNoaWxkcmVuKWZvcihjb25zdCBuIG9mIGUuY2hpbGRyZW4pRWwobik/eWllbGQgbjpTbChuKSYmKHlpZWxkKnQobikpfSh0aGlzKX1zdGF0aWMgYmluZCh0LGUpe3JldHVybnt0bzoobixpKT0+bmV3IGJsKHtldmVudE5hbWVPckZ1bmN0aW9uOm4sYXR0cmlidXRlOm4sb2JzZXJ2YWJsZTp0LGVtaXR0ZXI6ZSxjYWxsYmFjazppfSksaWY6KG4saSxvKT0+bmV3IHdsKHtvYnNlcnZhYmxlOnQsZW1pdHRlcjplLGF0dHJpYnV0ZTpuLHZhbHVlSWZUcnVlOmksY2FsbGJhY2s6b30pfX1zdGF0aWMgZXh0ZW5kKHQsZSl7dC5faXNSZW5kZXJlZCYmYnMuYS53YXJuKFwidGVtcGxhdGUtZXh0ZW5kLXJlbmRlcjogQXR0ZW1wdGluZyB0byBleHRlbmQgYSB0ZW1wbGF0ZSB3aGljaCBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLlwiKSxmdW5jdGlvbiB0KGUsbil7bi5hdHRyaWJ1dGVzJiYoZS5hdHRyaWJ1dGVzfHwoZS5hdHRyaWJ1dGVzPXt9KSxQbChlLmF0dHJpYnV0ZXMsbi5hdHRyaWJ1dGVzKSk7bi5ldmVudExpc3RlbmVycyYmKGUuZXZlbnRMaXN0ZW5lcnN8fChlLmV2ZW50TGlzdGVuZXJzPXt9KSxQbChlLmV2ZW50TGlzdGVuZXJzLG4uZXZlbnRMaXN0ZW5lcnMpKTtuLnRleHQmJmUudGV4dC5wdXNoKC4uLm4udGV4dCk7aWYobi5jaGlsZHJlbiYmbi5jaGlsZHJlbi5sZW5ndGgpe2lmKGUuY2hpbGRyZW4ubGVuZ3RoIT1uLmNoaWxkcmVuLmxlbmd0aCl0aHJvdyBuZXcgR24uYihcInVpLXRlbXBsYXRlLWV4dGVuZC1jaGlsZHJlbi1taXNtYXRjaDogVGhlIG51bWJlciBvZiBjaGlsZHJlbiBpbiBleHRlbmRlZCBkZWZpbml0aW9uIGRvZXMgbm90IG1hdGNoLlwiKTtsZXQgaT0wO2Zvcihjb25zdCBvIG9mIG4uY2hpbGRyZW4pdChlLmNoaWxkcmVuW2krK10sbyl9fSh0LEFsKHhsKGUpKSl9X3JlbmRlck5vZGUodCl7bGV0IGU7aWYoZT10Lm5vZGU/dGhpcy50YWcmJnRoaXMudGV4dDp0aGlzLnRhZz90aGlzLnRleHQ6IXRoaXMudGV4dCl0aHJvdyBuZXcgR24uYigndWktdGVtcGxhdGUtd3Jvbmctc3ludGF4OiBOb2RlIGRlZmluaXRpb24gbXVzdCBoYXZlIGVpdGhlciBcInRhZ1wiIG9yIFwidGV4dFwiIHdoZW4gcmVuZGVyaW5nIGEgbmV3IE5vZGUuJyk7cmV0dXJuIHRoaXMudGV4dD90aGlzLl9yZW5kZXJUZXh0KHQpOnRoaXMuX3JlbmRlckVsZW1lbnQodCl9X3JlbmRlckVsZW1lbnQodCl7bGV0IGU9dC5ub2RlO3JldHVybiBlfHwoZT10Lm5vZGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKHRoaXMubnN8fG1sLHRoaXMudGFnKSksdGhpcy5fcmVuZGVyQXR0cmlidXRlcyh0KSx0aGlzLl9yZW5kZXJFbGVtZW50Q2hpbGRyZW4odCksdGhpcy5fc2V0VXBMaXN0ZW5lcnModCksZX1fcmVuZGVyVGV4dCh0KXtsZXQgZT10Lm5vZGU7cmV0dXJuIGU/dC5yZXZlcnREYXRhLnRleHQ9ZS50ZXh0Q29udGVudDplPXQubm9kZT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxfbCh0aGlzLnRleHQpP3RoaXMuX2JpbmRUb09ic2VydmFibGUoe3NjaGVtYTp0aGlzLnRleHQsdXBkYXRlcjpmdW5jdGlvbih0KXtyZXR1cm57c2V0KGUpe3QudGV4dENvbnRlbnQ9ZX0scmVtb3ZlKCl7dC50ZXh0Q29udGVudD1cIlwifX19KGUpLGRhdGE6dH0pOmUudGV4dENvbnRlbnQ9dGhpcy50ZXh0LmpvaW4oXCJcIiksZX1fcmVuZGVyQXR0cmlidXRlcyh0KXtsZXQgZSxuLGksbztpZighdGhpcy5hdHRyaWJ1dGVzKXJldHVybjtjb25zdCByPXQubm9kZSxzPXQucmV2ZXJ0RGF0YTtmb3IoZSBpbiB0aGlzLmF0dHJpYnV0ZXMpaWYoaT1yLmdldEF0dHJpYnV0ZShlKSxuPXRoaXMuYXR0cmlidXRlc1tlXSxzJiYocy5hdHRyaWJ1dGVzW2VdPWkpLG89eihuWzBdKSYmblswXS5ucz9uWzBdLm5zOm51bGwsX2wobikpe2NvbnN0IGE9bz9uWzBdLnZhbHVlOm47cyYmTmwoZSkmJmEudW5zaGlmdChpKSx0aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6YSx1cGRhdGVyOnZsKHIsZSxvKSxkYXRhOnR9KX1lbHNlXCJzdHlsZVwiPT1lJiZcInN0cmluZ1wiIT10eXBlb2YgblswXT90aGlzLl9yZW5kZXJTdHlsZUF0dHJpYnV0ZShuWzBdLHQpOihzJiZpJiZObChlKSYmbi51bnNoaWZ0KGkpLE1sKG49bi5tYXAodD0+dCYmdC52YWx1ZXx8dCkucmVkdWNlKCh0LGUpPT50LmNvbmNhdChlKSxbXSkucmVkdWNlKFRsLFwiXCIpKXx8ci5zZXRBdHRyaWJ1dGVOUyhvLGUsbikpfV9yZW5kZXJTdHlsZUF0dHJpYnV0ZSh0LGUpe2NvbnN0IG49ZS5ub2RlO2Zvcihjb25zdCBpIGluIHQpe2NvbnN0IG89dFtpXTtfbChvKT90aGlzLl9iaW5kVG9PYnNlcnZhYmxlKHtzY2hlbWE6W29dLHVwZGF0ZXI6eWwobixpKSxkYXRhOmV9KTpuLnN0eWxlW2ldPW99fV9yZW5kZXJFbGVtZW50Q2hpbGRyZW4odCl7Y29uc3QgZT10Lm5vZGUsbj10LmludG9GcmFnbWVudD9kb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk6ZSxpPXQuaXNBcHBseWluZztsZXQgbz0wO2Zvcihjb25zdCByIG9mIHRoaXMuY2hpbGRyZW4paWYoSWwocikpe2lmKCFpKXtyLnNldFBhcmVudChlKTtmb3IoY29uc3QgdCBvZiByKW4uYXBwZW5kQ2hpbGQodC5lbGVtZW50KX19ZWxzZSBpZihFbChyKSlpfHwoci5pc1JlbmRlcmVkfHxyLnJlbmRlcigpLG4uYXBwZW5kQ2hpbGQoci5lbGVtZW50KSk7ZWxzZSBpZihabyhyKSluLmFwcGVuZENoaWxkKHIpO2Vsc2UgaWYoaSl7Y29uc3QgZT17Y2hpbGRyZW46W10sYmluZGluZ3M6W10sYXR0cmlidXRlczp7fX07dC5yZXZlcnREYXRhLmNoaWxkcmVuLnB1c2goZSksci5fcmVuZGVyTm9kZSh7bm9kZTpuLmNoaWxkTm9kZXNbbysrXSxpc0FwcGx5aW5nOiEwLHJldmVydERhdGE6ZX0pfWVsc2Ugbi5hcHBlbmRDaGlsZChyLnJlbmRlcigpKTt0LmludG9GcmFnbWVudCYmZS5hcHBlbmRDaGlsZChuKX1fc2V0VXBMaXN0ZW5lcnModCl7aWYodGhpcy5ldmVudExpc3RlbmVycylmb3IoY29uc3QgZSBpbiB0aGlzLmV2ZW50TGlzdGVuZXJzKXtjb25zdCBuPXRoaXMuZXZlbnRMaXN0ZW5lcnNbZV0ubWFwKG49Pntjb25zdFtpLG9dPWUuc3BsaXQoXCJAXCIpO3JldHVybiBuLmFjdGl2YXRlRG9tRXZlbnRMaXN0ZW5lcihpLG8sdCl9KTt0LnJldmVydERhdGEmJnQucmV2ZXJ0RGF0YS5iaW5kaW5ncy5wdXNoKG4pfX1fYmluZFRvT2JzZXJ2YWJsZSh7c2NoZW1hOnQsdXBkYXRlcjplLGRhdGE6bn0pe2NvbnN0IGk9bi5yZXZlcnREYXRhO2tsKHQsZSxuKTtjb25zdCBvPXQuZmlsdGVyKHQ9PiFNbCh0KSkuZmlsdGVyKHQ9PnQub2JzZXJ2YWJsZSkubWFwKGk9PmkuYWN0aXZhdGVBdHRyaWJ1dGVMaXN0ZW5lcih0LGUsbikpO2kmJmkuYmluZGluZ3MucHVzaChvKX1fcmV2ZXJ0VGVtcGxhdGVGcm9tTm9kZSh0LGUpe2Zvcihjb25zdCB0IG9mIGUuYmluZGluZ3MpZm9yKGNvbnN0IGUgb2YgdCllKCk7aWYoZS50ZXh0KXQudGV4dENvbnRlbnQ9ZS50ZXh0O2Vsc2V7Zm9yKGNvbnN0IG4gaW4gZS5hdHRyaWJ1dGVzKXtjb25zdCBpPWUuYXR0cmlidXRlc1tuXTtudWxsPT09aT90LnJlbW92ZUF0dHJpYnV0ZShuKTp0LnNldEF0dHJpYnV0ZShuLGkpfWZvcihsZXQgbj0wO248ZS5jaGlsZHJlbi5sZW5ndGg7KytuKXRoaXMuX3JldmVydFRlbXBsYXRlRnJvbU5vZGUodC5jaGlsZE5vZGVzW25dLGUuY2hpbGRyZW5bbl0pfX19Y2kocGwsZWkpO2NsYXNzIGdse2NvbnN0cnVjdG9yKHQpe09iamVjdC5hc3NpZ24odGhpcyx0KX1nZXRWYWx1ZSh0KXtjb25zdCBlPXRoaXMub2JzZXJ2YWJsZVt0aGlzLmF0dHJpYnV0ZV07cmV0dXJuIHRoaXMuY2FsbGJhY2s/dGhpcy5jYWxsYmFjayhlLHQpOmV9YWN0aXZhdGVBdHRyaWJ1dGVMaXN0ZW5lcih0LGUsbil7Y29uc3QgaT0oKT0+a2wodCxlLG4pO3JldHVybiB0aGlzLmVtaXR0ZXIubGlzdGVuVG8odGhpcy5vYnNlcnZhYmxlLFwiY2hhbmdlOlwiK3RoaXMuYXR0cmlidXRlLGkpLCgpPT57dGhpcy5lbWl0dGVyLnN0b3BMaXN0ZW5pbmcodGhpcy5vYnNlcnZhYmxlLFwiY2hhbmdlOlwiK3RoaXMuYXR0cmlidXRlLGkpfX19Y2xhc3MgYmwgZXh0ZW5kcyBnbHthY3RpdmF0ZURvbUV2ZW50TGlzdGVuZXIodCxlLG4pe2NvbnN0IGk9KHQsbik9PntlJiYhbi50YXJnZXQubWF0Y2hlcyhlKXx8KFwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMuZXZlbnROYW1lT3JGdW5jdGlvbj90aGlzLmV2ZW50TmFtZU9yRnVuY3Rpb24obik6dGhpcy5vYnNlcnZhYmxlLmZpcmUodGhpcy5ldmVudE5hbWVPckZ1bmN0aW9uLG4pKX07cmV0dXJuIHRoaXMuZW1pdHRlci5saXN0ZW5UbyhuLm5vZGUsdCxpKSwoKT0+e3RoaXMuZW1pdHRlci5zdG9wTGlzdGVuaW5nKG4ubm9kZSx0LGkpfX19Y2xhc3Mgd2wgZXh0ZW5kcyBnbHtnZXRWYWx1ZSh0KXtyZXR1cm4hTWwoc3VwZXIuZ2V0VmFsdWUodCkpJiYodGhpcy52YWx1ZUlmVHJ1ZXx8ITApfX1mdW5jdGlvbiBfbCh0KXtyZXR1cm4hIXQmJih0LnZhbHVlJiYodD10LnZhbHVlKSxBcnJheS5pc0FycmF5KHQpP3Quc29tZShfbCk6dCBpbnN0YW5jZW9mIGdsKX1mdW5jdGlvbiBrbCh0LGUse25vZGU6bn0pe2xldCBpPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIHQubWFwKHQ9PnQgaW5zdGFuY2VvZiBnbD90LmdldFZhbHVlKGUpOnQpfSh0LG4pO01sKGk9MT09dC5sZW5ndGgmJnRbMF1pbnN0YW5jZW9mIHdsP2lbMF06aS5yZWR1Y2UoVGwsXCJcIikpP2UucmVtb3ZlKCk6ZS5zZXQoaSl9ZnVuY3Rpb24gdmwodCxlLG4pe3JldHVybntzZXQoaSl7dC5zZXRBdHRyaWJ1dGVOUyhuLGUsaSl9LHJlbW92ZSgpe3QucmVtb3ZlQXR0cmlidXRlTlMobixlKX19fWZ1bmN0aW9uIHlsKHQsZSl7cmV0dXJue3NldChuKXt0LnN0eWxlW2VdPW59LHJlbW92ZSgpe3Quc3R5bGVbZV09bnVsbH19fWZ1bmN0aW9uIHhsKHQpe3JldHVybiBxbih0LHQ9PntpZih0JiYodCBpbnN0YW5jZW9mIGdsfHxTbCh0KXx8RWwodCl8fElsKHQpKSlyZXR1cm4gdH0pfWZ1bmN0aW9uIEFsKHQpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB0P3Q9ZnVuY3Rpb24odCl7cmV0dXJue3RleHQ6W3RdfX0odCk6dC50ZXh0JiZmdW5jdGlvbih0KXtBcnJheS5pc0FycmF5KHQudGV4dCl8fCh0LnRleHQ9W3QudGV4dF0pfSh0KSx0Lm9uJiYodC5ldmVudExpc3RlbmVycz1mdW5jdGlvbih0KXtmb3IoY29uc3QgZSBpbiB0KUNsKHQsZSk7cmV0dXJuIHR9KHQub24pLGRlbGV0ZSB0Lm9uKSwhdC50ZXh0KXt0LmF0dHJpYnV0ZXMmJmZ1bmN0aW9uKHQpe2Zvcihjb25zdCBlIGluIHQpdFtlXS52YWx1ZSYmKHRbZV0udmFsdWU9W10uY29uY2F0KHRbZV0udmFsdWUpKSxDbCh0LGUpfSh0LmF0dHJpYnV0ZXMpO2NvbnN0IGU9W107aWYodC5jaGlsZHJlbilpZihJbCh0LmNoaWxkcmVuKSllLnB1c2godC5jaGlsZHJlbik7ZWxzZSBmb3IoY29uc3QgbiBvZiB0LmNoaWxkcmVuKVNsKG4pfHxFbChuKXx8Wm8obik/ZS5wdXNoKG4pOmUucHVzaChuZXcgcGwobikpO3QuY2hpbGRyZW49ZX1yZXR1cm4gdH1mdW5jdGlvbiBDbCh0LGUpe0FycmF5LmlzQXJyYXkodFtlXSl8fCh0W2VdPVt0W2VdXSl9ZnVuY3Rpb24gVGwodCxlKXtyZXR1cm4gTWwoZSk/dDpNbCh0KT9lOmAke3R9ICR7ZX1gfWZ1bmN0aW9uIFBsKHQsZSl7Zm9yKGNvbnN0IG4gaW4gZSl0W25dP3Rbbl0ucHVzaCguLi5lW25dKTp0W25dPWVbbl19ZnVuY3Rpb24gTWwodCl7cmV0dXJuIXQmJjAhPT10fWZ1bmN0aW9uIEVsKHQpe3JldHVybiB0IGluc3RhbmNlb2YgT2x9ZnVuY3Rpb24gU2wodCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBwbH1mdW5jdGlvbiBJbCh0KXtyZXR1cm4gdCBpbnN0YW5jZW9mIGZsfWZ1bmN0aW9uIE5sKHQpe3JldHVyblwiY2xhc3NcIj09dHx8XCJzdHlsZVwiPT10fW4oNDYpO2NsYXNzIE9se2NvbnN0cnVjdG9yKHQpe3RoaXMuZWxlbWVudD1udWxsLHRoaXMuaXNSZW5kZXJlZD0hMSx0aGlzLmxvY2FsZT10LHRoaXMudD10JiZ0LnQsdGhpcy5fdmlld0NvbGxlY3Rpb25zPW5ldyBvbyx0aGlzLl91bmJvdW5kQ2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5fdmlld0NvbGxlY3Rpb25zLm9uKFwiYWRkXCIsKGUsbik9PntuLmxvY2FsZT10fSksdGhpcy5kZWNvcmF0ZShcInJlbmRlclwiKX1nZXQgYmluZFRlbXBsYXRlKCl7cmV0dXJuIHRoaXMuX2JpbmRUZW1wbGF0ZT90aGlzLl9iaW5kVGVtcGxhdGU6dGhpcy5fYmluZFRlbXBsYXRlPXBsLmJpbmQodGhpcyx0aGlzKX1jcmVhdGVDb2xsZWN0aW9uKCl7Y29uc3QgdD1uZXcgZmw7cmV0dXJuIHRoaXMuX3ZpZXdDb2xsZWN0aW9ucy5hZGQodCksdH1yZWdpc3RlckNoaWxkKHQpe2dpKHQpfHwodD1bdF0pO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fdW5ib3VuZENoaWxkcmVuLmFkZChlKX1kZXJlZ2lzdGVyQ2hpbGQodCl7Z2kodCl8fCh0PVt0XSk7Zm9yKGNvbnN0IGUgb2YgdCl0aGlzLl91bmJvdW5kQ2hpbGRyZW4ucmVtb3ZlKGUpfXNldFRlbXBsYXRlKHQpe3RoaXMudGVtcGxhdGU9bmV3IHBsKHQpfWV4dGVuZFRlbXBsYXRlKHQpe3BsLmV4dGVuZCh0aGlzLnRlbXBsYXRlLHQpfXJlbmRlcigpe2lmKHRoaXMuaXNSZW5kZXJlZCl0aHJvdyBuZXcgR24uYihcInVpLXZpZXctcmVuZGVyLWFscmVhZHktcmVuZGVyZWQ6IFRoaXMgVmlldyBoYXMgYWxyZWFkeSBiZWVuIHJlbmRlcmVkLlwiKTt0aGlzLnRlbXBsYXRlJiYodGhpcy5lbGVtZW50PXRoaXMudGVtcGxhdGUucmVuZGVyKCksdGhpcy5yZWdpc3RlckNoaWxkKHRoaXMudGVtcGxhdGUuZ2V0Vmlld3MoKSkpLHRoaXMuaXNSZW5kZXJlZD0hMH1kZXN0cm95KCl7dGhpcy5zdG9wTGlzdGVuaW5nKCksdGhpcy5fdmlld0NvbGxlY3Rpb25zLm1hcCh0PT50LmRlc3Ryb3koKSksdGhpcy50ZW1wbGF0ZSYmdGhpcy50ZW1wbGF0ZS5fcmV2ZXJ0RGF0YSYmdGhpcy50ZW1wbGF0ZS5yZXZlcnQodGhpcy5lbGVtZW50KX19Y2koT2wsbHIpLGNpKE9sLEZpKTtuKDQ4KTtjbGFzcyBSbCBleHRlbmRzIE9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuYm9keT10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLl9yZW5kZXJCb2R5Q29sbGVjdGlvbigpfWRlc3Ryb3koKXtyZXR1cm4gdGhpcy5fYm9keUNvbGxlY3Rpb25Db250YWluZXIucmVtb3ZlKCksc3VwZXIuZGVzdHJveSgpfV9yZW5kZXJCb2R5Q29sbGVjdGlvbigpe2NvbnN0IHQ9dGhpcy5fYm9keUNvbGxlY3Rpb25Db250YWluZXI9bmV3IHBsKHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stcmVzZXRfYWxsXCIsXCJjay1ib2R5XCIsXCJjay1yb3VuZGVkLWNvcm5lcnNcIl19LGNoaWxkcmVuOnRoaXMuYm9keX0pLnJlbmRlcigpO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodCl9fW4oNTApO2NsYXNzIERsIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXQoXCJ0ZXh0XCIpLHRoaXMuc2V0KFwiZm9yXCIpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGFiZWxcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGFiZWxcIl0sZm9yOmUudG8oXCJmb3JcIil9LGNoaWxkcmVuOlt7dGV4dDplLnRvKFwidGV4dFwiKX1dfSl9fWNsYXNzIExsIGV4dGVuZHMgUmx7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT1LbigpO3RoaXMudG9wPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMubWFpbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLl92b2ljZUxhYmVsVmlldz10aGlzLl9jcmVhdGVWb2ljZUxhYmVsKGUpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1yZXNldFwiLFwiY2stZWRpdG9yXCIsXCJjay1yb3VuZGVkLWNvcm5lcnNcIl0scm9sZTpcImFwcGxpY2F0aW9uXCIsZGlyOlwibHRyXCIsbGFuZzp0Lmxhbmd1YWdlLFwiYXJpYS1sYWJlbGxlZGJ5XCI6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke2V9YH0sY2hpbGRyZW46W3RoaXMuX3ZvaWNlTGFiZWxWaWV3LHt0YWc6XCJkaXZcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stZWRpdG9yX190b3BcIixcImNrLXJlc2V0X2FsbFwiXSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGNoaWxkcmVuOnRoaXMudG9wfSx7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWVkaXRvcl9fbWFpblwiXSxyb2xlOlwicHJlc2VudGF0aW9uXCJ9LGNoaWxkcmVuOnRoaXMubWFpbn1dfSl9X2NyZWF0ZVZvaWNlTGFiZWwodCl7Y29uc3QgZT10aGlzLnQsbj1uZXcgRGw7cmV0dXJuIG4udGV4dD1lKFwiYmVcIiksbi5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7aWQ6YGNrLWVkaXRvcl9fYXJpYS1sYWJlbF8ke3R9YCxjbGFzczpcImNrLXZvaWNlLWxhYmVsXCJ9fSksbn19Y2xhc3MgamwgZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWNvbnRlbnRcIixcImNrLWVkaXRvcl9fZWRpdGFibGVcIixcImNrLXJvdW5kZWQtY29ybmVyc1wiXX19KSx0aGlzLm5hbWU9bnVsbCx0aGlzLnNldChcImlzRm9jdXNlZFwiLCExKSx0aGlzLl9lZGl0YWJsZUVsZW1lbnQ9bix0aGlzLl9oYXNFeHRlcm5hbEVsZW1lbnQ9ISF0aGlzLl9lZGl0YWJsZUVsZW1lbnQsdGhpcy5fZWRpdGluZ1ZpZXc9ZX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLl9oYXNFeHRlcm5hbEVsZW1lbnQ/dGhpcy50ZW1wbGF0ZS5hcHBseSh0aGlzLmVsZW1lbnQ9dGhpcy5fZWRpdGFibGVFbGVtZW50KTp0aGlzLl9lZGl0YWJsZUVsZW1lbnQ9dGhpcy5lbGVtZW50LHRoaXMub24oXCJjaGFuZ2U6aXNGb2N1c2VkXCIsKCk9PnRoaXMuX3VwZGF0ZUlzRm9jdXNlZENsYXNzZXMoKSksdGhpcy5fdXBkYXRlSXNGb2N1c2VkQ2xhc3NlcygpfWRlc3Ryb3koKXt0aGlzLl9oYXNFeHRlcm5hbEVsZW1lbnQmJnRoaXMudGVtcGxhdGUucmV2ZXJ0KHRoaXMuX2VkaXRhYmxlRWxlbWVudCksc3VwZXIuZGVzdHJveSgpfV91cGRhdGVJc0ZvY3VzZWRDbGFzc2VzKCl7Y29uc3QgdD10aGlzLl9lZGl0aW5nVmlldztmdW5jdGlvbiBlKGUpe3QuY2hhbmdlKG49Pntjb25zdCBpPXQuZG9jdW1lbnQuZ2V0Um9vdChlLm5hbWUpO24uYWRkQ2xhc3MoZS5pc0ZvY3VzZWQ/XCJjay1mb2N1c2VkXCI6XCJjay1ibHVycmVkXCIsaSksbi5yZW1vdmVDbGFzcyhlLmlzRm9jdXNlZD9cImNrLWJsdXJyZWRcIjpcImNrLWZvY3VzZWRcIixpKX0pfXQuaXNSZW5kZXJpbmdJblByb2dyZXNzP2Z1bmN0aW9uIG4oaSl7dC5vbmNlKFwiY2hhbmdlOmlzUmVuZGVyaW5nSW5Qcm9ncmVzc1wiLCh0LG8scik9PntyP24oaSk6ZShpKX0pfSh0aGlzKTplKHRoaXMpfX1jbGFzcyBWbCBleHRlbmRzIGpse2NvbnN0cnVjdG9yKHQsZSxuKXtzdXBlcih0LGUsbiksdGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7cm9sZTpcInRleHRib3hcIixjbGFzczpcImNrLWVkaXRvcl9fZWRpdGFibGVfaW5saW5lXCJ9fSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Y29uc3QgdD10aGlzLl9lZGl0aW5nVmlldyxlPXRoaXMudDt0LmNoYW5nZShuPT57Y29uc3QgaT10LmRvY3VtZW50LmdldFJvb3QodGhpcy5uYW1lKTtuLnNldEF0dHJpYnV0ZShcImFyaWEtbGFiZWxcIixlKFwiYmZcIixbdGhpcy5uYW1lXSksaSl9KX19ZnVuY3Rpb24gQmwodCl7cmV0dXJuIGU9PmUrdH1uKDUyKTtjb25zdCB6bD1CbChcInB4XCIpO2NsYXNzIEZsIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcImlzQWN0aXZlXCIsITEpLHRoaXMuc2V0KFwiaXNTdGlja3lcIiwhMSksdGhpcy5zZXQoXCJsaW1pdGVyRWxlbWVudFwiLG51bGwpLHRoaXMuc2V0KFwibGltaXRlckJvdHRvbU9mZnNldFwiLDUwKSx0aGlzLnNldChcInZpZXdwb3J0VG9wT2Zmc2V0XCIsMCksdGhpcy5zZXQoXCJfbWFyZ2luTGVmdFwiLG51bGwpLHRoaXMuc2V0KFwiX2lzU3RpY2t5VG9UaGVMaW1pdGVyXCIsITEpLHRoaXMuc2V0KFwiX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0XCIsITEpLHRoaXMuY29udGVudD10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLl9jb250ZW50UGFuZWxQbGFjZWhvbGRlcj1uZXcgcGwoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1zdGlja3ktcGFuZWxfX3BsYWNlaG9sZGVyXCJdLHN0eWxlOntkaXNwbGF5OmUudG8oXCJpc1N0aWNreVwiLHQ9PnQ/XCJibG9ja1wiOlwibm9uZVwiKSxoZWlnaHQ6ZS50byhcImlzU3RpY2t5XCIsdD0+dD96bCh0aGlzLl9wYW5lbFJlY3QuaGVpZ2h0KTpudWxsKX19fSkucmVuZGVyKCksdGhpcy5fY29udGVudFBhbmVsPW5ldyBwbCh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXN0aWNreS1wYW5lbF9fY29udGVudFwiLGUuaWYoXCJpc1N0aWNreVwiLFwiY2stc3RpY2t5LXBhbmVsX19jb250ZW50X3N0aWNreVwiKSxlLmlmKFwiX2lzU3RpY2t5VG9UaGVMaW1pdGVyXCIsXCJjay1zdGlja3ktcGFuZWxfX2NvbnRlbnRfc3RpY2t5X2JvdHRvbS1saW1pdFwiKV0sc3R5bGU6e3dpZHRoOmUudG8oXCJpc1N0aWNreVwiLHQ9PnQ/emwodGhpcy5fY29udGVudFBhbmVsUGxhY2Vob2xkZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgpOm51bGwpLHRvcDplLnRvKFwiX2hhc1ZpZXdwb3J0VG9wT2Zmc2V0XCIsdD0+dD96bCh0aGlzLnZpZXdwb3J0VG9wT2Zmc2V0KTpudWxsKSxib3R0b206ZS50byhcIl9pc1N0aWNreVRvVGhlTGltaXRlclwiLHQ9PnQ/emwodGhpcy5saW1pdGVyQm90dG9tT2Zmc2V0KTpudWxsKSxtYXJnaW5MZWZ0OmUudG8oXCJfbWFyZ2luTGVmdFwiKX19LGNoaWxkcmVuOnRoaXMuY29udGVudH0pLnJlbmRlcigpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1zdGlja3ktcGFuZWxcIl19LGNoaWxkcmVuOlt0aGlzLl9jb250ZW50UGFuZWxQbGFjZWhvbGRlcix0aGlzLl9jb250ZW50UGFuZWxdfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5fY2hlY2tJZlNob3VsZEJlU3RpY2t5KCksdGhpcy5saXN0ZW5Ubyhuci53aW5kb3csXCJzY3JvbGxcIiwoKT0+e3RoaXMuX2NoZWNrSWZTaG91bGRCZVN0aWNreSgpfSksdGhpcy5saXN0ZW5Ubyh0aGlzLFwiY2hhbmdlOmlzQWN0aXZlXCIsKCk9Pnt0aGlzLl9jaGVja0lmU2hvdWxkQmVTdGlja3koKX0pfV9jaGVja0lmU2hvdWxkQmVTdGlja3koKXtjb25zdCB0PXRoaXMuX3BhbmVsUmVjdD10aGlzLl9jb250ZW50UGFuZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7bGV0IGU7dGhpcy5saW1pdGVyRWxlbWVudD8oZT10aGlzLl9saW1pdGVyUmVjdD10aGlzLmxpbWl0ZXJFbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHRoaXMuaXNTdGlja3k9dGhpcy5pc0FjdGl2ZSYmZS50b3A8dGhpcy52aWV3cG9ydFRvcE9mZnNldCYmdGhpcy5fcGFuZWxSZWN0LmhlaWdodCt0aGlzLmxpbWl0ZXJCb3R0b21PZmZzZXQ8ZS5oZWlnaHQpOnRoaXMuaXNTdGlja3k9ITEsdGhpcy5pc1N0aWNreT8odGhpcy5faXNTdGlja3lUb1RoZUxpbWl0ZXI9ZS5ib3R0b208dC5oZWlnaHQrdGhpcy5saW1pdGVyQm90dG9tT2Zmc2V0K3RoaXMudmlld3BvcnRUb3BPZmZzZXQsdGhpcy5faGFzVmlld3BvcnRUb3BPZmZzZXQ9IXRoaXMuX2lzU3RpY2t5VG9UaGVMaW1pdGVyJiYhIXRoaXMudmlld3BvcnRUb3BPZmZzZXQsdGhpcy5fbWFyZ2luTGVmdD10aGlzLl9pc1N0aWNreVRvVGhlTGltaXRlcj9udWxsOnpsKC1uci53aW5kb3cuc2Nyb2xsWCkpOih0aGlzLl9pc1N0aWNreVRvVGhlTGltaXRlcj0hMSx0aGlzLl9oYXNWaWV3cG9ydFRvcE9mZnNldD0hMSx0aGlzLl9tYXJnaW5MZWZ0PW51bGwpfX1jbGFzcyBVbHtjb25zdHJ1Y3Rvcih0KXtpZihPYmplY3QuYXNzaWduKHRoaXMsdCksdC5hY3Rpb25zJiZ0LmtleXN0cm9rZUhhbmRsZXIpZm9yKGNvbnN0IGUgaW4gdC5hY3Rpb25zKXtsZXQgbj10LmFjdGlvbnNbZV07XCJzdHJpbmdcIj09dHlwZW9mIG4mJihuPVtuXSk7Zm9yKGNvbnN0IGkgb2Ygbil0LmtleXN0cm9rZUhhbmRsZXIuc2V0KGksKHQsbik9Pnt0aGlzW2VdKCksbigpfSl9fWdldCBmaXJzdCgpe3JldHVybiB0aGlzLmZvY3VzYWJsZXMuZmluZChIbCl8fG51bGx9Z2V0IGxhc3QoKXtyZXR1cm4gdGhpcy5mb2N1c2FibGVzLmZpbHRlcihIbCkuc2xpY2UoLTEpWzBdfHxudWxsfWdldCBuZXh0KCl7cmV0dXJuIHRoaXMuX2dldEZvY3VzYWJsZUl0ZW0oMSl9Z2V0IHByZXZpb3VzKCl7cmV0dXJuIHRoaXMuX2dldEZvY3VzYWJsZUl0ZW0oLTEpfWdldCBjdXJyZW50KCl7bGV0IHQ9bnVsbDtyZXR1cm4gbnVsbD09PXRoaXMuZm9jdXNUcmFja2VyLmZvY3VzZWRFbGVtZW50P251bGw6KHRoaXMuZm9jdXNhYmxlcy5maW5kKChlLG4pPT57Y29uc3QgaT1lLmVsZW1lbnQ9PT10aGlzLmZvY3VzVHJhY2tlci5mb2N1c2VkRWxlbWVudDtyZXR1cm4gaSYmKHQ9biksaX0pLHQpfWZvY3VzRmlyc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmZpcnN0KX1mb2N1c0xhc3QoKXt0aGlzLl9mb2N1cyh0aGlzLmxhc3QpfWZvY3VzTmV4dCgpe3RoaXMuX2ZvY3VzKHRoaXMubmV4dCl9Zm9jdXNQcmV2aW91cygpe3RoaXMuX2ZvY3VzKHRoaXMucHJldmlvdXMpfV9mb2N1cyh0KXt0JiZ0LmZvY3VzKCl9X2dldEZvY3VzYWJsZUl0ZW0odCl7Y29uc3QgZT10aGlzLmN1cnJlbnQsbj10aGlzLmZvY3VzYWJsZXMubGVuZ3RoO2lmKCFuKXJldHVybiBudWxsO2lmKG51bGw9PT1lKXJldHVybiB0aGlzWzE9PT10P1wiZmlyc3RcIjpcImxhc3RcIl07bGV0IGk9KGUrbit0KSVuO2Rve2NvbnN0IGU9dGhpcy5mb2N1c2FibGVzLmdldChpKTtpZihIbChlKSlyZXR1cm4gZTtpPShpK24rdCklbn13aGlsZShpIT09ZSk7cmV0dXJuIG51bGx9fWZ1bmN0aW9uIEhsKHQpe3JldHVybiEoIXQuZm9jdXN8fFwibm9uZVwiPT1uci53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh0LmVsZW1lbnQpLmRpc3BsYXkpfWNsYXNzIHFsIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10b29sYmFyX19zZXBhcmF0b3JcIl19fSl9fW4oNTQpO2NsYXNzIFdsIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBvbCx0aGlzLmtleXN0cm9rZXM9bmV3IFFjLHRoaXMuc2V0KFwiaXNWZXJ0aWNhbFwiLCExKSx0aGlzLnNldChcImNsYXNzXCIpLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBVbCh7Zm9jdXNhYmxlczp0aGlzLml0ZW1zLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOltcImFycm93bGVmdFwiLFwiYXJyb3d1cFwiXSxmb2N1c05leHQ6W1wiYXJyb3dyaWdodFwiLFwiYXJyb3dkb3duXCJdfX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10b29sYmFyXCIsZS5pZihcImlzVmVydGljYWxcIixcImNrLXRvb2xiYXJfdmVydGljYWxcIiksZS50byhcImNsYXNzXCIpXX0sY2hpbGRyZW46dGhpcy5pdGVtcyxvbjp7bW91c2Vkb3duOmZ1bmN0aW9uKHQpe3JldHVybiB0LmJpbmRUZW1wbGF0ZS50byhlPT57ZS50YXJnZXQ9PT10LmVsZW1lbnQmJmUucHJldmVudERlZmF1bHQoKX0pfSh0aGlzKX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKTtmb3IoY29uc3QgdCBvZiB0aGlzLml0ZW1zKXRoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpO3RoaXMuaXRlbXMub24oXCJhZGRcIiwodCxlKT0+e3RoaXMuZm9jdXNUcmFja2VyLmFkZChlLmVsZW1lbnQpfSksdGhpcy5pdGVtcy5vbihcInJlbW92ZVwiLCh0LGUpPT57dGhpcy5mb2N1c1RyYWNrZXIucmVtb3ZlKGUuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1mb2N1c0xhc3QoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0xhc3QoKX1maWxsRnJvbUNvbmZpZyh0LGUpe3QubWFwKHQ9PntcInxcIj09dD90aGlzLml0ZW1zLmFkZChuZXcgcWwpOmUuaGFzKHQpP3RoaXMuaXRlbXMuYWRkKGUuY3JlYXRlKHQpKTpicy5hLndhcm4oXCJ0b29sYmFydmlldy1pdGVtLXVuYXZhaWxhYmxlOiBUaGUgcmVxdWVzdGVkIHRvb2xiYXIgaXRlbSBpcyB1bmF2YWlsYWJsZS5cIix7bmFtZTp0fSl9KX19big1Nik7Y2xhc3MgWWwgZXh0ZW5kcyBMbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMuc3RpY2t5UGFuZWw9bmV3IEZsKHQpLHRoaXMudG9vbGJhcj1uZXcgV2wodCksdGhpcy5lZGl0YWJsZT1uZXcgVmwodCxlKX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLnN0aWNreVBhbmVsLmNvbnRlbnQuYWRkKHRoaXMudG9vbGJhciksdGhpcy50b3AuYWRkKHRoaXMuc3RpY2t5UGFuZWwpLHRoaXMubWFpbi5hZGQodGhpcy5lZGl0YWJsZSl9fWNsYXNzICRsIGV4dGVuZHMgS2N7Y29uc3RydWN0b3IodCxlKXtzdXBlcihlKSxXbih0KSYmKHRoaXMuc291cmNlRWxlbWVudD10KSx0aGlzLmRhdGEucHJvY2Vzc29yPW5ldyBlbCx0aGlzLm1vZGVsLmRvY3VtZW50LmNyZWF0ZVJvb3QoKSx0aGlzLnVpPW5ldyBobCh0aGlzLG5ldyBZbCh0aGlzLmxvY2FsZSx0aGlzLmVkaXRpbmcudmlldykpLGZ1bmN0aW9uKHQpe2lmKCFXKHQudXBkYXRlU291cmNlRWxlbWVudCkpdGhyb3cgbmV3IEduLmIoXCJhdHRhY2h0b2Zvcm0tbWlzc2luZy1lbGVtZW50YXBpLWludGVyZmFjZTogRWRpdG9yIHBhc3NlZCB0byBhdHRhY2hUb0Zvcm0oKSBtdXN0IGltcGxlbWVudCBFbGVtZW50QXBpLlwiKTtjb25zdCBlPXQuc291cmNlRWxlbWVudDtpZihlJiZcInRleHRhcmVhXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmZS5mb3JtKXtsZXQgbjtjb25zdCBpPWUuZm9ybSxvPSgpPT50LnVwZGF0ZVNvdXJjZUVsZW1lbnQoKTtXKGkuc3VibWl0KSYmKG49aS5zdWJtaXQsaS5zdWJtaXQ9KCgpPT57bygpLG4uYXBwbHkoaSl9KSksaS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsbyksdC5vbihcImRlc3Ryb3lcIiwoKT0+e2kucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLG8pLG4mJihpLnN1Ym1pdD1uKX0pfX0odGhpcyl9ZGVzdHJveSgpe3JldHVybiB0aGlzLnNvdXJjZUVsZW1lbnQmJnRoaXMudXBkYXRlU291cmNlRWxlbWVudCgpLHRoaXMudWkuZGVzdHJveSgpLHN1cGVyLmRlc3Ryb3koKX1zdGF0aWMgY3JlYXRlKHQsZT17fSl7cmV0dXJuIG5ldyBQcm9taXNlKG49Pntjb25zdCBpPW5ldyB0aGlzKHQsZSk7bihpLmluaXRQbHVnaW5zKCkudGhlbigoKT0+aS51aS5pbml0KFduKHQpP3Q6bnVsbCkpLnRoZW4oKCk9PntpZighV24odCkmJmUuaW5pdGlhbERhdGEpdGhyb3cgbmV3IEduLmIoXCJlZGl0b3ItY3JlYXRlLWluaXRpYWwtZGF0YTogVGhlIGNvbmZpZy5pbml0aWFsRGF0YSBvcHRpb24gY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIgd2l0aCBpbml0aWFsIGRhdGEgcGFzc2VkIGluIEVkaXRvci5jcmVhdGUoKS5cIik7Y29uc3Qgbj1lLmluaXRpYWxEYXRhfHxmdW5jdGlvbih0KXtyZXR1cm4gV24odCk/ZnVuY3Rpb24odCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50P3QudmFsdWU6dC5pbm5lckhUTUx9KHQpOnR9KHQpO3JldHVybiBpLmRhdGEuaW5pdChuKX0pLnRoZW4oKCk9PmkuZmlyZShcInJlYWR5XCIpKS50aGVuKCgpPT5pKSl9KX19Y2koJGwsWmMpLGNpKCRsLFhjKTtjbGFzcyBHbHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19Y2koR2wsRmkpO2NsYXNzIFFse2NvbnN0cnVjdG9yKHQpe3RoaXMuZmlsZXM9ZnVuY3Rpb24odCl7Y29uc3QgZT10LmZpbGVzP0FycmF5LmZyb20odC5maWxlcyk6W10sbj10Lml0ZW1zP0FycmF5LmZyb20odC5pdGVtcyk6W107aWYoZS5sZW5ndGgpcmV0dXJuIGU7cmV0dXJuIG4uZmlsdGVyKHQ9PlwiZmlsZVwiPT09dC5raW5kKS5tYXAodD0+dC5nZXRBc0ZpbGUoKSl9KHQpLHRoaXMuX25hdGl2ZT10fWdldCB0eXBlcygpe3JldHVybiB0aGlzLl9uYXRpdmUudHlwZXN9Z2V0RGF0YSh0KXtyZXR1cm4gdGhpcy5fbmF0aXZlLmdldERhdGEodCl9c2V0RGF0YSh0LGUpe3RoaXMuX25hdGl2ZS5zZXREYXRhKHQsZSl9fWNsYXNzIEpsIGV4dGVuZHMgdHN7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmRvY3VtZW50O2Z1bmN0aW9uIG4odCxuKXtuLnByZXZlbnREZWZhdWx0KCk7Y29uc3QgaT1uLmRyb3BSYW5nZT9bbi5kcm9wUmFuZ2VdOkFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0UmFuZ2VzKCkpLG89bmV3IEpuKGUsXCJjbGlwYm9hcmRJbnB1dFwiKTtlLmZpcmUobyx7ZGF0YVRyYW5zZmVyOm4uZGF0YVRyYW5zZmVyLHRhcmdldFJhbmdlczppfSksby5zdG9wLmNhbGxlZCYmbi5zdG9wUHJvcGFnYXRpb24oKX10aGlzLmRvbUV2ZW50VHlwZT1bXCJwYXN0ZVwiLFwiY29weVwiLFwiY3V0XCIsXCJkcm9wXCIsXCJkcmFnb3ZlclwiXSx0aGlzLmxpc3RlblRvKGUsXCJwYXN0ZVwiLG4se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKGUsXCJkcm9wXCIsbix7cHJpb3JpdHk6XCJsb3dcIn0pfW9uRG9tRXZlbnQodCl7Y29uc3QgZT17ZGF0YVRyYW5zZmVyOm5ldyBRbCh0LmNsaXBib2FyZERhdGE/dC5jbGlwYm9hcmREYXRhOnQuZGF0YVRyYW5zZmVyKX07XCJkcm9wXCI9PXQudHlwZSYmKGUuZHJvcFJhbmdlPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLnRhcmdldC5vd25lckRvY3VtZW50LGk9ZS5jbGllbnRYLG89ZS5jbGllbnRZO2xldCByO24uY2FyZXRSYW5nZUZyb21Qb2ludCYmbi5jYXJldFJhbmdlRnJvbVBvaW50KGksbyk/cj1uLmNhcmV0UmFuZ2VGcm9tUG9pbnQoaSxvKTplLnJhbmdlUGFyZW50JiYoKHI9bi5jcmVhdGVSYW5nZSgpKS5zZXRTdGFydChlLnJhbmdlUGFyZW50LGUucmFuZ2VPZmZzZXQpLHIuY29sbGFwc2UoITApKTtyZXR1cm4gcj90LmRvbUNvbnZlcnRlci5kb21SYW5nZVRvVmlldyhyKTp0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFJhbmdlKCl9KHRoaXMudmlldyx0KSksdGhpcy5maXJlKHQudHlwZSx0LGUpfX1jb25zdCBLbD1bXCJmaWdjYXB0aW9uXCIsXCJsaVwiXTtjbGFzcyBabCBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ2xpcGJvYXJkXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLmRvY3VtZW50LG49dC5lZGl0aW5nLnZpZXcsaT1uLmRvY3VtZW50O2Z1bmN0aW9uIG8obixvKXtjb25zdCByPW8uZGF0YVRyYW5zZmVyO28ucHJldmVudERlZmF1bHQoKTtjb25zdCBzPXQuZGF0YS50b1ZpZXcodC5tb2RlbC5nZXRTZWxlY3RlZENvbnRlbnQoZS5zZWxlY3Rpb24pKTtpLmZpcmUoXCJjbGlwYm9hcmRPdXRwdXRcIix7ZGF0YVRyYW5zZmVyOnIsY29udGVudDpzLG1ldGhvZDpuLm5hbWV9KX10aGlzLl9odG1sRGF0YVByb2Nlc3Nvcj1uZXcgZWwsbi5hZGRPYnNlcnZlcihKbCksdGhpcy5saXN0ZW5UbyhpLFwiY2xpcGJvYXJkSW5wdXRcIixlPT57dC5pc1JlYWRPbmx5JiZlLnN0b3AoKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdGhpcy5saXN0ZW5UbyhpLFwiY2xpcGJvYXJkSW5wdXRcIiwodCxlKT0+e2NvbnN0IGk9ZS5kYXRhVHJhbnNmZXI7bGV0IG89XCJcIjtpLmdldERhdGEoXCJ0ZXh0L2h0bWxcIik/bz1mdW5jdGlvbih0KXtyZXR1cm4gdC5yZXBsYWNlKC88c3Bhbig/OiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwifCk+KFxccyspPFxcL3NwYW4+L2csKHQsZSk9PjE9PWUubGVuZ3RoP1wiIFwiOmUpfShpLmdldERhdGEoXCJ0ZXh0L2h0bWxcIikpOmkuZ2V0RGF0YShcInRleHQvcGxhaW5cIikmJihvPWZ1bmN0aW9uKHQpe3JldHVybih0PXQucmVwbGFjZSgvPC9nLFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csXCImZ3Q7XCIpLnJlcGxhY2UoL1xcblxcbi9nLFwiPC9wPjxwPlwiKS5yZXBsYWNlKC9cXG4vZyxcIjxicj5cIikucmVwbGFjZSgvXlxccy8sXCImbmJzcDtcIikucmVwbGFjZSgvXFxzJC8sXCImbmJzcDtcIikucmVwbGFjZSgvXFxzXFxzL2csXCIgJm5ic3A7XCIpKS5pbmRleE9mKFwiPC9wPjxwPlwiKT4tMSYmKHQ9YDxwPiR7dH08L3A+YCksdH0oaS5nZXREYXRhKFwidGV4dC9wbGFpblwiKSkpLG89dGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9WaWV3KG8pLHRoaXMuZmlyZShcImlucHV0VHJhbnNmb3JtYXRpb25cIix7Y29udGVudDpvLGRhdGFUcmFuc2ZlcjppfSksbi5zY3JvbGxUb1RoZVNlbGVjdGlvbigpfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8odGhpcyxcImlucHV0VHJhbnNmb3JtYXRpb25cIiwodCxlKT0+e2lmKCFlLmNvbnRlbnQuaXNFbXB0eSl7Y29uc3QgdD10aGlzLmVkaXRvci5kYXRhLG49dGhpcy5lZGl0b3IubW9kZWwsaT10LnRvTW9kZWwoZS5jb250ZW50LFwiJGNsaXBib2FyZEhvbGRlclwiKTtpZigwPT1pLmNoaWxkQ291bnQpcmV0dXJuO24uaW5zZXJ0Q29udGVudChpKX19LHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5saXN0ZW5UbyhpLFwiY29weVwiLG8se3ByaW9yaXR5OlwibG93XCJ9KSx0aGlzLmxpc3RlblRvKGksXCJjdXRcIiwoZSxuKT0+e3QuaXNSZWFkT25seT9uLnByZXZlbnREZWZhdWx0KCk6byhlLG4pfSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMubGlzdGVuVG8oaSxcImNsaXBib2FyZE91dHB1dFwiLChuLGkpPT57aS5jb250ZW50LmlzRW1wdHl8fChpLmRhdGFUcmFuc2Zlci5zZXREYXRhKFwidGV4dC9odG1sXCIsdGhpcy5faHRtbERhdGFQcm9jZXNzb3IudG9EYXRhKGkuY29udGVudCkpLGkuZGF0YVRyYW5zZmVyLnNldERhdGEoXCJ0ZXh0L3BsYWluXCIsZnVuY3Rpb24gdChlKXtsZXQgbj1cIlwiO2lmKGUuaXMoXCJ0ZXh0XCIpfHxlLmlzKFwidGV4dFByb3h5XCIpKW49ZS5kYXRhO2Vsc2UgaWYoZS5pcyhcImltZ1wiKSYmZS5oYXNBdHRyaWJ1dGUoXCJhbHRcIikpbj1lLmdldEF0dHJpYnV0ZShcImFsdFwiKTtlbHNle2xldCBpPW51bGw7Zm9yKGNvbnN0IG8gb2YgZS5nZXRDaGlsZHJlbigpKXtjb25zdCBlPXQobyk7aSYmKGkuaXMoXCJjb250YWluZXJFbGVtZW50XCIpfHxvLmlzKFwiY29udGFpbmVyRWxlbWVudFwiKSkmJihLbC5pbmNsdWRlcyhpLm5hbWUpfHxLbC5pbmNsdWRlcyhvLm5hbWUpP24rPVwiXFxuXCI6bis9XCJcXG5cXG5cIiksbis9ZSxpPW99fXJldHVybiBufShpLmNvbnRlbnQpKSksXCJjdXRcIj09aS5tZXRob2QmJnQubW9kZWwuZGVsZXRlQ29udGVudChlLnNlbGVjdGlvbil9LHtwcmlvcml0eTpcImxvd1wifSl9fWNsYXNzIFhse2NvbnN0cnVjdG9yKHQpe3RoaXMuZWRpdG9yPXQsdGhpcy5zZXQoXCJ2YWx1ZVwiLHZvaWQgMCksdGhpcy5zZXQoXCJpc0VuYWJsZWRcIiwhMSksdGhpcy5fZGlzYWJsZVN0YWNrPW5ldyBTZXQsdGhpcy5kZWNvcmF0ZShcImV4ZWN1dGVcIiksdGhpcy5saXN0ZW5Ubyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxcImNoYW5nZVwiLCgpPT57dGhpcy5yZWZyZXNoKCl9KSx0aGlzLm9uKFwiZXhlY3V0ZVwiLHQ9Pnt0aGlzLmlzRW5hYmxlZHx8dC5zdG9wKCl9LHtwcmlvcml0eTpcImhpZ2hcIn0pLHRoaXMubGlzdGVuVG8odCxcImNoYW5nZTppc1JlYWRPbmx5XCIsKHQsZSxuKT0+e24/dGhpcy5mb3JjZURpc2FibGVkKFwicmVhZE9ubHlNb2RlXCIpOnRoaXMuY2xlYXJGb3JjZURpc2FibGVkKFwicmVhZE9ubHlNb2RlXCIpfSl9cmVmcmVzaCgpe3RoaXMuaXNFbmFibGVkPSEwfWZvcmNlRGlzYWJsZWQodCl7dGhpcy5fZGlzYWJsZVN0YWNrLmFkZCh0KSwxPT10aGlzLl9kaXNhYmxlU3RhY2suc2l6ZSYmKHRoaXMub24oXCJzZXQ6aXNFbmFibGVkXCIsdGQse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksdGhpcy5pc0VuYWJsZWQ9ITEpfWNsZWFyRm9yY2VEaXNhYmxlZCh0KXt0aGlzLl9kaXNhYmxlU3RhY2suZGVsZXRlKHQpLDA9PXRoaXMuX2Rpc2FibGVTdGFjay5zaXplJiYodGhpcy5vZmYoXCJzZXQ6aXNFbmFibGVkXCIsdGQpLHRoaXMucmVmcmVzaCgpKX1leGVjdXRlKCl7fWRlc3Ryb3koKXt0aGlzLnN0b3BMaXN0ZW5pbmcoKX19ZnVuY3Rpb24gdGQodCl7dC5yZXR1cm49ITEsdC5zdG9wKCl9Y2koWGwsRmkpO2NsYXNzIGVkIGV4dGVuZHMgWGx7ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O3QuY2hhbmdlKG49PnshZnVuY3Rpb24odCxlLG4saSl7Y29uc3Qgbz1uLmlzQ29sbGFwc2VkLHI9bi5nZXRGaXJzdFJhbmdlKCkscz1yLnN0YXJ0LnBhcmVudCxhPXIuZW5kLnBhcmVudDtpZihpLmlzTGltaXQocyl8fGkuaXNMaW1pdChhKSlyZXR1cm4gdm9pZChvfHxzIT1hfHx0LmRlbGV0ZUNvbnRlbnQobikpO2lmKG8pbmQoZSxyLnN0YXJ0KTtlbHNle2NvbnN0IGk9IShyLnN0YXJ0LmlzQXRTdGFydCYmci5lbmQuaXNBdEVuZCksbz1zPT1hO3QuZGVsZXRlQ29udGVudChuLHtsZWF2ZVVubWVyZ2VkOml9KSxpJiYobz9uZChlLG4uZm9jdXMpOmUuc2V0U2VsZWN0aW9uKGEsMCkpfX0odGhpcy5lZGl0b3IubW9kZWwsbixlLnNlbGVjdGlvbix0LnNjaGVtYSksdGhpcy5maXJlKFwiYWZ0ZXJFeGVjdXRlXCIse3dyaXRlcjpufSl9KX19ZnVuY3Rpb24gbmQodCxlKXt0LnNwbGl0KGUpLHQuc2V0U2VsZWN0aW9uKGUucGFyZW50Lm5leHRTaWJsaW5nLDApfWNsYXNzIGlkIGV4dGVuZHMgaHJ7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmRvY3VtZW50O2Uub24oXCJrZXlkb3duXCIsKHQsbik9PntpZih0aGlzLmlzRW5hYmxlZCYmbi5rZXlDb2RlPT1iby5lbnRlcil7bGV0IGk7ZS5vbmNlKFwiZW50ZXJcIix0PT5pPXQse3ByaW9yaXR5OlwiaGlnaGVzdFwifSksZS5maXJlKFwiZW50ZXJcIixuZXcgWHIoZSxuLmRvbUV2ZW50LHtpc1NvZnQ6bi5zaGlmdEtleX0pKSxpJiZpLnN0b3AuY2FsbGVkJiZ0LnN0b3AoKX19KX1vYnNlcnZlKCl7fX1jbGFzcyBvZCBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRW50ZXJcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuZWRpdGluZy52aWV3LG49ZS5kb2N1bWVudDtlLmFkZE9ic2VydmVyKGlkKSx0LmNvbW1hbmRzLmFkZChcImVudGVyXCIsbmV3IGVkKHQpKSx0aGlzLmxpc3RlblRvKG4sXCJlbnRlclwiLChuLGkpPT57aS5wcmV2ZW50RGVmYXVsdCgpLGkuaXNTb2Z0fHwodC5leGVjdXRlKFwiZW50ZXJcIiksZS5zY3JvbGxUb1RoZVNlbGVjdGlvbigpKX0se3ByaW9yaXR5OlwibG93XCJ9KX19Y2xhc3MgcmQgZXh0ZW5kcyBYbHtleGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQ7dC5jaGFuZ2Uobj0+eyFmdW5jdGlvbih0LGUsbil7Y29uc3QgaT1uLmlzQ29sbGFwc2VkLG89bi5nZXRGaXJzdFJhbmdlKCkscj1vLnN0YXJ0LnBhcmVudCxzPW8uZW5kLnBhcmVudCxhPXI9PXM7aWYoaSlzZChlLG8uZW5kKTtlbHNle2NvbnN0IGk9IShvLnN0YXJ0LmlzQXRTdGFydCYmby5lbmQuaXNBdEVuZCk7dC5kZWxldGVDb250ZW50KG4se2xlYXZlVW5tZXJnZWQ6aX0pLGE/c2QoZSxuLmZvY3VzKTppJiZlLnNldFNlbGVjdGlvbihzLDApfX0odCxuLGUuc2VsZWN0aW9uKSx0aGlzLmZpcmUoXCJhZnRlckV4ZWN1dGVcIix7d3JpdGVyOm59KX0pfXJlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudDt0aGlzLmlzRW5hYmxlZD1mdW5jdGlvbih0LGUpe2lmKGUucmFuZ2VDb3VudD4xKXJldHVybiExO2NvbnN0IG49ZS5hbmNob3I7aWYoIW58fCF0LmNoZWNrQ2hpbGQobixcInNvZnRCcmVha1wiKSlyZXR1cm4hMTtjb25zdCBpPWUuZ2V0Rmlyc3RSYW5nZSgpLG89aS5zdGFydC5wYXJlbnQscj1pLmVuZC5wYXJlbnQ7aWYoKGFkKG8sdCl8fGFkKHIsdCkpJiZvIT09cilyZXR1cm4hMTtyZXR1cm4hMH0odC5zY2hlbWEsZS5zZWxlY3Rpb24pfX1mdW5jdGlvbiBzZCh0LGUpe2NvbnN0IG49dC5jcmVhdGVFbGVtZW50KFwic29mdEJyZWFrXCIpO3QuaW5zZXJ0KG4sZSksdC5zZXRTZWxlY3Rpb24obixcImFmdGVyXCIpfWZ1bmN0aW9uIGFkKHQsZSl7cmV0dXJuIXQuaXMoXCJyb290RWxlbWVudFwiKSYmKGUuaXNMaW1pdCh0KXx8YWQodC5wYXJlbnQsZSkpfWNsYXNzIGNkIGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJTaGlmdEVudGVyXCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLnNjaGVtYSxuPXQuY29udmVyc2lvbixpPXQuZWRpdGluZy52aWV3LG89aS5kb2N1bWVudDtlLnJlZ2lzdGVyKFwic29mdEJyZWFrXCIse2FsbG93V2hlcmU6XCIkdGV4dFwiLGlzSW5saW5lOiEwfSksbi5mb3IoXCJ1cGNhc3RcIikuZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJzb2Z0QnJlYWtcIix2aWV3OlwiYnJcIn0pLG4uZm9yKFwiZG93bmNhc3RcIikuZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJzb2Z0QnJlYWtcIix2aWV3Oih0LGUpPT5lLmNyZWF0ZUVtcHR5RWxlbWVudChcImJyXCIpfSksaS5hZGRPYnNlcnZlcihpZCksdC5jb21tYW5kcy5hZGQoXCJzaGlmdEVudGVyXCIsbmV3IHJkKHQpKSx0aGlzLmxpc3RlblRvKG8sXCJlbnRlclwiLChlLG4pPT57bi5wcmV2ZW50RGVmYXVsdCgpLG4uaXNTb2Z0JiYodC5leGVjdXRlKFwic2hpZnRFbnRlclwiKSxpLnNjcm9sbFRvVGhlU2VsZWN0aW9uKCkpfSx7cHJpb3JpdHk6XCJsb3dcIn0pfX1jbGFzcyBsZHtjb25zdHJ1Y3Rvcih0LGU9MjApe3RoaXMubW9kZWw9dCx0aGlzLnNpemU9MCx0aGlzLmxpbWl0PWUsdGhpcy5pc0xvY2tlZD0hMSx0aGlzLl9jaGFuZ2VDYWxsYmFjaz0oKHQsZSk9PntcInRyYW5zcGFyZW50XCIhPWUudHlwZSYmZSE9PXRoaXMuX2JhdGNoJiZ0aGlzLl9yZXNldCghMCl9KSx0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjaz0oKCk9Pnt0aGlzLl9yZXNldCgpfSksdGhpcy5tb2RlbC5kb2N1bWVudC5vbihcImNoYW5nZVwiLHRoaXMuX2NoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vbihcImNoYW5nZTpyYW5nZVwiLHRoaXMuX3NlbGVjdGlvbkNoYW5nZUNhbGxiYWNrKSx0aGlzLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5vbihcImNoYW5nZTphdHRyaWJ1dGVcIix0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjayl9Z2V0IGJhdGNoKCl7cmV0dXJuIHRoaXMuX2JhdGNofHwodGhpcy5fYmF0Y2g9dGhpcy5tb2RlbC5jcmVhdGVCYXRjaCgpKSx0aGlzLl9iYXRjaH1pbnB1dCh0KXt0aGlzLnNpemUrPXQsdGhpcy5zaXplPj10aGlzLmxpbWl0JiZ0aGlzLl9yZXNldCghMCl9bG9jaygpe3RoaXMuaXNMb2NrZWQ9ITB9dW5sb2NrKCl7dGhpcy5pc0xvY2tlZD0hMX1kZXN0cm95KCl7dGhpcy5tb2RlbC5kb2N1bWVudC5vZmYoXCJjaGFuZ2VcIix0aGlzLl9jaGFuZ2VDYWxsYmFjayksdGhpcy5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24ub2ZmKFwiY2hhbmdlOnJhbmdlXCIsdGhpcy5fc2VsZWN0aW9uQ2hhbmdlQ2FsbGJhY2spLHRoaXMubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLm9mZihcImNoYW5nZTphdHRyaWJ1dGVcIix0aGlzLl9zZWxlY3Rpb25DaGFuZ2VDYWxsYmFjayl9X3Jlc2V0KHQpe3RoaXMuaXNMb2NrZWQmJiF0fHwodGhpcy5fYmF0Y2g9bnVsbCx0aGlzLnNpemU9MCl9fWNsYXNzIGRkIGV4dGVuZHMgWGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9idWZmZXI9bmV3IGxkKHQubW9kZWwsZSl9Z2V0IGJ1ZmZlcigpe3JldHVybiB0aGlzLl9idWZmZXJ9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKSx0aGlzLl9idWZmZXIuZGVzdHJveSgpfWV4ZWN1dGUodD17fSl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQsaT10LnRleHR8fFwiXCIsbz1pLmxlbmd0aCxyPXQucmFuZ2V8fG4uc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSxzPXQucmVzdWx0UmFuZ2U7ZS5lbnF1ZXVlQ2hhbmdlKHRoaXMuX2J1ZmZlci5iYXRjaCx0PT57Y29uc3QgYT1yLmlzQ29sbGFwc2VkO3RoaXMuX2J1ZmZlci5sb2NrKCksYXx8ZS5kZWxldGVDb250ZW50KGUuY3JlYXRlU2VsZWN0aW9uKHIpKSxpJiZ0Lmluc2VydFRleHQoaSxuLnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGVzKCksci5zdGFydCkscz90LnNldFNlbGVjdGlvbihzKTphJiZ0LnNldFNlbGVjdGlvbihyLnN0YXJ0LmdldFNoaWZ0ZWRCeShvKSksdGhpcy5fYnVmZmVyLnVubG9jaygpLHRoaXMuX2J1ZmZlci5pbnB1dChvKX0pfX1mdW5jdGlvbiB1ZCh0KXtsZXQgZT1udWxsO2NvbnN0IG49dC5tb2RlbCxpPXQuZWRpdGluZy52aWV3LG89dC5jb21tYW5kcy5nZXQoXCJpbnB1dFwiKTtmdW5jdGlvbiByKCl7Y29uc3QgdD1vLmJ1ZmZlcjt0LmxvY2soKSxuLmVucXVldWVDaGFuZ2UodC5iYXRjaCwoKT0+e24uZGVsZXRlQ29udGVudChuLmRvY3VtZW50LnNlbGVjdGlvbil9KSx0LnVubG9jaygpfWkuZG9jdW1lbnQub24oXCJrZXlkb3duXCIsKHQscyk9PihmdW5jdGlvbih0KXtjb25zdCBzPW4uZG9jdW1lbnQsYT1pLmRvY3VtZW50LmlzQ29tcG9zaW5nLGM9ZSYmZS5pc0VxdWFsKHMuc2VsZWN0aW9uKTtpZihlPW51bGwsIW8uaXNFbmFibGVkKXJldHVybjtpZihmdW5jdGlvbih0KXtpZih0LmN0cmxLZXkpcmV0dXJuITA7cmV0dXJuIGhkLmluY2x1ZGVzKHQua2V5Q29kZSl9KHQpfHxzLnNlbGVjdGlvbi5pc0NvbGxhcHNlZClyZXR1cm47aWYoYSYmMjI5PT09dC5rZXlDb2RlKXJldHVybjtpZighYSYmMjI5PT09dC5rZXlDb2RlJiZjKXJldHVybjtyKCl9KShzKSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLGkuZG9jdW1lbnQub24oXCJjb21wb3NpdGlvbnN0YXJ0XCIsZnVuY3Rpb24oKXtjb25zdCB0PW4uZG9jdW1lbnQsZT0xIT09dC5zZWxlY3Rpb24ucmFuZ2VDb3VudHx8dC5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpLmlzRmxhdDtpZih0LnNlbGVjdGlvbi5pc0NvbGxhcHNlZHx8ZSlyZXR1cm47cigpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLGkuZG9jdW1lbnQub24oXCJjb21wb3NpdGlvbmVuZFwiLCgpPT57ZT1uLmNyZWF0ZVNlbGVjdGlvbihuLmRvY3VtZW50LnNlbGVjdGlvbil9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9Y29uc3QgaGQ9W3dvKFwiYXJyb3dVcFwiKSx3byhcImFycm93UmlnaHRcIiksd28oXCJhcnJvd0Rvd25cIiksd28oXCJhcnJvd0xlZnRcIiksOSwxNiwxNywxOCwxOSwyMCwyNywzMywzNCwzNSwzNiw0NSw5MSw5MywxNDQsMTQ1LDE3MywxNzQsMTc1LDE3NiwxNzcsMTc4LDE3OSwyNTVdO2ZvcihsZXQgdD0xMTI7dDw9MTM1O3QrKyloZC5wdXNoKHQpO2Z1bmN0aW9uIGZkKHQpe2lmKDA9PXQubGVuZ3RoKXJldHVybiExO2Zvcihjb25zdCBlIG9mIHQpaWYoXCJjaGlsZHJlblwiPT09ZS50eXBlJiYhbWQoZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gbWQodCl7aWYodC5uZXdDaGlsZHJlbi5sZW5ndGgtdC5vbGRDaGlsZHJlbi5sZW5ndGghPTEpcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24odCxlKXtjb25zdCBuPVtdO2xldCBpLG89MDtyZXR1cm4gdC5mb3JFYWNoKHQ9PntcImVxdWFsXCI9PXQ/KHIoKSxvKyspOlwiaW5zZXJ0XCI9PXQ/KHMoXCJpbnNlcnRcIik/aS52YWx1ZXMucHVzaChlW29dKToocigpLGk9e3R5cGU6XCJpbnNlcnRcIixpbmRleDpvLHZhbHVlczpbZVtvXV19KSxvKyspOnMoXCJkZWxldGVcIik/aS5ob3dNYW55Kys6KHIoKSxpPXt0eXBlOlwiZGVsZXRlXCIsaW5kZXg6byxob3dNYW55OjF9KX0pLHIoKSxuO2Z1bmN0aW9uIHIoKXtpJiYobi5wdXNoKGkpLGk9bnVsbCl9ZnVuY3Rpb24gcyh0KXtyZXR1cm4gaSYmaS50eXBlPT10fX0oUW8odC5vbGRDaGlsZHJlbix0Lm5ld0NoaWxkcmVuLHBkKSx0Lm5ld0NoaWxkcmVuKTtpZihlLmxlbmd0aD4xKXJldHVybjtjb25zdCBuPWVbMF07cmV0dXJuIG4udmFsdWVzWzBdJiZuLnZhbHVlc1swXS5pcyhcInRleHRcIik/bjp2b2lkIDB9ZnVuY3Rpb24gcGQodCxlKXtyZXR1cm4gdCYmdC5pcyhcInRleHRcIikmJmUmJmUuaXMoXCJ0ZXh0XCIpP3QuZGF0YT09PWUuZGF0YTp0PT09ZX1jbGFzcyBnZHtjb25zdHJ1Y3Rvcih0KXt0aGlzLmVkaXRvcj10LHRoaXMuZWRpdGluZz10aGlzLmVkaXRvci5lZGl0aW5nfWhhbmRsZSh0LGUpe2lmKGZkKHQpKXRoaXMuX2hhbmRsZUNvbnRhaW5lckNoaWxkcmVuTXV0YXRpb25zKHQsZSk7ZWxzZSBmb3IoY29uc3QgbiBvZiB0KXRoaXMuX2hhbmRsZVRleHRNdXRhdGlvbihuLGUpLHRoaXMuX2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKG4pfV9oYW5kbGVDb250YWluZXJDaGlsZHJlbk11dGF0aW9ucyh0LGUpe2NvbnN0IG49ZnVuY3Rpb24odCl7Y29uc3QgZT10Lm1hcCh0PT50Lm5vZGUpLnJlZHVjZSgodCxlKT0+dC5nZXRDb21tb25BbmNlc3RvcihlLHtpbmNsdWRlU2VsZjohMH0pKTtpZighZSlyZXR1cm47cmV0dXJuIGUuZ2V0QW5jZXN0b3JzKHtpbmNsdWRlU2VsZjohMCxwYXJlbnRGaXJzdDohMH0pLmZpbmQodD0+dC5pcyhcImNvbnRhaW5lckVsZW1lbnRcIil8fHQuaXMoXCJyb290RWxlbWVudFwiKSl9KHQpO2lmKCFuKXJldHVybjtjb25zdCBpPXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG4pLG89bmV3IHJyLHI9dGhpcy5lZGl0b3IuZGF0YS50b01vZGVsKG8uZG9tVG9WaWV3KGkpKS5nZXRDaGlsZCgwKSxzPXRoaXMuZWRpdG9yLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxFbGVtZW50KG4pO2lmKCFzKXJldHVybjtjb25zdCBhPUFycmF5LmZyb20oci5nZXRDaGlsZHJlbigpKSxjPUFycmF5LmZyb20ocy5nZXRDaGlsZHJlbigpKSxsPWFbYS5sZW5ndGgtMV0sZD1jW2MubGVuZ3RoLTFdO2wmJmwuaXMoXCJzb2Z0QnJlYWtcIikmJmQmJiFkLmlzKFwic29mdEJyZWFrXCIpJiZhLnBvcCgpO2NvbnN0IHU9dGhpcy5lZGl0b3IubW9kZWwuc2NoZW1hO2lmKCFiZChhLHUpfHwhYmQoYyx1KSlyZXR1cm47Y29uc3QgaD1hLm1hcCh0PT50LmlzKFwidGV4dFwiKT90LmRhdGE6XCJAXCIpLmpvaW4oXCJcIikucmVwbGFjZSgvXFx1MDBBMC9nLFwiIFwiKSxmPWMubWFwKHQ9PnQuaXMoXCJ0ZXh0XCIpP3QuZGF0YTpcIkBcIikuam9pbihcIlwiKS5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpO2lmKGY9PT1oKXJldHVybjtjb25zdCBtPVFvKGYsaCkse2ZpcnN0Q2hhbmdlQXQ6cCxpbnNlcnRpb25zOmcsZGVsZXRpb25zOmJ9PXdkKG0pO2xldCB3PW51bGw7ZSYmKHc9dGhpcy5lZGl0aW5nLm1hcHBlci50b01vZGVsUmFuZ2UoZS5nZXRGaXJzdFJhbmdlKCkpKTtjb25zdCBfPWguc3Vic3RyKHAsZyksaz10aGlzLmVkaXRvci5tb2RlbC5jcmVhdGVSYW5nZSh0aGlzLmVkaXRvci5tb2RlbC5jcmVhdGVQb3NpdGlvbkF0KHMscCksdGhpcy5lZGl0b3IubW9kZWwuY3JlYXRlUG9zaXRpb25BdChzLHArYikpO3RoaXMuZWRpdG9yLmV4ZWN1dGUoXCJpbnB1dFwiLHt0ZXh0Ol8scmFuZ2U6ayxyZXN1bHRSYW5nZTp3fSl9X2hhbmRsZVRleHRNdXRhdGlvbih0LGUpe2lmKFwidGV4dFwiIT10LnR5cGUpcmV0dXJuO2NvbnN0IG49dC5uZXdUZXh0LnJlcGxhY2UoL1xcdTAwQTAvZyxcIiBcIiksaT10Lm9sZFRleHQucmVwbGFjZSgvXFx1MDBBMC9nLFwiIFwiKTtpZihpPT09bilyZXR1cm47Y29uc3Qgbz1RbyhpLG4pLHtmaXJzdENoYW5nZUF0OnIsaW5zZXJ0aW9uczpzLGRlbGV0aW9uczphfT13ZChvKTtsZXQgYz1udWxsO2UmJihjPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFJhbmdlKGUuZ2V0Rmlyc3RSYW5nZSgpKSk7Y29uc3QgbD10aGlzLmVkaXRpbmcudmlldy5jcmVhdGVQb3NpdGlvbkF0KHQubm9kZSxyKSxkPXRoaXMuZWRpdGluZy5tYXBwZXIudG9Nb2RlbFBvc2l0aW9uKGwpLHU9dGhpcy5lZGl0b3IubW9kZWwuY3JlYXRlUmFuZ2UoZCxkLmdldFNoaWZ0ZWRCeShhKSksaD1uLnN1YnN0cihyLHMpO3RoaXMuZWRpdG9yLmV4ZWN1dGUoXCJpbnB1dFwiLHt0ZXh0OmgscmFuZ2U6dSxyZXN1bHRSYW5nZTpjfSl9X2hhbmRsZVRleHROb2RlSW5zZXJ0aW9uKHQpe2lmKFwiY2hpbGRyZW5cIiE9dC50eXBlKXJldHVybjtjb25zdCBlPW1kKHQpLG49dGhpcy5lZGl0aW5nLnZpZXcuY3JlYXRlUG9zaXRpb25BdCh0Lm5vZGUsZS5pbmRleCksaT10aGlzLmVkaXRpbmcubWFwcGVyLnRvTW9kZWxQb3NpdGlvbihuKSxvPWUudmFsdWVzWzBdLmRhdGE7dGhpcy5lZGl0b3IuZXhlY3V0ZShcImlucHV0XCIse3RleHQ6by5yZXBsYWNlKC9cXHUwMEEwL2csXCIgXCIpLHJhbmdlOnRoaXMuZWRpdG9yLm1vZGVsLmNyZWF0ZVJhbmdlKGkpfSl9fWZ1bmN0aW9uIGJkKHQsZSl7cmV0dXJuIHQuZXZlcnkodD0+ZS5pc0lubGluZSh0KSl9ZnVuY3Rpb24gd2QodCl7bGV0IGU9bnVsbCxuPW51bGw7Zm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe1wiZXF1YWxcIiE9dFtpXSYmKGU9bnVsbD09PWU/aTplLG49aSl9bGV0IGk9MCxvPTA7Zm9yKGxldCByPWU7cjw9bjtyKyspXCJpbnNlcnRcIiE9dFtyXSYmaSsrLFwiZGVsZXRlXCIhPXRbcl0mJm8rKztyZXR1cm57aW5zZXJ0aW9uczpvLGRlbGV0aW9uczppLGZpcnN0Q2hhbmdlQXQ6ZX19Y2xhc3MgX2QgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIklucHV0XCJ9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT1uZXcgZGQodCx0LmNvbmZpZy5nZXQoXCJ0eXBpbmcudW5kb1N0ZXBcIil8fDIwKTt0LmNvbW1hbmRzLmFkZChcImlucHV0XCIsZSksdWQodCksZnVuY3Rpb24odCl7dC5lZGl0aW5nLnZpZXcuZG9jdW1lbnQub24oXCJtdXRhdGlvbnNcIiwoZSxuLGkpPT57bmV3IGdkKHQpLmhhbmRsZShuLGkpfSl9KHQpfX1jbGFzcyBrZCBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5kaXJlY3Rpb249ZSx0aGlzLl9idWZmZXI9bmV3IGxkKHQubW9kZWwsdC5jb25maWcuZ2V0KFwidHlwaW5nLnVuZG9TdGVwXCIpKX1nZXQgYnVmZmVyKCl7cmV0dXJuIHRoaXMuX2J1ZmZlcn1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50O2UuZW5xdWV1ZUNoYW5nZSh0aGlzLl9idWZmZXIuYmF0Y2gsaT0+e3RoaXMuX2J1ZmZlci5sb2NrKCk7Y29uc3Qgbz1pLmNyZWF0ZVNlbGVjdGlvbihuLnNlbGVjdGlvbikscj1vLmlzQ29sbGFwc2VkO2lmKG8uaXNDb2xsYXBzZWQmJmUubW9kaWZ5U2VsZWN0aW9uKG8se2RpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbix1bml0OnQudW5pdH0pLHRoaXMuX3Nob3VsZEVudGlyZUNvbnRlbnRCZVJlcGxhY2VkV2l0aFBhcmFncmFwaCh0LnNlcXVlbmNlfHwxKSlyZXR1cm4gdm9pZCB0aGlzLl9yZXBsYWNlRW50aXJlQ29udGVudFdpdGhQYXJhZ3JhcGgoaSk7aWYoby5pc0NvbGxhcHNlZClyZXR1cm47bGV0IHM9MDtvLmdldEZpcnN0UmFuZ2UoKS5nZXRNaW5pbWFsRmxhdFJhbmdlcygpLmZvckVhY2godD0+e3MrPWVvKHQuZ2V0V2Fsa2VyKHtzaW5nbGVDaGFyYWN0ZXJzOiEwLGlnbm9yZUVsZW1lbnRFbmQ6ITAsc2hhbGxvdzohMH0pKX0pLGUuZGVsZXRlQ29udGVudChvLHtkb05vdFJlc2V0RW50aXJlQ29udGVudDpyfSksdGhpcy5fYnVmZmVyLmlucHV0KHMpLGkuc2V0U2VsZWN0aW9uKG8pLHRoaXMuX2J1ZmZlci51bmxvY2soKX0pfV9zaG91bGRFbnRpcmVDb250ZW50QmVSZXBsYWNlZFdpdGhQYXJhZ3JhcGgodCl7aWYodD4xKXJldHVybiExO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixpPWUuc2NoZW1hLmdldExpbWl0RWxlbWVudChuKTtpZighKG4uaXNDb2xsYXBzZWQmJm4uY29udGFpbnNFbnRpcmVDb250ZW50KGkpKSlyZXR1cm4hMTtpZighZS5zY2hlbWEuY2hlY2tDaGlsZChpLFwicGFyYWdyYXBoXCIpKXJldHVybiExO2NvbnN0IG89aS5nZXRDaGlsZCgwKTtyZXR1cm4hb3x8XCJwYXJhZ3JhcGhcIiE9PW8ubmFtZX1fcmVwbGFjZUVudGlyZUNvbnRlbnRXaXRoUGFyYWdyYXBoKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixpPWUuc2NoZW1hLmdldExpbWl0RWxlbWVudChuKSxvPXQuY3JlYXRlRWxlbWVudChcInBhcmFncmFwaFwiKTt0LnJlbW92ZSh0LmNyZWF0ZVJhbmdlSW4oaSkpLHQuaW5zZXJ0KG8saSksdC5zZXRTZWxlY3Rpb24obywwKX19Y2xhc3MgdmQgZXh0ZW5kcyBocntjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQuZG9jdW1lbnQ7bGV0IG49MDtlLm9uKFwia2V5dXBcIiwodCxlKT0+e2Uua2V5Q29kZSE9Ym8uZGVsZXRlJiZlLmtleUNvZGUhPWJvLmJhY2tzcGFjZXx8KG49MCl9KSxlLm9uKFwia2V5ZG93blwiLCh0LGkpPT57Y29uc3Qgbz17fTtpZihpLmtleUNvZGU9PWJvLmRlbGV0ZSlvLmRpcmVjdGlvbj1cImZvcndhcmRcIixvLnVuaXQ9XCJjaGFyYWN0ZXJcIjtlbHNle2lmKGkua2V5Q29kZSE9Ym8uYmFja3NwYWNlKXJldHVybjtvLmRpcmVjdGlvbj1cImJhY2t3YXJkXCIsby51bml0PVwiY29kZVBvaW50XCJ9Y29uc3Qgcj1tby5pc01hYz9pLmFsdEtleTppLmN0cmxLZXk7bGV0IHM7by51bml0PXI/XCJ3b3JkXCI6by51bml0LG8uc2VxdWVuY2U9KytuLGUub25jZShcImRlbGV0ZVwiLHQ9PnM9dCx7cHJpb3JpdHk6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSk7Y29uc3QgYT1uZXcgWHIoZSxpLmRvbUV2ZW50LG8pO2UuZmlyZShcImRlbGV0ZVwiLGEpLHMmJnMuc3RvcC5jYWxsZWQmJnQuc3RvcCgpfSl9b2JzZXJ2ZSgpe319ZnVuY3Rpb24geWQodCl7Y29uc3QgZT10Lm1vZGVsLG49dC5lZGl0aW5nLnZpZXcsaT0yMDA7bGV0IG89bnVsbCxyPWUuY3JlYXRlU2VsZWN0aW9uKGUuZG9jdW1lbnQuc2VsZWN0aW9uKSxzPURhdGUubm93KCk7ZS5kb2N1bWVudC5zZWxlY3Rpb24ub24oXCJjaGFuZ2VcIixmdW5jdGlvbih0KXtjb25zdCBuPWUuY3JlYXRlU2VsZWN0aW9uKHQuc291cmNlKTtyLmlzRXF1YWwobil8fChvPXIscj1uLHM9RGF0ZS5ub3coKSl9KSxuLmRvY3VtZW50Lm9uKFwibXV0YXRpb25zXCIsZnVuY3Rpb24obixhKXtmZChhKSYmZnVuY3Rpb24odCl7Zm9yKGNvbnN0IGUgb2YgdCl7aWYoXCJjaGlsZHJlblwiIT09ZS50eXBlKWNvbnRpbnVlO2NvbnN0IHQ9ZS5vbGRDaGlsZHJlbixuPWUubmV3Q2hpbGRyZW47aWYoIXhkKHQpKWNvbnRpbnVlO2NvbnN0IGk9UW8odCxuKSxvPWkuc29tZSh0PT5cImRlbGV0ZVwiPT09dCkscj1pLnNvbWUodD0+XCJpbnNlcnRcIj09PXQpO2lmKG8mJiFyKXJldHVybiEwfXJldHVybiExfShhKSYmKCFmdW5jdGlvbigpe0RhdGUubm93KCktczxpJiZvJiYhby5pc0NvbGxhcHNlZCYmci5pc0NvbGxhcHNlZCYmci5nZXRMYXN0UG9zaXRpb24oKS5pc0VxdWFsKG8uZ2V0TGFzdFBvc2l0aW9uKCkpJiZlLmVucXVldWVDaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKG8pfSk7dC5leGVjdXRlKFwiZGVsZXRlXCIpfSgpLG4uc3RvcCgpKX0se3ByaW9yaXR5OlwiaGlnaGVzdFwifSl9ZnVuY3Rpb24geGQodCl7cmV0dXJuIHQuZXZlcnkodD0+dC5pcyhcImNvbnRhaW5lckVsZW1lbnRcIikpfWNsYXNzIEFkIGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJEZWxldGVcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuZWRpdGluZy52aWV3LG49ZS5kb2N1bWVudDtlLmFkZE9ic2VydmVyKHZkKSx0LmNvbW1hbmRzLmFkZChcImZvcndhcmREZWxldGVcIixuZXcga2QodCxcImZvcndhcmRcIikpLHQuY29tbWFuZHMuYWRkKFwiZGVsZXRlXCIsbmV3IGtkKHQsXCJiYWNrd2FyZFwiKSksdGhpcy5saXN0ZW5UbyhuLFwiZGVsZXRlXCIsKG4saSk9Pnt0LmV4ZWN1dGUoXCJmb3J3YXJkXCI9PWkuZGlyZWN0aW9uP1wiZm9yd2FyZERlbGV0ZVwiOlwiZGVsZXRlXCIse3VuaXQ6aS51bml0LHNlcXVlbmNlOmkuc2VxdWVuY2V9KSxpLnByZXZlbnREZWZhdWx0KCksZS5zY3JvbGxUb1RoZVNlbGVjdGlvbigpfSkseWQodCl9fWNsYXNzIENkIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltfZCxBZF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJUeXBpbmdcIn19Y2xhc3MgVGQgZXh0ZW5kcyBRYXtnZXQgdHlwZSgpe3JldHVyblwibm9vcFwifWNsb25lKCl7cmV0dXJuIG5ldyBUZCh0aGlzLmJhc2VWZXJzaW9uKX1nZXRSZXZlcnNlZCgpe3JldHVybiBuZXcgVGQodGhpcy5iYXNlVmVyc2lvbisxKX1fZXhlY3V0ZSgpe31zdGF0aWMgZ2V0IGNsYXNzTmFtZSgpe3JldHVyblwiTm9PcGVyYXRpb25cIn19Y29uc3QgUGQ9bmV3IE1hcDtmdW5jdGlvbiBNZCh0LGUsbil7bGV0IGk9UGQuZ2V0KHQpO2l8fChpPW5ldyBNYXAsUGQuc2V0KHQsaSkpLGkuc2V0KGUsbil9ZnVuY3Rpb24gRWQodCl7cmV0dXJuW3RdfWZ1bmN0aW9uIFNkKHQsZSxuPXt9KXtjb25zdCBpPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1QZC5nZXQodCk7cmV0dXJuIG4mJm4uaGFzKGUpP24uZ2V0KGUpOkVkfSh0LmNvbnN0cnVjdG9yLGUuY29uc3RydWN0b3IpO3RyeXtyZXR1cm4gaSh0PXQuY2xvbmUoKSxlLG4pfWNhdGNoKGkpe3Rocm93IGJzLmEuZXJyb3IoXCJFcnJvciBkdXJpbmcgb3BlcmF0aW9uIHRyYW5zZm9ybWF0aW9uIVwiLGkubWVzc2FnZSksYnMuYS5lcnJvcihcIlRyYW5zZm9ybWVkIG9wZXJhdGlvblwiLHQpLGJzLmEuZXJyb3IoXCJPcGVyYXRpb24gdHJhbnNmb3JtZWQgYnlcIixlKSxicy5hLmVycm9yKFwiY29udGV4dC5hSXNTdHJvbmdcIixuLmFJc1N0cm9uZyksYnMuYS5lcnJvcihcImNvbnRleHQuYVdhc1VuZG9uZVwiLG4uYVdhc1VuZG9uZSksYnMuYS5lcnJvcihcImNvbnRleHQuYldhc1VuZG9uZVwiLG4uYldhc1VuZG9uZSksYnMuYS5lcnJvcihcImNvbnRleHQuYWJSZWxhdGlvblwiLG4uYWJSZWxhdGlvbiksYnMuYS5lcnJvcihcImNvbnRleHQuYmFSZWxhdGlvblwiLG4uYmFSZWxhdGlvbiksaX19ZnVuY3Rpb24gSWQodCxlLG4pe2lmKHQ9dC5zbGljZSgpLGU9ZS5zbGljZSgpLDA9PXQubGVuZ3RofHwwPT1lLmxlbmd0aClyZXR1cm57b3BlcmF0aW9uc0E6dCxvcGVyYXRpb25zQjplfTtjb25zdCBpPW5ldyBXZWFrTWFwO2Zvcihjb25zdCBlIG9mIHQpaS5zZXQoZSwwKTtjb25zdCBvPXtuZXh0QmFzZVZlcnNpb25BOnRbdC5sZW5ndGgtMV0uYmFzZVZlcnNpb24rMSxuZXh0QmFzZVZlcnNpb25COmVbZS5sZW5ndGgtMV0uYmFzZVZlcnNpb24rMSxvcmlnaW5hbE9wZXJhdGlvbnNBQ291bnQ6dC5sZW5ndGgsb3JpZ2luYWxPcGVyYXRpb25zQkNvdW50OmUubGVuZ3RofSxyPW5ldyBOZChuLmRvY3VtZW50LG4udXNlUmVsYXRpb25zLG4uZm9yY2VXZWFrUmVtb3ZlKTtyLnNldE9yaWdpbmFsT3BlcmF0aW9ucyh0KSxyLnNldE9yaWdpbmFsT3BlcmF0aW9ucyhlKTtsZXQgcz0wO2Zvcig7czx0Lmxlbmd0aDspe2NvbnN0IG49dFtzXSxvPWkuZ2V0KG4pO2lmKG89PWUubGVuZ3RoKXtzKys7Y29udGludWV9Y29uc3QgYT1lW29dLGM9U2QobixhLHIuZ2V0Q29udGV4dChuLGEsITApKSxsPVNkKGEsbixyLmdldENvbnRleHQoYSxuLCExKSk7ci51cGRhdGVSZWxhdGlvbihuLGEpLHIuc2V0T3JpZ2luYWxPcGVyYXRpb25zKGMsbiksci5zZXRPcmlnaW5hbE9wZXJhdGlvbnMobCxhKTtmb3IoY29uc3QgdCBvZiBjKWkuc2V0KHQsbytsLmxlbmd0aCk7dC5zcGxpY2UocywxLC4uLmMpLGUuc3BsaWNlKG8sMSwuLi5sKX1pZihuLnBhZFdpdGhOb09wcyl7Y29uc3Qgbj10Lmxlbmd0aC1vLm9yaWdpbmFsT3BlcmF0aW9uc0FDb3VudCxpPWUubGVuZ3RoLW8ub3JpZ2luYWxPcGVyYXRpb25zQkNvdW50O1JkKHQsaS1uKSxSZChlLG4taSl9cmV0dXJuIE9kKHQsby5uZXh0QmFzZVZlcnNpb25CKSxPZChlLG8ubmV4dEJhc2VWZXJzaW9uQSkse29wZXJhdGlvbnNBOnQsb3BlcmF0aW9uc0I6ZX19Y2xhc3MgTmR7Y29uc3RydWN0b3IodCxlLG49ITEpe3RoaXMuX2hpc3Rvcnk9dC5oaXN0b3J5LHRoaXMuX3VzZVJlbGF0aW9ucz1lLHRoaXMuX2ZvcmNlV2Vha1JlbW92ZT0hIW4sdGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zPW5ldyBNYXAsdGhpcy5fcmVsYXRpb25zPW5ldyBNYXB9c2V0T3JpZ2luYWxPcGVyYXRpb25zKHQsZT1udWxsKXtjb25zdCBuPWU/dGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLmdldChlKTpudWxsO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLnNldChlLG58fGUpfXVwZGF0ZVJlbGF0aW9uKHQsZSl7c3dpdGNoKHQuY29uc3RydWN0b3Ipe2Nhc2UgYWM6c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2UgaGM6dC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pfHxlLm1vdmVkUmFuZ2UuY29udGFpbnNQb3NpdGlvbih0LnRhcmdldFBvc2l0aW9uKT90aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJpbnNlcnRBdFNvdXJjZVwiKTp0LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS5kZWxldGlvblBvc2l0aW9uKT90aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJpbnNlcnRCZXR3ZWVuXCIpOnQudGFyZ2V0UG9zaXRpb24uaXNBZnRlcihlLnNvdXJjZVBvc2l0aW9uKSYmdGhpcy5fc2V0UmVsYXRpb24odCxlLFwibW92ZVRhcmdldEFmdGVyXCIpO2JyZWFrO2Nhc2UgYWM6dC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pfHx0LnRhcmdldFBvc2l0aW9uLmlzQmVmb3JlKGUuc291cmNlUG9zaXRpb24pP3RoaXMuX3NldFJlbGF0aW9uKHQsZSxcImluc2VydEJlZm9yZVwiKTp0aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJpbnNlcnRBZnRlclwiKX1icmVhaztjYXNlIGZjOnN3aXRjaChlLmNvbnN0cnVjdG9yKXtjYXNlIGhjOnQuc3BsaXRQb3NpdGlvbi5pc0JlZm9yZShlLnNvdXJjZVBvc2l0aW9uKSYmdGhpcy5fc2V0UmVsYXRpb24odCxlLFwic3BsaXRCZWZvcmVcIik7YnJlYWs7Y2FzZSBhYzoodC5zcGxpdFBvc2l0aW9uLmlzRXF1YWwoZS5zb3VyY2VQb3NpdGlvbil8fHQuc3BsaXRQb3NpdGlvbi5pc0JlZm9yZShlLnNvdXJjZVBvc2l0aW9uKSkmJnRoaXMuX3NldFJlbGF0aW9uKHQsZSxcInNwbGl0QmVmb3JlXCIpfWJyZWFrO2Nhc2UgaGM6c3dpdGNoKGUuY29uc3RydWN0b3Ipe2Nhc2UgaGM6dC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pfHx0aGlzLl9zZXRSZWxhdGlvbih0LGUsXCJtZXJnZVRhcmdldE5vdE1vdmVkXCIpLHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmdGhpcy5fc2V0UmVsYXRpb24odCxlLFwibWVyZ2VTb3VyY2VOb3RNb3ZlZFwiKSx0LnNvdXJjZVBvc2l0aW9uLmlzRXF1YWwoZS5zb3VyY2VQb3NpdGlvbikmJnRoaXMuX3NldFJlbGF0aW9uKHQsZSxcIm1lcmdlU2FtZUVsZW1lbnRcIik7YnJlYWs7Y2FzZSBmYzp0LnNvdXJjZVBvc2l0aW9uLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSYmdGhpcy5fc2V0UmVsYXRpb24odCxlLFwic3BsaXRBdFNvdXJjZVwiKX1icmVhaztjYXNlIGxjOntjb25zdCBuPXQubmV3UmFuZ2U7aWYoIW4pcmV0dXJuO3N3aXRjaChlLmNvbnN0cnVjdG9yKXtjYXNlIGFjOntjb25zdCBpPUdzLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSksbz1pLmNvbnRhaW5zUG9zaXRpb24obi5zdGFydCl8fGkuc3RhcnQuaXNFcXVhbChuLnN0YXJ0KSxyPWkuY29udGFpbnNQb3NpdGlvbihuLmVuZCl8fGkuZW5kLmlzRXF1YWwobi5lbmQpOyFvJiYhcnx8aS5jb250YWluc1JhbmdlKG4pfHx0aGlzLl9zZXRSZWxhdGlvbih0LGUse3NpZGU6bz9cImxlZnRcIjpcInJpZ2h0XCIscGF0aDpvP24uc3RhcnQucGF0aC5zbGljZSgpOm4uZW5kLnBhdGguc2xpY2UoKX0pO2JyZWFrfWNhc2UgaGM6e2NvbnN0IGk9bi5zdGFydC5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pLG89bi5zdGFydC5pc0VxdWFsKGUuZGVsZXRpb25Qb3NpdGlvbikscj1uLmVuZC5pc0VxdWFsKGUuZGVsZXRpb25Qb3NpdGlvbikscz1uLmVuZC5pc0VxdWFsKGUuc291cmNlUG9zaXRpb24pOyhpfHxvfHxyfHxzKSYmdGhpcy5fc2V0UmVsYXRpb24odCxlLHt3YXNJbkxlZnRFbGVtZW50Omksd2FzU3RhcnRCZWZvcmVNZXJnZWRFbGVtZW50Om8sd2FzRW5kQmVmb3JlTWVyZ2VkRWxlbWVudDpyLHdhc0luUmlnaHRFbGVtZW50OnN9KTticmVha319YnJlYWt9fX1nZXRDb250ZXh0KHQsZSxuKXtyZXR1cm57YUlzU3Ryb25nOm4sYVdhc1VuZG9uZTp0aGlzLl93YXNVbmRvbmUodCksYldhc1VuZG9uZTp0aGlzLl93YXNVbmRvbmUoZSksYWJSZWxhdGlvbjp0aGlzLl91c2VSZWxhdGlvbnM/dGhpcy5fZ2V0UmVsYXRpb24odCxlKTpudWxsLGJhUmVsYXRpb246dGhpcy5fdXNlUmVsYXRpb25zP3RoaXMuX2dldFJlbGF0aW9uKGUsdCk6bnVsbCxmb3JjZVdlYWtSZW1vdmU6dGhpcy5fZm9yY2VXZWFrUmVtb3ZlfX1fd2FzVW5kb25lKHQpe2NvbnN0IGU9dGhpcy5fb3JpZ2luYWxPcGVyYXRpb25zLmdldCh0KTtyZXR1cm4gZS53YXNVbmRvbmV8fHRoaXMuX2hpc3RvcnkuaXNVbmRvbmVPcGVyYXRpb24oZSl9X2dldFJlbGF0aW9uKHQsZSl7Y29uc3Qgbj10aGlzLl9vcmlnaW5hbE9wZXJhdGlvbnMuZ2V0KGUpLGk9dGhpcy5faGlzdG9yeS5nZXRVbmRvbmVPcGVyYXRpb24obik7aWYoIWkpcmV0dXJuIG51bGw7Y29uc3Qgbz10aGlzLl9vcmlnaW5hbE9wZXJhdGlvbnMuZ2V0KHQpLHI9dGhpcy5fcmVsYXRpb25zLmdldChvKTtyZXR1cm4gciYmci5nZXQoaSl8fG51bGx9X3NldFJlbGF0aW9uKHQsZSxuKXtjb25zdCBpPXRoaXMuX29yaWdpbmFsT3BlcmF0aW9ucy5nZXQodCksbz10aGlzLl9vcmlnaW5hbE9wZXJhdGlvbnMuZ2V0KGUpO2xldCByPXRoaXMuX3JlbGF0aW9ucy5nZXQoaSk7cnx8KHI9bmV3IE1hcCx0aGlzLl9yZWxhdGlvbnMuc2V0KGkscikpLHIuc2V0KG8sbil9fWZ1bmN0aW9uIE9kKHQsZSl7Zm9yKGNvbnN0IG4gb2YgdCluLmJhc2VWZXJzaW9uPWUrK31mdW5jdGlvbiBSZCh0LGUpe2ZvcihsZXQgbj0wO248ZTtuKyspdC5wdXNoKG5ldyBUZCgwKSl9ZnVuY3Rpb24gRGQodCxlLG4pe2NvbnN0IGk9dC5ub2Rlcy5nZXROb2RlKDApLmdldEF0dHJpYnV0ZShlKTtpZihpPT1uKXJldHVybiBudWxsO2NvbnN0IG89bmV3IEdzKHQucG9zaXRpb24sdC5wb3NpdGlvbi5nZXRTaGlmdGVkQnkodC5ob3dNYW55KSk7cmV0dXJuIG5ldyByYyhvLGUsaSxuLDApfWZ1bmN0aW9uIExkKHQsZSl7cmV0dXJuIG51bGw9PT10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5RGVsZXRpb24oZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpfWZ1bmN0aW9uIGpkKHQsZSl7Y29uc3Qgbj1bXTtmb3IobGV0IGk9MDtpPHQubGVuZ3RoO2krKyl7Y29uc3Qgbz10W2ldLHI9bmV3IGFjKG8uc3RhcnQsby5lbmQub2Zmc2V0LW8uc3RhcnQub2Zmc2V0LGUsMCk7bi5wdXNoKHIpO2ZvcihsZXQgZT1pKzE7ZTx0Lmxlbmd0aDtlKyspdFtlXT10W2VdLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShyLnNvdXJjZVBvc2l0aW9uLHIudGFyZ2V0UG9zaXRpb24sci5ob3dNYW55KVswXTtlPWUuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHIuc291cmNlUG9zaXRpb24sci50YXJnZXRQb3NpdGlvbixyLmhvd01hbnkpfXJldHVybiBufU1kKHJjLHJjLCh0LGUsbik9PntpZih0LmtleT09PWUua2V5KXtjb25zdCBpPXQucmFuZ2UuZ2V0RGlmZmVyZW5jZShlLnJhbmdlKS5tYXAoZT0+bmV3IHJjKGUsdC5rZXksdC5vbGRWYWx1ZSx0Lm5ld1ZhbHVlLDApKSxvPXQucmFuZ2UuZ2V0SW50ZXJzZWN0aW9uKGUucmFuZ2UpO3JldHVybiBvJiZuLmFJc1N0cm9uZyYmaS5wdXNoKG5ldyByYyhvLGUua2V5LGUubmV3VmFsdWUsdC5uZXdWYWx1ZSwwKSksMD09aS5sZW5ndGg/W25ldyBUZCgwKV06aX1yZXR1cm5bdF19KSxNZChyYyxjYywodCxlKT0+e2lmKHQucmFuZ2Uuc3RhcnQuaGFzU2FtZVBhcmVudEFzKGUucG9zaXRpb24pJiZ0LnJhbmdlLmNvbnRhaW5zUG9zaXRpb24oZS5wb3NpdGlvbikpe2NvbnN0IG49dC5yYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydGlvbihlLnBvc2l0aW9uLGUuaG93TWFueSwhZS5zaG91bGRSZWNlaXZlQXR0cmlidXRlcykubWFwKGU9Pm5ldyByYyhlLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSx0LmJhc2VWZXJzaW9uKSk7aWYoZS5zaG91bGRSZWNlaXZlQXR0cmlidXRlcyl7Y29uc3QgaT1EZChlLHQua2V5LHQub2xkVmFsdWUpO2kmJm4udW5zaGlmdChpKX1yZXR1cm4gbn1yZXR1cm4gdC5yYW5nZT10LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUucG9zaXRpb24sZS5ob3dNYW55LCExKVswXSxbdF19KSxNZChyYyxoYywodCxlKT0+e2NvbnN0IG49W107dC5yYW5nZS5zdGFydC5oYXNTYW1lUGFyZW50QXMoZS5kZWxldGlvblBvc2l0aW9uKSYmKHQucmFuZ2UuY29udGFpbnNQb3NpdGlvbihlLmRlbGV0aW9uUG9zaXRpb24pfHx0LnJhbmdlLnN0YXJ0LmlzRXF1YWwoZS5kZWxldGlvblBvc2l0aW9uKSkmJm4ucHVzaChHcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5ncmF2ZXlhcmRQb3NpdGlvbiwxKSk7Y29uc3QgaT10LnJhbmdlLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7cmV0dXJuIGkuaXNDb2xsYXBzZWR8fG4ucHVzaChpKSxuLm1hcChlPT5uZXcgcmMoZSx0LmtleSx0Lm9sZFZhbHVlLHQubmV3VmFsdWUsdC5iYXNlVmVyc2lvbikpfSksTWQocmMsYWMsKHQsZSk9PntyZXR1cm4gZnVuY3Rpb24odCxlKXtjb25zdCBuPUdzLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSk7bGV0IGk9bnVsbCxvPVtdO24uY29udGFpbnNSYW5nZSh0LCEwKT9pPXQ6dC5zdGFydC5oYXNTYW1lUGFyZW50QXMobi5zdGFydCk/KG89dC5nZXREaWZmZXJlbmNlKG4pLGk9dC5nZXRJbnRlcnNlY3Rpb24obikpOm89W3RdO2NvbnN0IHI9W107Zm9yKGxldCB0IG9mIG8pe3Q9dC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtjb25zdCBuPWUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksaT10LnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhuKTt0PXQuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRpb24obixlLmhvd01hbnksaSksci5wdXNoKC4uLnQpfWkmJnIucHVzaChpLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55LCExKVswXSk7cmV0dXJuIHJ9KHQucmFuZ2UsZSkubWFwKGU9Pm5ldyByYyhlLHQua2V5LHQub2xkVmFsdWUsdC5uZXdWYWx1ZSx0LmJhc2VWZXJzaW9uKSl9KSxNZChyYyxmYywodCxlKT0+e2lmKHQucmFuZ2UuZW5kLmlzRXF1YWwoZS5pbnNlcnRpb25Qb3NpdGlvbikpcmV0dXJuIGUuZ3JhdmV5YXJkUG9zaXRpb258fHQucmFuZ2UuZW5kLm9mZnNldCsrLFt0XTtpZih0LnJhbmdlLnN0YXJ0Lmhhc1NhbWVQYXJlbnRBcyhlLnNwbGl0UG9zaXRpb24pJiZ0LnJhbmdlLmNvbnRhaW5zUG9zaXRpb24oZS5zcGxpdFBvc2l0aW9uKSl7Y29uc3Qgbj10LmNsb25lKCk7cmV0dXJuIG4ucmFuZ2U9bmV3IEdzKGUubW92ZVRhcmdldFBvc2l0aW9uLmNsb25lKCksdC5yYW5nZS5lbmQuX2dldENvbWJpbmVkKGUuc3BsaXRQb3NpdGlvbixlLm1vdmVUYXJnZXRQb3NpdGlvbikpLHQucmFuZ2UuZW5kPWUuc3BsaXRQb3NpdGlvbi5jbG9uZSgpLHQucmFuZ2UuZW5kLnN0aWNraW5lc3M9XCJ0b1ByZXZpb3VzXCIsW3Qsbl19cmV0dXJuIHQucmFuZ2U9dC5yYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLFt0XX0pLE1kKGNjLHJjLCh0LGUpPT57Y29uc3Qgbj1bdF07aWYodC5zaG91bGRSZWNlaXZlQXR0cmlidXRlcyYmdC5wb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5yYW5nZS5zdGFydCkmJmUucmFuZ2UuY29udGFpbnNQb3NpdGlvbih0LnBvc2l0aW9uKSl7Y29uc3QgaT1EZCh0LGUua2V5LGUubmV3VmFsdWUpO2kmJm4ucHVzaChpKX1yZXR1cm4gbn0pLE1kKGNjLGNjLCh0LGUsbik9PnQucG9zaXRpb24uaXNFcXVhbChlLnBvc2l0aW9uKSYmbi5hSXNTdHJvbmc/W3RdOih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSksW3RdKSksTWQoY2MsYWMsKHQsZSk9Pih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpLFt0XSkpLE1kKGNjLGZjLCh0LGUpPT4odC5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdKSksTWQoY2MsaGMsKHQsZSk9Pih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSxbdF0pKSxNZChsYyxjYywodCxlKT0+KHQub2xkUmFuZ2UmJih0Lm9sZFJhbmdlPXQub2xkUmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSlbMF0pLHQubmV3UmFuZ2UmJih0Lm5ld1JhbmdlPXQubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSlbMF0pLFt0XSkpLE1kKGxjLGxjLCh0LGUsbik9PntpZih0Lm5hbWU9PWUubmFtZSl7aWYoIW4uYUlzU3Ryb25nKXJldHVybltuZXcgVGQoMCldO3Qub2xkUmFuZ2U9ZS5uZXdSYW5nZT9lLm5ld1JhbmdlLmNsb25lKCk6bnVsbH1yZXR1cm5bdF19KSxNZChsYyxoYywodCxlKT0+KHQub2xkUmFuZ2UmJih0Lm9sZFJhbmdlPXQub2xkUmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSksdC5uZXdSYW5nZSYmKHQubmV3UmFuZ2U9dC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpKSxbdF0pKSxNZChsYyxhYywodCxlLG4pPT57aWYodC5vbGRSYW5nZSYmKHQub2xkUmFuZ2U9R3MuX2NyZWF0ZUZyb21SYW5nZXModC5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSkpKSx0Lm5ld1JhbmdlKXtpZihuLmFiUmVsYXRpb24pe2NvbnN0IGk9R3MuX2NyZWF0ZUZyb21SYW5nZXModC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSkpO2lmKFwibGVmdFwiPT1uLmFiUmVsYXRpb24uc2lkZSYmZS50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKHQubmV3UmFuZ2Uuc3RhcnQpKXJldHVybiB0Lm5ld1JhbmdlLnN0YXJ0LnBhdGg9bi5hYlJlbGF0aW9uLnBhdGgsdC5uZXdSYW5nZS5lbmQ9aS5lbmQsW3RdO2lmKFwicmlnaHRcIj09bi5hYlJlbGF0aW9uLnNpZGUmJmUudGFyZ2V0UG9zaXRpb24uaXNFcXVhbCh0Lm5ld1JhbmdlLmVuZCkpcmV0dXJuIHQubmV3UmFuZ2Uuc3RhcnQ9aS5zdGFydCx0Lm5ld1JhbmdlLmVuZC5wYXRoPW4uYWJSZWxhdGlvbi5wYXRoLFt0XX10Lm5ld1JhbmdlPUdzLl9jcmVhdGVGcm9tUmFuZ2VzKHQubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpKX1yZXR1cm5bdF19KSxNZChsYyxmYywodCxlLG4pPT57aWYodC5vbGRSYW5nZSYmKHQub2xkUmFuZ2U9dC5vbGRSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpKSx0Lm5ld1JhbmdlKXtpZihuLmFiUmVsYXRpb24pe2NvbnN0IGk9dC5uZXdSYW5nZS5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpO3JldHVybiB0Lm5ld1JhbmdlLnN0YXJ0LmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSYmbi5hYlJlbGF0aW9uLndhc1N0YXJ0QmVmb3JlTWVyZ2VkRWxlbWVudD90Lm5ld1JhbmdlLnN0YXJ0PSRzLl9jcmVhdGVBdChlLmluc2VydGlvblBvc2l0aW9uKTp0Lm5ld1JhbmdlLnN0YXJ0LmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSYmIW4uYWJSZWxhdGlvbi53YXNJbkxlZnRFbGVtZW50JiYodC5uZXdSYW5nZS5zdGFydD0kcy5fY3JlYXRlQXQoZS5tb3ZlVGFyZ2V0UG9zaXRpb24pKSx0Lm5ld1JhbmdlLmVuZC5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikmJm4uYWJSZWxhdGlvbi53YXNJblJpZ2h0RWxlbWVudD90Lm5ld1JhbmdlLmVuZD0kcy5fY3JlYXRlQXQoZS5tb3ZlVGFyZ2V0UG9zaXRpb24pOnQubmV3UmFuZ2UuZW5kLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSYmbi5hYlJlbGF0aW9uLndhc0VuZEJlZm9yZU1lcmdlZEVsZW1lbnQ/dC5uZXdSYW5nZS5lbmQ9JHMuX2NyZWF0ZUF0KGUuaW5zZXJ0aW9uUG9zaXRpb24pOnQubmV3UmFuZ2UuZW5kPWkuZW5kLFt0XX10Lm5ld1JhbmdlPXQubmV3UmFuZ2UuX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKX1yZXR1cm5bdF19KSxNZChoYyxjYywodCxlKT0+KHQuc291cmNlUG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUucG9zaXRpb24pJiYodC5ob3dNYW55Kz1lLmhvd01hbnkpLHQuc291cmNlUG9zaXRpb249dC5zb3VyY2VQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSksW3RdKSksTWQoaGMsaGMsKHQsZSxuKT0+e2lmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSYmdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pKXtpZihuLmJXYXNVbmRvbmUpe2NvbnN0IG49ZS5ncmF2ZXlhcmRQb3NpdGlvbi5wYXRoLnNsaWNlKCk7cmV0dXJuIG4ucHVzaCgwKSx0LnNvdXJjZVBvc2l0aW9uPW5ldyAkcyhlLmdyYXZleWFyZFBvc2l0aW9uLnJvb3QsbiksdC5ob3dNYW55PTAsW3RdfXJldHVybltuZXcgVGQoMCldfWlmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNvdXJjZVBvc2l0aW9uKSYmIXQudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKSYmIW4uYldhc1VuZG9uZSYmXCJzcGxpdEF0U291cmNlXCIhPW4uYWJSZWxhdGlvbil7Y29uc3QgaT1cIiRncmF2ZXlhcmRcIj09dC50YXJnZXRQb3NpdGlvbi5yb290LnJvb3ROYW1lLG89XCIkZ3JhdmV5YXJkXCI9PWUudGFyZ2V0UG9zaXRpb24ucm9vdC5yb290TmFtZTtpZihvJiYhaXx8IShpJiYhbykmJm4uYUlzU3Ryb25nKXtjb25zdCBuPWUudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSxpPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKTtyZXR1cm5bbmV3IGFjKG4sdC5ob3dNYW55LGksMCldfXJldHVybltuZXcgVGQoMCldfXJldHVybiB0LnNvdXJjZVBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSYmKHQuaG93TWFueSs9ZS5ob3dNYW55KSx0LnNvdXJjZVBvc2l0aW9uPXQuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSx0LmdyYXZleWFyZFBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbikmJm4uYUlzU3Ryb25nfHwodC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSkpLFt0XX0pLE1kKGhjLGFjLCh0LGUsbik9Pntjb25zdCBpPUdzLl9jcmVhdGVGcm9tUG9zaXRpb25BbmRTaGlmdChlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSk7cmV0dXJuXCJyZW1vdmVcIj09ZS50eXBlJiYhbi5iV2FzVW5kb25lJiYhbi5mb3JjZVdlYWtSZW1vdmUmJnQuZGVsZXRpb25Qb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJmkuY29udGFpbnNQb3NpdGlvbih0LnNvdXJjZVBvc2l0aW9uKT9bbmV3IFRkKDApXToodC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS50YXJnZXRQb3NpdGlvbikmJih0Lmhvd01hbnkrPWUuaG93TWFueSksdC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJih0Lmhvd01hbnktPWUuaG93TWFueSksdC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpLHQuZ3JhdmV5YXJkUG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKXx8KHQuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSkpLFt0XSl9KSxNZChoYyxmYywodCxlLG4pPT57aWYoZS5ncmF2ZXlhcmRQb3NpdGlvbiYmKHQuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuZ3JhdmV5YXJkUG9zaXRpb24sMSksdC5kZWxldGlvblBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbikmJih0Lmhvd01hbnk9ZS5ob3dNYW55KSksdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikpe2NvbnN0IGk9MCE9ZS5ob3dNYW55LG89ZS5ncmF2ZXlhcmRQb3NpdGlvbiYmdC5kZWxldGlvblBvc2l0aW9uLmlzRXF1YWwoZS5ncmF2ZXlhcmRQb3NpdGlvbik7aWYoaXx8b3x8XCJtZXJnZVRhcmdldE5vdE1vdmVkXCI9PW4uYWJSZWxhdGlvbilyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbj10LnNvdXJjZVBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdfWlmKHQuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnNwbGl0UG9zaXRpb24pKXtpZihcIm1lcmdlU291cmNlTm90TW92ZWRcIj09bi5hYlJlbGF0aW9uKXJldHVybiB0Lmhvd01hbnk9MCx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSxbdF07aWYoXCJtZXJnZVNhbWVFbGVtZW50XCI9PW4uYWJSZWxhdGlvbnx8dC5zb3VyY2VQb3NpdGlvbi5vZmZzZXQ+MClyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbj1lLm1vdmVUYXJnZXRQb3NpdGlvbi5jbG9uZSgpLHQudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLFt0XX1yZXR1cm4gdC5zb3VyY2VQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zcGxpdFBvc2l0aW9uKSYmKHQuaG93TWFueT1lLnNwbGl0UG9zaXRpb24ub2Zmc2V0KSx0LnNvdXJjZVBvc2l0aW9uPXQuc291cmNlUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSx0LnRhcmdldFBvc2l0aW9uPXQudGFyZ2V0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSxbdF19KSxNZChhYyxjYywodCxlKT0+e2NvbnN0IG49R3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KS5fZ2V0VHJhbnNmb3JtZWRCeUluc2VydE9wZXJhdGlvbihlLCExKVswXTtyZXR1cm4gdC5zb3VyY2VQb3NpdGlvbj1uLnN0YXJ0LHQuaG93TWFueT1uLmVuZC5vZmZzZXQtbi5zdGFydC5vZmZzZXQsdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUucG9zaXRpb24pfHwodC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKGUpKSxbdF19KSxNZChhYyxhYywodCxlLG4pPT57Y29uc3QgaT1Hcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpLG89R3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtsZXQgcixzPW4uYUlzU3Ryb25nLGE9IW4uYUlzU3Ryb25nO2lmKFwiaW5zZXJ0QmVmb3JlXCI9PW4uYWJSZWxhdGlvbnx8XCJpbnNlcnRBZnRlclwiPT1uLmJhUmVsYXRpb24/YT0hMDpcImluc2VydEFmdGVyXCIhPW4uYWJSZWxhdGlvbiYmXCJpbnNlcnRCZWZvcmVcIiE9bi5iYVJlbGF0aW9ufHwoYT0hMSkscj10LnRhcmdldFBvc2l0aW9uLmlzRXF1YWwoZS50YXJnZXRQb3NpdGlvbikmJmE/dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTp0LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55KSxMZCh0LGUpJiZMZChlLHQpKXJldHVybltlLmdldFJldmVyc2VkKCldO2lmKGkuY29udGFpbnNQb3NpdGlvbihlLnRhcmdldFBvc2l0aW9uKSYmaS5jb250YWluc1JhbmdlKG8sITApKXJldHVybiBpLnN0YXJ0PWkuc3RhcnQuX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGUuc291cmNlUG9zaXRpb24sZS50YXJnZXRQb3NpdGlvbixlLmhvd01hbnkpLGkuZW5kPWkuZW5kLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55KSxqZChbaV0scik7aWYoby5jb250YWluc1Bvc2l0aW9uKHQudGFyZ2V0UG9zaXRpb24pJiZvLmNvbnRhaW5zUmFuZ2UoaSwhMCkpcmV0dXJuIGkuc3RhcnQ9aS5zdGFydC5fZ2V0Q29tYmluZWQoZS5zb3VyY2VQb3NpdGlvbixlLmdldE1vdmVkUmFuZ2VTdGFydCgpKSxpLmVuZD1pLmVuZC5fZ2V0Q29tYmluZWQoZS5zb3VyY2VQb3NpdGlvbixlLmdldE1vdmVkUmFuZ2VTdGFydCgpKSxqZChbaV0scik7Y29uc3QgYz1saSh0LnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSxlLnNvdXJjZVBvc2l0aW9uLmdldFBhcmVudFBhdGgoKSk7aWYoXCJwcmVmaXhcIj09Y3x8XCJleHRlbnNpb25cIj09YylyZXR1cm4gaS5zdGFydD1pLnN0YXJ0Ll9nZXRUcmFuc2Zvcm1lZEJ5TW92ZShlLnNvdXJjZVBvc2l0aW9uLGUudGFyZ2V0UG9zaXRpb24sZS5ob3dNYW55KSxpLmVuZD1pLmVuZC5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUoZS5zb3VyY2VQb3NpdGlvbixlLnRhcmdldFBvc2l0aW9uLGUuaG93TWFueSksamQoW2ldLHIpO1wicmVtb3ZlXCIhPXQudHlwZXx8XCJyZW1vdmVcIj09ZS50eXBlfHxuLmFXYXNVbmRvbmV8fG4uZm9yY2VXZWFrUmVtb3ZlP1wicmVtb3ZlXCI9PXQudHlwZXx8XCJyZW1vdmVcIiE9ZS50eXBlfHxuLmJXYXNVbmRvbmV8fG4uZm9yY2VXZWFrUmVtb3ZlfHwocz0hMSk6cz0hMDtjb25zdCBsPVtdLGQ9aS5nZXREaWZmZXJlbmNlKG8pO2Zvcihjb25zdCB0IG9mIGQpe3Quc3RhcnQ9dC5zdGFydC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KSx0LmVuZD10LmVuZC5fZ2V0VHJhbnNmb3JtZWRCeURlbGV0aW9uKGUuc291cmNlUG9zaXRpb24sZS5ob3dNYW55KTtjb25zdCBuPVwic2FtZVwiPT1saSh0LnN0YXJ0LmdldFBhcmVudFBhdGgoKSxlLmdldE1vdmVkUmFuZ2VTdGFydCgpLmdldFBhcmVudFBhdGgoKSksaT10Ll9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0aW9uKGUuZ2V0TW92ZWRSYW5nZVN0YXJ0KCksZS5ob3dNYW55LG4pO2wucHVzaCguLi5pKX1jb25zdCB1PWkuZ2V0SW50ZXJzZWN0aW9uKG8pO3JldHVybiBudWxsIT09dSYmcyYmKHUuc3RhcnQ9dS5zdGFydC5fZ2V0Q29tYmluZWQoZS5zb3VyY2VQb3NpdGlvbixlLmdldE1vdmVkUmFuZ2VTdGFydCgpKSx1LmVuZD11LmVuZC5fZ2V0Q29tYmluZWQoZS5zb3VyY2VQb3NpdGlvbixlLmdldE1vdmVkUmFuZ2VTdGFydCgpKSwwPT09bC5sZW5ndGg/bC5wdXNoKHUpOjE9PWwubGVuZ3RoP28uc3RhcnQuaXNCZWZvcmUoaS5zdGFydCl8fG8uc3RhcnQuaXNFcXVhbChpLnN0YXJ0KT9sLnVuc2hpZnQodSk6bC5wdXNoKHUpOmwuc3BsaWNlKDEsMCx1KSksMD09PWwubGVuZ3RoP1tuZXcgVGQodC5iYXNlVmVyc2lvbildOmpkKGwscil9KSxNZChhYyxmYywodCxlLG4pPT57bGV0IGk9dC50YXJnZXRQb3NpdGlvbi5jbG9uZSgpO3QudGFyZ2V0UG9zaXRpb24uaXNFcXVhbChlLmluc2VydGlvblBvc2l0aW9uKSYmZS5ncmF2ZXlhcmRQb3NpdGlvbiYmXCJtb3ZlVGFyZ2V0QWZ0ZXJcIiE9bi5hYlJlbGF0aW9ufHwoaT10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSkpO2NvbnN0IG89R3MuX2NyZWF0ZUZyb21Qb3NpdGlvbkFuZFNoaWZ0KHQuc291cmNlUG9zaXRpb24sdC5ob3dNYW55KTtpZihvLmVuZC5pc0VxdWFsKGUuaW5zZXJ0aW9uUG9zaXRpb24pKXJldHVybiBlLmdyYXZleWFyZFBvc2l0aW9ufHx0Lmhvd01hbnkrKyx0LnRhcmdldFBvc2l0aW9uPWksW3RdO2lmKG8uc3RhcnQuaGFzU2FtZVBhcmVudEFzKGUuc3BsaXRQb3NpdGlvbikmJm8uY29udGFpbnNQb3NpdGlvbihlLnNwbGl0UG9zaXRpb24pKXtsZXQgdD1uZXcgR3MoZS5zcGxpdFBvc2l0aW9uLG8uZW5kKTtyZXR1cm4gdD10Ll9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksamQoW25ldyBHcyhvLnN0YXJ0LGUuc3BsaXRQb3NpdGlvbiksdF0saSl9dC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuc3BsaXRQb3NpdGlvbikmJlwiaW5zZXJ0QXRTb3VyY2VcIj09bi5hYlJlbGF0aW9uJiYoaT1lLm1vdmVUYXJnZXRQb3NpdGlvbiksdC50YXJnZXRQb3NpdGlvbi5pc0VxdWFsKGUuaW5zZXJ0aW9uUG9zaXRpb24pJiZcImluc2VydEJldHdlZW5cIj09bi5hYlJlbGF0aW9uJiYoaT10LnRhcmdldFBvc2l0aW9uKTtjb25zdCByPVtvLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSldO2lmKGUuZ3JhdmV5YXJkUG9zaXRpb24pe2NvbnN0IGk9by5zdGFydC5pc0VxdWFsKGUuZ3JhdmV5YXJkUG9zaXRpb24pfHxvLmNvbnRhaW5zUG9zaXRpb24oZS5ncmF2ZXlhcmRQb3NpdGlvbik7dC5ob3dNYW55PjEmJmkmJiFuLmFXYXNVbmRvbmUmJnIucHVzaChHcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5pbnNlcnRpb25Qb3NpdGlvbiwxKSl9cmV0dXJuIGpkKHIsaSl9KSxNZChhYyxoYywodCxlLG4pPT57Y29uc3QgaT1Hcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpO2lmKGUuZGVsZXRpb25Qb3NpdGlvbi5oYXNTYW1lUGFyZW50QXModC5zb3VyY2VQb3NpdGlvbikmJmkuY29udGFpbnNQb3NpdGlvbihlLnNvdXJjZVBvc2l0aW9uKSlpZihcInJlbW92ZVwiIT10LnR5cGV8fG4uZm9yY2VXZWFrUmVtb3ZlKXtpZigxPT10Lmhvd01hbnkpcmV0dXJuIG4uYldhc1VuZG9uZT8odC5zb3VyY2VQb3NpdGlvbj1lLmdyYXZleWFyZFBvc2l0aW9uLmNsb25lKCksdC50YXJnZXRQb3NpdGlvbj10LnRhcmdldFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSksW3RdKTpbbmV3IFRkKDApXX1lbHNlIGlmKCFuLmFXYXNVbmRvbmUpe2NvbnN0IG49W107bGV0IGk9ZS5ncmF2ZXlhcmRQb3NpdGlvbi5jbG9uZSgpLG89ZS50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpO3QuaG93TWFueT4xJiYobi5wdXNoKG5ldyBhYyh0LnNvdXJjZVBvc2l0aW9uLHQuaG93TWFueS0xLHQudGFyZ2V0UG9zaXRpb24sMCkpLGk9aS5fZ2V0VHJhbnNmb3JtZWRCeU1vdmUodC5zb3VyY2VQb3NpdGlvbix0LnRhcmdldFBvc2l0aW9uLHQuaG93TWFueS0xKSxvPW8uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKHQuc291cmNlUG9zaXRpb24sdC50YXJnZXRQb3NpdGlvbix0Lmhvd01hbnktMSkpO2NvbnN0IHI9ZS5kZWxldGlvblBvc2l0aW9uLl9nZXRDb21iaW5lZCh0LnNvdXJjZVBvc2l0aW9uLHQudGFyZ2V0UG9zaXRpb24pLHM9bmV3IGFjKGksMSxyLDApLGE9cy5nZXRNb3ZlZFJhbmdlU3RhcnQoKS5wYXRoLnNsaWNlKCk7YS5wdXNoKDApO2NvbnN0IGM9bmV3ICRzKHMudGFyZ2V0UG9zaXRpb24ucm9vdCxhKTtvPW8uX2dldFRyYW5zZm9ybWVkQnlNb3ZlKGksciwxKTtjb25zdCBsPW5ldyBhYyhvLGUuaG93TWFueSxjLDApO3JldHVybiBuLnB1c2gocyksbi5wdXNoKGwpLG59Y29uc3Qgbz1Hcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQodC5zb3VyY2VQb3NpdGlvbix0Lmhvd01hbnkpLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSk7cmV0dXJuIHQuc291cmNlUG9zaXRpb249by5zdGFydCx0Lmhvd01hbnk9by5lbmQub2Zmc2V0LW8uc3RhcnQub2Zmc2V0LHQudGFyZ2V0UG9zaXRpb249dC50YXJnZXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpLFt0XX0pLE1kKGRjLGNjLCh0LGUpPT4odC5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5SW5zZXJ0T3BlcmF0aW9uKGUpLFt0XSkpLE1kKGRjLGhjLCh0LGUpPT50LnBvc2l0aW9uLmlzRXF1YWwoZS5kZWxldGlvblBvc2l0aW9uKT8odC5wb3NpdGlvbj1lLmdyYXZleWFyZFBvc2l0aW9uLmNsb25lKCksdC5wb3NpdGlvbi5zdGlja2luZXNzPVwidG9OZXh0XCIsW3RdKToodC5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSksW3RdKSksTWQoZGMsYWMsKHQsZSk9Pih0LnBvc2l0aW9uPXQucG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpLFt0XSkpLE1kKGRjLGRjLCh0LGUsbik9PntpZih0LnBvc2l0aW9uLmlzRXF1YWwoZS5wb3NpdGlvbikpe2lmKCFuLmFJc1N0cm9uZylyZXR1cm5bbmV3IFRkKDApXTt0Lm9sZE5hbWU9ZS5uZXdOYW1lfXJldHVyblt0XX0pLE1kKGRjLGZjLCh0LGUpPT57aWYoXCJzYW1lXCI9PWxpKHQucG9zaXRpb24ucGF0aCxlLnNwbGl0UG9zaXRpb24uZ2V0UGFyZW50UGF0aCgpKSYmIWUuZ3JhdmV5YXJkUG9zaXRpb24pe3JldHVyblt0LG5ldyBkYyh0LnBvc2l0aW9uLmdldFNoaWZ0ZWRCeSgxKSx0Lm9sZE5hbWUsdC5uZXdOYW1lLDApXX1yZXR1cm4gdC5wb3NpdGlvbj10LnBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdfSksTWQodWMsdWMsKHQsZSxuKT0+e2lmKHQucm9vdD09PWUucm9vdCYmdC5rZXk9PT1lLmtleSl7aWYoIW4uYUlzU3Ryb25nfHx0Lm5ld1ZhbHVlPT09ZS5uZXdWYWx1ZSlyZXR1cm5bbmV3IFRkKDApXTt0Lm9sZFZhbHVlPWUubmV3VmFsdWV9cmV0dXJuW3RdfSksTWQoZmMsY2MsKHQsZSk9Pih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUucG9zaXRpb24pJiZ0LnNwbGl0UG9zaXRpb24ub2Zmc2V0PGUucG9zaXRpb24ub2Zmc2V0JiYodC5ob3dNYW55Kz1lLmhvd01hbnkpLHQuc3BsaXRQb3NpdGlvbj10LnNwbGl0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlJbnNlcnRPcGVyYXRpb24oZSksdC5pbnNlcnRpb25Qb3NpdGlvbj1mYy5nZXRJbnNlcnRpb25Qb3NpdGlvbih0LnNwbGl0UG9zaXRpb24pLFt0XSkpLE1kKGZjLGhjLCh0LGUsbik9PntpZighdC5ncmF2ZXlhcmRQb3NpdGlvbiYmIW4uYldhc1VuZG9uZSYmdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnNvdXJjZVBvc2l0aW9uKSl7Y29uc3Qgbj1lLmdyYXZleWFyZFBvc2l0aW9uLnBhdGguc2xpY2UoKTtuLnB1c2goMCk7Y29uc3QgaT1uZXcgJHMoZS5ncmF2ZXlhcmRQb3NpdGlvbi5yb290LG4pLG89ZmMuZ2V0SW5zZXJ0aW9uUG9zaXRpb24obmV3ICRzKGUuZ3JhdmV5YXJkUG9zaXRpb24ucm9vdCxuKSkscj1uZXcgZmMoaSwwLG51bGwsMCk7cmV0dXJuIHIuaW5zZXJ0aW9uUG9zaXRpb249byx0LnNwbGl0UG9zaXRpb249dC5zcGxpdFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TWVyZ2VPcGVyYXRpb24oZSksdC5pbnNlcnRpb25Qb3NpdGlvbj1mYy5nZXRJbnNlcnRpb25Qb3NpdGlvbih0LnNwbGl0UG9zaXRpb24pLHQuZ3JhdmV5YXJkUG9zaXRpb249ci5pbnNlcnRpb25Qb3NpdGlvbi5jbG9uZSgpLHQuZ3JhdmV5YXJkUG9zaXRpb24uc3RpY2tpbmVzcz1cInRvTmV4dFwiLFtyLHRdfXJldHVybiB0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuZGVsZXRpb25Qb3NpdGlvbikmJiF0LnNwbGl0UG9zaXRpb24uaXNBZnRlcihlLmRlbGV0aW9uUG9zaXRpb24pJiZ0Lmhvd01hbnktLSx0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUudGFyZ2V0UG9zaXRpb24pJiYodC5ob3dNYW55Kz1lLmhvd01hbnkpLHQuc3BsaXRQb3NpdGlvbj10LnNwbGl0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNZXJnZU9wZXJhdGlvbihlKSx0Lmluc2VydGlvblBvc2l0aW9uPWZjLmdldEluc2VydGlvblBvc2l0aW9uKHQuc3BsaXRQb3NpdGlvbiksdC5ncmF2ZXlhcmRQb3NpdGlvbiYmKHQuZ3JhdmV5YXJkUG9zaXRpb249dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1lcmdlT3BlcmF0aW9uKGUpKSxbdF19KSxNZChmYyxhYywodCxlLG4pPT57Y29uc3QgaT1Hcy5fY3JlYXRlRnJvbVBvc2l0aW9uQW5kU2hpZnQoZS5zb3VyY2VQb3NpdGlvbixlLmhvd01hbnkpO2lmKHQuZ3JhdmV5YXJkUG9zaXRpb24pe2NvbnN0IG89aS5zdGFydC5pc0VxdWFsKHQuZ3JhdmV5YXJkUG9zaXRpb24pfHxpLmNvbnRhaW5zUG9zaXRpb24odC5ncmF2ZXlhcmRQb3NpdGlvbik7aWYoIW4uYldhc1VuZG9uZSYmbyl7Y29uc3Qgbj10LnNwbGl0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlNb3ZlT3BlcmF0aW9uKGUpLGk9dC5ncmF2ZXlhcmRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSksbz1pLnBhdGguc2xpY2UoKTtvLnB1c2goMCk7Y29uc3Qgcj1uZXcgJHMoaS5yb290LG8pO3JldHVybltuZXcgYWMobix0Lmhvd01hbnksciwwKV19dC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5TW92ZU9wZXJhdGlvbihlKX1pZih0LnNwbGl0UG9zaXRpb24uaGFzU2FtZVBhcmVudEFzKGUuc291cmNlUG9zaXRpb24pJiZpLmNvbnRhaW5zUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSl7Y29uc3Qgbj1lLmhvd01hbnktKHQuc3BsaXRQb3NpdGlvbi5vZmZzZXQtZS5zb3VyY2VQb3NpdGlvbi5vZmZzZXQpO3JldHVybiB0Lmhvd01hbnktPW4sdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnRhcmdldFBvc2l0aW9uKSYmdC5zcGxpdFBvc2l0aW9uLm9mZnNldDxlLnRhcmdldFBvc2l0aW9uLm9mZnNldCYmKHQuaG93TWFueSs9ZS5ob3dNYW55KSx0LnNwbGl0UG9zaXRpb249ZS5zb3VyY2VQb3NpdGlvbi5jbG9uZSgpLHQuaW5zZXJ0aW9uUG9zaXRpb249ZmMuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSxbdF19cmV0dXJuIXQuc3BsaXRQb3NpdGlvbi5pc0VxdWFsKGUudGFyZ2V0UG9zaXRpb24pfHxcImluc2VydEF0U291cmNlXCIhPW4uYmFSZWxhdGlvbiYmXCJzcGxpdEJlZm9yZVwiIT1uLmFiUmVsYXRpb24/KGUuc291cmNlUG9zaXRpb24uaXNFcXVhbChlLnRhcmdldFBvc2l0aW9uKXx8KHQuc3BsaXRQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS5zb3VyY2VQb3NpdGlvbikmJnQuc3BsaXRQb3NpdGlvbi5vZmZzZXQ8PWUuc291cmNlUG9zaXRpb24ub2Zmc2V0JiYodC5ob3dNYW55LT1lLmhvd01hbnkpLHQuc3BsaXRQb3NpdGlvbi5oYXNTYW1lUGFyZW50QXMoZS50YXJnZXRQb3NpdGlvbikmJnQuc3BsaXRQb3NpdGlvbi5vZmZzZXQ8ZS50YXJnZXRQb3NpdGlvbi5vZmZzZXQmJih0Lmhvd01hbnkrPWUuaG93TWFueSkpLHQuc3BsaXRQb3NpdGlvbi5zdGlja2luZXNzPVwidG9Ob25lXCIsdC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSksdC5zcGxpdFBvc2l0aW9uLnN0aWNraW5lc3M9XCJ0b05leHRcIix0LmdyYXZleWFyZFBvc2l0aW9uP3QuaW5zZXJ0aW9uUG9zaXRpb249dC5pbnNlcnRpb25Qb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeU1vdmVPcGVyYXRpb24oZSk6dC5pbnNlcnRpb25Qb3NpdGlvbj1mYy5nZXRJbnNlcnRpb25Qb3NpdGlvbih0LnNwbGl0UG9zaXRpb24pLFt0XSk6KHQuaG93TWFueSs9ZS5ob3dNYW55LHQuc3BsaXRQb3NpdGlvbj10LnNwbGl0UG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlEZWxldGlvbihlLnNvdXJjZVBvc2l0aW9uLGUuaG93TWFueSksdC5pbnNlcnRpb25Qb3NpdGlvbj1mYy5nZXRJbnNlcnRpb25Qb3NpdGlvbih0LnNwbGl0UG9zaXRpb24pLFt0XSl9KSxNZChmYyxmYywodCxlLG4pPT57aWYodC5zcGxpdFBvc2l0aW9uLmlzRXF1YWwoZS5zcGxpdFBvc2l0aW9uKSl7aWYoIXQuZ3JhdmV5YXJkUG9zaXRpb24mJiFlLmdyYXZleWFyZFBvc2l0aW9uKXJldHVybltuZXcgVGQoMCldO2lmKHQuZ3JhdmV5YXJkUG9zaXRpb24mJmUuZ3JhdmV5YXJkUG9zaXRpb24mJnQuZ3JhdmV5YXJkUG9zaXRpb24uaXNFcXVhbChlLmdyYXZleWFyZFBvc2l0aW9uKSlyZXR1cm5bbmV3IFRkKDApXTtpZihcInNwbGl0QmVmb3JlXCI9PW4uYWJSZWxhdGlvbilyZXR1cm4gdC5ob3dNYW55PTAsdC5ncmF2ZXlhcmRQb3NpdGlvbj10LmdyYXZleWFyZFBvc2l0aW9uLl9nZXRUcmFuc2Zvcm1lZEJ5U3BsaXRPcGVyYXRpb24oZSksW3RdfWlmKHQuZ3JhdmV5YXJkUG9zaXRpb24mJmUuZ3JhdmV5YXJkUG9zaXRpb24mJnQuZ3JhdmV5YXJkUG9zaXRpb24uaXNFcXVhbChlLmdyYXZleWFyZFBvc2l0aW9uKSl7Y29uc3QgaT1cIiRncmF2ZXlhcmRcIj09dC5zcGxpdFBvc2l0aW9uLnJvb3Qucm9vdE5hbWUsbz1cIiRncmF2ZXlhcmRcIj09ZS5zcGxpdFBvc2l0aW9uLnJvb3Qucm9vdE5hbWU7aWYobyYmIWl8fCEoaSYmIW8pJiZuLmFJc1N0cm9uZyl7Y29uc3Qgbj1bXTtyZXR1cm4gZS5ob3dNYW55JiZuLnB1c2gobmV3IGFjKGUubW92ZVRhcmdldFBvc2l0aW9uLGUuaG93TWFueSxlLnNwbGl0UG9zaXRpb24sMCkpLHQuaG93TWFueSYmbi5wdXNoKG5ldyBhYyh0LnNwbGl0UG9zaXRpb24sdC5ob3dNYW55LHQubW92ZVRhcmdldFBvc2l0aW9uLDApKSxufXJldHVybltuZXcgVGQoMCldfWlmKHQuZ3JhdmV5YXJkUG9zaXRpb24mJih0LmdyYXZleWFyZFBvc2l0aW9uPXQuZ3JhdmV5YXJkUG9zaXRpb24uX2dldFRyYW5zZm9ybWVkQnlTcGxpdE9wZXJhdGlvbihlKSksdC5zcGxpdFBvc2l0aW9uLmlzRXF1YWwoZS5pbnNlcnRpb25Qb3NpdGlvbikmJlwic3BsaXRCZWZvcmVcIj09bi5hYlJlbGF0aW9uKXJldHVybiB0Lmhvd01hbnkrKyxbdF07aWYoZS5zcGxpdFBvc2l0aW9uLmlzRXF1YWwodC5pbnNlcnRpb25Qb3NpdGlvbikmJlwic3BsaXRCZWZvcmVcIj09bi5iYVJlbGF0aW9uKXtjb25zdCBuPWUuaW5zZXJ0aW9uUG9zaXRpb24ucGF0aC5zbGljZSgpO24ucHVzaCgwKTtjb25zdCBpPW5ldyAkcyhlLmluc2VydGlvblBvc2l0aW9uLnJvb3Qsbik7cmV0dXJuW3QsbmV3IGFjKHQuaW5zZXJ0aW9uUG9zaXRpb24sMSxpLDApXX1yZXR1cm4gdC5zcGxpdFBvc2l0aW9uLmhhc1NhbWVQYXJlbnRBcyhlLnNwbGl0UG9zaXRpb24pJiZ0LnNwbGl0UG9zaXRpb24ub2Zmc2V0PGUuc3BsaXRQb3NpdGlvbi5vZmZzZXQmJih0Lmhvd01hbnktPWUuaG93TWFueSksdC5zcGxpdFBvc2l0aW9uPXQuc3BsaXRQb3NpdGlvbi5fZ2V0VHJhbnNmb3JtZWRCeVNwbGl0T3BlcmF0aW9uKGUpLHQuaW5zZXJ0aW9uUG9zaXRpb249ZmMuZ2V0SW5zZXJ0aW9uUG9zaXRpb24odC5zcGxpdFBvc2l0aW9uKSxbdF19KTtjbGFzcyBWZCBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3N0YWNrPVtdLHRoaXMuX2NyZWF0ZWRCYXRjaGVzPW5ldyBXZWFrU2V0LHRoaXMucmVmcmVzaCgpfXJlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD10aGlzLl9zdGFjay5sZW5ndGg+MH1hZGRCYXRjaCh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbixuPXtyYW5nZXM6ZS5oYXNPd25SYW5nZT9BcnJheS5mcm9tKGUuZ2V0UmFuZ2VzKCkpOltdLGlzQmFja3dhcmQ6ZS5pc0JhY2t3YXJkfTt0aGlzLl9zdGFjay5wdXNoKHtiYXRjaDp0LHNlbGVjdGlvbjpufSksdGhpcy5yZWZyZXNoKCl9Y2xlYXJTdGFjaygpe3RoaXMuX3N0YWNrPVtdLHRoaXMucmVmcmVzaCgpfV9yZXN0b3JlU2VsZWN0aW9uKHQsZSxuKXtjb25zdCBpPXRoaXMuZWRpdG9yLm1vZGVsLG89aS5kb2N1bWVudCxyPVtdO2Zvcihjb25zdCBlIG9mIHQpe2NvbnN0IHQ9QmQoZSxuKS5maW5kKHQ9PnQuc3RhcnQucm9vdCE9by5ncmF2ZXlhcmQpO3QmJnIucHVzaCh0KX1yLmxlbmd0aCYmaS5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHIse2JhY2t3YXJkOmV9KX0pfV91bmRvKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvci5tb2RlbCxpPW4uZG9jdW1lbnQ7dGhpcy5fY3JlYXRlZEJhdGNoZXMuYWRkKGUpO2NvbnN0IG89dC5vcGVyYXRpb25zLnNsaWNlKCkuZmlsdGVyKHQ9PnQuaXNEb2N1bWVudE9wZXJhdGlvbik7by5yZXZlcnNlKCk7Zm9yKGNvbnN0IHQgb2Ygbyl7Y29uc3Qgbz10LmJhc2VWZXJzaW9uKzEscj1BcnJheS5mcm9tKGkuaGlzdG9yeS5nZXRPcGVyYXRpb25zKG8pKSxzPUlkKFt0LmdldFJldmVyc2VkKCldLHIse3VzZVJlbGF0aW9uczohMCxkb2N1bWVudDp0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxwYWRXaXRoTm9PcHM6ITEsZm9yY2VXZWFrUmVtb3ZlOiEwfSkub3BlcmF0aW9uc0E7Zm9yKGNvbnN0IG8gb2YgcyllLmFkZE9wZXJhdGlvbihvKSxuLmFwcGx5T3BlcmF0aW9uKG8pLGkuaGlzdG9yeS5zZXRPcGVyYXRpb25Bc1VuZG9uZSh0LG8pfX19ZnVuY3Rpb24gQmQodCxlKXtjb25zdCBuPXQuZ2V0VHJhbnNmb3JtZWRCeU9wZXJhdGlvbnMoZSk7bi5zb3J0KCh0LGUpPT50LnN0YXJ0LmlzQmVmb3JlKGUuc3RhcnQpPy0xOjEpO2ZvcihsZXQgdD0xO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBlPW5bdC0xXSxpPW5bdF07ZS5lbmQuaXNUb3VjaGluZyhpLnN0YXJ0KSYmKGUuZW5kPWkuZW5kLG4uc3BsaWNlKHQsMSksdC0tKX1yZXR1cm4gbn1jbGFzcyB6ZCBleHRlbmRzIFZke2V4ZWN1dGUodD1udWxsKXtjb25zdCBlPXQ/dGhpcy5fc3RhY2suZmluZEluZGV4KGU9PmUuYmF0Y2g9PXQpOnRoaXMuX3N0YWNrLmxlbmd0aC0xLG49dGhpcy5fc3RhY2suc3BsaWNlKGUsMSlbMF0saT10aGlzLmVkaXRvci5tb2RlbC5jcmVhdGVCYXRjaCgpO3RoaXMuZWRpdG9yLm1vZGVsLmVucXVldWVDaGFuZ2UoaSwoKT0+e3RoaXMuX3VuZG8obi5iYXRjaCxpKTtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50Lmhpc3RvcnkuZ2V0T3BlcmF0aW9ucyhuLmJhdGNoLmJhc2VWZXJzaW9uKTt0aGlzLl9yZXN0b3JlU2VsZWN0aW9uKG4uc2VsZWN0aW9uLnJhbmdlcyxuLnNlbGVjdGlvbi5pc0JhY2t3YXJkLHQpLHRoaXMuZmlyZShcInJldmVydFwiLG4uYmF0Y2gsaSl9KSx0aGlzLnJlZnJlc2goKX19Y2xhc3MgRmQgZXh0ZW5kcyBWZHtleGVjdXRlKCl7Y29uc3QgdD10aGlzLl9zdGFjay5wb3AoKSxlPXRoaXMuZWRpdG9yLm1vZGVsLmNyZWF0ZUJhdGNoKCk7dGhpcy5lZGl0b3IubW9kZWwuZW5xdWV1ZUNoYW5nZShlLCgpPT57Y29uc3Qgbj10LmJhdGNoLm9wZXJhdGlvbnNbdC5iYXRjaC5vcGVyYXRpb25zLmxlbmd0aC0xXS5iYXNlVmVyc2lvbisxLGk9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuaGlzdG9yeS5nZXRPcGVyYXRpb25zKG4pO3RoaXMuX3Jlc3RvcmVTZWxlY3Rpb24odC5zZWxlY3Rpb24ucmFuZ2VzLHQuc2VsZWN0aW9uLmlzQmFja3dhcmQsaSksdGhpcy5fdW5kbyh0LmJhdGNoLGUpfSksdGhpcy5yZWZyZXNoKCl9fWNsYXNzIFVkIGV4dGVuZHMgR2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5fYmF0Y2hSZWdpc3RyeT1uZXcgV2Vha1NldH1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0aGlzLl91bmRvQ29tbWFuZD1uZXcgemQodCksdGhpcy5fcmVkb0NvbW1hbmQ9bmV3IEZkKHQpLHQuY29tbWFuZHMuYWRkKFwidW5kb1wiLHRoaXMuX3VuZG9Db21tYW5kKSx0LmNvbW1hbmRzLmFkZChcInJlZG9cIix0aGlzLl9yZWRvQ29tbWFuZCksdGhpcy5saXN0ZW5Ubyh0Lm1vZGVsLFwiYXBwbHlPcGVyYXRpb25cIiwodCxlKT0+e2NvbnN0IG49ZVswXTtpZighbi5pc0RvY3VtZW50T3BlcmF0aW9uKXJldHVybjtjb25zdCBpPW4uYmF0Y2g7dGhpcy5fYmF0Y2hSZWdpc3RyeS5oYXMoaSl8fFwidHJhbnNwYXJlbnRcIj09aS50eXBlfHwodGhpcy5fcmVkb0NvbW1hbmQuX2NyZWF0ZWRCYXRjaGVzLmhhcyhpKT90aGlzLl91bmRvQ29tbWFuZC5hZGRCYXRjaChpKTp0aGlzLl91bmRvQ29tbWFuZC5fY3JlYXRlZEJhdGNoZXMuaGFzKGkpfHwodGhpcy5fdW5kb0NvbW1hbmQuYWRkQmF0Y2goaSksdGhpcy5fcmVkb0NvbW1hbmQuY2xlYXJTdGFjaygpKSx0aGlzLl9iYXRjaFJlZ2lzdHJ5LmFkZChpKSl9LHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHRoaXMubGlzdGVuVG8odGhpcy5fdW5kb0NvbW1hbmQsXCJyZXZlcnRcIiwodCxlLG4pPT57dGhpcy5fcmVkb0NvbW1hbmQuYWRkQmF0Y2gobil9KSx0LmtleXN0cm9rZXMuc2V0KFwiQ1RSTCtaXCIsXCJ1bmRvXCIpLHQua2V5c3Ryb2tlcy5zZXQoXCJDVFJMK1lcIixcInJlZG9cIiksdC5rZXlzdHJva2VzLnNldChcIkNUUkwrU0hJRlQrWlwiLFwicmVkb1wiKX19big1OCk7Y2xhc3MgSGQgZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcigpe3N1cGVyKCk7Y29uc3QgdD10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLnNldChcImNvbnRlbnRcIixcIlwiKSx0aGlzLnNldChcInZpZXdCb3hcIixcIjAgMCAyMCAyMFwiKSx0aGlzLnNldChcImZpbGxDb2xvclwiLFwiXCIpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInN2Z1wiLG5zOlwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2staWNvblwiXSx2aWV3Qm94OnQudG8oXCJ2aWV3Qm94XCIpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLHRoaXMuX3VwZGF0ZVhNTENvbnRlbnQoKSx0aGlzLl9jb2xvckZpbGxQYXRocygpLHRoaXMub24oXCJjaGFuZ2U6Y29udGVudFwiLCgpPT57dGhpcy5fdXBkYXRlWE1MQ29udGVudCgpLHRoaXMuX2NvbG9yRmlsbFBhdGhzKCl9KSx0aGlzLm9uKFwiY2hhbmdlOmZpbGxDb2xvclwiLCgpPT57dGhpcy5fY29sb3JGaWxsUGF0aHMoKX0pfV91cGRhdGVYTUxDb250ZW50KCl7aWYodGhpcy5jb250ZW50KXtjb25zdCB0PShuZXcgRE9NUGFyc2VyKS5wYXJzZUZyb21TdHJpbmcodGhpcy5jb250ZW50LnRyaW0oKSxcImltYWdlL3N2Zyt4bWxcIikucXVlcnlTZWxlY3RvcihcInN2Z1wiKSxlPXQuZ2V0QXR0cmlidXRlKFwidmlld0JveFwiKTtmb3IoZSYmKHRoaXMudmlld0JveD1lKSx0aGlzLmVsZW1lbnQuaW5uZXJIVE1MPVwiXCI7dC5jaGlsZE5vZGVzLmxlbmd0aD4wOyl0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQodC5jaGlsZE5vZGVzWzBdKX19X2NvbG9yRmlsbFBhdGhzKCl7dGhpcy5maWxsQ29sb3ImJnRoaXMuZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNrLWljb25fX2ZpbGxcIikuZm9yRWFjaCh0PT57dC5zdHlsZS5maWxsPXRoaXMuZmlsbENvbG9yfSl9fW4oNjApO2NsYXNzIHFkIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXQoXCJ0ZXh0XCIsXCJcIiksdGhpcy5zZXQoXCJwb3NpdGlvblwiLFwic1wiKTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stdG9vbHRpcFwiLGUudG8oXCJwb3NpdGlvblwiLHQ9PlwiY2stdG9vbHRpcF9cIit0KSxlLmlmKFwidGV4dFwiLFwiY2staGlkZGVuXCIsdD0+IXQudHJpbSgpKV19LGNoaWxkcmVuOlt7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay10b29sdGlwX190ZXh0XCJdfSxjaGlsZHJlbjpbe3RleHQ6ZS50byhcInRleHRcIil9XX1dfSl9fW4oNjIpO2NsYXNzIFdkIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZSxuPUtuKCk7dGhpcy5zZXQoXCJjbGFzc1wiKSx0aGlzLnNldChcImxhYmVsU3R5bGVcIiksdGhpcy5zZXQoXCJpY29uXCIpLHRoaXMuc2V0KFwiaXNFbmFibGVkXCIsITApLHRoaXMuc2V0KFwiaXNPblwiLCExKSx0aGlzLnNldChcImlzVmlzaWJsZVwiLCEwKSx0aGlzLnNldChcImtleXN0cm9rZVwiKSx0aGlzLnNldChcImxhYmVsXCIpLHRoaXMuc2V0KFwidGFiaW5kZXhcIiwtMSksdGhpcy5zZXQoXCJ0b29sdGlwXCIpLHRoaXMuc2V0KFwidG9vbHRpcFBvc2l0aW9uXCIsXCJzXCIpLHRoaXMuc2V0KFwidHlwZVwiLFwiYnV0dG9uXCIpLHRoaXMuc2V0KFwid2l0aFRleHRcIiwhMSksdGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLnRvb2x0aXBWaWV3PXRoaXMuX2NyZWF0ZVRvb2x0aXBWaWV3KCksdGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KG4pLHRoaXMuaWNvblZpZXc9bmV3IEhkLHRoaXMuaWNvblZpZXcuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOlwiY2stYnV0dG9uX19pY29uXCJ9fSksdGhpcy5iaW5kKFwiX3Rvb2x0aXBTdHJpbmdcIikudG8odGhpcyxcInRvb2x0aXBcIix0aGlzLFwibGFiZWxcIix0aGlzLFwia2V5c3Ryb2tlXCIsdGhpcy5fZ2V0VG9vbHRpcFN0cmluZy5iaW5kKHRoaXMpKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJidXR0b25cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stYnV0dG9uXCIsZS50byhcImNsYXNzXCIpLGUuaWYoXCJpc0VuYWJsZWRcIixcImNrLWRpc2FibGVkXCIsdD0+IXQpLGUuaWYoXCJpc1Zpc2libGVcIixcImNrLWhpZGRlblwiLHQ9PiF0KSxlLnRvKFwiaXNPblwiLHQ9PnQ/XCJjay1vblwiOlwiY2stb2ZmXCIpLGUuaWYoXCJ3aXRoVGV4dFwiLFwiY2stYnV0dG9uX3dpdGgtdGV4dFwiKV0sdHlwZTplLnRvKFwidHlwZVwiLHQ9PnR8fFwiYnV0dG9uXCIpLHRhYmluZGV4OmUudG8oXCJ0YWJpbmRleFwiKSxcImFyaWEtbGFiZWxsZWRieVwiOmBjay1lZGl0b3JfX2FyaWEtbGFiZWxfJHtufWAsXCJhcmlhLWRpc2FibGVkXCI6ZS5pZihcImlzRW5hYmxlZFwiLCEwLHQ9PiF0KSxcImFyaWEtcHJlc3NlZFwiOmUuaWYoXCJpc09uXCIsITApfSxjaGlsZHJlbjp0aGlzLmNoaWxkcmVuLG9uOnttb3VzZWRvd246ZS50byh0PT57dC5wcmV2ZW50RGVmYXVsdCgpfSksY2xpY2s6ZS50byh0PT57dGhpcy5pc0VuYWJsZWQ/dGhpcy5maXJlKFwiZXhlY3V0ZVwiKTp0LnByZXZlbnREZWZhdWx0KCl9KX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmljb24mJih0aGlzLmljb25WaWV3LmJpbmQoXCJjb250ZW50XCIpLnRvKHRoaXMsXCJpY29uXCIpLHRoaXMuY2hpbGRyZW4uYWRkKHRoaXMuaWNvblZpZXcpKSx0aGlzLmNoaWxkcmVuLmFkZCh0aGlzLnRvb2x0aXBWaWV3KSx0aGlzLmNoaWxkcmVuLmFkZCh0aGlzLmxhYmVsVmlldyl9Zm9jdXMoKXt0aGlzLmVsZW1lbnQuZm9jdXMoKX1fY3JlYXRlVG9vbHRpcFZpZXcoKXtjb25zdCB0PW5ldyBxZDtyZXR1cm4gdC5iaW5kKFwidGV4dFwiKS50byh0aGlzLFwiX3Rvb2x0aXBTdHJpbmdcIiksdC5iaW5kKFwicG9zaXRpb25cIikudG8odGhpcyxcInRvb2x0aXBQb3NpdGlvblwiKSx0fV9jcmVhdGVMYWJlbFZpZXcodCl7Y29uc3QgZT1uZXcgT2wsbj10aGlzLmJpbmRUZW1wbGF0ZTtyZXR1cm4gZS5zZXRUZW1wbGF0ZSh7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25fX2xhYmVsXCJdLHN0eWxlOm4udG8oXCJsYWJlbFN0eWxlXCIpLGlkOmBjay1lZGl0b3JfX2FyaWEtbGFiZWxfJHt0fWB9LGNoaWxkcmVuOlt7dGV4dDp0aGlzLmJpbmRUZW1wbGF0ZS50byhcImxhYmVsXCIpfV19KSxlfV9nZXRUb29sdGlwU3RyaW5nKHQsZSxuKXtyZXR1cm4gdD9cInN0cmluZ1wiPT10eXBlb2YgdD90OihuJiYobj1mdW5jdGlvbih0KXtyZXR1cm4gbW8uaXNNYWM/a28odCkubWFwKHQ9PmdvW3QudG9Mb3dlckNhc2UoKV18fHQpLnJlZHVjZSgodCxlKT0+dC5zbGljZSgtMSlpbiBwbz90K2U6dCtcIitcIitlKTp0fShuKSksdCBpbnN0YW5jZW9mIEZ1bmN0aW9uP3QoZSxuKTpgJHtlfSR7bj9gICgke259KWA6XCJcIn1gKTpcIlwifX12YXIgWWQ9bigyMSksJGQ9bi5uKFlkKSxHZD1uKDIyKSxRZD1uLm4oR2QpO2NsYXNzIEpkIGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDt0aGlzLl9hZGRCdXR0b24oXCJ1bmRvXCIsdChcImJnXCIpLFwiQ1RSTCtaXCIsJGQuYSksdGhpcy5fYWRkQnV0dG9uKFwicmVkb1wiLHQoXCJiaFwiKSxcIkNUUkwrWVwiLFFkLmEpfV9hZGRCdXR0b24odCxlLG4saSl7Y29uc3Qgbz10aGlzLmVkaXRvcjtvLnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKHQscj0+e2NvbnN0IHM9by5jb21tYW5kcy5nZXQodCksYT1uZXcgV2Qocik7cmV0dXJuIGEuc2V0KHtsYWJlbDplLGljb246aSxrZXlzdHJva2U6bix0b29sdGlwOiEwfSksYS5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHMsXCJpc0VuYWJsZWRcIiksdGhpcy5saXN0ZW5UbyhhLFwiZXhlY3V0ZVwiLCgpPT5vLmV4ZWN1dGUodCkpLGF9KX19Y2xhc3MgS2QgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1VkLEpkXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlVuZG9cIn19Y2xhc3MgWmQgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlBlbmRpbmdBY3Rpb25zXCJ9aW5pdCgpe3RoaXMuc2V0KFwiaGFzQW55XCIsITEpLHRoaXMuX2FjdGlvbnM9bmV3IG9vKHtpZFByb3BlcnR5OlwiX2lkXCJ9KSx0aGlzLl9hY3Rpb25zLmRlbGVnYXRlKFwiYWRkXCIsXCJyZW1vdmVcIikudG8odGhpcyl9YWRkKHQpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiB0KXRocm93IG5ldyBHbi5iKFwicGVuZGluZ2FjdGlvbnMtYWRkLWludmFsaWQtbWVzc2FnZTogVGhlIG1lc3NhZ2UgbXVzdCBiZSBhIHN0cmluZy5cIik7Y29uc3QgZT1PYmplY3QuY3JlYXRlKEZpKTtyZXR1cm4gZS5zZXQoXCJtZXNzYWdlXCIsdCksdGhpcy5fYWN0aW9ucy5hZGQoZSksdGhpcy5oYXNBbnk9ITAsZX1yZW1vdmUodCl7dGhpcy5fYWN0aW9ucy5yZW1vdmUodCksdGhpcy5oYXNBbnk9ISF0aGlzLl9hY3Rpb25zLmxlbmd0aH1nZXQgZmlyc3QoKXtyZXR1cm4gdGhpcy5fYWN0aW9ucy5nZXQoMCl9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpcy5fYWN0aW9uc1tTeW1ib2wuaXRlcmF0b3JdKCl9fWNsYXNzIFhke2NvbnN0cnVjdG9yKCl7Y29uc3QgdD1uZXcgd2luZG93LkZpbGVSZWFkZXI7dGhpcy5fcmVhZGVyPXQsdGhpcy5zZXQoXCJsb2FkZWRcIiwwKSx0Lm9ucHJvZ3Jlc3M9KHQ9Pnt0aGlzLmxvYWRlZD10LmxvYWRlZH0pfWdldCBlcnJvcigpe3JldHVybiB0aGlzLl9yZWFkZXIuZXJyb3J9cmVhZCh0KXtjb25zdCBlPXRoaXMuX3JlYWRlcjtyZXR1cm4gdGhpcy50b3RhbD10LnNpemUsbmV3IFByb21pc2UoKG4saSk9PntlLm9ubG9hZD0oKCk9PntuKGUucmVzdWx0KX0pLGUub25lcnJvcj0oKCk9PntpKFwiZXJyb3JcIil9KSxlLm9uYWJvcnQ9KCgpPT57aShcImFib3J0ZWRcIil9KSx0aGlzLl9yZWFkZXIucmVhZEFzRGF0YVVSTCh0KX0pfWFib3J0KCl7dGhpcy5fcmVhZGVyLmFib3J0KCl9fWNpKFhkLEZpKTtjbGFzcyB0dSBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRmlsZVJlcG9zaXRvcnlcIn1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW1pkXX1pbml0KCl7dGhpcy5sb2FkZXJzPW5ldyBvbyx0aGlzLmxvYWRlcnMub24oXCJhZGRcIiwoKT0+dGhpcy5fdXBkYXRlUGVuZGluZ0FjdGlvbigpKSx0aGlzLmxvYWRlcnMub24oXCJyZW1vdmVcIiwoKT0+dGhpcy5fdXBkYXRlUGVuZGluZ0FjdGlvbigpKSx0aGlzLl9sb2FkZXJzTWFwPW5ldyBNYXAsdGhpcy5fcGVuZGluZ0FjdGlvbj1udWxsLHRoaXMuc2V0KFwidXBsb2FkZWRcIiwwKSx0aGlzLnNldChcInVwbG9hZFRvdGFsXCIsbnVsbCksdGhpcy5iaW5kKFwidXBsb2FkZWRQZXJjZW50XCIpLnRvKHRoaXMsXCJ1cGxvYWRlZFwiLHRoaXMsXCJ1cGxvYWRUb3RhbFwiLCh0LGUpPT5lP3QvZSoxMDA6MCl9Z2V0TG9hZGVyKHQpe3JldHVybiB0aGlzLl9sb2FkZXJzTWFwLmdldCh0KXx8bnVsbH1jcmVhdGVMb2FkZXIodCl7aWYoIXRoaXMuY3JlYXRlVXBsb2FkQWRhcHRlcilyZXR1cm4gYnMuYS5lcnJvcihcImZpbGVyZXBvc2l0b3J5LW5vLXVwbG9hZC1hZGFwdGVyOiBVcGxvYWQgYWRhcHRlciBpcyBub3QgZGVmaW5lZC5cIiksbnVsbDtjb25zdCBlPW5ldyBldShQcm9taXNlLnJlc29sdmUodCksdGhpcy5jcmVhdGVVcGxvYWRBZGFwdGVyKTtyZXR1cm4gdGhpcy5sb2FkZXJzLmFkZChlKSx0aGlzLl9sb2FkZXJzTWFwLnNldCh0LGUpLHQgaW5zdGFuY2VvZiBQcm9taXNlJiZlLmZpbGUudGhlbih0PT57dGhpcy5fbG9hZGVyc01hcC5zZXQodCxlKX0pLGUuZmlsZS5jYXRjaCgoKT0+e30pLGUub24oXCJjaGFuZ2U6dXBsb2FkZWRcIiwoKT0+e2xldCB0PTA7Zm9yKGNvbnN0IGUgb2YgdGhpcy5sb2FkZXJzKXQrPWUudXBsb2FkZWQ7dGhpcy51cGxvYWRlZD10fSksZS5vbihcImNoYW5nZTp1cGxvYWRUb3RhbFwiLCgpPT57bGV0IHQ9MDtmb3IoY29uc3QgZSBvZiB0aGlzLmxvYWRlcnMpZS51cGxvYWRUb3RhbCYmKHQrPWUudXBsb2FkVG90YWwpO3RoaXMudXBsb2FkVG90YWw9dH0pLGV9ZGVzdHJveUxvYWRlcih0KXtjb25zdCBlPXQgaW5zdGFuY2VvZiBldT90OnRoaXMuZ2V0TG9hZGVyKHQpO2UuX2Rlc3Ryb3koKSx0aGlzLmxvYWRlcnMucmVtb3ZlKGUpLHRoaXMuX2xvYWRlcnNNYXAuZm9yRWFjaCgodCxuKT0+e3Q9PT1lJiZ0aGlzLl9sb2FkZXJzTWFwLmRlbGV0ZShuKX0pfV91cGRhdGVQZW5kaW5nQWN0aW9uKCl7Y29uc3QgdD10aGlzLmVkaXRvci5wbHVnaW5zLmdldChaZCk7aWYodGhpcy5sb2FkZXJzLmxlbmd0aCl7aWYoIXRoaXMuX3BlbmRpbmdBY3Rpb24pe2NvbnN0IGU9dGhpcy5lZGl0b3IudCxuPXQ9PmAke2UoXCJhdFwiKX0gJHtwYXJzZUludCh0KX0lLmA7dGhpcy5fcGVuZGluZ0FjdGlvbj10LmFkZChuKHRoaXMudXBsb2FkZWRQZXJjZW50KSksdGhpcy5fcGVuZGluZ0FjdGlvbi5iaW5kKFwibWVzc2FnZVwiKS50byh0aGlzLFwidXBsb2FkZWRQZXJjZW50XCIsbil9fWVsc2UgdC5yZW1vdmUodGhpcy5fcGVuZGluZ0FjdGlvbiksdGhpcy5fcGVuZGluZ0FjdGlvbj1udWxsfX1jaSh0dSxGaSk7Y2xhc3MgZXV7Y29uc3RydWN0b3IodCxlKXt0aGlzLmlkPUtuKCksdGhpcy5fZmlsZVByb21pc2VXcmFwcGVyPXRoaXMuX2NyZWF0ZUZpbGVQcm9taXNlV3JhcHBlcih0KSx0aGlzLl9hZGFwdGVyPWUodGhpcyksdGhpcy5fcmVhZGVyPW5ldyBYZCx0aGlzLnNldChcInN0YXR1c1wiLFwiaWRsZVwiKSx0aGlzLnNldChcInVwbG9hZGVkXCIsMCksdGhpcy5zZXQoXCJ1cGxvYWRUb3RhbFwiLG51bGwpLHRoaXMuYmluZChcInVwbG9hZGVkUGVyY2VudFwiKS50byh0aGlzLFwidXBsb2FkZWRcIix0aGlzLFwidXBsb2FkVG90YWxcIiwodCxlKT0+ZT90L2UqMTAwOjApLHRoaXMuc2V0KFwidXBsb2FkUmVzcG9uc2VcIixudWxsKX1nZXQgZmlsZSgpe3JldHVybiB0aGlzLl9maWxlUHJvbWlzZVdyYXBwZXI/dGhpcy5fZmlsZVByb21pc2VXcmFwcGVyLnByb21pc2UudGhlbih0PT50aGlzLl9maWxlUHJvbWlzZVdyYXBwZXI/dDpudWxsKTpQcm9taXNlLnJlc29sdmUobnVsbCl9cmVhZCgpe2lmKFwiaWRsZVwiIT10aGlzLnN0YXR1cyl0aHJvdyBuZXcgR24uYihcImZpbGVyZXBvc2l0b3J5LXJlYWQtd3Jvbmctc3RhdHVzOiBZb3UgY2Fubm90IGNhbGwgcmVhZCBpZiB0aGUgc3RhdHVzIGlzIGRpZmZlcmVudCB0aGFuIGlkbGUuXCIpO3JldHVybiB0aGlzLnN0YXR1cz1cInJlYWRpbmdcIix0aGlzLl9maWxlUHJvbWlzZVdyYXBwZXIucHJvbWlzZS50aGVuKHQ9PnRoaXMuX3JlYWRlci5yZWFkKHQpKS50aGVuKHQ9Pih0aGlzLnN0YXR1cz1cImlkbGVcIix0KSkuY2F0Y2godD0+e2lmKFwiYWJvcnRlZFwiPT09dCl0aHJvdyB0aGlzLnN0YXR1cz1cImFib3J0ZWRcIixcImFib3J0ZWRcIjt0aHJvdyB0aGlzLnN0YXR1cz1cImVycm9yXCIsdGhpcy5fcmVhZGVyLmVycm9yP3RoaXMuX3JlYWRlci5lcnJvcjp0fSl9dXBsb2FkKCl7aWYoXCJpZGxlXCIhPXRoaXMuc3RhdHVzKXRocm93IG5ldyBHbi5iKFwiZmlsZXJlcG9zaXRvcnktdXBsb2FkLXdyb25nLXN0YXR1czogWW91IGNhbm5vdCBjYWxsIHVwbG9hZCBpZiB0aGUgc3RhdHVzIGlzIGRpZmZlcmVudCB0aGFuIGlkbGUuXCIpO3JldHVybiB0aGlzLnN0YXR1cz1cInVwbG9hZGluZ1wiLHRoaXMuX2ZpbGVQcm9taXNlV3JhcHBlci5wcm9taXNlLnRoZW4oKCk9PnRoaXMuX2FkYXB0ZXIudXBsb2FkKCkpLnRoZW4odD0+KHRoaXMudXBsb2FkUmVzcG9uc2U9dCx0aGlzLnN0YXR1cz1cImlkbGVcIix0KSkuY2F0Y2godD0+e2lmKFwiYWJvcnRlZFwiPT09dGhpcy5zdGF0dXMpdGhyb3dcImFib3J0ZWRcIjt0aHJvdyB0aGlzLnN0YXR1cz1cImVycm9yXCIsdH0pfWFib3J0KCl7Y29uc3QgdD10aGlzLnN0YXR1czt0aGlzLnN0YXR1cz1cImFib3J0ZWRcIix0aGlzLl9maWxlUHJvbWlzZVdyYXBwZXIuaXNGdWxmaWxsZWQ/XCJyZWFkaW5nXCI9PXQ/dGhpcy5fcmVhZGVyLmFib3J0KCk6XCJ1cGxvYWRpbmdcIj09dCYmdGhpcy5fYWRhcHRlci5hYm9ydCYmdGhpcy5fYWRhcHRlci5hYm9ydCgpOnRoaXMuX2ZpbGVQcm9taXNlV3JhcHBlci5yZWplY3RlcihcImFib3J0ZWRcIiksdGhpcy5fZGVzdHJveSgpfV9kZXN0cm95KCl7dGhpcy5fZmlsZVByb21pc2VXcmFwcGVyPXZvaWQgMCx0aGlzLl9yZWFkZXI9dm9pZCAwLHRoaXMuX2FkYXB0ZXI9dm9pZCAwLHRoaXMuZGF0YT12b2lkIDAsdGhpcy51cGxvYWRSZXNwb25zZT12b2lkIDB9X2NyZWF0ZUZpbGVQcm9taXNlV3JhcHBlcih0KXtjb25zdCBlPXt9O3JldHVybiBlLnByb21pc2U9bmV3IFByb21pc2UoKG4saSk9PntlLnJlc29sdmVyPW4sZS5yZWplY3Rlcj1pLGUuaXNGdWxmaWxsZWQ9ITEsdC50aGVuKHQ9PntlLmlzRnVsZmlsbGVkPSEwLG4odCl9KS5jYXRjaCh0PT57ZS5pc0Z1bGZpbGxlZD0hMCxpKHQpfSl9KSxlfX1jaShldSxGaSk7Y29uc3QgbnU9XCJja0NzcmZUb2tlblwiLGl1PTQwLG91PVwiYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCI7ZnVuY3Rpb24gcnUoKXtsZXQgdD1mdW5jdGlvbih0KXt0PXQudG9Mb3dlckNhc2UoKTtjb25zdCBlPWRvY3VtZW50LmNvb2tpZS5zcGxpdChcIjtcIik7Zm9yKGNvbnN0IG4gb2YgZSl7Y29uc3QgZT1uLnNwbGl0KFwiPVwiKSxpPWRlY29kZVVSSUNvbXBvbmVudChlWzBdLnRyaW0oKS50b0xvd2VyQ2FzZSgpKTtpZihpPT09dClyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGVbMV0pfXJldHVybiBudWxsfShudSk7cmV0dXJuIHQmJnQubGVuZ3RoPT1pdXx8KHQ9ZnVuY3Rpb24odCl7bGV0IGU9XCJcIjtjb25zdCBuPW5ldyBVaW50OEFycmF5KHQpO3dpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG4pO2ZvcihsZXQgdD0wO3Q8bi5sZW5ndGg7dCsrKXtjb25zdCBpPW91LmNoYXJBdChuW3RdJW91Lmxlbmd0aCk7ZSs9TWF0aC5yYW5kb20oKT4uNT9pLnRvVXBwZXJDYXNlKCk6aX1yZXR1cm4gZX0oaXUpLGZ1bmN0aW9uKHQsZSl7ZG9jdW1lbnQuY29va2llPWVuY29kZVVSSUNvbXBvbmVudCh0KStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoZSkrXCI7cGF0aD0vXCJ9KG51LHQpKSx0fWNsYXNzIHN1IGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt0dV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJDS0ZpbmRlclVwbG9hZEFkYXB0ZXJcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci5jb25maWcuZ2V0KFwiY2tmaW5kZXIudXBsb2FkVXJsXCIpO3QmJih0aGlzLmVkaXRvci5wbHVnaW5zLmdldCh0dSkuY3JlYXRlVXBsb2FkQWRhcHRlcj0oZT0+bmV3IGF1KGUsdCx0aGlzLmVkaXRvci50KSkpfX1jbGFzcyBhdXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5sb2FkZXI9dCx0aGlzLnVybD1lLHRoaXMudD1ufXVwbG9hZCgpe3JldHVybiB0aGlzLmxvYWRlci5maWxlLnRoZW4odD0+bmV3IFByb21pc2UoKGUsbik9Pnt0aGlzLl9pbml0UmVxdWVzdCgpLHRoaXMuX2luaXRMaXN0ZW5lcnMoZSxuLHQpLHRoaXMuX3NlbmRSZXF1ZXN0KHQpfSkpfWFib3J0KCl7dGhpcy54aHImJnRoaXMueGhyLmFib3J0KCl9X2luaXRSZXF1ZXN0KCl7Y29uc3QgdD10aGlzLnhocj1uZXcgWE1MSHR0cFJlcXVlc3Q7dC5vcGVuKFwiUE9TVFwiLHRoaXMudXJsLCEwKSx0LnJlc3BvbnNlVHlwZT1cImpzb25cIn1faW5pdExpc3RlbmVycyh0LGUsbil7Y29uc3QgaT10aGlzLnhocixvPXRoaXMubG9hZGVyLHI9KDAsdGhpcy50KShcImFcIikrYCAke24ubmFtZX0uYDtpLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCgpPT5lKHIpKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5lKCkpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwoKT0+e2NvbnN0IG49aS5yZXNwb25zZTtpZighbnx8IW4udXBsb2FkZWQpcmV0dXJuIGUobiYmbi5lcnJvciYmbi5lcnJvci5tZXNzYWdlP24uZXJyb3IubWVzc2FnZTpyKTt0KHtkZWZhdWx0Om4udXJsfSl9KSxpLnVwbG9hZCYmaS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdD0+e3QubGVuZ3RoQ29tcHV0YWJsZSYmKG8udXBsb2FkVG90YWw9dC50b3RhbCxvLnVwbG9hZGVkPXQubG9hZGVkKX0pfV9zZW5kUmVxdWVzdCh0KXtjb25zdCBlPW5ldyBGb3JtRGF0YTtlLmFwcGVuZChcInVwbG9hZFwiLHQpLGUuYXBwZW5kKFwiY2tDc3JmVG9rZW5cIixydSgpKSx0aGlzLnhoci5zZW5kKGUpfX1jbGFzcyBjdXtjb25zdHJ1Y3Rvcih0LGUsbil7bGV0IGksbz1udWxsO1wiZnVuY3Rpb25cIj09dHlwZW9mIG4/aT1uOihvPXQuY29tbWFuZHMuZ2V0KG4pLGk9KCgpPT57dC5leGVjdXRlKG4pfSkpLHQubW9kZWwuZG9jdW1lbnQub24oXCJjaGFuZ2VcIiwobixyKT0+e2lmKG8mJiFvLmlzRW5hYmxlZClyZXR1cm47aWYoXCJ0cmFuc3BhcmVudFwiPT1yLnR5cGUpcmV0dXJuO2NvbnN0IHM9QXJyYXkuZnJvbSh0Lm1vZGVsLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCkpLGE9c1swXTtpZigxIT1zLmxlbmd0aHx8XCJpbnNlcnRcIiE9PWEudHlwZXx8XCIkdGV4dFwiIT1hLm5hbWV8fDEhPWEubGVuZ3RoKXJldHVybjtjb25zdCBjPWEucG9zaXRpb24udGV4dE5vZGV8fGEucG9zaXRpb24ubm9kZUFmdGVyO2lmKCFjLnBhcmVudC5pcyhcInBhcmFncmFwaFwiKSlyZXR1cm47Y29uc3QgbD1lLmV4ZWMoYy5kYXRhKTtsJiZ0Lm1vZGVsLmVucXVldWVDaGFuZ2UodD0+e2NvbnN0IGU9dC5jcmVhdGVQb3NpdGlvbkF0KGMucGFyZW50LDApLG49dC5jcmVhdGVQb3NpdGlvbkF0KGMucGFyZW50LGxbMF0ubGVuZ3RoKSxvPW5ldyBvYShlLG4pOyExIT09aSh7bWF0Y2g6bH0pJiZ0LnJlbW92ZShvKSxvLmRldGFjaCgpfSl9KX19Y2xhc3MgbHV7Y29uc3RydWN0b3IodCxlLG4pe2xldCBpLG8scixzO2UgaW5zdGFuY2VvZiBSZWdFeHA/aT1lOnI9ZSxcInN0cmluZ1wiPT10eXBlb2Ygbj9vPW46cz1uLHI9cnx8KHQ9PntsZXQgZTtjb25zdCBuPVtdLG89W107Zm9yKDtudWxsIT09KGU9aS5leGVjKHQpKSYmIShlJiZlLmxlbmd0aDw0KTspe2xldHtpbmRleDp0LDE6aSwyOnIsMzpzfT1lO2NvbnN0IGE9aStyK3MsYz1bdCs9ZVswXS5sZW5ndGgtYS5sZW5ndGgsdCtpLmxlbmd0aF0sbD1bdCtpLmxlbmd0aCtyLmxlbmd0aCx0K2kubGVuZ3RoK3IubGVuZ3RoK3MubGVuZ3RoXTtuLnB1c2goYyksbi5wdXNoKGwpLG8ucHVzaChbdCtpLmxlbmd0aCx0K2kubGVuZ3RoK3IubGVuZ3RoXSl9cmV0dXJue3JlbW92ZTpuLGZvcm1hdDpvfX0pLHM9c3x8KChlLG4pPT57Y29uc3QgaT10Lm1vZGVsLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhuLG8pO2Zvcihjb25zdCB0IG9mIGkpZS5zZXRBdHRyaWJ1dGUobywhMCx0KTtlLnJlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZShvKX0pLHQubW9kZWwuZG9jdW1lbnQub24oXCJjaGFuZ2VcIiwoZSxuKT0+e2lmKFwidHJhbnNwYXJlbnRcIj09bi50eXBlKXJldHVybjtjb25zdCBpPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKCFpLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBvPUFycmF5LmZyb20odC5tb2RlbC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpKSxhPW9bMF07aWYoMSE9by5sZW5ndGh8fFwiaW5zZXJ0XCIhPT1hLnR5cGV8fFwiJHRleHRcIiE9YS5uYW1lfHwxIT1hLmxlbmd0aClyZXR1cm47Y29uc3QgYz1pLmZvY3VzLnBhcmVudCxsPWZ1bmN0aW9uKHQpe3JldHVybiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkucmVkdWNlKCh0LGUpPT50K2UuZGF0YSxcIlwiKX0oYykuc2xpY2UoMCxpLmZvY3VzLm9mZnNldCksZD1yKGwpLHU9ZHUoYyxkLmZvcm1hdCx0Lm1vZGVsKSxoPWR1KGMsZC5yZW1vdmUsdC5tb2RlbCk7dS5sZW5ndGgmJmgubGVuZ3RoJiZ0Lm1vZGVsLmVucXVldWVDaGFuZ2UodD0+e2lmKCExIT09cyh0LHUpKWZvcihjb25zdCBlIG9mIGgucmV2ZXJzZSgpKXQucmVtb3ZlKGUpfSl9KX19ZnVuY3Rpb24gZHUodCxlLG4pe3JldHVybiBlLmZpbHRlcih0PT52b2lkIDAhPT10WzBdJiZ2b2lkIDAhPT10WzFdKS5tYXAoZT0+bi5jcmVhdGVSYW5nZShuLmNyZWF0ZVBvc2l0aW9uQXQodCxlWzBdKSxuLmNyZWF0ZVBvc2l0aW9uQXQodCxlWzFdKSkpfWZ1bmN0aW9uIHV1KHQsZSl7cmV0dXJuKG4saSk9PntpZighdC5jb21tYW5kcy5nZXQoZSkuaXNFbmFibGVkKXJldHVybiExO2NvbnN0IG89dC5tb2RlbC5zY2hlbWEuZ2V0VmFsaWRSYW5nZXMoaSxlKTtmb3IoY29uc3QgdCBvZiBvKW4uc2V0QXR0cmlidXRlKGUsITAsdCk7bi5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoZSl9fWNsYXNzIGh1IGV4dGVuZHMgWGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmF0dHJpYnV0ZUtleT1lfXJlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudDt0aGlzLnZhbHVlPXRoaXMuX2dldFZhbHVlRnJvbUZpcnN0QWxsb3dlZE5vZGUoKSx0aGlzLmlzRW5hYmxlZD10LnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKGUuc2VsZWN0aW9uLHRoaXMuYXR0cmlidXRlS2V5KX1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixpPXZvaWQgMD09PXQuZm9yY2VWYWx1ZT8hdGhpcy52YWx1ZTp0LmZvcmNlVmFsdWU7ZS5jaGFuZ2UodD0+e2lmKG4uaXNDb2xsYXBzZWQpaT90LnNldFNlbGVjdGlvbkF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSwhMCk6dC5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXkpO2Vsc2V7Y29uc3Qgbz1lLnNjaGVtYS5nZXRWYWxpZFJhbmdlcyhuLmdldFJhbmdlcygpLHRoaXMuYXR0cmlidXRlS2V5KTtmb3IoY29uc3QgZSBvZiBvKWk/dC5zZXRBdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGVLZXksaSxlKTp0LnJlbW92ZUF0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSxlKX19KX1fZ2V0VmFsdWVGcm9tRmlyc3RBbGxvd2VkTm9kZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LnNjaGVtYSxuPXQuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKG4uaXNDb2xsYXBzZWQpcmV0dXJuIG4uaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlS2V5KTtmb3IoY29uc3QgdCBvZiBuLmdldFJhbmdlcygpKWZvcihjb25zdCBuIG9mIHQuZ2V0SXRlbXMoKSlpZihlLmNoZWNrQXR0cmlidXRlKG4sdGhpcy5hdHRyaWJ1dGVLZXkpKXJldHVybiBuLmhhc0F0dHJpYnV0ZSh0aGlzLmF0dHJpYnV0ZUtleSk7cmV0dXJuITF9fWNvbnN0IGZ1PVwiYm9sZFwiO2NsYXNzIG11IGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOmZ1fSksdC5tb2RlbC5zY2hlbWEuc2V0QXR0cmlidXRlUHJvcGVydGllcyhmdSx7aXNGb3JtYXR0aW5nOiEwfSksdC5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6ZnUsdmlldzpcInN0cm9uZ1wiLHVwY2FzdEFsc286W1wiYlwiLHtzdHlsZXM6e1wiZm9udC13ZWlnaHRcIjpcImJvbGRcIn19XX0pLHQuY29tbWFuZHMuYWRkKGZ1LG5ldyBodSh0LGZ1KSksdC5rZXlzdHJva2VzLnNldChcIkNUUkwrQlwiLGZ1KX19dmFyIHB1PW4oMjMpLGd1PW4ubihwdSk7Y29uc3QgYnU9XCJib2xkXCI7Y2xhc3Mgd3UgZXh0ZW5kcyBHbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKGJ1LG49Pntjb25zdCBpPXQuY29tbWFuZHMuZ2V0KGJ1KSxvPW5ldyBXZChuKTtyZXR1cm4gby5zZXQoe2xhYmVsOmUoXCJiXCIpLGljb246Z3UuYSxrZXlzdHJva2U6XCJDVFJMK0JcIix0b29sdGlwOiEwfSksby5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKGksXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+dC5leGVjdXRlKGJ1KSksb30pfX1jb25zdCBfdT1cIml0YWxpY1wiO2NsYXNzIGt1IGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5tb2RlbC5zY2hlbWEuZXh0ZW5kKFwiJHRleHRcIix7YWxsb3dBdHRyaWJ1dGVzOl91fSksdC5tb2RlbC5zY2hlbWEuc2V0QXR0cmlidXRlUHJvcGVydGllcyhfdSx7aXNGb3JtYXR0aW5nOiEwfSksdC5jb252ZXJzaW9uLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6X3UsdmlldzpcImlcIix1cGNhc3RBbHNvOltcImVtXCIse3N0eWxlczp7XCJmb250LXN0eWxlXCI6XCJpdGFsaWNcIn19XX0pLHQuY29tbWFuZHMuYWRkKF91LG5ldyBodSh0LF91KSksdC5rZXlzdHJva2VzLnNldChcIkNUUkwrSVwiLF91KX19dmFyIHZ1PW4oMjQpLHl1PW4ubih2dSk7Y29uc3QgeHU9XCJpdGFsaWNcIjtjbGFzcyBBdSBleHRlbmRzIEdse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoeHUsbj0+e2NvbnN0IGk9dC5jb21tYW5kcy5nZXQoeHUpLG89bmV3IFdkKG4pO3JldHVybiBvLnNldCh7bGFiZWw6ZShcImNcIiksaWNvbjp5dS5hLGtleXN0cm9rZTpcIkNUUkwrSVwiLHRvb2x0aXA6ITB9KSxvLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8oaSxcInZhbHVlXCIsXCJpc0VuYWJsZWRcIiksdGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT50LmV4ZWN1dGUoeHUpKSxvfSl9fWZ1bmN0aW9uIEN1KHQpe2NvbnN0IGU9dC5uZXh0KCk7cmV0dXJuIGUuZG9uZT9udWxsOmUudmFsdWV9Y2xhc3MgVHUgZXh0ZW5kcyBYbHtyZWZyZXNoKCl7dGhpcy52YWx1ZT10aGlzLl9nZXRWYWx1ZSgpLHRoaXMuaXNFbmFibGVkPXRoaXMuX2NoZWNrRW5hYmxlZCgpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5zY2hlbWEsbj10LmRvY3VtZW50LnNlbGVjdGlvbixpPUFycmF5LmZyb20obi5nZXRUb3BNb3N0QmxvY2tzKCkpO3QuY2hhbmdlKHQ9PntpZih0aGlzLnZhbHVlKXRoaXMuX3JlbW92ZVF1b3RlKHQsaS5maWx0ZXIoUHUpKTtlbHNle2NvbnN0IG49aS5maWx0ZXIodD0+UHUodCl8fEV1KGUsdCkpO3RoaXMuX2FwcGx5UXVvdGUodCxuKX19KX1fZ2V0VmFsdWUoKXtjb25zdCB0PUN1KHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRUb3BNb3N0QmxvY2tzKCkpO3JldHVybiEoIXR8fCFQdSh0KSl9X2NoZWNrRW5hYmxlZCgpe2lmKHRoaXMudmFsdWUpcmV0dXJuITA7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24sZT10aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEsbj1DdSh0LmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhbiYmRXUoZSxuKX1fcmVtb3ZlUXVvdGUodCxlKXtNdSh0LGUpLnJldmVyc2UoKS5mb3JFYWNoKGU9PntpZihlLnN0YXJ0LmlzQXRTdGFydCYmZS5lbmQuaXNBdEVuZClyZXR1cm4gdm9pZCB0LnVud3JhcChlLnN0YXJ0LnBhcmVudCk7aWYoZS5zdGFydC5pc0F0U3RhcnQpe2NvbnN0IG49dC5jcmVhdGVQb3NpdGlvbkJlZm9yZShlLnN0YXJ0LnBhcmVudCk7cmV0dXJuIHZvaWQgdC5tb3ZlKGUsbil9ZS5lbmQuaXNBdEVuZHx8dC5zcGxpdChlLmVuZCk7Y29uc3Qgbj10LmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoZS5lbmQucGFyZW50KTt0Lm1vdmUoZSxuKX0pfV9hcHBseVF1b3RlKHQsZSl7Y29uc3Qgbj1bXTtNdSh0LGUpLnJldmVyc2UoKS5mb3JFYWNoKGU9PntsZXQgaT1QdShlLnN0YXJ0KTtpfHwoaT10LmNyZWF0ZUVsZW1lbnQoXCJibG9ja1F1b3RlXCIpLHQud3JhcChlLGkpKSxuLnB1c2goaSl9KSxuLnJldmVyc2UoKS5yZWR1Y2UoKGUsbik9PmUubmV4dFNpYmxpbmc9PW4/KHQubWVyZ2UodC5jcmVhdGVQb3NpdGlvbkFmdGVyKGUpKSxlKTpuKX19ZnVuY3Rpb24gUHUodCl7cmV0dXJuXCJibG9ja1F1b3RlXCI9PXQucGFyZW50Lm5hbWU/dC5wYXJlbnQ6bnVsbH1mdW5jdGlvbiBNdSh0LGUpe2xldCBuLGk9MDtjb25zdCBvPVtdO2Zvcig7aTxlLmxlbmd0aDspe2NvbnN0IHI9ZVtpXSxzPWVbaSsxXTtufHwobj10LmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHIpKSxzJiZyLm5leHRTaWJsaW5nPT1zfHwoby5wdXNoKHQuY3JlYXRlUmFuZ2Uobix0LmNyZWF0ZVBvc2l0aW9uQWZ0ZXIocikpKSxuPW51bGwpLGkrK31yZXR1cm4gb31mdW5jdGlvbiBFdSh0LGUpe2NvbnN0IG49dC5jaGVja0NoaWxkKGUucGFyZW50LFwiYmxvY2tRdW90ZVwiKSxpPXQuY2hlY2tDaGlsZChbXCIkcm9vdFwiLFwiYmxvY2tRdW90ZVwiXSxlKTtyZXR1cm4gbiYmaX1jbGFzcyBTdSBleHRlbmRzIEdse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5zY2hlbWE7dC5jb21tYW5kcy5hZGQoXCJibG9ja1F1b3RlXCIsbmV3IFR1KHQpKSxlLnJlZ2lzdGVyKFwiYmxvY2tRdW90ZVwiLHthbGxvd1doZXJlOlwiJGJsb2NrXCIsYWxsb3dDb250ZW50T2Y6XCIkcm9vdFwifSksZS5hZGRDaGlsZENoZWNrKCh0LGUpPT57aWYodC5lbmRzV2l0aChcImJsb2NrUXVvdGVcIikmJlwiYmxvY2tRdW90ZVwiPT1lLm5hbWUpcmV0dXJuITF9KSx0LmNvbnZlcnNpb24uZWxlbWVudFRvRWxlbWVudCh7bW9kZWw6XCJibG9ja1F1b3RlXCIsdmlldzpcImJsb2NrcXVvdGVcIn0pLHQubW9kZWwuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIobj0+e2NvbnN0IGk9dC5tb2RlbC5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2Zvcihjb25zdCB0IG9mIGkpaWYoXCJpbnNlcnRcIj09dC50eXBlKXtjb25zdCBpPXQucG9zaXRpb24ubm9kZUFmdGVyO2lmKCFpKWNvbnRpbnVlO2lmKGkuaXMoXCJibG9ja1F1b3RlXCIpJiZpLmlzRW1wdHkpcmV0dXJuIG4ucmVtb3ZlKGkpLCEwO2lmKGkuaXMoXCJibG9ja1F1b3RlXCIpJiYhZS5jaGVja0NoaWxkKHQucG9zaXRpb24saSkpcmV0dXJuIG4udW53cmFwKGkpLCEwO2lmKGkuaXMoXCJlbGVtZW50XCIpKXtjb25zdCB0PW4uY3JlYXRlUmFuZ2VJbihpKTtmb3IoY29uc3QgaSBvZiB0LmdldEl0ZW1zKCkpaWYoaS5pcyhcImJsb2NrUXVvdGVcIikmJiFlLmNoZWNrQ2hpbGQobi5jcmVhdGVQb3NpdGlvbkJlZm9yZShpKSxpKSlyZXR1cm4gbi51bndyYXAoaSksITB9fWVsc2UgaWYoXCJyZW1vdmVcIj09dC50eXBlKXtjb25zdCBlPXQucG9zaXRpb24ucGFyZW50O2lmKGUuaXMoXCJibG9ja1F1b3RlXCIpJiZlLmlzRW1wdHkpcmV0dXJuIG4ucmVtb3ZlKGUpLCEwfXJldHVybiExfSl9YWZ0ZXJJbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci5jb21tYW5kcy5nZXQoXCJibG9ja1F1b3RlXCIpO3RoaXMubGlzdGVuVG8odGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LmRvY3VtZW50LFwiZW50ZXJcIiwoZSxuKT0+e2NvbnN0IGk9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQsbz1pLnNlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKS5wYXJlbnQ7aS5zZWxlY3Rpb24uaXNDb2xsYXBzZWQmJm8uaXNFbXB0eSYmdC52YWx1ZSYmKHRoaXMuZWRpdG9yLmV4ZWN1dGUoXCJibG9ja1F1b3RlXCIpLHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5zY3JvbGxUb1RoZVNlbGVjdGlvbigpLG4ucHJldmVudERlZmF1bHQoKSxlLnN0b3AoKSl9KX19dmFyIEl1PW4oMjUpLE51PW4ubihJdSk7big2NCk7Y2xhc3MgT3UgZXh0ZW5kcyBHbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQudDt0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwiYmxvY2tRdW90ZVwiLG49Pntjb25zdCBpPXQuY29tbWFuZHMuZ2V0KFwiYmxvY2tRdW90ZVwiKSxvPW5ldyBXZChuKTtyZXR1cm4gby5zZXQoe2xhYmVsOmUoXCJmXCIpLGljb246TnUuYSx0b29sdGlwOiEwfSksby5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKGksXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+dC5leGVjdXRlKFwiYmxvY2tRdW90ZVwiKSksb30pfX12YXIgUnU9bigyNiksRHU9bi5uKFJ1KTtjbGFzcyBMdSBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ0tGaW5kZXJVSVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC51aS5jb21wb25lbnRGYWN0b3J5LG49dC50O2UuYWRkKFwiY2tmaW5kZXJcIixlPT57Y29uc3QgaT10LmNvbW1hbmRzLmdldChcImNrZmluZGVyXCIpLG89bmV3IFdkKGUpO3JldHVybiBvLnNldCh7bGFiZWw6bihcImRcIiksaWNvbjpEdS5hLHRvb2x0aXA6ITB9KSxvLmJpbmQoXCJpc0VuYWJsZWRcIikudG8oaSksby5vbihcImV4ZWN1dGVcIiwoKT0+e3QuZXhlY3V0ZShcImNrZmluZGVyXCIpLHQuZWRpdGluZy52aWV3LmZvY3VzKCl9KSxvfSl9fWNsYXNzIGp1IGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJOb3RpZmljYXRpb25cIn1pbml0KCl7dGhpcy5vbihcInNob3c6d2FybmluZ1wiLCh0LGUpPT57d2luZG93LmFsZXJ0KGUubWVzc2FnZSl9LHtwcmlvcml0eTpcImxvd2VzdFwifSl9c2hvd1N1Y2Nlc3ModCxlPXt9KXt0aGlzLl9zaG93Tm90aWZpY2F0aW9uKHttZXNzYWdlOnQsdHlwZTpcInN1Y2Nlc3NcIixuYW1lc3BhY2U6ZS5uYW1lc3BhY2UsdGl0bGU6ZS50aXRsZX0pfXNob3dJbmZvKHQsZT17fSl7dGhpcy5fc2hvd05vdGlmaWNhdGlvbih7bWVzc2FnZTp0LHR5cGU6XCJpbmZvXCIsbmFtZXNwYWNlOmUubmFtZXNwYWNlLHRpdGxlOmUudGl0bGV9KX1zaG93V2FybmluZyh0LGU9e30pe3RoaXMuX3Nob3dOb3RpZmljYXRpb24oe21lc3NhZ2U6dCx0eXBlOlwid2FybmluZ1wiLG5hbWVzcGFjZTplLm5hbWVzcGFjZSx0aXRsZTplLnRpdGxlfSl9X3Nob3dOb3RpZmljYXRpb24odCl7Y29uc3QgZT1gc2hvdzoke3QudHlwZX1gKyh0Lm5hbWVzcGFjZT9gOiR7dC5uYW1lc3BhY2V9YDpcIlwiKTt0aGlzLmZpcmUoZSx7bWVzc2FnZTp0Lm1lc3NhZ2UsdHlwZTp0LnR5cGUsdGl0bGU6dC50aXRsZXx8XCJcIn0pfX1jbGFzcyBWdSBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RvcExpc3RlbmluZyh0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudCxcImNoYW5nZVwiKSx0aGlzLmxpc3RlblRvKHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LFwiY2hhbmdlXCIsKCk9PnRoaXMucmVmcmVzaCgpLHtwcmlvcml0eTpcImxvd1wifSl9cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KFwiaW1hZ2VVcGxvYWRcIiksZT10aGlzLmVkaXRvci5jb21tYW5kcy5nZXQoXCJsaW5rXCIpO3RoaXMuaXNFbmFibGVkPXQmJmUmJih0LmlzRW5hYmxlZHx8ZS5pc0VuYWJsZWQpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dGhpcy5lZGl0b3IuY29uZmlnLmdldChcImNrZmluZGVyLm9wZW5lck1ldGhvZFwiKXx8XCJtb2RhbFwiO2lmKFwicG9wdXBcIiE9ZSYmXCJtb2RhbFwiIT1lKXRocm93IG5ldyBHbi5iKCdja2ZpbmRlci11bmtub3duLW9wZW5lck1ldGhvZDogVGhlIG9wZW5lck1ldGhvZCBjb25maWcgb3B0aW9uIG11c3QgYnkgXCJwb3B1cFwiIG9yIFwibW9kYWxcIi4nKTtjb25zdCBuPXRoaXMuZWRpdG9yLmNvbmZpZy5nZXQoXCJja2ZpbmRlci5vcHRpb25zXCIpfHx7fTtuLmNob29zZUZpbGVzPSEwO2NvbnN0IGk9bi5vbkluaXQ7bi5sYW5ndWFnZXx8KG4ubGFuZ3VhZ2U9dC5sb2NhbGUubGFuZ3VhZ2UpLG4ub25Jbml0PShlPT57aSYmaSgpLGUub24oXCJmaWxlczpjaG9vc2VcIixuPT57Y29uc3QgaT1uLmRhdGEuZmlsZXMudG9BcnJheSgpLG89aS5maWx0ZXIodD0+IXQuaXNJbWFnZSgpKSxyPWkuZmlsdGVyKHQ9PnQuaXNJbWFnZSgpKTtmb3IoY29uc3QgZSBvZiBvKXQuZXhlY3V0ZShcImxpbmtcIixlLmdldFVybCgpKTtjb25zdCBzPVtdO2Zvcihjb25zdCB0IG9mIHIpe2NvbnN0IG49dC5nZXRVcmwoKTtzLnB1c2gobnx8ZS5yZXF1ZXN0KFwiZmlsZTpnZXRQcm94eVVybFwiLHtmaWxlOnR9KSl9cy5sZW5ndGgmJkJ1KHQscyl9KSxlLm9uKFwiZmlsZTpjaG9vc2U6cmVzaXplZEltYWdlXCIsZT0+e2NvbnN0IG49ZS5kYXRhLnJlc2l6ZWRVcmw7aWYobilCdSh0LFtuXSk7ZWxzZXtjb25zdCBlPXQucGx1Z2lucy5nZXQoXCJOb3RpZmljYXRpb25cIiksbj10LmxvY2FsZS50O2Uuc2hvd1dhcm5pbmcobihcImFwXCIpLHt0aXRsZTpuKFwiYXFcIiksbmFtZXNwYWNlOlwiY2tmaW5kZXJcIn0pfX0pfSksd2luZG93LkNLRmluZGVyW2VdKG4pfX1mdW5jdGlvbiBCdSh0LGUpe2lmKHQuY29tbWFuZHMuZ2V0KFwiaW1hZ2VVcGxvYWRcIikuaXNFbmFibGVkKXQuZXhlY3V0ZShcImltYWdlSW5zZXJ0XCIse3NvdXJjZTplfSk7ZWxzZXtjb25zdCBlPXQucGx1Z2lucy5nZXQoXCJOb3RpZmljYXRpb25cIiksbj10LmxvY2FsZS50O2Uuc2hvd1dhcm5pbmcobihcImFyXCIpLHt0aXRsZTpuKFwiYXNcIiksbmFtZXNwYWNlOlwiY2tmaW5kZXJcIn0pfX1jbGFzcyB6dSBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ0tGaW5kZXJFZGl0aW5nXCJ9c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltqdV19aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5jb21tYW5kcy5hZGQoXCJja2ZpbmRlclwiLG5ldyBWdSh0KSl9fWNvbnN0IEZ1PS9eZGF0YTooXFxTKj8pO2Jhc2U2NCwvO2NsYXNzIFV1e2NvbnN0cnVjdG9yKHQsZSxuKXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJGaWxlIG11c3QgYmUgcHJvdmlkZWRcIik7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gbXVzdCBiZSBwcm92aWRlZFwiKTtpZighbil0aHJvdyBuZXcgRXJyb3IoXCJBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkXCIpO3RoaXMuZmlsZT1mdW5jdGlvbih0KXtpZihcInN0cmluZ1wiIT10eXBlb2YgdClyZXR1cm4hMTtjb25zdCBlPXQubWF0Y2goRnUpO3JldHVybiEoIWV8fCFlLmxlbmd0aCl9KHQpP2Z1bmN0aW9uKHQsZT01MTIpe3RyeXtjb25zdCBuPXQubWF0Y2goRnUpWzFdLGk9YXRvYih0LnJlcGxhY2UoRnUsXCJcIikpLG89W107Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kz1lKXtjb25zdCBuPWkuc2xpY2UodCx0K2UpLHI9bmV3IEFycmF5KG4ubGVuZ3RoKTtmb3IobGV0IHQ9MDt0PG4ubGVuZ3RoO3QrKylyW3RdPW4uY2hhckNvZGVBdCh0KTtvLnB1c2gobmV3IFVpbnQ4QXJyYXkocikpfXJldHVybiBuZXcgQmxvYihvLHt0eXBlOm59KX1jYXRjaCh0KXt0aHJvdyBuZXcgRXJyb3IoXCJQcm9ibGVtIHdpdGggZGVjb2RpbmcgQmFzZTY0IGltYWdlIGRhdGEuXCIpfX0odCk6dCx0aGlzLl90b2tlbj1lLHRoaXMuX2FwaUFkZHJlc3M9bn1vblByb2dyZXNzKHQpe3JldHVybiB0aGlzLm9uKFwicHJvZ3Jlc3NcIiwoZSxuKT0+dChuKSksdGhpc31vbkVycm9yKHQpe3JldHVybiB0aGlzLm9uY2UoXCJlcnJvclwiLChlLG4pPT50KG4pKSx0aGlzfWFib3J0KCl7dGhpcy54aHIuYWJvcnQoKX1zZW5kKCl7cmV0dXJuIHRoaXMuX3ByZXBhcmVSZXF1ZXN0KCksdGhpcy5fYXR0YWNoWEhSTGlzdGVuZXJzKCksdGhpcy5fc2VuZFJlcXVlc3QoKX1fcHJlcGFyZVJlcXVlc3QoKXtjb25zdCB0PW5ldyBYTUxIdHRwUmVxdWVzdDt0Lm9wZW4oXCJQT1NUXCIsdGhpcy5fYXBpQWRkcmVzcyksdC5zZXRSZXF1ZXN0SGVhZGVyKFwiQXV0aG9yaXphdGlvblwiLHRoaXMuX3Rva2VuLnZhbHVlKSx0LnJlc3BvbnNlVHlwZT1cImpzb25cIix0aGlzLnhocj10fV9hdHRhY2hYSFJMaXN0ZW5lcnMoKXtjb25zdCB0PXRoaXMsZT10aGlzLnhocjtmdW5jdGlvbiBuKGUpe3JldHVybigpPT50LmZpcmUoXCJlcnJvclwiLGUpfWUuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsbihcIk5ldHdvcmsgRXJyb3JcIikpLGUuYWRkRXZlbnRMaXN0ZW5lcihcImFib3J0XCIsbihcIkFib3J0XCIpKSxlLnVwbG9hZCYmZS51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsdD0+e3QubGVuZ3RoQ29tcHV0YWJsZSYmdGhpcy5maXJlKFwicHJvZ3Jlc3NcIix7dG90YWw6dC50b3RhbCx1cGxvYWRlZDp0LmxvYWRlZH0pfSksZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpPT57Y29uc3QgdD1lLnN0YXR1cyxuPWUucmVzcG9uc2U7aWYodDwyMDB8fHQ+Mjk5KXJldHVybiB0aGlzLmZpcmUoXCJlcnJvclwiLG4ubWVzc2FnZXx8bi5lcnJvcil9KX1fc2VuZFJlcXVlc3QoKXtjb25zdCB0PW5ldyBGb3JtRGF0YSxlPXRoaXMueGhyO3JldHVybiB0LmFwcGVuZChcImZpbGVcIix0aGlzLmZpbGUpLG5ldyBQcm9taXNlKChuLGkpPT57ZS5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgpPT57Y29uc3QgdD1lLnN0YXR1cyxvPWUucmVzcG9uc2U7cmV0dXJuIHQ8MjAwfHx0PjI5OT9vLm1lc3NhZ2U/aShuZXcgRXJyb3Ioby5tZXNzYWdlKSk6aShvLmVycm9yKTpuKG8pfSksZS5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwoKT0+aShuZXcgRXJyb3IoXCJOZXR3b3JrIEVycm9yXCIpKSksZS5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIiwoKT0+aShuZXcgRXJyb3IoXCJBYm9ydFwiKSkpLGUuc2VuZCh0KX0pfX1jaShVdSxlaSk7dmFyIEh1PVV1O2NvbnN0IHF1PXtyZWZyZXNoSW50ZXJ2YWw6MzZlNSxhdXRvUmVmcmVzaDohMH07Y2xhc3MgV3V7Y29uc3RydWN0b3IodCxlPXF1KXtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJBIGB0b2tlblVybGAgbXVzdCBiZSBwcm92aWRlZCBhcyB0aGUgZmlyc3QgY29uc3RydWN0b3IgYXJndW1lbnQuXCIpO3RoaXMuc2V0KFwidmFsdWVcIixlLmluaXRWYWx1ZSksdGhpcy5fcmVmcmVzaD1cImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3Q6KCk9PihmdW5jdGlvbih0KXtyZXR1cm4gbmV3IFByb21pc2UoKGUsbik9Pntjb25zdCBpPW5ldyBYTUxIdHRwUmVxdWVzdDtpLm9wZW4oXCJHRVRcIix0KSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKCk9Pntjb25zdCB0PWkuc3RhdHVzLG89aS5yZXNwb25zZTtyZXR1cm4gdDwyMDB8fHQ+Mjk5P24obmV3IEVycm9yKFwiQ2Fubm90IGRvd25sb2FkIG5ldyB0b2tlbiFcIikpOmUobyl9KSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCgpPT5uKG5ldyBFcnJvcihcIk5ldHdvcmsgRXJyb3JcIikpKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLCgpPT5uKG5ldyBFcnJvcihcIkFib3J0XCIpKSksaS5zZW5kKCl9KX0pKHQpLHRoaXMuX29wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSxxdSxlKX1pbml0KCl7cmV0dXJuIG5ldyBQcm9taXNlKCh0LGUpPT57dGhpcy5fb3B0aW9ucy5hdXRvUmVmcmVzaCYmdGhpcy5fc3RhcnRSZWZyZXNoaW5nKCksdGhpcy52YWx1ZT90KHRoaXMpOnRoaXMuX3JlZnJlc2hUb2tlbigpLnRoZW4odCkuY2F0Y2goZSl9KX1fcmVmcmVzaFRva2VuKCl7cmV0dXJuIHRoaXMuX3JlZnJlc2goKS50aGVuKHQ9PnRoaXMuc2V0KFwidmFsdWVcIix0KSkudGhlbigoKT0+dGhpcyl9ZGVzdHJveSgpe3RoaXMuX3N0b3BSZWZyZXNoaW5nKCl9X3N0YXJ0UmVmcmVzaGluZygpe3RoaXMuX3JlZnJlc2hJbnRlcnZhbD1zZXRJbnRlcnZhbCgoKT0+dGhpcy5fcmVmcmVzaFRva2VuKCksdGhpcy5fb3B0aW9ucy5yZWZyZXNoSW50ZXJ2YWwpfV9zdG9wUmVmcmVzaGluZygpe2NsZWFySW50ZXJ2YWwodGhpcy5fcmVmcmVzaEludGVydmFsKX1zdGF0aWMgY3JlYXRlKHQsZT1xdSl7cmV0dXJuIG5ldyBXdSh0LGUpLmluaXQoKX19Y2koV3UsRmkpO3ZhciBZdT1XdTtjbGFzcyAkdSBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ2xvdWRTZXJ2aWNlc1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbmZpZy5nZXQoXCJjbG91ZFNlcnZpY2VzXCIpfHx7fTtmb3IoY29uc3QgZSBpbiB0KXRoaXNbZV09dFtlXTtpZih0aGlzLnRva2VuVXJsKXJldHVybiB0aGlzLnRva2VuPW5ldyAkdS5Ub2tlbih0aGlzLnRva2VuVXJsKSx0aGlzLnRva2VuLmluaXQoKTt0aGlzLnRva2VuPW51bGx9fSR1LlRva2VuPVl1O2NsYXNzIEd1IGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVyblt0dSwkdV19aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnBsdWdpbnMuZ2V0KCR1KSxuPWUudG9rZW4saT1lLnVwbG9hZFVybDtuJiYodGhpcy5fdXBsb2FkR2F0ZXdheT1uZXcgR3UuX1VwbG9hZEdhdGV3YXkobixpKSx0LnBsdWdpbnMuZ2V0KHR1KS5jcmVhdGVVcGxvYWRBZGFwdGVyPSh0PT5uZXcgUXUodGhpcy5fdXBsb2FkR2F0ZXdheSx0KSkpfX1jbGFzcyBRdXtjb25zdHJ1Y3Rvcih0LGUpe3RoaXMudXBsb2FkR2F0ZXdheT10LHRoaXMubG9hZGVyPWV9dXBsb2FkKCl7cmV0dXJuIHRoaXMubG9hZGVyLmZpbGUudGhlbih0PT4odGhpcy5maWxlVXBsb2FkZXI9dGhpcy51cGxvYWRHYXRld2F5LnVwbG9hZCh0KSx0aGlzLmZpbGVVcGxvYWRlci5vbihcInByb2dyZXNzXCIsKHQsZSk9Pnt0aGlzLmxvYWRlci51cGxvYWRUb3RhbD1lLnRvdGFsLHRoaXMubG9hZGVyLnVwbG9hZGVkPWUudXBsb2FkZWR9KSx0aGlzLmZpbGVVcGxvYWRlci5zZW5kKCkpKX1hYm9ydCgpe3RoaXMuZmlsZVVwbG9hZGVyLmFib3J0KCl9fUd1Ll9VcGxvYWRHYXRld2F5PWNsYXNze2NvbnN0cnVjdG9yKHQsZSl7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiVG9rZW4gbXVzdCBiZSBwcm92aWRlZFwiKTtpZighZSl0aHJvdyBuZXcgRXJyb3IoXCJBcGkgYWRkcmVzcyBtdXN0IGJlIHByb3ZpZGVkXCIpO3RoaXMuX3Rva2VuPXQsdGhpcy5fYXBpQWRkcmVzcz1lfXVwbG9hZCh0KXtyZXR1cm4gbmV3IEh1KHQsdGhpcy5fdG9rZW4sdGhpcy5fYXBpQWRkcmVzcyl9fTtjbGFzcyBKdSBleHRlbmRzIGhye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX29ic2VydmVkRWxlbWVudHM9bmV3IFNldH1vYnNlcnZlKHQsZSl7dGhpcy5kb2N1bWVudC5nZXRSb290KGUpLm9uKFwiY2hhbmdlOmNoaWxkcmVuXCIsKGUsbik9Pnt0aGlzLnZpZXcub25jZShcInJlbmRlclwiLCgpPT50aGlzLl91cGRhdGVPYnNlcnZlZEVsZW1lbnRzKHQsbikpfSl9X3VwZGF0ZU9ic2VydmVkRWxlbWVudHModCxlKXtpZighZS5pcyhcImVsZW1lbnRcIil8fGUuaXMoXCJhdHRyaWJ1dGVFbGVtZW50XCIpKXJldHVybjtjb25zdCBuPXRoaXMudmlldy5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKGUpO2lmKG4pe2Zvcihjb25zdCB0IG9mIG4ucXVlcnlTZWxlY3RvckFsbChcImltZ1wiKSl0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmhhcyh0KXx8KHRoaXMubGlzdGVuVG8odCxcImxvYWRcIiwodCxlKT0+dGhpcy5fZmlyZUV2ZW50cyhlKSksdGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5hZGQodCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuX29ic2VydmVkRWxlbWVudHMpdC5jb250YWlucyhlKXx8KHRoaXMuc3RvcExpc3RlbmluZyhlKSx0aGlzLl9vYnNlcnZlZEVsZW1lbnRzLmRlbGV0ZShlKSl9fV9maXJlRXZlbnRzKHQpe3RoaXMuaXNFbmFibGVkJiYodGhpcy5kb2N1bWVudC5maXJlKFwibGF5b3V0Q2hhbmdlZFwiKSx0aGlzLmRvY3VtZW50LmZpcmUoXCJpbWFnZUxvYWRlZFwiLHQpKX1kZXN0cm95KCl7dGhpcy5fb2JzZXJ2ZWRFbGVtZW50cy5jbGVhcigpLHN1cGVyLmRlc3Ryb3koKX19ZnVuY3Rpb24gS3UodCl7cmV0dXJuIG49PntuLm9uKGBhdHRyaWJ1dGU6JHt0fTppbWFnZWAsZSl9O2Z1bmN0aW9uIGUodCxlLG4pe2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sdC5uYW1lKSlyZXR1cm47Y29uc3QgaT1uLndyaXRlcixvPW4ubWFwcGVyLnRvVmlld0VsZW1lbnQoZS5pdGVtKS5nZXRDaGlsZCgwKTtudWxsIT09ZS5hdHRyaWJ1dGVOZXdWYWx1ZT9pLnNldEF0dHJpYnV0ZShlLmF0dHJpYnV0ZUtleSxlLmF0dHJpYnV0ZU5ld1ZhbHVlLG8pOmkucmVtb3ZlQXR0cmlidXRlKGUuYXR0cmlidXRlS2V5LG8pfX1jbGFzcyBadXtjb25zdHJ1Y3Rvcigpe3RoaXMuX3N0YWNrPVtdfWFkZCh0LGUpe2NvbnN0IG49dGhpcy5fc3RhY2ssaT1uWzBdO3RoaXMuX2luc2VydERlc2NyaXB0b3IodCk7Y29uc3Qgbz1uWzBdO2k9PT1vfHxYdShpLG8pfHx0aGlzLmZpcmUoXCJjaGFuZ2U6dG9wXCIse29sZERlc2NyaXB0b3I6aSxuZXdEZXNjcmlwdG9yOm8sd3JpdGVyOmV9KX1yZW1vdmUodCxlKXtjb25zdCBuPXRoaXMuX3N0YWNrLGk9blswXTt0aGlzLl9yZW1vdmVEZXNjcmlwdG9yKHQpO2NvbnN0IG89blswXTtpPT09b3x8WHUoaSxvKXx8dGhpcy5maXJlKFwiY2hhbmdlOnRvcFwiLHtvbGREZXNjcmlwdG9yOmksbmV3RGVzY3JpcHRvcjpvLHdyaXRlcjplfSl9X2luc2VydERlc2NyaXB0b3IodCl7Y29uc3QgZT10aGlzLl9zdGFjayxuPWUuZmluZEluZGV4KGU9PmUuaWQ9PT10LmlkKTtpZihYdSh0LGVbbl0pKXJldHVybjtuPi0xJiZlLnNwbGljZShuLDEpO2xldCBpPTA7Zm9yKDtlW2ldJiZ0aChlW2ldLHQpOylpKys7ZS5zcGxpY2UoaSwwLHQpfV9yZW1vdmVEZXNjcmlwdG9yKHQpe2NvbnN0IGU9dGhpcy5fc3RhY2ssbj1lLmZpbmRJbmRleChlPT5lLmlkPT09dCk7bj4tMSYmZS5zcGxpY2UobiwxKX19ZnVuY3Rpb24gWHUodCxlKXtyZXR1cm4gdCYmZSYmdC5wcmlvcml0eT09ZS5wcmlvcml0eSYmZWgodC5jbGFzc2VzKT09ZWgoZS5jbGFzc2VzKX1mdW5jdGlvbiB0aCh0LGUpe3JldHVybiB0LnByaW9yaXR5PmUucHJpb3JpdHl8fCEodC5wcmlvcml0eTxlLnByaW9yaXR5KSYmZWgodC5jbGFzc2VzKT5laChlLmNsYXNzZXMpfWZ1bmN0aW9uIGVoKHQpe3JldHVybiBBcnJheS5pc0FycmF5KHQpP3Quc29ydCgpLmpvaW4oXCIsXCIpOnR9Y2koWnUsZWkpO3ZhciBuaD1uKDI3KSxpaD1uLm4obmgpO2NvbnN0IG9oPVwiY2std2lkZ2V0XCIscmg9XCJjay13aWRnZXRfc2VsZWN0ZWRcIjtmdW5jdGlvbiBzaCh0KXtyZXR1cm4hIXQuaXMoXCJlbGVtZW50XCIpJiYhIXQuZ2V0Q3VzdG9tUHJvcGVydHkoXCJ3aWRnZXRcIil9ZnVuY3Rpb24gYWgodCxlLG49e30pe3JldHVybiBtby5pc0VkZ2V8fGUuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsXCJmYWxzZVwiLHQpLGUuYWRkQ2xhc3Mob2gsdCksZS5zZXRDdXN0b21Qcm9wZXJ0eShcIndpZGdldFwiLCEwLHQpLHQuZ2V0RmlsbGVyT2Zmc2V0PXVoLG4ubGFiZWwmJmZ1bmN0aW9uKHQsZSxuKXtuLnNldEN1c3RvbVByb3BlcnR5KFwid2lkZ2V0TGFiZWxcIixlLHQpfSh0LG4ubGFiZWwsZSksbi5oYXNTZWxlY3Rpb25IYW5kbGVyJiZmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIix7Y2xhc3M6XCJjayBjay13aWRnZXRfX3NlbGVjdGlvbi1oYW5kbGVyXCJ9LGZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy50b0RvbUVsZW1lbnQodCksbj1uZXcgSGQ7cmV0dXJuIG4uc2V0KFwiY29udGVudFwiLGloLmEpLG4ucmVuZGVyKCksZS5hcHBlbmRDaGlsZChuLmVsZW1lbnQpLGV9KTtlLmluc2VydChlLmNyZWF0ZVBvc2l0aW9uQXQodCwwKSxuKSxlLmFkZENsYXNzKFtcImNrLXdpZGdldF93aXRoLXNlbGVjdGlvbi1oYW5kbGVyXCJdLHQpfSh0LGUpLGZ1bmN0aW9uKHQsZSxuLGkpe2NvbnN0IG89bmV3IFp1O28ub24oXCJjaGFuZ2U6dG9wXCIsKGUsbyk9PntvLm9sZERlc2NyaXB0b3ImJmkodCxvLm9sZERlc2NyaXB0b3Isby53cml0ZXIpLG8ubmV3RGVzY3JpcHRvciYmbih0LG8ubmV3RGVzY3JpcHRvcixvLndyaXRlcil9KSxlLnNldEN1c3RvbVByb3BlcnR5KFwiYWRkSGlnaGxpZ2h0XCIsKHQsZSxuKT0+by5hZGQoZSxuKSx0KSxlLnNldEN1c3RvbVByb3BlcnR5KFwicmVtb3ZlSGlnaGxpZ2h0XCIsKHQsZSxuKT0+by5yZW1vdmUoZSxuKSx0KX0odCxlLCh0LGUsbik9Pm4uYWRkQ2xhc3MoaShlLmNsYXNzZXMpLHQpLCh0LGUsbik9Pm4ucmVtb3ZlQ2xhc3MoaShlLmNsYXNzZXMpLHQpKSx0O2Z1bmN0aW9uIGkodCl7cmV0dXJuIEFycmF5LmlzQXJyYXkodCk/dDpbdF19fWZ1bmN0aW9uIGNoKHQpe2NvbnN0IGU9dC5nZXRDdXN0b21Qcm9wZXJ0eShcIndpZGdldExhYmVsXCIpO3JldHVybiBlP1wiZnVuY3Rpb25cIj09dHlwZW9mIGU/ZSgpOmU6XCJcIn1mdW5jdGlvbiBsaCh0LGUpe3JldHVybiBlLmFkZENsYXNzKFtcImNrLWVkaXRvcl9fZWRpdGFibGVcIixcImNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlXCJdLHQpLG1vLmlzRWRnZXx8KGUuc2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIsdC5pc1JlYWRPbmx5P1wiZmFsc2VcIjpcInRydWVcIix0KSx0Lm9uKFwiY2hhbmdlOmlzUmVhZE9ubHlcIiwobixpLG8pPT57ZS5zZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIixvP1wiZmFsc2VcIjpcInRydWVcIix0KX0pKSx0Lm9uKFwiY2hhbmdlOmlzRm9jdXNlZFwiLChuLGksbyk9PntvP2UuYWRkQ2xhc3MoXCJjay1lZGl0b3JfX25lc3RlZC1lZGl0YWJsZV9mb2N1c2VkXCIsdCk6ZS5yZW1vdmVDbGFzcyhcImNrLWVkaXRvcl9fbmVzdGVkLWVkaXRhYmxlX2ZvY3VzZWRcIix0KX0pLHR9ZnVuY3Rpb24gZGgodCxlKXtjb25zdCBuPXQuZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYobiYmZS5zY2hlbWEuaXNCbG9jayhuKSlyZXR1cm4gZS5jcmVhdGVQb3NpdGlvbkFmdGVyKG4pO2NvbnN0IGk9dC5nZXRTZWxlY3RlZEJsb2NrcygpLm5leHQoKS52YWx1ZTtpZihpKXtpZihpLmlzRW1wdHkpcmV0dXJuIGUuY3JlYXRlUG9zaXRpb25BdChpLDApO2NvbnN0IG49ZS5jcmVhdGVQb3NpdGlvbkFmdGVyKGkpO3JldHVybiB0LmZvY3VzLmlzVG91Y2hpbmcobik/bjplLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKGkpfXJldHVybiB0LmZvY3VzfWZ1bmN0aW9uIHVoKCl7cmV0dXJuIG51bGx9ZnVuY3Rpb24gaGgodCl7Y29uc3QgZT10LmdldFNlbGVjdGVkRWxlbWVudCgpO3JldHVybiBlJiZmdW5jdGlvbih0KXtyZXR1cm4hIXQuZ2V0Q3VzdG9tUHJvcGVydHkoXCJpbWFnZVwiKSYmc2godCl9KGUpP2U6bnVsbH1mdW5jdGlvbiBmaCh0KXtyZXR1cm4hIXQmJnQuaXMoXCJpbWFnZVwiKX1mdW5jdGlvbiBtaCh0LGUsbj17fSl7Y29uc3QgaT10LmNyZWF0ZUVsZW1lbnQoXCJpbWFnZVwiLG4pLG89ZGgoZS5kb2N1bWVudC5zZWxlY3Rpb24sZSk7ZS5pbnNlcnRDb250ZW50KGksbyksaS5wYXJlbnQmJnQuc2V0U2VsZWN0aW9uKGksXCJvblwiKX1mdW5jdGlvbiBwaCh0KXtjb25zdCBlPXQuc2NoZW1hLG49dC5kb2N1bWVudC5zZWxlY3Rpb247cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtjb25zdCBpPWZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1kaCh0LGUpLnBhcmVudDtpZihuLmlzRW1wdHkmJiFuLmlzKFwiJHJvb3RcIikpcmV0dXJuIG4ucGFyZW50O3JldHVybiBufSh0LG4pO3JldHVybiBlLmNoZWNrQ2hpbGQoaSxcImltYWdlXCIpfShuLGUsdCkmJiFmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4gbiYmZS5pc09iamVjdChuKX0obixlKSYmZnVuY3Rpb24odCl7cmV0dXJuWy4uLnQuZm9jdXMuZ2V0QW5jZXN0b3JzKCldLmV2ZXJ5KHQ9PiF0LmlzKFwiaW1hZ2VcIikpfShuKX1jbGFzcyBnaCBleHRlbmRzIFhse3JlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD1waCh0aGlzLmVkaXRvci5tb2RlbCl9ZXhlY3V0ZSh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsO2UuY2hhbmdlKG49Pntjb25zdCBpPUFycmF5LmlzQXJyYXkodC5zb3VyY2UpP3Quc291cmNlOlt0LnNvdXJjZV07Zm9yKGNvbnN0IHQgb2YgaSltaChuLGUse3NyYzp0fSl9KX19Y2xhc3MgYmggZXh0ZW5kcyBHbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuc2NoZW1hLG49dC50LGk9dC5jb252ZXJzaW9uO3QuZWRpdGluZy52aWV3LmFkZE9ic2VydmVyKEp1KSxlLnJlZ2lzdGVyKFwiaW1hZ2VcIix7aXNPYmplY3Q6ITAsaXNCbG9jazohMCxhbGxvd1doZXJlOlwiJGJsb2NrXCIsYWxsb3dBdHRyaWJ1dGVzOltcImFsdFwiLFwic3JjXCIsXCJzcmNzZXRcIl19KSxpLmZvcihcImRhdGFEb3duY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcImltYWdlXCIsdmlldzoodCxlKT0+d2goZSl9KSxpLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcImltYWdlXCIsdmlldzoodCxlKT0+KGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZS5zZXRDdXN0b21Qcm9wZXJ0eShcImltYWdlXCIsITAsdCksYWgodCxlLHtsYWJlbDpmdW5jdGlvbigpe2NvbnN0IGU9dC5nZXRDaGlsZCgwKS5nZXRBdHRyaWJ1dGUoXCJhbHRcIik7cmV0dXJuIGU/YCR7ZX0gJHtufWA6bn19KX0pKHdoKGUpLGUsbihcImVcIikpfSksaS5mb3IoXCJkb3duY2FzdFwiKS5hZGQoS3UoXCJzcmNcIikpLmFkZChLdShcImFsdFwiKSkuYWRkKGZ1bmN0aW9uKCl7cmV0dXJuIGU9PntlLm9uKFwiYXR0cmlidXRlOnNyY3NldDppbWFnZVwiLHQpfTtmdW5jdGlvbiB0KHQsZSxuKXtpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLHQubmFtZSkpcmV0dXJuO2NvbnN0IGk9bi53cml0ZXIsbz1uLm1hcHBlci50b1ZpZXdFbGVtZW50KGUuaXRlbSkuZ2V0Q2hpbGQoMCk7aWYobnVsbD09PWUuYXR0cmlidXRlTmV3VmFsdWUpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVPbGRWYWx1ZTt0LmRhdGEmJihpLnJlbW92ZUF0dHJpYnV0ZShcInNyY3NldFwiLG8pLGkucmVtb3ZlQXR0cmlidXRlKFwic2l6ZXNcIixvKSx0LndpZHRoJiZpLnJlbW92ZUF0dHJpYnV0ZShcIndpZHRoXCIsbykpfWVsc2V7Y29uc3QgdD1lLmF0dHJpYnV0ZU5ld1ZhbHVlO3QuZGF0YSYmKGkuc2V0QXR0cmlidXRlKFwic3Jjc2V0XCIsdC5kYXRhLG8pLGkuc2V0QXR0cmlidXRlKFwic2l6ZXNcIixcIjEwMHZ3XCIsbyksdC53aWR0aCYmaS5zZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiLHQud2lkdGgsbykpfX19KCkpLGkuZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe3ZpZXc6e25hbWU6XCJpbWdcIixhdHRyaWJ1dGVzOntzcmM6ITB9fSxtb2RlbDoodCxlKT0+ZS5jcmVhdGVFbGVtZW50KFwiaW1hZ2VcIix7c3JjOnQuZ2V0QXR0cmlidXRlKFwic3JjXCIpfSl9KS5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7dmlldzp7bmFtZTpcImltZ1wiLGtleTpcImFsdFwifSxtb2RlbDpcImFsdFwifSkuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe3ZpZXc6e25hbWU6XCJpbWdcIixrZXk6XCJzcmNzZXRcIn0sbW9kZWw6e2tleTpcInNyY3NldFwiLHZhbHVlOnQ9Pntjb25zdCBlPXtkYXRhOnQuZ2V0QXR0cmlidXRlKFwic3Jjc2V0XCIpfTtyZXR1cm4gdC5oYXNBdHRyaWJ1dGUoXCJ3aWR0aFwiKSYmKGUud2lkdGg9dC5nZXRBdHRyaWJ1dGUoXCJ3aWR0aFwiKSksZX19fSkuYWRkKGZ1bmN0aW9uKCl7cmV0dXJuIGU9PntlLm9uKFwiZWxlbWVudDpmaWd1cmVcIix0KX07ZnVuY3Rpb24gdCh0LGUsbil7aWYoIW4uY29uc3VtYWJsZS50ZXN0KGUudmlld0l0ZW0se25hbWU6ITAsY2xhc3NlczpcImltYWdlXCJ9KSlyZXR1cm47Y29uc3QgaT1BcnJheS5mcm9tKGUudmlld0l0ZW0uZ2V0Q2hpbGRyZW4oKSkuZmluZCh0PT50LmlzKFwiaW1nXCIpKTtpZighaXx8IWkuaGFzQXR0cmlidXRlKFwic3JjXCIpfHwhbi5jb25zdW1hYmxlLnRlc3QoaSx7bmFtZTohMH0pKXJldHVybjtjb25zdCBvPW4uY29udmVydEl0ZW0oaSxlLm1vZGVsQ3Vyc29yKSxyPUN1KG8ubW9kZWxSYW5nZS5nZXRJdGVtcygpKTtyJiYobi5jb252ZXJ0Q2hpbGRyZW4oZS52aWV3SXRlbSxuLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KHIsMCkpLGUubW9kZWxSYW5nZT1vLm1vZGVsUmFuZ2UsZS5tb2RlbEN1cnNvcj1vLm1vZGVsQ3Vyc29yKX19KCkpLHQuY29tbWFuZHMuYWRkKFwiaW1hZ2VJbnNlcnRcIixuZXcgZ2godCkpfX1mdW5jdGlvbiB3aCh0KXtjb25zdCBlPXQuY3JlYXRlRW1wdHlFbGVtZW50KFwiaW1nXCIpLG49dC5jcmVhdGVDb250YWluZXJFbGVtZW50KFwiZmlndXJlXCIse2NsYXNzOlwiaW1hZ2VcIn0pO3JldHVybiB0Lmluc2VydCh0LmNyZWF0ZVBvc2l0aW9uQXQobiwwKSxlKSxufWNsYXNzIF9oIGV4dGVuZHMgdHN7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5kb21FdmVudFR5cGU9XCJtb3VzZWRvd25cIn1vbkRvbUV2ZW50KHQpe3RoaXMuZmlyZSh0LnR5cGUsdCl9fW4oNjYpO2NvbnN0IGtoPV9vKFwiQ3RybCtBXCIpO2NsYXNzIHZoIGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJXaWRnZXRcIn1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcsZT10LmRvY3VtZW50O3RoaXMuX3ByZXZpb3VzbHlTZWxlY3RlZD1uZXcgU2V0LHRoaXMuZWRpdG9yLmVkaXRpbmcuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwic2VsZWN0aW9uXCIsKHQsZSxuKT0+e3RoaXMuX2NsZWFyUHJldmlvdXNseVNlbGVjdGVkV2lkZ2V0cyhuLndyaXRlcik7Y29uc3QgaT1uLndyaXRlcixvPWkuZG9jdW1lbnQuc2VsZWN0aW9uLHI9by5nZXRTZWxlY3RlZEVsZW1lbnQoKTtsZXQgcz1udWxsO2Zvcihjb25zdCB0IG9mIG8uZ2V0UmFuZ2VzKCkpZm9yKGNvbnN0IGUgb2YgdCl7Y29uc3QgdD1lLml0ZW07c2godCkmJiF5aCh0LHMpJiYoaS5hZGRDbGFzcyhyaCx0KSx0aGlzLl9wcmV2aW91c2x5U2VsZWN0ZWQuYWRkKHQpLHM9dCx0PT1yJiZpLnNldFNlbGVjdGlvbihvLmdldFJhbmdlcygpLHtmYWtlOiEwLGxhYmVsOmNoKHIpfSkpfX0se3ByaW9yaXR5OlwibG93XCJ9KSx0LmFkZE9ic2VydmVyKF9oKSx0aGlzLmxpc3RlblRvKGUsXCJtb3VzZWRvd25cIiwoLi4udCk9PnRoaXMuX29uTW91c2Vkb3duKC4uLnQpKSx0aGlzLmxpc3RlblRvKGUsXCJrZXlkb3duXCIsKC4uLnQpPT50aGlzLl9vbktleWRvd24oLi4udCkse3ByaW9yaXR5OlwiaGlnaFwifSksdGhpcy5saXN0ZW5UbyhlLFwiZGVsZXRlXCIsKHQsZSk9Pnt0aGlzLl9oYW5kbGVEZWxldGUoXCJmb3J3YXJkXCI9PWUuZGlyZWN0aW9uKSYmKGUucHJldmVudERlZmF1bHQoKSx0LnN0b3AoKSl9LHtwcmlvcml0eTpcImhpZ2hcIn0pfV9vbk1vdXNlZG93bih0LGUpe2NvbnN0IG49dGhpcy5lZGl0b3IsaT1uLmVkaXRpbmcudmlldyxvPWkuZG9jdW1lbnQ7bGV0IHI9ZS50YXJnZXQ7aWYoZnVuY3Rpb24odCl7Zm9yKDt0Oyl7aWYodC5pcyhcImVkaXRhYmxlRWxlbWVudFwiKSYmIXQuaXMoXCJyb290RWxlbWVudFwiKSlyZXR1cm4hMDtpZihzaCh0KSlyZXR1cm4hMTt0PXQucGFyZW50fXJldHVybiExfShyKSl7aWYobW8uaXNTYWZhcmkmJmUuZG9tRXZlbnQuZGV0YWlsPj0zKXtjb25zdCB0PW4uZWRpdGluZy5tYXBwZXIudG9Nb2RlbEVsZW1lbnQocik7dGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKG49PntlLnByZXZlbnREZWZhdWx0KCksbi5zZXRTZWxlY3Rpb24odCxcImluXCIpfSl9cmV0dXJufWlmKCFzaChyKSYmIShyPXIuZmluZEFuY2VzdG9yKHNoKSkpcmV0dXJuO2UucHJldmVudERlZmF1bHQoKSxvLmlzRm9jdXNlZHx8aS5mb2N1cygpO2NvbnN0IHM9bi5lZGl0aW5nLm1hcHBlci50b01vZGVsRWxlbWVudChyKTt0aGlzLl9zZXRTZWxlY3Rpb25PdmVyRWxlbWVudChzKX1fb25LZXlkb3duKHQsZSl7Y29uc3Qgbj1lLmtleUNvZGUsaT1uPT1iby5hcnJvd2Rvd258fG49PWJvLmFycm93cmlnaHQ7bGV0IG89ITE7IWZ1bmN0aW9uKHQpe3JldHVybiB0PT1iby5hcnJvd3JpZ2h0fHx0PT1iby5hcnJvd2xlZnR8fHQ9PWJvLmFycm93dXB8fHQ9PWJvLmFycm93ZG93bn0obik/IWZ1bmN0aW9uKHQpe3JldHVybiB3byh0KT09a2h9KGUpP249PT1iby5lbnRlciYmKG89dGhpcy5faGFuZGxlRW50ZXJLZXkoZS5zaGlmdEtleSkpOm89dGhpcy5fc2VsZWN0QWxsTmVzdGVkRWRpdGFibGVDb250ZW50KCl8fHRoaXMuX3NlbGVjdEFsbENvbnRlbnQoKTpvPXRoaXMuX2hhbmRsZUFycm93S2V5cyhpKSxvJiYoZS5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcCgpKX1faGFuZGxlRGVsZXRlKHQpe2lmKHRoaXMuZWRpdG9yLmlzUmVhZE9ubHkpcmV0dXJuO2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKCFlLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBuPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24odCk7cmV0dXJuIG4/KHRoaXMuZWRpdG9yLm1vZGVsLmNoYW5nZSh0PT57bGV0IGk9ZS5hbmNob3IucGFyZW50O2Zvcig7aS5pc0VtcHR5Oyl7Y29uc3QgZT1pO2k9ZS5wYXJlbnQsdC5yZW1vdmUoZSl9dGhpcy5fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQobil9KSwhMCk6dm9pZCAwfV9oYW5kbGVBcnJvd0tleXModCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuc2NoZW1hLGk9ZS5kb2N1bWVudC5zZWxlY3Rpb24sbz1pLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKG8mJm4uaXNPYmplY3Qobykpe2NvbnN0IG89dD9pLmdldExhc3RQb3NpdGlvbigpOmkuZ2V0Rmlyc3RQb3NpdGlvbigpLHI9bi5nZXROZWFyZXN0U2VsZWN0aW9uUmFuZ2Uobyx0P1wiZm9yd2FyZFwiOlwiYmFja3dhcmRcIik7cmV0dXJuIHImJmUuY2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbihyKX0pLCEwfWlmKCFpLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCByPXRoaXMuX2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24odCk7cmV0dXJuIHImJm4uaXNPYmplY3Qocik/KHRoaXMuX3NldFNlbGVjdGlvbk92ZXJFbGVtZW50KHIpLCEwKTp2b2lkIDB9X2hhbmRsZUVudGVyS2V5KHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihmdW5jdGlvbih0LGUpe3JldHVybiB0JiZlLmlzT2JqZWN0KHQpJiYhZS5pc0lubGluZSh0KX0obixlLnNjaGVtYSkpcmV0dXJuIGUuY2hhbmdlKGk9PntsZXQgbz1pLmNyZWF0ZVBvc2l0aW9uQXQobix0P1wiYmVmb3JlXCI6XCJhZnRlclwiKTtjb25zdCByPWkuY3JlYXRlRWxlbWVudChcInBhcmFncmFwaFwiKTtpZihlLnNjaGVtYS5pc0Jsb2NrKG4ucGFyZW50KSl7Y29uc3QgdD1lLnNjaGVtYS5maW5kQWxsb3dlZFBhcmVudChvLHIpO289aS5zcGxpdChvLHQpLnBvc2l0aW9ufWkuaW5zZXJ0KHIsbyksaS5zZXRTZWxlY3Rpb24ocixcImluXCIpfSksITB9X3NlbGVjdEFsbE5lc3RlZEVkaXRhYmxlQ29udGVudCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50LnNlbGVjdGlvbixuPXQuc2NoZW1hLmdldExpbWl0RWxlbWVudChlKTtyZXR1cm4gZS5nZXRGaXJzdFJhbmdlKCkucm9vdCE9biYmKHQuY2hhbmdlKHQ9Pnt0LnNldFNlbGVjdGlvbih0LmNyZWF0ZVJhbmdlSW4obikpfSksITApfV9zZWxlY3RBbGxDb250ZW50KCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXRoaXMuZWRpdG9yLmVkaXRpbmcsbj1lLnZpZXcuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2lmKG4mJnNoKG4pKXtjb25zdCBpPWUubWFwcGVyLnRvTW9kZWxFbGVtZW50KG4ucGFyZW50KTtyZXR1cm4gdC5jaGFuZ2UodD0+e3Quc2V0U2VsZWN0aW9uKHQuY3JlYXRlUmFuZ2VJbihpKSl9KSwhMH1yZXR1cm4hMX1fc2V0U2VsZWN0aW9uT3ZlckVsZW1lbnQodCl7dGhpcy5lZGl0b3IubW9kZWwuY2hhbmdlKGU9PntlLnNldFNlbGVjdGlvbihlLmNyZWF0ZVJhbmdlT24odCkpfSl9X2dldE9iamVjdEVsZW1lbnROZXh0VG9TZWxlY3Rpb24odCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuc2NoZW1hLGk9ZS5kb2N1bWVudC5zZWxlY3Rpb24sbz1lLmNyZWF0ZVNlbGVjdGlvbihpKTtlLm1vZGlmeVNlbGVjdGlvbihvLHtkaXJlY3Rpb246dD9cImZvcndhcmRcIjpcImJhY2t3YXJkXCJ9KTtjb25zdCByPXQ/by5mb2N1cy5ub2RlQmVmb3JlOm8uZm9jdXMubm9kZUFmdGVyO3JldHVybiByJiZuLmlzT2JqZWN0KHIpP3I6bnVsbH1fY2xlYXJQcmV2aW91c2x5U2VsZWN0ZWRXaWRnZXRzKHQpe2Zvcihjb25zdCBlIG9mIHRoaXMuX3ByZXZpb3VzbHlTZWxlY3RlZCl0LnJlbW92ZUNsYXNzKHJoLGUpO3RoaXMuX3ByZXZpb3VzbHlTZWxlY3RlZC5jbGVhcigpfX1mdW5jdGlvbiB5aCh0LGUpe3JldHVybiEhZSYmQXJyYXkuZnJvbSh0LmdldEFuY2VzdG9ycygpKS5pbmNsdWRlcyhlKX1jbGFzcyB4aCBleHRlbmRzIFhse3JlZnJlc2goKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRTZWxlY3RlZEVsZW1lbnQoKTt0aGlzLmlzRW5hYmxlZD1maCh0KSxmaCh0KSYmdC5oYXNBdHRyaWJ1dGUoXCJhbHRcIik/dGhpcy52YWx1ZT10LmdldEF0dHJpYnV0ZShcImFsdFwiKTp0aGlzLnZhbHVlPSExfWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkRWxlbWVudCgpO2UuY2hhbmdlKGU9PntlLnNldEF0dHJpYnV0ZShcImFsdFwiLHQubmV3VmFsdWUsbil9KX19Y2xhc3MgQWggZXh0ZW5kcyBHbHtpbml0KCl7dGhpcy5lZGl0b3IuY29tbWFuZHMuYWRkKFwiaW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIixuZXcgeGgodGhpcy5lZGl0b3IpKX19ZnVuY3Rpb24gQ2goe2VtaXR0ZXI6dCxhY3RpdmF0b3I6ZSxjYWxsYmFjazpuLGNvbnRleHRFbGVtZW50czppfSl7dC5saXN0ZW5Ubyhkb2N1bWVudCxcIm1vdXNlZG93blwiLCh0LHt0YXJnZXQ6b30pPT57aWYoZSgpKXtmb3IoY29uc3QgdCBvZiBpKWlmKHQuY29udGFpbnMobykpcmV0dXJuO24oKX19KX1uKDY4KTtjbGFzcyBUaCBleHRlbmRzIE9se2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCk7Y29uc3Qgbj1gY2staW5wdXQtJHtLbigpfWAsaT1gY2stc3RhdHVzLSR7S24oKX1gO3RoaXMuc2V0KFwibGFiZWxcIiksdGhpcy5zZXQoXCJ2YWx1ZVwiKSx0aGlzLnNldChcImlzUmVhZE9ubHlcIiwhMSksdGhpcy5zZXQoXCJlcnJvclRleHRcIixudWxsKSx0aGlzLnNldChcImluZm9UZXh0XCIsbnVsbCksdGhpcy5sYWJlbFZpZXc9dGhpcy5fY3JlYXRlTGFiZWxWaWV3KG4pLHRoaXMuaW5wdXRWaWV3PXRoaXMuX2NyZWF0ZUlucHV0VmlldyhlLG4saSksdGhpcy5zdGF0dXNWaWV3PXRoaXMuX2NyZWF0ZVN0YXR1c1ZpZXcoaSksdGhpcy5iaW5kKFwiX3N0YXR1c1RleHRcIikudG8odGhpcyxcImVycm9yVGV4dFwiLHRoaXMsXCJpbmZvVGV4dFwiLCh0LGUpPT50fHxlKTtjb25zdCBvPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1sYWJlbGVkLWlucHV0XCIsby5pZihcImlzUmVhZE9ubHlcIixcImNrLWRpc2FibGVkXCIpXX0sY2hpbGRyZW46W3RoaXMubGFiZWxWaWV3LHRoaXMuaW5wdXRWaWV3LHRoaXMuc3RhdHVzVmlld119KX1fY3JlYXRlTGFiZWxWaWV3KHQpe2NvbnN0IGU9bmV3IERsKHRoaXMubG9jYWxlKTtyZXR1cm4gZS5mb3I9dCxlLmJpbmQoXCJ0ZXh0XCIpLnRvKHRoaXMsXCJsYWJlbFwiKSxlfV9jcmVhdGVJbnB1dFZpZXcodCxlLG4pe2NvbnN0IGk9bmV3IHQodGhpcy5sb2NhbGUsbik7cmV0dXJuIGkuaWQ9ZSxpLmFyaWFEZXNyaWJlZEJ5SWQ9bixpLmJpbmQoXCJ2YWx1ZVwiKS50byh0aGlzKSxpLmJpbmQoXCJpc1JlYWRPbmx5XCIpLnRvKHRoaXMpLGkuYmluZChcImhhc0Vycm9yXCIpLnRvKHRoaXMsXCJlcnJvclRleHRcIix0PT4hIXQpLGkub24oXCJpbnB1dFwiLCgpPT57dGhpcy5lcnJvclRleHQ9bnVsbH0pLGl9X2NyZWF0ZVN0YXR1c1ZpZXcodCl7Y29uc3QgZT1uZXcgT2wodGhpcy5sb2NhbGUpLG49dGhpcy5iaW5kVGVtcGxhdGU7cmV0dXJuIGUuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1sYWJlbGVkLWlucHV0X19zdGF0dXNcIixuLmlmKFwiZXJyb3JUZXh0XCIsXCJjay1sYWJlbGVkLWlucHV0X19zdGF0dXNfZXJyb3JcIiksbi5pZihcIl9zdGF0dXNUZXh0XCIsXCJjay1oaWRkZW5cIix0PT4hdCldLGlkOnR9LGNoaWxkcmVuOlt7dGV4dDpuLnRvKFwiX3N0YXR1c1RleHRcIil9XX0pLGV9c2VsZWN0KCl7dGhpcy5pbnB1dFZpZXcuc2VsZWN0KCl9Zm9jdXMoKXt0aGlzLmlucHV0Vmlldy5mb2N1cygpfX1uKDcwKTtjbGFzcyBQaCBleHRlbmRzIE9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0KFwidmFsdWVcIiksdGhpcy5zZXQoXCJpZFwiKSx0aGlzLnNldChcInBsYWNlaG9sZGVyXCIpLHRoaXMuc2V0KFwiaXNSZWFkT25seVwiLCExKSx0aGlzLnNldChcImhhc0Vycm9yXCIsITEpLHRoaXMuc2V0KFwiYXJpYURlc3JpYmVkQnlJZFwiKTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImlucHV0XCIsYXR0cmlidXRlczp7dHlwZTpcInRleHRcIixjbGFzczpbXCJja1wiLFwiY2staW5wdXRcIixcImNrLWlucHV0LXRleHRcIixlLmlmKFwiaGFzRXJyb3JcIixcImNrLWVycm9yXCIpXSxpZDplLnRvKFwiaWRcIikscGxhY2Vob2xkZXI6ZS50byhcInBsYWNlaG9sZGVyXCIpLHJlYWRvbmx5OmUudG8oXCJpc1JlYWRPbmx5XCIpLFwiYXJpYS1pbnZhbGlkXCI6ZS5pZihcImhhc0Vycm9yXCIsITApLFwiYXJpYS1kZXNjcmliZWRieVwiOmUudG8oXCJhcmlhRGVzcmliZWRCeUlkXCIpfSxvbjp7aW5wdXQ6ZS50byhcImlucHV0XCIpfX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpO2NvbnN0IHQ9dD0+e3RoaXMuZWxlbWVudC52YWx1ZT10fHwwPT09dD90OlwiXCJ9O3QodGhpcy52YWx1ZSksdGhpcy5vbihcImNoYW5nZTp2YWx1ZVwiLChlLG4saSk9Pnt0KGkpfSl9c2VsZWN0KCl7dGhpcy5lbGVtZW50LnNlbGVjdCgpfWZvY3VzKCl7dGhpcy5lbGVtZW50LmZvY3VzKCl9fWZ1bmN0aW9uIE1oKHt2aWV3OnR9KXt0Lmxpc3RlblRvKHQuZWxlbWVudCxcInN1Ym1pdFwiLChlLG4pPT57bi5wcmV2ZW50RGVmYXVsdCgpLHQuZmlyZShcInN1Ym1pdFwiKX0se3VzZUNhcHR1cmU6ITB9KX12YXIgRWg9big3KSxTaD1uLm4oRWgpLEloPW4oOCksTmg9bi5uKEloKTtuKDcyKTtjbGFzcyBPaCBleHRlbmRzIE9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5sb2NhbGUudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgb2wsdGhpcy5rZXlzdHJva2VzPW5ldyBRYyx0aGlzLmxhYmVsZWRJbnB1dD10aGlzLl9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImF5XCIpLFNoLmEsXCJjay1idXR0b24tc2F2ZVwiKSx0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9XCJzdWJtaXRcIix0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhelwiKSxOaC5hLFwiY2stYnV0dG9uLWNhbmNlbFwiLFwiY2FuY2VsXCIpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IGZsLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBVbCh7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJmb3JtXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXRleHQtYWx0ZXJuYXRpdmUtZm9ybVwiXSx0YWJpbmRleDpcIi0xXCJ9LGNoaWxkcmVuOlt0aGlzLmxhYmVsZWRJbnB1dCx0aGlzLnNhdmVCdXR0b25WaWV3LHRoaXMuY2FuY2VsQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KSxNaCh7dmlldzp0aGlzfSksW3RoaXMubGFiZWxlZElucHV0LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XS5mb3JFYWNoKHQ9Pnt0aGlzLl9mb2N1c2FibGVzLmFkZCh0KSx0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KX0pfV9jcmVhdGVCdXR0b24odCxlLG4saSl7Y29uc3Qgbz1uZXcgV2QodGhpcy5sb2NhbGUpO3JldHVybiBvLnNldCh7bGFiZWw6dCxpY29uOmUsdG9vbHRpcDohMH0pLG8uZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOm59fSksaSYmby5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxpKSxvfV9jcmVhdGVMYWJlbGVkSW5wdXRWaWV3KCl7Y29uc3QgdD10aGlzLmxvY2FsZS50LGU9bmV3IFRoKHRoaXMubG9jYWxlLFBoKTtyZXR1cm4gZS5sYWJlbD10KFwiYnFcIiksZS5pbnB1dFZpZXcucGxhY2Vob2xkZXI9dChcImJxXCIpLGV9fWZ1bmN0aW9uIFJoKHtlbGVtZW50OnQsdGFyZ2V0OmUscG9zaXRpb25zOm4sbGltaXRlcjppLGZpdEluVmlld3BvcnQ6b30pe1coZSkmJihlPWUoKSksVyhpKSYmKGk9aSgpKTtjb25zdCByPWZ1bmN0aW9uKHQpe2Zvcig7dCYmXCJodG1sXCIhPXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpOyl7aWYoXCJzdGF0aWNcIiE9bnIud2luZG93LmdldENvbXB1dGVkU3R5bGUodCkucG9zaXRpb24pcmV0dXJuIHQ7dD10LnBhcmVudEVsZW1lbnR9cmV0dXJuIG51bGx9KHQucGFyZW50RWxlbWVudCkscz1uZXcgQXModCksYT1uZXcgQXMoZSk7bGV0IGMsbDtpZihpfHxvKXtjb25zdCB0PWkmJm5ldyBBcyhpKS5nZXRWaXNpYmxlKCksZT1vJiZuZXcgQXMobnIud2luZG93KTtbbCxjXT1mdW5jdGlvbih0LGUsbixpLG8pe2xldCByLHMsYT0wLGM9MDtjb25zdCBsPW4uZ2V0QXJlYSgpO3JldHVybiB0LnNvbWUodD0+e2NvbnN0W2QsdV09RGgodCxlLG4pO2xldCBoLGY7aWYoaSlpZihvKXtjb25zdCB0PWkuZ2V0SW50ZXJzZWN0aW9uKG8pO2g9dD90LmdldEludGVyc2VjdGlvbkFyZWEodSk6MH1lbHNlIGg9aS5nZXRJbnRlcnNlY3Rpb25BcmVhKHUpO2Z1bmN0aW9uIG0oKXtjPWYsYT1oLHI9dSxzPWR9cmV0dXJuIG8mJihmPW8uZ2V0SW50ZXJzZWN0aW9uQXJlYSh1KSksbyYmIWk/Zj5jJiZtKCk6IW8mJmk/aD5hJiZtKCk6Zj5jJiZoPj1hP20oKTpmPj1jJiZoPmEmJm0oKSxoPT09bH0pLHI/W3Mscl06bnVsbH0obixhLHMsdCxlKXx8RGgoblswXSxhLHMpfWVsc2VbbCxjXT1EaChuWzBdLGEscyk7bGV0e2xlZnQ6ZCx0b3A6dX09TGgoYyk7aWYocil7Y29uc3QgdD1MaChuZXcgQXMocikpLGU9eXMocik7ZC09dC5sZWZ0LHUtPXQudG9wLGQrPXIuc2Nyb2xsTGVmdCx1Kz1yLnNjcm9sbFRvcCxkLT1lLmxlZnQsdS09ZS50b3B9cmV0dXJue2xlZnQ6ZCx0b3A6dSxuYW1lOmx9fWZ1bmN0aW9uIERoKHQsZSxuKXtjb25zdHtsZWZ0OmksdG9wOm8sbmFtZTpyfT10KGUsbik7cmV0dXJuW3Isbi5jbG9uZSgpLm1vdmVUbyhpLG8pXX1mdW5jdGlvbiBMaCh7bGVmdDp0LHRvcDplfSl7Y29uc3R7c2Nyb2xsWDpuLHNjcm9sbFk6aX09bnIud2luZG93O3JldHVybntsZWZ0OnQrbix0b3A6ZStpfX1uKDc0KTtjb25zdCBqaD1CbChcInB4XCIpLFZoPW5yLmRvY3VtZW50LmJvZHk7Y2xhc3MgQmggZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwidG9wXCIsMCksdGhpcy5zZXQoXCJsZWZ0XCIsMCksdGhpcy5zZXQoXCJwb3NpdGlvblwiLFwiYXJyb3dfbndcIiksdGhpcy5zZXQoXCJpc1Zpc2libGVcIiwhMSksdGhpcy5zZXQoXCJ3aXRoQXJyb3dcIiwhMCksdGhpcy5zZXQoXCJjbGFzc1wiKSx0aGlzLmNvbnRlbnQ9dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLWJhbGxvb24tcGFuZWxcIixlLnRvKFwicG9zaXRpb25cIix0PT5gY2stYmFsbG9vbi1wYW5lbF8ke3R9YCksZS5pZihcImlzVmlzaWJsZVwiLFwiY2stYmFsbG9vbi1wYW5lbF92aXNpYmxlXCIpLGUuaWYoXCJ3aXRoQXJyb3dcIixcImNrLWJhbGxvb24tcGFuZWxfd2l0aC1hcnJvd1wiKSxlLnRvKFwiY2xhc3NcIildLHN0eWxlOnt0b3A6ZS50byhcInRvcFwiLGpoKSxsZWZ0OmUudG8oXCJsZWZ0XCIsamgpfX0sY2hpbGRyZW46dGhpcy5jb250ZW50fSl9c2hvdygpe3RoaXMuaXNWaXNpYmxlPSEwfWhpZGUoKXt0aGlzLmlzVmlzaWJsZT0hMX1hdHRhY2hUbyh0KXt0aGlzLnNob3coKTtjb25zdCBlPUJoLmRlZmF1bHRQb3NpdGlvbnMsbj1PYmplY3QuYXNzaWduKHt9LHtlbGVtZW50OnRoaXMuZWxlbWVudCxwb3NpdGlvbnM6W2Uuc291dGhBcnJvd05vcnRoLGUuc291dGhBcnJvd05vcnRoV2VzdCxlLnNvdXRoQXJyb3dOb3J0aEVhc3QsZS5ub3J0aEFycm93U291dGgsZS5ub3J0aEFycm93U291dGhXZXN0LGUubm9ydGhBcnJvd1NvdXRoRWFzdF0sbGltaXRlcjpWaCxmaXRJblZpZXdwb3J0OiEwfSx0KSx7dG9wOmksbGVmdDpvLG5hbWU6cn09QmguX2dldE9wdGltYWxQb3NpdGlvbihuKTtPYmplY3QuYXNzaWduKHRoaXMse3RvcDppLGxlZnQ6byxwb3NpdGlvbjpyfSl9cGluKHQpe3RoaXMudW5waW4oKSx0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2s9KCgpPT57dGhpcy5pc1Zpc2libGU/dGhpcy5fc3RhcnRQaW5uaW5nKHQpOnRoaXMuX3N0b3BQaW5uaW5nKCl9KSx0aGlzLl9zdGFydFBpbm5pbmcodCksdGhpcy5saXN0ZW5Ubyh0aGlzLFwiY2hhbmdlOmlzVmlzaWJsZVwiLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjayl9dW5waW4oKXt0aGlzLl9waW5XaGVuSXNWaXNpYmxlQ2FsbGJhY2smJih0aGlzLl9zdG9wUGlubmluZygpLHRoaXMuc3RvcExpc3RlbmluZyh0aGlzLFwiY2hhbmdlOmlzVmlzaWJsZVwiLHRoaXMuX3BpbldoZW5Jc1Zpc2libGVDYWxsYmFjayksdGhpcy5fcGluV2hlbklzVmlzaWJsZUNhbGxiYWNrPW51bGwsdGhpcy5oaWRlKCkpfV9zdGFydFBpbm5pbmcodCl7dGhpcy5hdHRhY2hUbyh0KTtjb25zdCBlPXpoKHQudGFyZ2V0KSxuPXQubGltaXRlcj96aCh0LmxpbWl0ZXIpOlZoO3RoaXMubGlzdGVuVG8obnIuZG9jdW1lbnQsXCJzY3JvbGxcIiwoaSxvKT0+e2NvbnN0IHI9by50YXJnZXQscz1lJiZyLmNvbnRhaW5zKGUpLGE9biYmci5jb250YWlucyhuKTshcyYmIWEmJmUmJm58fHRoaXMuYXR0YWNoVG8odCl9LHt1c2VDYXB0dXJlOiEwfSksdGhpcy5saXN0ZW5Ubyhuci53aW5kb3csXCJyZXNpemVcIiwoKT0+e3RoaXMuYXR0YWNoVG8odCl9KX1fc3RvcFBpbm5pbmcoKXt0aGlzLnN0b3BMaXN0ZW5pbmcobnIuZG9jdW1lbnQsXCJzY3JvbGxcIiksdGhpcy5zdG9wTGlzdGVuaW5nKG5yLndpbmRvdyxcInJlc2l6ZVwiKX19ZnVuY3Rpb24gemgodCl7cmV0dXJuIFduKHQpP3Q6dnModCk/dC5jb21tb25BbmNlc3RvckNvbnRhaW5lcjpcImZ1bmN0aW9uXCI9PXR5cGVvZiB0P3poKHQoKSk6bnVsbH1mdW5jdGlvbiBGaCh0LGUpe3JldHVybiB0LnRvcC1lLmhlaWdodC1CaC5hcnJvd1ZlcnRpY2FsT2Zmc2V0fWZ1bmN0aW9uIFVoKHQpe3JldHVybiB0LmJvdHRvbStCaC5hcnJvd1ZlcnRpY2FsT2Zmc2V0fUJoLmFycm93SG9yaXpvbnRhbE9mZnNldD0yNSxCaC5hcnJvd1ZlcnRpY2FsT2Zmc2V0PTEwLEJoLl9nZXRPcHRpbWFsUG9zaXRpb249UmgsQmguZGVmYXVsdFBvc2l0aW9ucz17bm9ydGhBcnJvd1NvdXRoOih0LGUpPT4oe3RvcDpGaCh0LGUpLGxlZnQ6dC5sZWZ0K3Qud2lkdGgvMi1lLndpZHRoLzIsbmFtZTpcImFycm93X3NcIn0pLG5vcnRoQXJyb3dTb3V0aEVhc3Q6KHQsZSk9Pih7dG9wOkZoKHQsZSksbGVmdDp0LmxlZnQrdC53aWR0aC8yLWUud2lkdGgrQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zZVwifSksbm9ydGhBcnJvd1NvdXRoV2VzdDoodCxlKT0+KHt0b3A6RmgodCxlKSxsZWZ0OnQubGVmdCt0LndpZHRoLzItQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zd1wifSksbm9ydGhXZXN0QXJyb3dTb3V0aDoodCxlKT0+KHt0b3A6RmgodCxlKSxsZWZ0OnQubGVmdC1lLndpZHRoLzIsbmFtZTpcImFycm93X3NcIn0pLG5vcnRoV2VzdEFycm93U291dGhXZXN0Oih0LGUpPT4oe3RvcDpGaCh0LGUpLGxlZnQ6dC5sZWZ0LUJoLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfc3dcIn0pLG5vcnRoV2VzdEFycm93U291dGhFYXN0Oih0LGUpPT4oe3RvcDpGaCh0LGUpLGxlZnQ6dC5sZWZ0LWUud2lkdGgrQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zZVwifSksbm9ydGhFYXN0QXJyb3dTb3V0aDoodCxlKT0+KHt0b3A6RmgodCxlKSxsZWZ0OnQucmlnaHQtZS53aWR0aC8yLG5hbWU6XCJhcnJvd19zXCJ9KSxub3J0aEVhc3RBcnJvd1NvdXRoRWFzdDoodCxlKT0+KHt0b3A6RmgodCxlKSxsZWZ0OnQucmlnaHQtZS53aWR0aCtCaC5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X3NlXCJ9KSxub3J0aEVhc3RBcnJvd1NvdXRoV2VzdDoodCxlKT0+KHt0b3A6RmgodCxlKSxsZWZ0OnQucmlnaHQtQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19zd1wifSksc291dGhBcnJvd05vcnRoOih0LGUpPT4oe3RvcDpVaCh0KSxsZWZ0OnQubGVmdCt0LndpZHRoLzItZS53aWR0aC8yLG5hbWU6XCJhcnJvd19uXCJ9KSxzb3V0aEFycm93Tm9ydGhFYXN0Oih0LGUpPT4oe3RvcDpVaCh0KSxsZWZ0OnQubGVmdCt0LndpZHRoLzItZS53aWR0aCtCaC5hcnJvd0hvcml6b250YWxPZmZzZXQsbmFtZTpcImFycm93X25lXCJ9KSxzb3V0aEFycm93Tm9ydGhXZXN0Oih0LGUpPT4oe3RvcDpVaCh0KSxsZWZ0OnQubGVmdCt0LndpZHRoLzItQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19ud1wifSksc291dGhXZXN0QXJyb3dOb3J0aDoodCxlKT0+KHt0b3A6VWgodCksbGVmdDp0LmxlZnQtZS53aWR0aC8yLG5hbWU6XCJhcnJvd19uXCJ9KSxzb3V0aFdlc3RBcnJvd05vcnRoV2VzdDoodCxlKT0+KHt0b3A6VWgodCksbGVmdDp0LmxlZnQtQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19ud1wifSksc291dGhXZXN0QXJyb3dOb3J0aEVhc3Q6KHQsZSk9Pih7dG9wOlVoKHQpLGxlZnQ6dC5sZWZ0LWUud2lkdGgrQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19uZVwifSksc291dGhFYXN0QXJyb3dOb3J0aDoodCxlKT0+KHt0b3A6VWgodCksbGVmdDp0LnJpZ2h0LWUud2lkdGgvMixuYW1lOlwiYXJyb3dfblwifSksc291dGhFYXN0QXJyb3dOb3J0aEVhc3Q6KHQsZSk9Pih7dG9wOlVoKHQpLGxlZnQ6dC5yaWdodC1lLndpZHRoK0JoLmFycm93SG9yaXpvbnRhbE9mZnNldCxuYW1lOlwiYXJyb3dfbmVcIn0pLHNvdXRoRWFzdEFycm93Tm9ydGhXZXN0Oih0LGUpPT4oe3RvcDpVaCh0KSxsZWZ0OnQucmlnaHQtQmguYXJyb3dIb3Jpem9udGFsT2Zmc2V0LG5hbWU6XCJhcnJvd19ud1wifSl9O2NsYXNzIEhoIGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJDb250ZXh0dWFsQmFsbG9vblwifWluaXQoKXt0aGlzLnZpZXc9bmV3IEJoLHRoaXMucG9zaXRpb25MaW1pdGVyPSgoKT0+e2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LGU9dC5kb2N1bWVudC5zZWxlY3Rpb24uZWRpdGFibGVFbGVtZW50O3JldHVybiBlP3QuZG9tQ29udmVydGVyLm1hcFZpZXdUb0RvbShlLnJvb3QpOm51bGx9KSx0aGlzLl9zdGFjaz1uZXcgTWFwLHRoaXMuZWRpdG9yLnVpLnZpZXcuYm9keS5hZGQodGhpcy52aWV3KSx0aGlzLmVkaXRvci51aS5mb2N1c1RyYWNrZXIuYWRkKHRoaXMudmlldy5lbGVtZW50KX1nZXQgdmlzaWJsZVZpZXcoKXtjb25zdCB0PXRoaXMuX3N0YWNrLmdldCh0aGlzLnZpZXcuY29udGVudC5nZXQoMCkpO3JldHVybiB0P3QudmlldzpudWxsfWhhc1ZpZXcodCl7cmV0dXJuIHRoaXMuX3N0YWNrLmhhcyh0KX1hZGQodCl7aWYodGhpcy5oYXNWaWV3KHQudmlldykpdGhyb3cgbmV3IEduLmIoXCJjb250ZXh0dWFsYmFsbG9vbi1hZGQtdmlldy1leGlzdDogQ2Fubm90IGFkZCBjb25maWd1cmF0aW9uIG9mIHRoZSBzYW1lIHZpZXcgdHdpY2UuXCIpO3RoaXMudmlzaWJsZVZpZXcmJnRoaXMudmlldy5jb250ZW50LnJlbW92ZSh0aGlzLnZpc2libGVWaWV3KSx0aGlzLl9zdGFjay5zZXQodC52aWV3LHQpLHRoaXMuX3Nob3codCl9cmVtb3ZlKHQpe2lmKCF0aGlzLmhhc1ZpZXcodCkpdGhyb3cgbmV3IEduLmIoXCJjb250ZXh0dWFsYmFsbG9vbi1yZW1vdmUtdmlldy1ub3QtZXhpc3Q6IENhbm5vdCByZW1vdmUgY29uZmlndXJhdGlvbiBvZiBub3QgZXhpc3Rpbmcgdmlldy5cIik7aWYodGhpcy52aXNpYmxlVmlldz09PXQpe3RoaXMudmlldy5jb250ZW50LnJlbW92ZSh0KSx0aGlzLl9zdGFjay5kZWxldGUodCk7Y29uc3QgZT1BcnJheS5mcm9tKHRoaXMuX3N0YWNrLnZhbHVlcygpKS5wb3AoKTtlP3RoaXMuX3Nob3coZSk6dGhpcy52aWV3LmhpZGUoKX1lbHNlIHRoaXMuX3N0YWNrLmRlbGV0ZSh0KX11cGRhdGVQb3NpdGlvbih0KXt0JiYodGhpcy5fc3RhY2suZ2V0KHRoaXMudmlzaWJsZVZpZXcpLnBvc2l0aW9uPXQpLHRoaXMudmlldy5waW4odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uKCkpfV9zaG93KHt2aWV3OnQsYmFsbG9vbkNsYXNzTmFtZTplPVwiXCJ9KXt0aGlzLnZpZXcuY2xhc3M9ZSx0aGlzLnZpZXcuY29udGVudC5hZGQodCksdGhpcy52aWV3LnBpbih0aGlzLl9nZXRCYWxsb29uUG9zaXRpb24oKSl9X2dldEJhbGxvb25Qb3NpdGlvbigpe2xldCB0PUFycmF5LmZyb20odGhpcy5fc3RhY2sudmFsdWVzKCkpLnBvcCgpLnBvc2l0aW9uO3JldHVybiB0JiYhdC5saW1pdGVyJiYodD1PYmplY3QuYXNzaWduKHt9LHQse2xpbWl0ZXI6dGhpcy5wb3NpdGlvbkxpbWl0ZXJ9KSksdH19dmFyIHFoPW4oMjgpLFdoPW4ubihxaCk7ZnVuY3Rpb24gWWgodCl7Y29uc3QgZT10LmVkaXRpbmcudmlldyxuPUJoLmRlZmF1bHRQb3NpdGlvbnM7cmV0dXJue3RhcmdldDplLmRvbUNvbnZlcnRlci52aWV3VG9Eb20oZS5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCkpLHBvc2l0aW9uczpbbi5ub3J0aEFycm93U291dGgsbi5ub3J0aEFycm93U291dGhXZXN0LG4ubm9ydGhBcnJvd1NvdXRoRWFzdCxuLnNvdXRoQXJyb3dOb3J0aCxuLnNvdXRoQXJyb3dOb3J0aFdlc3Qsbi5zb3V0aEFycm93Tm9ydGhFYXN0XX19Y2xhc3MgJGggZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0hoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVGV4dEFsdGVybmF0aXZlVUlcIn1pbml0KCl7dGhpcy5fY3JlYXRlQnV0dG9uKCksdGhpcy5fY3JlYXRlRm9ybSgpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5fZm9ybS5kZXN0cm95KCl9X2NyZWF0ZUJ1dHRvbigpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImltYWdlVGV4dEFsdGVybmF0aXZlXCIsbj0+e2NvbnN0IGk9dC5jb21tYW5kcy5nZXQoXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiKSxvPW5ldyBXZChuKTtyZXR1cm4gby5zZXQoe2xhYmVsOmUoXCJicFwiKSxpY29uOldoLmEsdG9vbHRpcDohMH0pLG8uYmluZChcImlzRW5hYmxlZFwiKS50byhpLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8obyxcImV4ZWN1dGVcIiwoKT0+dGhpcy5fc2hvd0Zvcm0oKSksb30pfV9jcmVhdGVGb3JtKCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuZWRpdGluZy52aWV3LmRvY3VtZW50O3RoaXMuX2JhbGxvb249dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJDb250ZXh0dWFsQmFsbG9vblwiKSx0aGlzLl9mb3JtPW5ldyBPaCh0LmxvY2FsZSksdGhpcy5fZm9ybS5yZW5kZXIoKSx0aGlzLmxpc3RlblRvKHRoaXMuX2Zvcm0sXCJzdWJtaXRcIiwoKT0+e3QuZXhlY3V0ZShcImltYWdlVGV4dEFsdGVybmF0aXZlXCIse25ld1ZhbHVlOnRoaXMuX2Zvcm0ubGFiZWxlZElucHV0LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlfSksdGhpcy5faGlkZUZvcm0oITApfSksdGhpcy5saXN0ZW5Ubyh0aGlzLl9mb3JtLFwiY2FuY2VsXCIsKCk9Pnt0aGlzLl9oaWRlRm9ybSghMCl9KSx0aGlzLl9mb3JtLmtleXN0cm9rZXMuc2V0KFwiRXNjXCIsKHQsZSk9Pnt0aGlzLl9oaWRlRm9ybSghMCksZSgpfSksdGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9PntoaChlLnNlbGVjdGlvbik/dGhpcy5faXNWaXNpYmxlJiZmdW5jdGlvbih0KXtjb25zdCBlPXQucGx1Z2lucy5nZXQoXCJDb250ZXh0dWFsQmFsbG9vblwiKTtpZihoaCh0LmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pKXtjb25zdCBuPVloKHQpO2UudXBkYXRlUG9zaXRpb24obil9fSh0KTp0aGlzLl9oaWRlRm9ybSghMCl9KSxDaCh7ZW1pdHRlcjp0aGlzLl9mb3JtLGFjdGl2YXRvcjooKT0+dGhpcy5faXNWaXNpYmxlLGNvbnRleHRFbGVtZW50czpbdGhpcy5fZm9ybS5lbGVtZW50XSxjYWxsYmFjazooKT0+dGhpcy5faGlkZUZvcm0oKX0pfV9zaG93Rm9ybSgpe2lmKHRoaXMuX2lzVmlzaWJsZSlyZXR1cm47Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuY29tbWFuZHMuZ2V0KFwiaW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIiksbj10aGlzLl9mb3JtLmxhYmVsZWRJbnB1dDt0aGlzLl9iYWxsb29uLmhhc1ZpZXcodGhpcy5fZm9ybSl8fHRoaXMuX2JhbGxvb24uYWRkKHt2aWV3OnRoaXMuX2Zvcm0scG9zaXRpb246WWgodCl9KSxuLnZhbHVlPW4uaW5wdXRWaWV3LmVsZW1lbnQudmFsdWU9ZS52YWx1ZXx8XCJcIix0aGlzLl9mb3JtLmxhYmVsZWRJbnB1dC5zZWxlY3QoKX1faGlkZUZvcm0odCl7dGhpcy5faXNWaXNpYmxlJiYodGhpcy5fZm9ybS5zYXZlQnV0dG9uVmlldy5mb2N1cygpLHRoaXMuX2JhbGxvb24ucmVtb3ZlKHRoaXMuX2Zvcm0pLHQmJnRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5mb2N1cygpKX1nZXQgX2lzVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLl9mb3JtfX1jbGFzcyBHaCBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bQWgsJGhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VUZXh0QWx0ZXJuYXRpdmVcIn19big3Nik7Y2xhc3MgUWggZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2JoLHZoLEdoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlXCJ9fWNsYXNzIEpoIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5idXR0b25WaWV3PW5ldyBXZCh0KSx0aGlzLl9maWxlSW5wdXRWaWV3PW5ldyBLaCh0KSx0aGlzLl9maWxlSW5wdXRWaWV3LmJpbmQoXCJhY2NlcHRlZFR5cGVcIikudG8odGhpcyksdGhpcy5fZmlsZUlucHV0Vmlldy5iaW5kKFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIpLnRvKHRoaXMpLHRoaXMuX2ZpbGVJbnB1dFZpZXcuZGVsZWdhdGUoXCJkb25lXCIpLnRvKHRoaXMpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpcImNrLWZpbGUtZGlhbG9nLWJ1dHRvblwifSxjaGlsZHJlbjpbdGhpcy5idXR0b25WaWV3LHRoaXMuX2ZpbGVJbnB1dFZpZXddfSksdGhpcy5idXR0b25WaWV3Lm9uKFwiZXhlY3V0ZVwiLCgpPT57dGhpcy5fZmlsZUlucHV0Vmlldy5vcGVuKCl9KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX1jbGFzcyBLaCBleHRlbmRzIE9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc2V0KFwiYWNjZXB0ZWRUeXBlXCIpLHRoaXMuc2V0KFwiYWxsb3dNdWx0aXBsZUZpbGVzXCIsITEpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiaW5wdXRcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJjay1oaWRkZW5cIl0sdHlwZTpcImZpbGVcIix0YWJpbmRleDpcIi0xXCIsYWNjZXB0OmUudG8oXCJhY2NlcHRlZFR5cGVcIiksbXVsdGlwbGU6ZS50byhcImFsbG93TXVsdGlwbGVGaWxlc1wiKX0sb246e2NoYW5nZTplLnRvKCgpPT57dGhpcy5lbGVtZW50JiZ0aGlzLmVsZW1lbnQuZmlsZXMmJnRoaXMuZWxlbWVudC5maWxlcy5sZW5ndGgmJnRoaXMuZmlyZShcImRvbmVcIix0aGlzLmVsZW1lbnQuZmlsZXMpLHRoaXMuZWxlbWVudC52YWx1ZT1cIlwifSl9fSl9b3Blbigpe3RoaXMuZWxlbWVudC5jbGljaygpfX12YXIgWmg9bigyOSksWGg9bi5uKFpoKTtmdW5jdGlvbiB0Zih0KXtyZXR1cm4vXmltYWdlXFwvKGpwZWd8cG5nfGdpZnxibXApJC8udGVzdCh0LnR5cGUpfWZ1bmN0aW9uIGVmKHQpe3JldHVybiBuZXcgUHJvbWlzZSgoZSxuKT0+e2NvbnN0IGk9dC5nZXRBdHRyaWJ1dGUoXCJzcmNcIik7ZmV0Y2goaSkudGhlbih0PT50LmJsb2IoKSkudGhlbih0PT57Y29uc3Qgbz1mdW5jdGlvbih0LGUpe3JldHVybiB0LnR5cGU/dC50eXBlOmUubWF0Y2goL2RhdGE6KGltYWdlXFwvXFx3Kyk7YmFzZTY0Lyk/ZS5tYXRjaCgvZGF0YTooaW1hZ2VcXC9cXHcrKTtiYXNlNjQvKVsxXS50b0xvd2VyQ2FzZSgpOlwiaW1hZ2UvanBlZ1wifSh0LGkpLHI9ZnVuY3Rpb24odCxlLG4pe3RyeXtyZXR1cm4gbmV3IEZpbGUoW3RdLGUse3R5cGU6bn0pfWNhdGNoKHQpe3JldHVybiBudWxsfX0odCxgaW1hZ2UuJHtvLnJlcGxhY2UoXCJpbWFnZS9cIixcIlwiKX1gLG8pO3I/ZShyKTpuKCl9KS5jYXRjaChuKX0pfWNsYXNzIG5mIGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LnQ7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImltYWdlVXBsb2FkXCIsbj0+e2NvbnN0IGk9bmV3IEpoKG4pLG89dC5jb21tYW5kcy5nZXQoXCJpbWFnZVVwbG9hZFwiKTtyZXR1cm4gaS5zZXQoe2FjY2VwdGVkVHlwZTpcImltYWdlLypcIixhbGxvd011bHRpcGxlRmlsZXM6ITB9KSxpLmJ1dHRvblZpZXcuc2V0KHtsYWJlbDplKFwiblwiKSxpY29uOlhoLmEsdG9vbHRpcDohMH0pLGkuYnV0dG9uVmlldy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG8pLGkub24oXCJkb25lXCIsKGUsbik9Pntjb25zdCBpPUFycmF5LmZyb20obikuZmlsdGVyKHRmKTtpLmxlbmd0aCYmdC5leGVjdXRlKFwiaW1hZ2VVcGxvYWRcIix7ZmlsZTppfSl9KSxpfSl9fXZhciBvZj1uKDMwKSxyZj1uLm4ob2YpO24oNzgpLG4oODApLG4oODIpO2NsYXNzIHNmIGV4dGVuZHMgR2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5wbGFjZWhvbGRlcj1cImRhdGE6aW1hZ2Uvc3ZnK3htbDt1dGY4LFwiK2VuY29kZVVSSUNvbXBvbmVudChyZi5hKX1pbml0KCl7dGhpcy5lZGl0b3IuZWRpdGluZy5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6dXBsb2FkU3RhdHVzOmltYWdlXCIsKC4uLnQpPT50aGlzLnVwbG9hZFN0YXR1c0NoYW5nZSguLi50KSl9dXBsb2FkU3RhdHVzQ2hhbmdlKHQsZSxuKXtjb25zdCBpPXRoaXMuZWRpdG9yLG89ZS5pdGVtLHI9by5nZXRBdHRyaWJ1dGUoXCJ1cGxvYWRJZFwiKTtpZighbi5jb25zdW1hYmxlLmNvbnN1bWUoZS5pdGVtLHQubmFtZSkpcmV0dXJuO2NvbnN0IHM9aS5wbHVnaW5zLmdldCh0dSksYT1yP2UuYXR0cmlidXRlTmV3VmFsdWU6bnVsbCxjPXRoaXMucGxhY2Vob2xkZXIsbD1pLmVkaXRpbmcubWFwcGVyLnRvVmlld0VsZW1lbnQobyksZD1uLndyaXRlcjtpZihcInJlYWRpbmdcIj09YSlyZXR1cm4gYWYobCxkKSx2b2lkIGNmKGMsbCxkKTtpZihcInVwbG9hZGluZ1wiPT1hKXtjb25zdCB0PXMubG9hZGVycy5nZXQocik7cmV0dXJuIGFmKGwsZCksdm9pZCh0PyhsZihsLGQpLGZ1bmN0aW9uKHQsZSxuLGkpe2NvbnN0IG89ZnVuY3Rpb24odCl7Y29uc3QgZT10LmNyZWF0ZVVJRWxlbWVudChcImRpdlwiLHtjbGFzczpcImNrLXByb2dyZXNzLWJhclwifSk7cmV0dXJuIHQuc2V0Q3VzdG9tUHJvcGVydHkoXCJwcm9ncmVzc0JhclwiLCEwLGUpLGV9KGUpO2UuaW5zZXJ0KGUuY3JlYXRlUG9zaXRpb25BdCh0LFwiZW5kXCIpLG8pLG4ub24oXCJjaGFuZ2U6dXBsb2FkZWRQZXJjZW50XCIsKHQsZSxuKT0+e2kuY2hhbmdlKHQ9Pnt0LnNldFN0eWxlKFwid2lkdGhcIixuK1wiJVwiLG8pfSl9KX0obCxkLHQsaS5lZGl0aW5nLnZpZXcpKTpjZihjLGwsZCkpfVwiY29tcGxldGVcIj09YSYmcy5sb2FkZXJzLmdldChyKSYmIW1vLmlzRWRnZSYmZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9ZS5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIix7Y2xhc3M6XCJjay1pbWFnZS11cGxvYWQtY29tcGxldGUtaWNvblwifSk7ZS5pbnNlcnQoZS5jcmVhdGVQb3NpdGlvbkF0KHQsXCJlbmRcIiksaSksc2V0VGltZW91dCgoKT0+e24uY2hhbmdlKHQ9PnQucmVtb3ZlKHQuY3JlYXRlUmFuZ2VPbihpKSkpfSwzZTMpfShsLGQsaS5lZGl0aW5nLnZpZXcpLGZ1bmN0aW9uKHQsZSl7dWYodCxlLFwicHJvZ3Jlc3NCYXJcIil9KGwsZCksbGYobCxkKSxmdW5jdGlvbih0LGUpe2UucmVtb3ZlQ2xhc3MoXCJjay1hcHBlYXJcIix0KX0obCxkKX19ZnVuY3Rpb24gYWYodCxlKXt0Lmhhc0NsYXNzKFwiY2stYXBwZWFyXCIpfHxlLmFkZENsYXNzKFwiY2stYXBwZWFyXCIsdCl9ZnVuY3Rpb24gY2YodCxlLG4pe2UuaGFzQ2xhc3MoXCJjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJcIil8fG4uYWRkQ2xhc3MoXCJjay1pbWFnZS11cGxvYWQtcGxhY2Vob2xkZXJcIixlKTtjb25zdCBpPWUuZ2V0Q2hpbGQoMCk7aS5nZXRBdHRyaWJ1dGUoXCJzcmNcIikhPT10JiZuLnNldEF0dHJpYnV0ZShcInNyY1wiLHQsaSksZGYoZSxcInBsYWNlaG9sZGVyXCIpfHxuLmluc2VydChuLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoaSksZnVuY3Rpb24odCl7Y29uc3QgZT10LmNyZWF0ZVVJRWxlbWVudChcImRpdlwiLHtjbGFzczpcImNrLXVwbG9hZC1wbGFjZWhvbGRlci1sb2FkZXJcIn0pO3JldHVybiB0LnNldEN1c3RvbVByb3BlcnR5KFwicGxhY2Vob2xkZXJcIiwhMCxlKSxlfShuKSl9ZnVuY3Rpb24gbGYodCxlKXt0Lmhhc0NsYXNzKFwiY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyXCIpJiZlLnJlbW92ZUNsYXNzKFwiY2staW1hZ2UtdXBsb2FkLXBsYWNlaG9sZGVyXCIsdCksdWYodCxlLFwicGxhY2Vob2xkZXJcIil9ZnVuY3Rpb24gZGYodCxlKXtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpaWYobi5nZXRDdXN0b21Qcm9wZXJ0eShlKSlyZXR1cm4gbn1mdW5jdGlvbiB1Zih0LGUsbil7Y29uc3QgaT1kZih0LG4pO2kmJmUucmVtb3ZlKGUuY3JlYXRlUmFuZ2VPbihpKSl9Y2xhc3MgaGZ7Y3JlYXRlRG9jdW1lbnRGcmFnbWVudCh0KXtyZXR1cm4gbmV3IEFvKHQpfWNyZWF0ZUVsZW1lbnQodCxlLG4pe3JldHVybiBuZXcgX2kodCxlLG4pfWNyZWF0ZVRleHQodCl7cmV0dXJuIG5ldyBmaSh0KX1jbG9uZSh0LGU9ITEpe3JldHVybiB0Ll9jbG9uZShlKX1hcHBlbmRDaGlsZCh0LGUpe3JldHVybiBlLl9hcHBlbmRDaGlsZCh0KX1pbnNlcnRDaGlsZCh0LGUsbil7cmV0dXJuIG4uX2luc2VydENoaWxkKHQsZSl9cmVtb3ZlQ2hpbGRyZW4odCxlLG4pe3JldHVybiBuLl9yZW1vdmVDaGlsZHJlbih0LGUpfXJlbW92ZSh0KXtjb25zdCBlPXQucGFyZW50O3JldHVybiBlP3RoaXMucmVtb3ZlQ2hpbGRyZW4oZS5nZXRDaGlsZEluZGV4KHQpLDEsZSk6W119cmVwbGFjZSh0LGUpe2NvbnN0IG49dC5wYXJlbnQ7aWYobil7Y29uc3QgaT1uLmdldENoaWxkSW5kZXgodCk7cmV0dXJuIHRoaXMucmVtb3ZlQ2hpbGRyZW4oaSwxLG4pLHRoaXMuaW5zZXJ0Q2hpbGQoaSxlLG4pLCEwfXJldHVybiExfXJlbmFtZSh0LGUpe2NvbnN0IG49bmV3IF9pKHQsZS5nZXRBdHRyaWJ1dGVzKCksZS5nZXRDaGlsZHJlbigpKTtyZXR1cm4gdGhpcy5yZXBsYWNlKGUsbik/bjpudWxsfXNldEF0dHJpYnV0ZSh0LGUsbil7bi5fc2V0QXR0cmlidXRlKHQsZSl9cmVtb3ZlQXR0cmlidXRlKHQsZSl7ZS5fcmVtb3ZlQXR0cmlidXRlKHQpfWFkZENsYXNzKHQsZSl7ZS5fYWRkQ2xhc3ModCl9cmVtb3ZlQ2xhc3ModCxlKXtlLl9yZW1vdmVDbGFzcyh0KX1zZXRTdHlsZSh0LGUsbil7Qyh0KSYmdm9pZCAwPT09biYmKG49ZSksbi5fc2V0U3R5bGUodCxlKX1yZW1vdmVTdHlsZSh0LGUpe2UuX3JlbW92ZVN0eWxlKHQpfXNldEN1c3RvbVByb3BlcnR5KHQsZSxuKXtuLl9zZXRDdXN0b21Qcm9wZXJ0eSh0LGUpfXJlbW92ZUN1c3RvbVByb3BlcnR5KHQsZSl7cmV0dXJuIGUuX3JlbW92ZUN1c3RvbVByb3BlcnR5KHQpfWNyZWF0ZVBvc2l0aW9uQXQodCxlKXtyZXR1cm4gWmkuX2NyZWF0ZUF0KHQsZSl9Y3JlYXRlUG9zaXRpb25BZnRlcih0KXtyZXR1cm4gWmkuX2NyZWF0ZUFmdGVyKHQpfWNyZWF0ZVBvc2l0aW9uQmVmb3JlKHQpe3JldHVybiBaaS5fY3JlYXRlQmVmb3JlKHQpfWNyZWF0ZVJhbmdlKHQsZSl7cmV0dXJuIG5ldyBYaSh0LGUpfWNyZWF0ZVJhbmdlT24odCl7cmV0dXJuIFhpLl9jcmVhdGVPbih0KX1jcmVhdGVSYW5nZUluKHQpe3JldHVybiBYaS5fY3JlYXRlSW4odCl9Y3JlYXRlU2VsZWN0aW9uKHQsZSxuKXtyZXR1cm4gbmV3IG5vKHQsZSxuKX19Y2xhc3MgZmYgZXh0ZW5kcyBYbHtyZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9cGgodGhpcy5lZGl0b3IubW9kZWwpfWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvcixuPWUubW9kZWwsaT1lLnBsdWdpbnMuZ2V0KHR1KTtuLmNoYW5nZShlPT57Y29uc3Qgbz1BcnJheS5pc0FycmF5KHQuZmlsZSk/dC5maWxlOlt0LmZpbGVdO2Zvcihjb25zdCB0IG9mIG8pbWYoZSxuLGksdCl9KX19ZnVuY3Rpb24gbWYodCxlLG4saSl7Y29uc3Qgbz1uLmNyZWF0ZUxvYWRlcihpKTtvJiZtaCh0LGUse3VwbG9hZElkOm8uaWR9KX1jbGFzcyBwZiBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bdHUsanVdfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5kb2N1bWVudCxuPXQubW9kZWwuc2NoZW1hLGk9dC5jb252ZXJzaW9uLG89dC5wbHVnaW5zLmdldCh0dSk7bi5leHRlbmQoXCJpbWFnZVwiLHthbGxvd0F0dHJpYnV0ZXM6W1widXBsb2FkSWRcIixcInVwbG9hZFN0YXR1c1wiXX0pLHQuY29tbWFuZHMuYWRkKFwiaW1hZ2VVcGxvYWRcIixuZXcgZmYodCkpLGkuZm9yKFwidXBjYXN0XCIpLmF0dHJpYnV0ZVRvQXR0cmlidXRlKHt2aWV3OntuYW1lOlwiaW1nXCIsa2V5OlwidXBsb2FkSWRcIn0sbW9kZWw6XCJ1cGxvYWRJZFwifSksdGhpcy5saXN0ZW5Ubyh0LmVkaXRpbmcudmlldy5kb2N1bWVudCxcImNsaXBib2FyZElucHV0XCIsKGUsbik9PntpZihmdW5jdGlvbih0KXtyZXR1cm4gQXJyYXkuZnJvbSh0LnR5cGVzKS5pbmNsdWRlcyhcInRleHQvaHRtbFwiKSYmXCJcIiE9PXQuZ2V0RGF0YShcInRleHQvaHRtbFwiKX0obi5kYXRhVHJhbnNmZXIpKXJldHVybjtjb25zdCBpPUFycmF5LmZyb20obi5kYXRhVHJhbnNmZXIuZmlsZXMpLmZpbHRlcih0PT4hIXQmJnRmKHQpKSxvPW4udGFyZ2V0UmFuZ2VzLm1hcChlPT50LmVkaXRpbmcubWFwcGVyLnRvTW9kZWxSYW5nZShlKSk7dC5tb2RlbC5jaGFuZ2Uobj0+e24uc2V0U2VsZWN0aW9uKG8pLGkubGVuZ3RoJiYoZS5zdG9wKCksdC5tb2RlbC5lbnF1ZXVlQ2hhbmdlKFwiZGVmYXVsdFwiLCgpPT57dC5leGVjdXRlKFwiaW1hZ2VVcGxvYWRcIix7ZmlsZTppfSl9KSl9KX0pLHQucGx1Z2lucy5oYXMoXCJDbGlwYm9hcmRcIikmJnRoaXMubGlzdGVuVG8odC5wbHVnaW5zLmdldChcIkNsaXBib2FyZFwiKSxcImlucHV0VHJhbnNmb3JtYXRpb25cIiwoZSxuKT0+e2NvbnN0IGk9QXJyYXkuZnJvbSh0LmVkaXRpbmcudmlldy5jcmVhdGVSYW5nZUluKG4uY29udGVudCkpLmZpbHRlcih0PT4oZnVuY3Rpb24odCl7cmV0dXJuISghdC5pcyhcImVsZW1lbnRcIixcImltZ1wiKXx8IXQuZ2V0QXR0cmlidXRlKFwic3JjXCIpKSYmKHQuZ2V0QXR0cmlidXRlKFwic3JjXCIpLm1hdGNoKC9eZGF0YTppbWFnZVxcL1xcdys7YmFzZTY0LC9nKXx8dC5nZXRBdHRyaWJ1dGUoXCJzcmNcIikubWF0Y2goL15ibG9iOi9nKSl9KSh0Lml0ZW0pJiYhdC5pdGVtLmdldEF0dHJpYnV0ZShcInVwbG9hZFByb2Nlc3NlZFwiKSkubWFwKHQ9Pih7cHJvbWlzZTplZih0Lml0ZW0pLGltYWdlRWxlbWVudDp0Lml0ZW19KSk7aWYoIWkubGVuZ3RoKXJldHVybjtjb25zdCByPW5ldyBoZjtmb3IoY29uc3QgdCBvZiBpKXtyLnNldEF0dHJpYnV0ZShcInVwbG9hZFByb2Nlc3NlZFwiLCEwLHQuaW1hZ2VFbGVtZW50KTtjb25zdCBlPW8uY3JlYXRlTG9hZGVyKHQucHJvbWlzZSk7ZSYmKHIuc2V0QXR0cmlidXRlKFwic3JjXCIsXCJcIix0LmltYWdlRWxlbWVudCksci5zZXRBdHRyaWJ1dGUoXCJ1cGxvYWRJZFwiLGUuaWQsdC5pbWFnZUVsZW1lbnQpKX19KSx0LmVkaXRpbmcudmlldy5kb2N1bWVudC5vbihcImRyYWdvdmVyXCIsKHQsZSk9PntlLnByZXZlbnREZWZhdWx0KCl9KSxlLm9uKFwiY2hhbmdlXCIsKCk9Pntjb25zdCB0PWUuZGlmZmVyLmdldENoYW5nZXMoe2luY2x1ZGVDaGFuZ2VzSW5HcmF2ZXlhcmQ6ITB9KTtmb3IoY29uc3QgZSBvZiB0KWlmKFwiaW5zZXJ0XCI9PWUudHlwZSYmXCJpbWFnZVwiPT1lLm5hbWUpe2NvbnN0IHQ9ZS5wb3NpdGlvbi5ub2RlQWZ0ZXIsbj1cIiRncmF2ZXlhcmRcIj09ZS5wb3NpdGlvbi5yb290LnJvb3ROYW1lLGk9dC5nZXRBdHRyaWJ1dGUoXCJ1cGxvYWRJZFwiKTtpZighaSljb250aW51ZTtjb25zdCByPW8ubG9hZGVycy5nZXQoaSk7aWYoIXIpY29udGludWU7bj9yLmFib3J0KCk6XCJpZGxlXCI9PXIuc3RhdHVzJiZ0aGlzLl9yZWFkQW5kVXBsb2FkKHIsdCl9fSl9X3JlYWRBbmRVcGxvYWQodCxlKXtjb25zdCBuPXRoaXMuZWRpdG9yLGk9bi5tb2RlbCxvPW4ubG9jYWxlLnQscj1uLnBsdWdpbnMuZ2V0KHR1KSxzPW4ucGx1Z2lucy5nZXQoanUpO3JldHVybiBpLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9Pnt0LnNldEF0dHJpYnV0ZShcInVwbG9hZFN0YXR1c1wiLFwicmVhZGluZ1wiLGUpfSksdC5yZWFkKCkudGhlbihvPT57Y29uc3Qgcj1uLmVkaXRpbmcubWFwcGVyLnRvVmlld0VsZW1lbnQoZSkuZ2V0Q2hpbGQoMCkscz10LnVwbG9hZCgpO3JldHVybiBuLmVkaXRpbmcudmlldy5jaGFuZ2UodD0+e3Quc2V0QXR0cmlidXRlKFwic3JjXCIsbyxyKX0pLGkuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+e3Quc2V0QXR0cmlidXRlKFwidXBsb2FkU3RhdHVzXCIsXCJ1cGxvYWRpbmdcIixlKX0pLHN9KS50aGVuKHQ9PntpLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLG49PntuLnNldEF0dHJpYnV0ZXMoe3VwbG9hZFN0YXR1czpcImNvbXBsZXRlXCIsc3JjOnQuZGVmYXVsdH0sZSksdGhpcy5fcGFyc2VBbmRTZXRTcmNzZXRBdHRyaWJ1dGVPbkltYWdlKHQsZSxuKX0pLGEoKX0pLmNhdGNoKG49PntpZihcImVycm9yXCIhPT10LnN0YXR1cyYmXCJhYm9ydGVkXCIhPT10LnN0YXR1cyl0aHJvdyBuO1wiZXJyb3JcIj09dC5zdGF0dXMmJm4mJnMuc2hvd1dhcm5pbmcobix7dGl0bGU6byhcImFqXCIpLG5hbWVzcGFjZTpcInVwbG9hZFwifSksYSgpLGkuZW5xdWV1ZUNoYW5nZShcInRyYW5zcGFyZW50XCIsdD0+e3QucmVtb3ZlKGUpfSl9KTtmdW5jdGlvbiBhKCl7aS5lbnF1ZXVlQ2hhbmdlKFwidHJhbnNwYXJlbnRcIix0PT57dC5yZW1vdmVBdHRyaWJ1dGUoXCJ1cGxvYWRJZFwiLGUpLHQucmVtb3ZlQXR0cmlidXRlKFwidXBsb2FkU3RhdHVzXCIsZSl9KSxyLmRlc3Ryb3lMb2FkZXIodCl9fV9wYXJzZUFuZFNldFNyY3NldEF0dHJpYnV0ZU9uSW1hZ2UodCxlLG4pe2xldCBpPTA7Y29uc3Qgbz1PYmplY3Qua2V5cyh0KS5maWx0ZXIodD0+e2NvbnN0IGU9cGFyc2VJbnQodCwxMCk7aWYoIWlzTmFOKGUpKXJldHVybiBpPU1hdGgubWF4KGksZSksITB9KS5tYXAoZT0+YCR7dFtlXX0gJHtlfXdgKS5qb2luKFwiLCBcIik7XCJcIiE9byYmbi5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIix7ZGF0YTpvLHdpZHRoOml9LGUpfX1jbGFzcyBnZiBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VVcGxvYWRcIn1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3BmLG5mLHNmXX19Y2xhc3MgYmYgZXh0ZW5kcyBYbHtyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPUN1KHQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3RoaXMudmFsdWU9ISFlJiZlLmlzKFwicGFyYWdyYXBoXCIpLHRoaXMuaXNFbmFibGVkPSEhZSYmd2YoZSx0LnNjaGVtYSl9ZXhlY3V0ZSh0PXt9KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLG49ZS5kb2N1bWVudDtlLmNoYW5nZShpPT57Y29uc3Qgbz0odC5zZWxlY3Rpb258fG4uc2VsZWN0aW9uKS5nZXRTZWxlY3RlZEJsb2NrcygpO2Zvcihjb25zdCB0IG9mIG8pIXQuaXMoXCJwYXJhZ3JhcGhcIikmJndmKHQsZS5zY2hlbWEpJiZpLnJlbmFtZSh0LFwicGFyYWdyYXBoXCIpfSl9fWZ1bmN0aW9uIHdmKHQsZSl7cmV0dXJuIGUuY2hlY2tDaGlsZCh0LnBhcmVudCxcInBhcmFncmFwaFwiKSYmIWUuaXNPYmplY3QodCl9Y2xhc3MgX2YgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlBhcmFncmFwaFwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbCxuPXQuZGF0YTt0LmNvbW1hbmRzLmFkZChcInBhcmFncmFwaFwiLG5ldyBiZih0KSksZS5zY2hlbWEucmVnaXN0ZXIoXCJwYXJhZ3JhcGhcIix7aW5oZXJpdEFsbEZyb206XCIkYmxvY2tcIn0pLHQuY29udmVyc2lvbi5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcInBhcmFncmFwaFwiLHZpZXc6XCJwXCJ9KSx0LmNvbnZlcnNpb24uZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOih0LGUpPT5fZi5wYXJhZ3JhcGhMaWtlRWxlbWVudHMuaGFzKHQubmFtZSk/dC5pc0VtcHR5P251bGw6ZS5jcmVhdGVFbGVtZW50KFwicGFyYWdyYXBoXCIpOm51bGwsY29udmVydGVyUHJpb3JpdHk6XCJsb3dcIn0pLG4udXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnRcIiwodCxlLG4pPT57bi5jb25zdW1hYmxlLnRlc3QoZS52aWV3SXRlbSx7bmFtZTplLnZpZXdJdGVtLm5hbWV9KSYmdmYoZS52aWV3SXRlbSxlLm1vZGVsQ3Vyc29yLG4uc2NoZW1hKSYmT2JqZWN0LmFzc2lnbihlLGtmKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcixuKSl9LHtwcmlvcml0eTpcImxvd1wifSksbi51cGNhc3REaXNwYXRjaGVyLm9uKFwidGV4dFwiLCh0LGUsbik9PntlLm1vZGVsUmFuZ2V8fHZmKGUudmlld0l0ZW0sZS5tb2RlbEN1cnNvcixuLnNjaGVtYSkmJk9iamVjdC5hc3NpZ24oZSxrZihlLnZpZXdJdGVtLGUubW9kZWxDdXJzb3IsbikpfSx7cHJpb3JpdHk6XCJsb3dlc3RcIn0pLGUuZG9jdW1lbnQucmVnaXN0ZXJQb3N0Rml4ZXIodD0+dGhpcy5fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCkpLHQuZGF0YS5vbihcInJlYWR5XCIsKCk9PntlLmVucXVldWVDaGFuZ2UoXCJ0cmFuc3BhcmVudFwiLHQ9PnRoaXMuX2F1dG9wYXJhZ3JhcGhFbXB0eVJvb3RzKHQpKX0se3ByaW9yaXR5OlwibG93ZXN0XCJ9KX1fYXV0b3BhcmFncmFwaEVtcHR5Um9vdHModCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbDtmb3IoY29uc3QgbiBvZiBlLmRvY3VtZW50LmdldFJvb3ROYW1lcygpKXtjb25zdCBpPWUuZG9jdW1lbnQuZ2V0Um9vdChuKTtpZihpLmlzRW1wdHkmJlwiJGdyYXZleWFyZFwiIT1pLnJvb3ROYW1lJiZlLnNjaGVtYS5jaGVja0NoaWxkKGksXCJwYXJhZ3JhcGhcIikpcmV0dXJuIHQuaW5zZXJ0RWxlbWVudChcInBhcmFncmFwaFwiLGkpLCEwfX19ZnVuY3Rpb24ga2YodCxlLG4pe2NvbnN0IGk9bi53cml0ZXIuY3JlYXRlRWxlbWVudChcInBhcmFncmFwaFwiKTtyZXR1cm4gbi53cml0ZXIuaW5zZXJ0KGksZSksbi5jb252ZXJ0SXRlbSh0LG4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQoaSwwKSl9ZnVuY3Rpb24gdmYodCxlLG4pe2NvbnN0IGk9bi5jcmVhdGVDb250ZXh0KGUpO3JldHVybiEhbi5jaGVja0NoaWxkKGksXCJwYXJhZ3JhcGhcIikmJiEhbi5jaGVja0NoaWxkKGkucHVzaChcInBhcmFncmFwaFwiKSx0KX1fZi5wYXJhZ3JhcGhMaWtlRWxlbWVudHM9bmV3IFNldChbXCJibG9ja3F1b3RlXCIsXCJkZFwiLFwiZGl2XCIsXCJkdFwiLFwiaDFcIixcImgyXCIsXCJoM1wiLFwiaDRcIixcImg1XCIsXCJoNlwiLFwibGlcIixcInBcIixcInRkXCJdKTtjbGFzcyB5ZiBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5tb2RlbEVsZW1lbnRzPWV9cmVmcmVzaCgpe2NvbnN0IHQ9Q3UodGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3RoaXMudmFsdWU9ISF0JiZ0aGlzLm1vZGVsRWxlbWVudHMuaW5jbHVkZXModC5uYW1lKSYmdC5uYW1lLHRoaXMuaXNFbmFibGVkPSEhdCYmdGhpcy5tb2RlbEVsZW1lbnRzLnNvbWUoZT0+eGYodCxlLHRoaXMuZWRpdG9yLm1vZGVsLnNjaGVtYSkpfWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQsaT10LnZhbHVlO2UuY2hhbmdlKHQ9Pntjb25zdCBvPUFycmF5LmZyb20obi5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSkuZmlsdGVyKHQ9PnhmKHQsaSxlLnNjaGVtYSkpO2Zvcihjb25zdCBlIG9mIG8pZS5pcyhpKXx8dC5yZW5hbWUoZSxpKX0pfX1mdW5jdGlvbiB4Zih0LGUsbil7cmV0dXJuIG4uY2hlY2tDaGlsZCh0LnBhcmVudCxlKSYmIW4uaXNPYmplY3QodCl9Y29uc3QgQWY9XCJwYXJhZ3JhcGhcIjtjbGFzcyBDZiBleHRlbmRzIEdse2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHQuY29uZmlnLmRlZmluZShcImhlYWRpbmdcIix7b3B0aW9uczpbe21vZGVsOlwicGFyYWdyYXBoXCIsdGl0bGU6XCJQYXJhZ3JhcGhcIixjbGFzczpcImNrLWhlYWRpbmdfcGFyYWdyYXBoXCJ9LHttb2RlbDpcImhlYWRpbmcxXCIsdmlldzpcImgyXCIsdGl0bGU6XCJIZWFkaW5nIDFcIixjbGFzczpcImNrLWhlYWRpbmdfaGVhZGluZzFcIn0se21vZGVsOlwiaGVhZGluZzJcIix2aWV3OlwiaDNcIix0aXRsZTpcIkhlYWRpbmcgMlwiLGNsYXNzOlwiY2staGVhZGluZ19oZWFkaW5nMlwifSx7bW9kZWw6XCJoZWFkaW5nM1wiLHZpZXc6XCJoNFwiLHRpdGxlOlwiSGVhZGluZyAzXCIsY2xhc3M6XCJjay1oZWFkaW5nX2hlYWRpbmczXCJ9XX0pfXN0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bX2ZdfWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb25maWcuZ2V0KFwiaGVhZGluZy5vcHRpb25zXCIpLG49W107Zm9yKGNvbnN0IGkgb2YgZSlpLm1vZGVsIT09QWYmJih0Lm1vZGVsLnNjaGVtYS5yZWdpc3RlcihpLm1vZGVsLHtpbmhlcml0QWxsRnJvbTpcIiRibG9ja1wifSksdC5jb252ZXJzaW9uLmVsZW1lbnRUb0VsZW1lbnQoaSksbi5wdXNoKGkubW9kZWwpKTt0aGlzLl9hZGREZWZhdWx0SDFDb252ZXJzaW9uKHQpLHQuY29tbWFuZHMuYWRkKFwiaGVhZGluZ1wiLG5ldyB5Zih0LG4pKX1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb21tYW5kcy5nZXQoXCJlbnRlclwiKSxuPXQuY29uZmlnLmdldChcImhlYWRpbmcub3B0aW9uc1wiKTtlJiZ0aGlzLmxpc3RlblRvKGUsXCJhZnRlckV4ZWN1dGVcIiwoZSxpKT0+e2NvbnN0IG89dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpLnBhcmVudDtuLnNvbWUodD0+by5pcyh0Lm1vZGVsKSkmJiFvLmlzKEFmKSYmMD09PW8uY2hpbGRDb3VudCYmaS53cml0ZXIucmVuYW1lKG8sQWYpfSl9X2FkZERlZmF1bHRIMUNvbnZlcnNpb24odCl7dC5jb252ZXJzaW9uLmZvcihcInVwY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcImhlYWRpbmcxXCIsdmlldzpcImgxXCIsY29udmVydGVyUHJpb3JpdHk6Wm4uZ2V0KFwibG93XCIpKzF9KX19Y2xhc3MgVGZ7Y29uc3RydWN0b3IodCxlKXtlJiZMaSh0aGlzLGUpLHQmJnRoaXMuc2V0KHQpfX1jaShUZixGaSk7Y2xhc3MgUGYgZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXRoaXMuYmluZFRlbXBsYXRlO3RoaXMuc2V0KFwiaXNWaXNpYmxlXCIsITEpLHRoaXMuc2V0KFwicG9zaXRpb25cIixcInNlXCIpLHRoaXMuY2hpbGRyZW49dGhpcy5jcmVhdGVDb2xsZWN0aW9uKCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1kcm9wZG93bl9fcGFuZWxcIixlLnRvKFwicG9zaXRpb25cIix0PT5gY2stZHJvcGRvd25fX3BhbmVsXyR7dH1gKSxlLmlmKFwiaXNWaXNpYmxlXCIsXCJjay1kcm9wZG93bl9fcGFuZWwtdmlzaWJsZVwiKV19LGNoaWxkcmVuOnRoaXMuY2hpbGRyZW4sb246e3NlbGVjdHN0YXJ0OmUudG8odD0+dC5wcmV2ZW50RGVmYXVsdCgpKX19KX1mb2N1cygpe3RoaXMuY2hpbGRyZW4ubGVuZ3RoJiZ0aGlzLmNoaWxkcmVuLmZpcnN0LmZvY3VzKCl9Zm9jdXNMYXN0KCl7aWYodGhpcy5jaGlsZHJlbi5sZW5ndGgpe2NvbnN0IHQ9dGhpcy5jaGlsZHJlbi5sYXN0O1wiZnVuY3Rpb25cIj09dHlwZW9mIHQuZm9jdXNMYXN0P3QuZm9jdXNMYXN0KCk6dC5mb2N1cygpfX19big4NCk7Y2xhc3MgTWYgZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcih0LGUsbil7c3VwZXIodCk7Y29uc3QgaT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLmJ1dHRvblZpZXc9ZSx0aGlzLnBhbmVsVmlldz1uLHRoaXMuc2V0KFwiaXNPcGVuXCIsITEpLHRoaXMuc2V0KFwiaXNFbmFibGVkXCIsITApLHRoaXMuc2V0KFwiY2xhc3NcIiksdGhpcy5zZXQoXCJwYW5lbFBvc2l0aW9uXCIsXCJhdXRvXCIpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBvbCx0aGlzLmtleXN0cm9rZXM9bmV3IFFjLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1kcm9wZG93blwiLGkudG8oXCJjbGFzc1wiKSxpLmlmKFwiaXNFbmFibGVkXCIsXCJjay1kaXNhYmxlZFwiLHQ9PiF0KV19LGNoaWxkcmVuOltlLG5dfSksZS5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6W1wiY2stZHJvcGRvd25fX2J1dHRvblwiXX19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmxpc3RlblRvKHRoaXMuYnV0dG9uVmlldyxcIm9wZW5cIiwoKT0+e3RoaXMuaXNPcGVuPSF0aGlzLmlzT3Blbn0pLHRoaXMucGFuZWxWaWV3LmJpbmQoXCJpc1Zpc2libGVcIikudG8odGhpcyxcImlzT3BlblwiKSx0aGlzLm9uKFwiY2hhbmdlOmlzT3BlblwiLCgpPT57aWYodGhpcy5pc09wZW4paWYoXCJhdXRvXCI9PT10aGlzLnBhbmVsUG9zaXRpb24pe2NvbnN0IHQ9TWYuZGVmYXVsdFBhbmVsUG9zaXRpb25zO3RoaXMucGFuZWxWaWV3LnBvc2l0aW9uPVJoKHtlbGVtZW50OnRoaXMucGFuZWxWaWV3LmVsZW1lbnQsdGFyZ2V0OnRoaXMuYnV0dG9uVmlldy5lbGVtZW50LGZpdEluVmlld3BvcnQ6ITAscG9zaXRpb25zOlt0LnNvdXRoRWFzdCx0LnNvdXRoV2VzdCx0Lm5vcnRoRWFzdCx0Lm5vcnRoV2VzdF19KS5uYW1lfWVsc2UgdGhpcy5wYW5lbFZpZXcucG9zaXRpb249dGhpcy5wYW5lbFBvc2l0aW9ufSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHRoaXMuZWxlbWVudCk7Y29uc3QgdD0odCxlKT0+e3RoaXMuaXNPcGVuJiYodGhpcy5idXR0b25WaWV3LmZvY3VzKCksdGhpcy5pc09wZW49ITEsZSgpKX07dGhpcy5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLCh0LGUpPT57dGhpcy5idXR0b25WaWV3LmlzRW5hYmxlZCYmIXRoaXMuaXNPcGVuJiYodGhpcy5pc09wZW49ITAsZSgpKX0pLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd3JpZ2h0XCIsKHQsZSk9Pnt0aGlzLmlzT3BlbiYmZSgpfSksdGhpcy5rZXlzdHJva2VzLnNldChcImFycm93bGVmdFwiLHQpLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJlc2NcIix0KX1mb2N1cygpe3RoaXMuYnV0dG9uVmlldy5mb2N1cygpfX1NZi5kZWZhdWx0UGFuZWxQb3NpdGlvbnM9e3NvdXRoRWFzdDp0PT4oe3RvcDp0LmJvdHRvbSxsZWZ0OnQubGVmdCxuYW1lOlwic2VcIn0pLHNvdXRoV2VzdDoodCxlKT0+KHt0b3A6dC5ib3R0b20sbGVmdDp0LmxlZnQtZS53aWR0aCt0LndpZHRoLG5hbWU6XCJzd1wifSksbm9ydGhFYXN0Oih0LGUpPT4oe3RvcDp0LnRvcC1lLmhlaWdodCxsZWZ0OnQubGVmdCxuYW1lOlwibmVcIn0pLG5vcnRoV2VzdDoodCxlKT0+KHt0b3A6dC5ib3R0b20tZS5oZWlnaHQsbGVmdDp0LmxlZnQtZS53aWR0aCt0LndpZHRoLG5hbWU6XCJud1wifSl9O3ZhciBFZj1uKDMxKSxTZj1uLm4oRWYpO2NsYXNzIElmIGV4dGVuZHMgV2R7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5hcnJvd1ZpZXc9dGhpcy5fY3JlYXRlQXJyb3dWaWV3KCksdGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7XCJhcmlhLWhhc3BvcHVwXCI6ITB9fSksdGhpcy5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxcIm9wZW5cIil9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCksdGhpcy5jaGlsZHJlbi5hZGQodGhpcy5hcnJvd1ZpZXcpfV9jcmVhdGVBcnJvd1ZpZXcoKXtjb25zdCB0PW5ldyBIZDtyZXR1cm4gdC5jb250ZW50PVNmLmEsdC5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6XCJjay1kcm9wZG93bl9fYXJyb3dcIn19KSx0fX1uKDg2KTtjbGFzcyBOZiBleHRlbmRzIE9se2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuZm9jdXNUcmFja2VyPW5ldyBvbCx0aGlzLmtleXN0cm9rZXM9bmV3IFFjLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBVbCh7Zm9jdXNhYmxlczp0aGlzLml0ZW1zLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwiYXJyb3d1cFwiLGZvY3VzTmV4dDpcImFycm93ZG93blwifX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcInVsXCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIixcImNrLXJlc2V0XCIsXCJjay1saXN0XCJdfSxjaGlsZHJlbjp0aGlzLml0ZW1zfSl9cmVuZGVyKCl7c3VwZXIucmVuZGVyKCk7Zm9yKGNvbnN0IHQgb2YgdGhpcy5pdGVtcyl0aGlzLmZvY3VzVHJhY2tlci5hZGQodC5lbGVtZW50KTt0aGlzLml0ZW1zLm9uKFwiYWRkXCIsKHQsZSk9Pnt0aGlzLmZvY3VzVHJhY2tlci5hZGQoZS5lbGVtZW50KX0pLHRoaXMuaXRlbXMub24oXCJyZW1vdmVcIiwodCxlKT0+e3RoaXMuZm9jdXNUcmFja2VyLnJlbW92ZShlLmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9Zm9jdXNMYXN0KCl7dGhpcy5fZm9jdXNDeWNsZXIuZm9jdXNMYXN0KCl9fWNsYXNzIE9mIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5jaGlsZHJlbj10aGlzLmNyZWF0ZUNvbGxlY3Rpb24oKSx0aGlzLnNldFRlbXBsYXRlKHt0YWc6XCJsaVwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saXN0X19pdGVtXCJdfSxjaGlsZHJlbjp0aGlzLmNoaWxkcmVufSl9Zm9jdXMoKXt0aGlzLmNoaWxkcmVuLmZpcnN0LmZvY3VzKCl9fWNsYXNzIFJmIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwibGlcIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGlzdF9fc2VwYXJhdG9yXCJdfX0pfX1uKDg4KTtjbGFzcyBEZiBleHRlbmRzIFdke2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMudG9nZ2xlU3dpdGNoVmlldz10aGlzLl9jcmVhdGVUb2dnbGVWaWV3KCksdGhpcy5leHRlbmRUZW1wbGF0ZSh7YXR0cmlidXRlczp7Y2xhc3M6XCJjay1zd2l0Y2hidXR0b25cIn19KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSx0aGlzLmNoaWxkcmVuLmFkZCh0aGlzLnRvZ2dsZVN3aXRjaFZpZXcpfV9jcmVhdGVUb2dnbGVWaWV3KCl7Y29uc3QgdD1uZXcgT2w7cmV0dXJuIHQuc2V0VGVtcGxhdGUoe3RhZzpcInNwYW5cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stYnV0dG9uX190b2dnbGVcIl19LGNoaWxkcmVuOlt7dGFnOlwic3BhblwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1idXR0b25fX3RvZ2dsZV9faW5uZXJcIl19fV19KSx0fX1uKDkwKSxuKDkyKTtmdW5jdGlvbiBMZih0LGU9SWYpe2NvbnN0IG49bmV3IGUodCksaT1uZXcgUGYodCksbz1uZXcgTWYodCxuLGkpO3JldHVybiBuLmJpbmQoXCJpc0VuYWJsZWRcIikudG8obyksbiBpbnN0YW5jZW9mIElmP24uYmluZChcImlzT25cIikudG8obyxcImlzT3BlblwiKTpuLmFycm93Vmlldy5iaW5kKFwiaXNPblwiKS50byhvLFwiaXNPcGVuXCIpLGZ1bmN0aW9uKHQpeyhmdW5jdGlvbih0KXt0Lm9uKFwicmVuZGVyXCIsKCk9PntDaCh7ZW1pdHRlcjp0LGFjdGl2YXRvcjooKT0+dC5pc09wZW4sY2FsbGJhY2s6KCk9Pnt0LmlzT3Blbj0hMX0sY29udGV4dEVsZW1lbnRzOlt0LmVsZW1lbnRdfSl9KX0pKHQpLGZ1bmN0aW9uKHQpe3Qub24oXCJleGVjdXRlXCIsZT0+e2Uuc291cmNlIGluc3RhbmNlb2YgRGZ8fCh0LmlzT3Blbj0hMSl9KX0odCksZnVuY3Rpb24odCl7dC5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLChlLG4pPT57dC5pc09wZW4mJih0LnBhbmVsVmlldy5mb2N1cygpLG4oKSl9KSx0LmtleXN0cm9rZXMuc2V0KFwiYXJyb3d1cFwiLChlLG4pPT57dC5pc09wZW4mJih0LnBhbmVsVmlldy5mb2N1c0xhc3QoKSxuKCkpfSl9KHQpfShvKSxvfWZ1bmN0aW9uIGpmKHQsZSl7Y29uc3Qgbj10LmxvY2FsZSxpPXQubGlzdFZpZXc9bmV3IE5mKG4pO2kuaXRlbXMuYmluZFRvKGUpLnVzaW5nKCh7dHlwZTp0LG1vZGVsOmV9KT0+e2lmKFwic2VwYXJhdG9yXCI9PT10KXJldHVybiBuZXcgUmYobik7aWYoXCJidXR0b25cIj09PXR8fFwic3dpdGNoYnV0dG9uXCI9PT10KXtjb25zdCBpPW5ldyBPZihuKTtsZXQgbztyZXR1cm4obz1cImJ1dHRvblwiPT09dD9uZXcgV2Qobik6bmV3IERmKG4pKS5iaW5kKC4uLk9iamVjdC5rZXlzKGUpKS50byhlKSxvLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byhpKSxpLmNoaWxkcmVuLmFkZChvKSxpfX0pLHQucGFuZWxWaWV3LmNoaWxkcmVuLmFkZChpKSxpLml0ZW1zLmRlbGVnYXRlKFwiZXhlY3V0ZVwiKS50byh0KX1uKDE3KTtjbGFzcyBWZiBleHRlbmRzIEdse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC50LG49ZnVuY3Rpb24odCl7Y29uc3QgZT10LnQsbj17UGFyYWdyYXBoOmUoXCJiaVwiKSxcIkhlYWRpbmcgMVwiOmUoXCJialwiKSxcIkhlYWRpbmcgMlwiOmUoXCJia1wiKSxcIkhlYWRpbmcgM1wiOmUoXCJibFwiKSxcIkhlYWRpbmcgNFwiOmUoXCJibVwiKSxcIkhlYWRpbmcgNVwiOmUoXCJiblwiKSxcIkhlYWRpbmcgNlwiOmUoXCJib1wiKX07cmV0dXJuIHQuY29uZmlnLmdldChcImhlYWRpbmcub3B0aW9uc1wiKS5tYXAodD0+e2NvbnN0IGU9blt0LnRpdGxlXTtyZXR1cm4gZSYmZSE9dC50aXRsZSYmKHQudGl0bGU9ZSksdH0pfSh0KSxpPWUoXCJsXCIpLG89ZShcIm1cIik7dC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcImhlYWRpbmdcIixlPT57Y29uc3Qgcj17fSxzPW5ldyBvbyxhPXQuY29tbWFuZHMuZ2V0KFwiaGVhZGluZ1wiKSxjPXQuY29tbWFuZHMuZ2V0KFwicGFyYWdyYXBoXCIpLGw9W2FdO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IGU9e3R5cGU6XCJidXR0b25cIixtb2RlbDpuZXcgVGYoe2xhYmVsOnQudGl0bGUsY2xhc3M6dC5jbGFzcyx3aXRoVGV4dDohMH0pfTtcInBhcmFncmFwaFwiPT09dC5tb2RlbD8oZS5tb2RlbC5iaW5kKFwiaXNPblwiKS50byhjLFwidmFsdWVcIiksZS5tb2RlbC5zZXQoXCJjb21tYW5kTmFtZVwiLFwicGFyYWdyYXBoXCIpLGwucHVzaChjKSk6KGUubW9kZWwuYmluZChcImlzT25cIikudG8oYSxcInZhbHVlXCIsZT0+ZT09PXQubW9kZWwpLGUubW9kZWwuc2V0KHtjb21tYW5kTmFtZTpcImhlYWRpbmdcIixjb21tYW5kVmFsdWU6dC5tb2RlbH0pKSxzLmFkZChlKSxyW3QubW9kZWxdPXQudGl0bGV9Y29uc3QgZD1MZihlKTtyZXR1cm4gamYoZCxzKSxkLmJ1dHRvblZpZXcuc2V0KHtpc09uOiExLHdpdGhUZXh0OiEwLHRvb2x0aXA6b30pLGQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWhlYWRpbmctZHJvcGRvd25cIl19fSksZC5iaW5kKFwiaXNFbmFibGVkXCIpLnRvTWFueShsLFwiaXNFbmFibGVkXCIsKC4uLnQpPT50LnNvbWUodD0+dCkpLGQuYnV0dG9uVmlldy5iaW5kKFwibGFiZWxcIikudG8oYSxcInZhbHVlXCIsYyxcInZhbHVlXCIsKHQsZSk9Pntjb25zdCBuPXR8fGUmJlwicGFyYWdyYXBoXCI7cmV0dXJuIHJbbl0/cltuXTppfSksdGhpcy5saXN0ZW5UbyhkLFwiZXhlY3V0ZVwiLGU9Pnt0LmV4ZWN1dGUoZS5zb3VyY2UuY29tbWFuZE5hbWUsZS5zb3VyY2UuY29tbWFuZFZhbHVlP3t2YWx1ZTplLnNvdXJjZS5jb21tYW5kVmFsdWV9OnZvaWQgMCksdC5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pLGR9KX19ZnVuY3Rpb24gQmYodCl7Zm9yKGNvbnN0IGUgb2YgdC5nZXRDaGlsZHJlbigpKWlmKGUmJmUuaXMoXCJjYXB0aW9uXCIpKXJldHVybiBlO3JldHVybiBudWxsfWZ1bmN0aW9uIHpmKHQpe2NvbnN0IGU9dC5wYXJlbnQ7cmV0dXJuXCJmaWdjYXB0aW9uXCI9PXQubmFtZSYmZSYmXCJmaWd1cmVcIj09ZS5uYW1lJiZlLmhhc0NsYXNzKFwiaW1hZ2VcIik/e25hbWU6ITB9Om51bGx9Y2xhc3MgRmYgZXh0ZW5kcyBHbHtpbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuZWRpdGluZy52aWV3LG49dC5tb2RlbC5zY2hlbWEsaT10LmRhdGEsbz10LmVkaXRpbmcscj10LnQ7bi5yZWdpc3RlcihcImNhcHRpb25cIix7YWxsb3dJbjpcImltYWdlXCIsYWxsb3dDb250ZW50T2Y6XCIkYmxvY2tcIixpc0xpbWl0OiEwfSksdC5tb2RlbC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcih0PT50aGlzLl9pbnNlcnRNaXNzaW5nTW9kZWxDYXB0aW9uRWxlbWVudCh0KSksdC5jb252ZXJzaW9uLmZvcihcInVwY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHt2aWV3OnpmLG1vZGVsOlwiY2FwdGlvblwifSk7aS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6Y2FwdGlvblwiLFVmKHQ9PnQuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcImZpZ2NhcHRpb25cIiksITEpKTtjb25zdCBzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIG49Pntjb25zdCBpPW4uY3JlYXRlRWRpdGFibGVFbGVtZW50KFwiZmlnY2FwdGlvblwiKTtyZXR1cm4gbi5zZXRDdXN0b21Qcm9wZXJ0eShcImltYWdlQ2FwdGlvblwiLCEwLGkpLGFsKHt2aWV3OnQsZWxlbWVudDppLHRleHQ6ZX0pLGxoKGksbil9fShlLHIoXCJhaVwiKSk7by5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnQ6Y2FwdGlvblwiLFVmKHMpKSxvLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydFwiLHRoaXMuX2ZpeENhcHRpb25WaXNpYmlsaXR5KHQ9PnQuaXRlbSkse3ByaW9yaXR5OlwiaGlnaFwifSksby5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmVcIix0aGlzLl9maXhDYXB0aW9uVmlzaWJpbGl0eSh0PT50LnBvc2l0aW9uLnBhcmVudCkse3ByaW9yaXR5OlwiaGlnaFwifSksZS5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcih0PT50aGlzLl91cGRhdGVDYXB0aW9uVmlzaWJpbGl0eSh0KSl9X3VwZGF0ZUNhcHRpb25WaXNpYmlsaXR5KHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IuZWRpdGluZy5tYXBwZXIsbj10aGlzLl9sYXN0U2VsZWN0ZWRDYXB0aW9uO2xldCBpO2NvbnN0IG89dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLHI9by5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZihyJiZyLmlzKFwiaW1hZ2VcIikpe2NvbnN0IHQ9QmYocik7aT1lLnRvVmlld0VsZW1lbnQodCl9Y29uc3Qgcz1IZihvLmdldEZpcnN0UG9zaXRpb24oKS5wYXJlbnQpO2lmKHMmJihpPWUudG9WaWV3RWxlbWVudChzKSksaSlyZXR1cm4gbj9uPT09aT9XZihpLHQpOihxZihuLHQpLHRoaXMuX2xhc3RTZWxlY3RlZENhcHRpb249aSxXZihpLHQpKToodGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1pLFdmKGksdCkpO2lmKG4pe2NvbnN0IGU9cWYobix0KTtyZXR1cm4gdGhpcy5fbGFzdFNlbGVjdGVkQ2FwdGlvbj1udWxsLGV9cmV0dXJuITF9X2ZpeENhcHRpb25WaXNpYmlsaXR5KHQpe3JldHVybihlLG4saSk9Pntjb25zdCBvPUhmKHQobikpLHI9dGhpcy5lZGl0b3IuZWRpdGluZy5tYXBwZXIscz1pLndyaXRlcjtpZihvKXtjb25zdCB0PXIudG9WaWV3RWxlbWVudChvKTt0JiYoby5jaGlsZENvdW50P3MucmVtb3ZlQ2xhc3MoXCJjay1oaWRkZW5cIix0KTpzLmFkZENsYXNzKFwiY2staGlkZGVuXCIsdCkpfX19X2luc2VydE1pc3NpbmdNb2RlbENhcHRpb25FbGVtZW50KHQpe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LmRpZmZlci5nZXRDaGFuZ2VzKCksaT1bXTtmb3IoY29uc3QgdCBvZiBuKWlmKFwiaW5zZXJ0XCI9PXQudHlwZSYmXCIkdGV4dFwiIT10Lm5hbWUpe2NvbnN0IG49dC5wb3NpdGlvbi5ub2RlQWZ0ZXI7aWYobi5pcyhcImltYWdlXCIpJiYhQmYobikmJmkucHVzaChuKSwhbi5pcyhcImltYWdlXCIpJiZuLmNoaWxkQ291bnQpZm9yKGNvbnN0IHQgb2YgZS5jcmVhdGVSYW5nZUluKG4pLmdldEl0ZW1zKCkpdC5pcyhcImltYWdlXCIpJiYhQmYodCkmJmkucHVzaCh0KX1mb3IoY29uc3QgZSBvZiBpKXQuYXBwZW5kRWxlbWVudChcImNhcHRpb25cIixlKTtyZXR1cm4hIWkubGVuZ3RofX1mdW5jdGlvbiBVZih0LGU9ITApe3JldHVybihuLGksbyk9Pntjb25zdCByPWkuaXRlbTtpZigoci5jaGlsZENvdW50fHxlKSYmZmgoci5wYXJlbnQpKXtpZighby5jb25zdW1hYmxlLmNvbnN1bWUoaS5pdGVtLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCBlPW8ubWFwcGVyLnRvVmlld0VsZW1lbnQoaS5yYW5nZS5zdGFydC5wYXJlbnQpLG49dChvLndyaXRlcikscz1vLndyaXRlcjtyLmNoaWxkQ291bnR8fHMuYWRkQ2xhc3MoXCJjay1oaWRkZW5cIixuKSxmdW5jdGlvbih0LGUsbixpKXtjb25zdCBvPWkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQobixcImVuZFwiKTtpLndyaXRlci5pbnNlcnQobyx0KSxpLm1hcHBlci5iaW5kRWxlbWVudHMoZSx0KX0obixpLml0ZW0sZSxvKX19fWZ1bmN0aW9uIEhmKHQpe2NvbnN0IGU9dC5nZXRBbmNlc3RvcnMoe2luY2x1ZGVTZWxmOiEwfSkuZmluZCh0PT5cImNhcHRpb25cIj09dC5uYW1lKTtyZXR1cm4gZSYmZS5wYXJlbnQmJlwiaW1hZ2VcIj09ZS5wYXJlbnQubmFtZT9lOm51bGx9ZnVuY3Rpb24gcWYodCxlKXtyZXR1cm4hdC5jaGlsZENvdW50JiYhdC5oYXNDbGFzcyhcImNrLWhpZGRlblwiKSYmKGUuYWRkQ2xhc3MoXCJjay1oaWRkZW5cIix0KSwhMCl9ZnVuY3Rpb24gV2YodCxlKXtyZXR1cm4hIXQuaGFzQ2xhc3MoXCJjay1oaWRkZW5cIikmJihlLnJlbW92ZUNsYXNzKFwiY2staGlkZGVuXCIsdCksITApfW4oOTUpO2NsYXNzIFlmIGV4dGVuZHMgWGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLl9kZWZhdWx0U3R5bGU9ITEsdGhpcy5zdHlsZXM9ZS5yZWR1Y2UoKHQsZSk9Pih0W2UubmFtZV09ZSxlLmlzRGVmYXVsdCYmKHRoaXMuX2RlZmF1bHRTdHlsZT1lLm5hbWUpLHQpLHt9KX1yZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7aWYodGhpcy5pc0VuYWJsZWQ9ZmgodCksdClpZih0Lmhhc0F0dHJpYnV0ZShcImltYWdlU3R5bGVcIikpe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIpO3RoaXMudmFsdWU9ISF0aGlzLnN0eWxlc1tlXSYmZX1lbHNlIHRoaXMudmFsdWU9dGhpcy5fZGVmYXVsdFN0eWxlO2Vsc2UgdGhpcy52YWx1ZT0hMX1leGVjdXRlKHQpe2NvbnN0IGU9dC52YWx1ZSxuPXRoaXMuZWRpdG9yLm1vZGVsLGk9bi5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRFbGVtZW50KCk7bi5jaGFuZ2UodD0+e3RoaXMuc3R5bGVzW2VdLmlzRGVmYXVsdD90LnJlbW92ZUF0dHJpYnV0ZShcImltYWdlU3R5bGVcIixpKTp0LnNldEF0dHJpYnV0ZShcImltYWdlU3R5bGVcIixlLGkpfSl9fWZ1bmN0aW9uICRmKHQsZSl7Zm9yKGNvbnN0IG4gb2YgZSlpZihuLm5hbWU9PT10KXJldHVybiBufXZhciBHZj1uKDEzKSxRZj1uLm4oR2YpLEpmPW4oMTQpLEtmPW4ubihKZiksWmY9bigxNSksWGY9bi5uKFpmKSx0bT1uKDExKSxlbT1uLm4odG0pO2NvbnN0IG5tPXtmdWxsOntuYW1lOlwiZnVsbFwiLHRpdGxlOlwiRnVsbCBzaXplIGltYWdlXCIsaWNvbjpRZi5hLGlzRGVmYXVsdDohMH0sc2lkZTp7bmFtZTpcInNpZGVcIix0aXRsZTpcIlNpZGUgaW1hZ2VcIixpY29uOmVtLmEsY2xhc3NOYW1lOlwiaW1hZ2Utc3R5bGUtc2lkZVwifSxhbGlnbkxlZnQ6e25hbWU6XCJhbGlnbkxlZnRcIix0aXRsZTpcIkxlZnQgYWxpZ25lZCBpbWFnZVwiLGljb246S2YuYSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1hbGlnbi1sZWZ0XCJ9LGFsaWduQ2VudGVyOntuYW1lOlwiYWxpZ25DZW50ZXJcIix0aXRsZTpcIkNlbnRlcmVkIGltYWdlXCIsaWNvbjpYZi5hLGNsYXNzTmFtZTpcImltYWdlLXN0eWxlLWFsaWduLWNlbnRlclwifSxhbGlnblJpZ2h0OntuYW1lOlwiYWxpZ25SaWdodFwiLHRpdGxlOlwiUmlnaHQgYWxpZ25lZCBpbWFnZVwiLGljb246ZW0uYSxjbGFzc05hbWU6XCJpbWFnZS1zdHlsZS1hbGlnbi1yaWdodFwifX0saW09e2Z1bGw6UWYuYSxsZWZ0OktmLmEscmlnaHQ6ZW0uYSxjZW50ZXI6WGYuYX07ZnVuY3Rpb24gb20odD1bXSl7cmV0dXJuIHQubWFwKHJtKX1mdW5jdGlvbiBybSh0KXtpZihcInN0cmluZ1wiPT10eXBlb2YgdCl7Y29uc3QgZT10O25tW2VdP3Q9T2JqZWN0LmFzc2lnbih7fSxubVtlXSk6KGJzLmEud2FybihcImltYWdlLXN0eWxlLW5vdC1mb3VuZDogVGhlcmUgaXMgbm8gc3VjaCBpbWFnZSBzdHlsZSBvZiBnaXZlbiBuYW1lLlwiLHtuYW1lOmV9KSx0PXtuYW1lOmV9KX1lbHNlIGlmKG5tW3QubmFtZV0pe2NvbnN0IGU9bm1bdC5uYW1lXSxuPU9iamVjdC5hc3NpZ24oe30sdCk7Zm9yKGNvbnN0IGkgaW4gZSl0Lmhhc093blByb3BlcnR5KGkpfHwobltpXT1lW2ldKTt0PW59cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHQuaWNvbiYmaW1bdC5pY29uXSYmKHQuaWNvbj1pbVt0Lmljb25dKSx0fWNsYXNzIHNtIGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZVN0eWxlRWRpdGluZ1wifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5zY2hlbWEsbj10LmRhdGEsaT10LmVkaXRpbmc7dC5jb25maWcuZGVmaW5lKFwiaW1hZ2Uuc3R5bGVzXCIsW1wiZnVsbFwiLFwic2lkZVwiXSk7Y29uc3Qgbz1vbSh0LmNvbmZpZy5nZXQoXCJpbWFnZS5zdHlsZXNcIikpO2UuZXh0ZW5kKFwiaW1hZ2VcIix7YWxsb3dBdHRyaWJ1dGVzOlwiaW1hZ2VTdHlsZVwifSk7Y29uc3Qgcj1mdW5jdGlvbih0KXtyZXR1cm4oZSxuLGkpPT57aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSxlLm5hbWUpKXJldHVybjtjb25zdCBvPSRmKG4uYXR0cmlidXRlTmV3VmFsdWUsdCkscj0kZihuLmF0dHJpYnV0ZU9sZFZhbHVlLHQpLHM9aS5tYXBwZXIudG9WaWV3RWxlbWVudChuLml0ZW0pLGE9aS53cml0ZXI7ciYmYS5yZW1vdmVDbGFzcyhyLmNsYXNzTmFtZSxzKSxvJiZhLmFkZENsYXNzKG8uY2xhc3NOYW1lLHMpfX0obyk7aS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6aW1hZ2VTdHlsZTppbWFnZVwiLHIpLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmltYWdlU3R5bGU6aW1hZ2VcIixyKSxuLnVwY2FzdERpc3BhdGNoZXIub24oXCJlbGVtZW50OmZpZ3VyZVwiLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5maWx0ZXIodD0+IXQuaXNEZWZhdWx0KTtyZXR1cm4odCxuLGkpPT57aWYoIW4ubW9kZWxSYW5nZSlyZXR1cm47Y29uc3Qgbz1uLnZpZXdJdGVtLHI9Q3Uobi5tb2RlbFJhbmdlLmdldEl0ZW1zKCkpO2lmKGkuc2NoZW1hLmNoZWNrQXR0cmlidXRlKHIsXCJpbWFnZVN0eWxlXCIpKWZvcihjb25zdCB0IG9mIGUpaS5jb25zdW1hYmxlLmNvbnN1bWUobyx7Y2xhc3Nlczp0LmNsYXNzTmFtZX0pJiZpLndyaXRlci5zZXRBdHRyaWJ1dGUoXCJpbWFnZVN0eWxlXCIsdC5uYW1lLHIpfX0obykse3ByaW9yaXR5OlwibG93XCJ9KSx0LmNvbW1hbmRzLmFkZChcImltYWdlU3R5bGVcIixuZXcgWWYodCxvKSl9fW4oOTcpO2NsYXNzIGFtIGV4dGVuZHMgR2x7c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJbWFnZVN0eWxlVUlcIn1nZXQgbG9jYWxpemVkRGVmYXVsdFN0eWxlc1RpdGxlcygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDtyZXR1cm57XCJGdWxsIHNpemUgaW1hZ2VcIjp0KFwiZ1wiKSxcIlNpZGUgaW1hZ2VcIjp0KFwiaFwiKSxcIkxlZnQgYWxpZ25lZCBpbWFnZVwiOnQoXCJpXCIpLFwiQ2VudGVyZWQgaW1hZ2VcIjp0KFwialwiKSxcIlJpZ2h0IGFsaWduZWQgaW1hZ2VcIjp0KFwia1wiKX19aW5pdCgpe2NvbnN0IHQ9ZnVuY3Rpb24odCxlKXtmb3IoY29uc3QgbiBvZiB0KWVbbi50aXRsZV0mJihuLnRpdGxlPWVbbi50aXRsZV0pO3JldHVybiB0fShvbSh0aGlzLmVkaXRvci5jb25maWcuZ2V0KFwiaW1hZ2Uuc3R5bGVzXCIpKSx0aGlzLmxvY2FsaXplZERlZmF1bHRTdHlsZXNUaXRsZXMpO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5fY3JlYXRlQnV0dG9uKGUpfV9jcmVhdGVCdXR0b24odCl7Y29uc3QgZT10aGlzLmVkaXRvcixuPWBpbWFnZVN0eWxlOiR7dC5uYW1lfWA7ZS51aS5jb21wb25lbnRGYWN0b3J5LmFkZChuLG49Pntjb25zdCBpPWUuY29tbWFuZHMuZ2V0KFwiaW1hZ2VTdHlsZVwiKSxvPW5ldyBXZChuKTtyZXR1cm4gby5zZXQoe2xhYmVsOnQudGl0bGUsaWNvbjp0Lmljb24sdG9vbHRpcDohMH0pLG8uYmluZChcImlzRW5hYmxlZFwiKS50byhpLFwiaXNFbmFibGVkXCIpLG8uYmluZChcImlzT25cIikudG8oaSxcInZhbHVlXCIsZT0+ZT09PXQubmFtZSksdGhpcy5saXN0ZW5UbyhvLFwiZXhlY3V0ZVwiLCgpPT5lLmV4ZWN1dGUoXCJpbWFnZVN0eWxlXCIse3ZhbHVlOnQubmFtZX0pKSxvfSl9fWNsYXNzIGNtIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltIaF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJXaWRnZXRUb29sYmFyUmVwb3NpdG9yeVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO2lmKHQucGx1Z2lucy5oYXMoXCJCYWxsb29uVG9vbGJhclwiKSl7Y29uc3QgZT10LnBsdWdpbnMuZ2V0KFwiQmFsbG9vblRvb2xiYXJcIik7dGhpcy5saXN0ZW5UbyhlLFwic2hvd1wiLGU9PnsoZnVuY3Rpb24odCl7Y29uc3QgZT10LmdldFNlbGVjdGVkRWxlbWVudCgpO3JldHVybiEoIWV8fCFzaChlKSl9KSh0LmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pJiZlLnN0b3AoKX0se3ByaW9yaXR5OlwiaGlnaFwifSl9dGhpcy5fdG9vbGJhckRlZmluaXRpb25zPW5ldyBNYXAsdGhpcy5fYmFsbG9vbj10aGlzLmVkaXRvci5wbHVnaW5zLmdldChcIkNvbnRleHR1YWxCYWxsb29uXCIpLHRoaXMubGlzdGVuVG8odC51aSxcInVwZGF0ZVwiLCgpPT57dGhpcy5fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl9KSx0aGlzLmxpc3RlblRvKHQudWkuZm9jdXNUcmFja2VyLFwiY2hhbmdlOmlzRm9jdXNlZFwiLCgpPT57dGhpcy5fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl9LHtwcmlvcml0eTpcImxvd1wifSl9ZGVzdHJveSgpe3N1cGVyLmRlc3Ryb3koKTtmb3IoY29uc3QgdCBvZiB0aGlzLl90b29sYmFyRGVmaW5pdGlvbnMudmFsdWVzKCkpdC52aWV3LmRlc3Ryb3koKX1yZWdpc3Rlcih0LHtpdGVtczplLGdldFJlbGF0ZWRFbGVtZW50Om4sYmFsbG9vbkNsYXNzTmFtZTppPVwiY2stdG9vbGJhci1jb250YWluZXJcIn0pe2NvbnN0IG89dGhpcy5lZGl0b3Iscj1uZXcgV2w7aWYodGhpcy5fdG9vbGJhckRlZmluaXRpb25zLmhhcyh0KSl0aHJvdyBuZXcgR24uYihcIndpZGdldC10b29sYmFyLWR1cGxpY2F0ZWQ6IFRvb2xiYXIgd2l0aCB0aGUgZ2l2ZW4gaWQgd2FzIGFscmVhZHkgYWRkZWQuXCIse3Rvb2xiYXJJZDp0fSk7ci5maWxsRnJvbUNvbmZpZyhlLG8udWkuY29tcG9uZW50RmFjdG9yeSksdGhpcy5fdG9vbGJhckRlZmluaXRpb25zLnNldCh0LHt2aWV3OnIsZ2V0UmVsYXRlZEVsZW1lbnQ6bixiYWxsb29uQ2xhc3NOYW1lOml9KX1fdXBkYXRlVG9vbGJhcnNWaXNpYmlsaXR5KCl7bGV0IHQ9MCxlPW51bGwsbj1udWxsO2Zvcihjb25zdCBpIG9mIHRoaXMuX3Rvb2xiYXJEZWZpbml0aW9ucy52YWx1ZXMoKSl7Y29uc3Qgbz1pLmdldFJlbGF0ZWRFbGVtZW50KHRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudC5zZWxlY3Rpb24pO2lmKHRoaXMuZWRpdG9yLnVpLmZvY3VzVHJhY2tlci5pc0ZvY3VzZWQmJm8pe2NvbnN0IHI9by5nZXRBbmNlc3RvcnMoKS5sZW5ndGg7cj50JiYodD1yLGU9byxuPWkpfWVsc2UgdGhpcy5faGlkZVRvb2xiYXIoaSl9biYmdGhpcy5fc2hvd1Rvb2xiYXIobixlKX1faGlkZVRvb2xiYXIodCl7dGhpcy5faXNUb29sYmFyVmlzaWJsZSh0KSYmdGhpcy5fYmFsbG9vbi5yZW1vdmUodC52aWV3KX1fc2hvd1Rvb2xiYXIodCxlKXt0aGlzLl9pc1Rvb2xiYXJWaXNpYmxlKHQpP2Z1bmN0aW9uKHQsZSl7Y29uc3Qgbj10LnBsdWdpbnMuZ2V0KFwiQ29udGV4dHVhbEJhbGxvb25cIiksaT1sbSh0LGUpO24udXBkYXRlUG9zaXRpb24oaSl9KHRoaXMuZWRpdG9yLGUpOnRoaXMuX2JhbGxvb24uaGFzVmlldyh0LnZpZXcpfHx0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0LnZpZXcscG9zaXRpb246bG0odGhpcy5lZGl0b3IsZSksYmFsbG9vbkNsYXNzTmFtZTp0LmJhbGxvb25DbGFzc05hbWV9KX1faXNUb29sYmFyVmlzaWJsZSh0KXtyZXR1cm4gdGhpcy5fYmFsbG9vbi52aXNpYmxlVmlldz09dC52aWV3fX1mdW5jdGlvbiBsbSh0LGUpe2NvbnN0IG49dC5lZGl0aW5nLnZpZXcsaT1CaC5kZWZhdWx0UG9zaXRpb25zO3JldHVybnt0YXJnZXQ6bi5kb21Db252ZXJ0ZXIudmlld1RvRG9tKGUpLHBvc2l0aW9uczpbaS5ub3J0aEFycm93U291dGgsaS5ub3J0aEFycm93U291dGhXZXN0LGkubm9ydGhBcnJvd1NvdXRoRWFzdCxpLnNvdXRoQXJyb3dOb3J0aCxpLnNvdXRoQXJyb3dOb3J0aFdlc3QsaS5zb3V0aEFycm93Tm9ydGhFYXN0XX19ZnVuY3Rpb24gZG0odCxlLG4pe3JldHVybiBuLmNyZWF0ZVJhbmdlKHVtKHQsZSwhMCxuKSx1bSh0LGUsITEsbikpfWZ1bmN0aW9uIHVtKHQsZSxuLGkpe2xldCBvPXQudGV4dE5vZGV8fChuP3Qubm9kZUJlZm9yZTp0Lm5vZGVBZnRlcikscj1udWxsO2Zvcig7byYmby5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKT09ZTspcj1vLG89bj9vLnByZXZpb3VzU2libGluZzpvLm5leHRTaWJsaW5nO3JldHVybiByP2kuY3JlYXRlUG9zaXRpb25BdChyLG4/XCJiZWZvcmVcIjpcImFmdGVyXCIpOnR9Y2xhc3MgaG0gZXh0ZW5kcyBYbHtyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbCxlPXQuZG9jdW1lbnQ7dGhpcy52YWx1ZT1lLnNlbGVjdGlvbi5nZXRBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSx0aGlzLmlzRW5hYmxlZD10LnNjaGVtYS5jaGVja0F0dHJpYnV0ZUluU2VsZWN0aW9uKGUuc2VsZWN0aW9uLFwibGlua0hyZWZcIil9ZXhlY3V0ZSh0KXtjb25zdCBlPXRoaXMuZWRpdG9yLm1vZGVsLG49ZS5kb2N1bWVudC5zZWxlY3Rpb247ZS5jaGFuZ2UoaT0+e2lmKG4uaXNDb2xsYXBzZWQpe2NvbnN0IG89bi5nZXRGaXJzdFBvc2l0aW9uKCk7aWYobi5oYXNBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiKSl7Y29uc3Qgbz1kbShuLmdldEZpcnN0UG9zaXRpb24oKSxuLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpLGUpO2kuc2V0QXR0cmlidXRlKFwibGlua0hyZWZcIix0LG8pLGkuc2V0U2VsZWN0aW9uKG8pfWVsc2UgaWYoXCJcIiE9PXQpe2NvbnN0IGU9VnMobi5nZXRBdHRyaWJ1dGVzKCkpO2Uuc2V0KFwibGlua0hyZWZcIix0KTtjb25zdCByPWkuY3JlYXRlVGV4dCh0LGUpO2kuaW5zZXJ0KHIsbyksaS5zZXRTZWxlY3Rpb24oaS5jcmVhdGVSYW5nZU9uKHIpKX19ZWxzZXtjb25zdCBvPWUuc2NoZW1hLmdldFZhbGlkUmFuZ2VzKG4uZ2V0UmFuZ2VzKCksXCJsaW5rSHJlZlwiKTtmb3IoY29uc3QgZSBvZiBvKWkuc2V0QXR0cmlidXRlKFwibGlua0hyZWZcIix0LGUpfX0pfX1jbGFzcyBmbSBleHRlbmRzIFhse3JlZnJlc2goKXt0aGlzLmlzRW5hYmxlZD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uaGFzQXR0cmlidXRlKFwibGlua0hyZWZcIil9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50LnNlbGVjdGlvbjt0LmNoYW5nZShuPT57Y29uc3QgaT1lLmlzQ29sbGFwc2VkP1tkbShlLmdldEZpcnN0UG9zaXRpb24oKSxlLmdldEF0dHJpYnV0ZShcImxpbmtIcmVmXCIpLHQpXTplLmdldFJhbmdlcygpO2Zvcihjb25zdCB0IG9mIGkpbi5yZW1vdmVBdHRyaWJ1dGUoXCJsaW5rSHJlZlwiLHQpfSl9fWNvbnN0IG1tPS9bXFx1MDAwMC1cXHUwMDIwXFx1MDBBMFxcdTE2ODBcXHUxODBFXFx1MjAwMC1cXHUyMDI5XFx1MjA1ZlxcdTMwMDBdL2cscG09L14oPzooPzpodHRwcz98ZnRwcz98bWFpbHRvKTp8W15hLXpdfFthLXorLi1dKyg/OlteYS16Ky46LV18JCkpL2k7ZnVuY3Rpb24gZ20odCxlKXtjb25zdCBuPWUuY3JlYXRlQXR0cmlidXRlRWxlbWVudChcImFcIix7aHJlZjp0fSx7cHJpb3JpdHk6NX0pO3JldHVybiBlLnNldEN1c3RvbVByb3BlcnR5KFwibGlua1wiLCEwLG4pLG59ZnVuY3Rpb24gYm0odCl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiB0LnJlcGxhY2UobW0sXCJcIikubWF0Y2gocG0pfSh0PVN0cmluZyh0KSk/dDpcIiNcIn1jbGFzcyB3bXtjb25zdHJ1Y3Rvcih0LGUsbil7dGhpcy5tb2RlbD10LHRoaXMuYXR0cmlidXRlPW4sdGhpcy5fbW9kZWxTZWxlY3Rpb249dC5kb2N1bWVudC5zZWxlY3Rpb24sdGhpcy5fb3ZlcnJpZGVVaWQ9bnVsbCx0aGlzLl9pc05leHRHcmF2aXR5UmVzdG9yYXRpb25Ta2lwcGVkPSExLGUubGlzdGVuVG8odGhpcy5fbW9kZWxTZWxlY3Rpb24sXCJjaGFuZ2U6cmFuZ2VcIiwodCxlKT0+e3RoaXMuX2lzTmV4dEdyYXZpdHlSZXN0b3JhdGlvblNraXBwZWQ/dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMTp0aGlzLl9pc0dyYXZpdHlPdmVycmlkZGVuJiYoIWUuZGlyZWN0Q2hhbmdlJiZfbSh0aGlzLl9tb2RlbFNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCksbil8fHRoaXMuX3Jlc3RvcmVHcmF2aXR5KCkpfSl9aGFuZGxlRm9yd2FyZE1vdmVtZW50KHQsZSl7Y29uc3Qgbj10aGlzLmF0dHJpYnV0ZTtpZighKHRoaXMuX2lzR3Jhdml0eU92ZXJyaWRkZW58fHQuaXNBdFN0YXJ0JiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGUpKXJldHVybiB5bSh0LG4pJiZ0aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKTprbSh0LG4pPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSwhMCk6dm0odCxuKSYmdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSwhMCk6dm9pZCAwfWhhbmRsZUJhY2t3YXJkTW92ZW1lbnQodCxlKXtjb25zdCBuPXRoaXMuYXR0cmlidXRlO3JldHVybiB0aGlzLl9pc0dyYXZpdHlPdmVycmlkZGVuP3ltKHQsbikmJnRoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT8odGhpcy5fcHJldmVudENhcmV0TW92ZW1lbnQoZSksdGhpcy5fcmVzdG9yZUdyYXZpdHkoKSx0aGlzLl9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKSwhMCk6KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX3Jlc3RvcmVHcmF2aXR5KCksdC5pc0F0U3RhcnQmJnRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLCEwKTp5bSh0LG4pJiYhdGhpcy5faGFzU2VsZWN0aW9uQXR0cmlidXRlPyh0aGlzLl9wcmV2ZW50Q2FyZXRNb3ZlbWVudChlKSx0aGlzLl9zZXRTZWxlY3Rpb25BdHRyaWJ1dGVGcm9tVGhlTm9kZUJlZm9yZSh0KSwhMCk6dC5pc0F0RW5kJiZ2bSh0LG4pP3RoaXMuX2hhc1NlbGVjdGlvbkF0dHJpYnV0ZT92b2lkKHhtKHQsbikmJih0aGlzLl9za2lwTmV4dEF1dG9tYXRpY0dyYXZpdHlSZXN0b3JhdGlvbigpLHRoaXMuX292ZXJyaWRlR3Jhdml0eSgpKSk6KHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLHRoaXMuX3NldFNlbGVjdGlvbkF0dHJpYnV0ZUZyb21UaGVOb2RlQmVmb3JlKHQpLCEwKTp0LmlzQXRTdGFydD90aGlzLl9oYXNTZWxlY3Rpb25BdHRyaWJ1dGU/KHRoaXMuX3JlbW92ZVNlbGVjdGlvbkF0dHJpYnV0ZSgpLHRoaXMuX3ByZXZlbnRDYXJldE1vdmVtZW50KGUpLCEwKTp2b2lkIDA6dm9pZCh4bSh0LG4pJiYodGhpcy5fc2tpcE5leHRBdXRvbWF0aWNHcmF2aXR5UmVzdG9yYXRpb24oKSx0aGlzLl9vdmVycmlkZUdyYXZpdHkoKSkpfWdldCBfaXNHcmF2aXR5T3ZlcnJpZGRlbigpe3JldHVybiEhdGhpcy5fb3ZlcnJpZGVVaWR9Z2V0IF9oYXNTZWxlY3Rpb25BdHRyaWJ1dGUoKXtyZXR1cm4gdGhpcy5fbW9kZWxTZWxlY3Rpb24uaGFzQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlKX1fb3ZlcnJpZGVHcmF2aXR5KCl7dGhpcy5fb3ZlcnJpZGVVaWQ9dGhpcy5tb2RlbC5jaGFuZ2UodD0+dC5vdmVycmlkZVNlbGVjdGlvbkdyYXZpdHkoKSl9X3Jlc3RvcmVHcmF2aXR5KCl7dGhpcy5tb2RlbC5jaGFuZ2UodD0+e3QucmVzdG9yZVNlbGVjdGlvbkdyYXZpdHkodGhpcy5fb3ZlcnJpZGVVaWQpLHRoaXMuX292ZXJyaWRlVWlkPW51bGx9KX1fcHJldmVudENhcmV0TW92ZW1lbnQodCl7dC5wcmV2ZW50RGVmYXVsdCgpfV9yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUoKXt0aGlzLm1vZGVsLmNoYW5nZSh0PT57dC5yZW1vdmVTZWxlY3Rpb25BdHRyaWJ1dGUodGhpcy5hdHRyaWJ1dGUpfSl9X3NldFNlbGVjdGlvbkF0dHJpYnV0ZUZyb21UaGVOb2RlQmVmb3JlKHQpe2NvbnN0IGU9dGhpcy5hdHRyaWJ1dGU7dGhpcy5tb2RlbC5jaGFuZ2Uobj0+e24uc2V0U2VsZWN0aW9uQXR0cmlidXRlKHRoaXMuYXR0cmlidXRlLHQubm9kZUJlZm9yZS5nZXRBdHRyaWJ1dGUoZSkpfSl9X3NraXBOZXh0QXV0b21hdGljR3Jhdml0eVJlc3RvcmF0aW9uKCl7dGhpcy5faXNOZXh0R3Jhdml0eVJlc3RvcmF0aW9uU2tpcHBlZD0hMH19ZnVuY3Rpb24gX20odCxlKXtyZXR1cm4ga20odCxlKXx8dm0odCxlKX1mdW5jdGlvbiBrbSh0LGUpe2NvbnN0e25vZGVCZWZvcmU6bixub2RlQWZ0ZXI6aX09dCxvPSEhbiYmbi5oYXNBdHRyaWJ1dGUoZSk7cmV0dXJuISFpJiZpLmhhc0F0dHJpYnV0ZShlKSYmKCFvfHxuLmdldEF0dHJpYnV0ZShlKSE9PWkuZ2V0QXR0cmlidXRlKGUpKX1mdW5jdGlvbiB2bSh0LGUpe2NvbnN0e25vZGVCZWZvcmU6bixub2RlQWZ0ZXI6aX09dCxvPSEhbiYmbi5oYXNBdHRyaWJ1dGUoZSkscj0hIWkmJmkuaGFzQXR0cmlidXRlKGUpO3JldHVybiBvJiYoIXJ8fG4uZ2V0QXR0cmlidXRlKGUpIT09aS5nZXRBdHRyaWJ1dGUoZSkpfWZ1bmN0aW9uIHltKHQsZSl7Y29uc3R7bm9kZUJlZm9yZTpuLG5vZGVBZnRlcjppfT10LG89ISFuJiZuLmhhc0F0dHJpYnV0ZShlKTtpZighIWkmJmkuaGFzQXR0cmlidXRlKGUpJiZvKXJldHVybiBpLmdldEF0dHJpYnV0ZShlKSE9PW4uZ2V0QXR0cmlidXRlKGUpfWZ1bmN0aW9uIHhtKHQsZSl7cmV0dXJuIF9tKHQuZ2V0U2hpZnRlZEJ5KC0xKSxlKX1uKDk5KTtjb25zdCBBbT1cImNrLWxpbmtfc2VsZWN0ZWRcIjtjbGFzcyBDbSBleHRlbmRzIEdse2luaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QubW9kZWwuc2NoZW1hLmV4dGVuZChcIiR0ZXh0XCIse2FsbG93QXR0cmlidXRlczpcImxpbmtIcmVmXCJ9KSx0LmNvbnZlcnNpb24uZm9yKFwiZGF0YURvd25jYXN0XCIpLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6XCJsaW5rSHJlZlwiLHZpZXc6Z219KSx0LmNvbnZlcnNpb24uZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmF0dHJpYnV0ZVRvRWxlbWVudCh7bW9kZWw6XCJsaW5rSHJlZlwiLHZpZXc6KHQsZSk9PmdtKGJtKHQpLGUpfSksdC5jb252ZXJzaW9uLmZvcihcInVwY2FzdFwiKS5lbGVtZW50VG9BdHRyaWJ1dGUoe3ZpZXc6e25hbWU6XCJhXCIsYXR0cmlidXRlczp7aHJlZjohMH19LG1vZGVsOntrZXk6XCJsaW5rSHJlZlwiLHZhbHVlOnQ9PnQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKX19KSx0LmNvbW1hbmRzLmFkZChcImxpbmtcIixuZXcgaG0odCkpLHQuY29tbWFuZHMuYWRkKFwidW5saW5rXCIsbmV3IGZtKHQpKSxmdW5jdGlvbih0LGUsbixpKXtjb25zdCBvPW5ldyB3bShlLG4saSkscj1lLmRvY3VtZW50LnNlbGVjdGlvbjtuLmxpc3RlblRvKHQuZG9jdW1lbnQsXCJrZXlkb3duXCIsKHQsZSk9PntpZighci5pc0NvbGxhcHNlZClyZXR1cm47aWYoZS5zaGlmdEtleXx8ZS5hbHRLZXl8fGUuY3RybEtleSlyZXR1cm47Y29uc3Qgbj1lLmtleUNvZGU9PWJvLmFycm93cmlnaHQsaT1lLmtleUNvZGU9PWJvLmFycm93bGVmdDtpZighbiYmIWkpcmV0dXJuO2NvbnN0IHM9ci5nZXRGaXJzdFBvc2l0aW9uKCk7bGV0IGE7KGE9bj9vLmhhbmRsZUZvcndhcmRNb3ZlbWVudChzLGUpOm8uaGFuZGxlQmFja3dhcmRNb3ZlbWVudChzLGUpKSYmdC5zdG9wKCl9LHtwcmlvcml0eTpabi5nZXQoXCJoaWdoXCIpKzF9KX0odC5lZGl0aW5nLnZpZXcsdC5tb2RlbCx0aGlzLFwibGlua0hyZWZcIiksdGhpcy5fc2V0dXBMaW5rSGlnaGxpZ2h0KCl9X3NldHVwTGlua0hpZ2hsaWdodCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldyxuPW5ldyBTZXQ7ZS5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcihlPT57Y29uc3QgaT10Lm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbjtpZihpLmhhc0F0dHJpYnV0ZShcImxpbmtIcmVmXCIpKXtjb25zdCBvPWRtKGkuZ2V0Rmlyc3RQb3NpdGlvbigpLGkuZ2V0QXR0cmlidXRlKFwibGlua0hyZWZcIiksdC5tb2RlbCkscj10LmVkaXRpbmcubWFwcGVyLnRvVmlld1JhbmdlKG8pO2Zvcihjb25zdCB0IG9mIHIuZ2V0SXRlbXMoKSl0LmlzKFwiYVwiKSYmKGUuYWRkQ2xhc3MoQW0sdCksbi5hZGQodCkpfX0pLHQuY29udmVyc2lvbi5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKHQ9PntmdW5jdGlvbiBpKCl7ZS5jaGFuZ2UodD0+e2Zvcihjb25zdCBlIG9mIG4udmFsdWVzKCkpdC5yZW1vdmVDbGFzcyhBbSxlKSxuLmRlbGV0ZShlKX0pfXQub24oXCJpbnNlcnRcIixpLHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHQub24oXCJyZW1vdmVcIixpLHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHQub24oXCJhdHRyaWJ1dGVcIixpLHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pLHQub24oXCJzZWxlY3Rpb25cIixpLHtwcmlvcml0eTpcImhpZ2hlc3RcIn0pfSl9fWNsYXNzIFRtIGV4dGVuZHMgdHN7Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5kb21FdmVudFR5cGU9XCJjbGlja1wifW9uRG9tRXZlbnQodCl7dGhpcy5maXJlKHQudHlwZSx0KX19bigxMDEpO2NsYXNzIFBtIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10LnQ7dGhpcy5mb2N1c1RyYWNrZXI9bmV3IG9sLHRoaXMua2V5c3Ryb2tlcz1uZXcgUWMsdGhpcy51cmxJbnB1dFZpZXc9dGhpcy5fY3JlYXRlVXJsSW5wdXQoKSx0aGlzLnNhdmVCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZUJ1dHRvbihlKFwiYXlcIiksU2guYSxcImNrLWJ1dHRvbi1zYXZlXCIpLHRoaXMuc2F2ZUJ1dHRvblZpZXcudHlwZT1cInN1Ym1pdFwiLHRoaXMuY2FuY2VsQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24oZShcImF6XCIpLE5oLmEsXCJjay1idXR0b24tY2FuY2VsXCIsXCJjYW5jZWxcIiksdGhpcy5fZm9jdXNhYmxlcz1uZXcgZmwsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IFVsKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6XCJzaGlmdCArIHRhYlwiLGZvY3VzTmV4dDpcInRhYlwifX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImZvcm1cIixhdHRyaWJ1dGVzOntjbGFzczpbXCJja1wiLFwiY2stbGluay1mb3JtXCJdLHRhYmluZGV4OlwiLTFcIn0sY2hpbGRyZW46W3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLE1oKHt2aWV3OnRoaXN9KSxbdGhpcy51cmxJbnB1dFZpZXcsdGhpcy5zYXZlQnV0dG9uVmlldyx0aGlzLmNhbmNlbEJ1dHRvblZpZXddLmZvckVhY2godD0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKHQpLHRoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCl9Zm9jdXMoKXt0aGlzLl9mb2N1c0N5Y2xlci5mb2N1c0ZpcnN0KCl9X2NyZWF0ZVVybElucHV0KCl7Y29uc3QgdD10aGlzLmxvY2FsZS50LGU9bmV3IFRoKHRoaXMubG9jYWxlLFBoKTtyZXR1cm4gZS5sYWJlbD10KFwiYmFcIiksZS5pbnB1dFZpZXcucGxhY2Vob2xkZXI9XCJodHRwczovL2V4YW1wbGUuY29tXCIsZX1fY3JlYXRlQnV0dG9uKHQsZSxuLGkpe2NvbnN0IG89bmV3IFdkKHRoaXMubG9jYWxlKTtyZXR1cm4gby5zZXQoe2xhYmVsOnQsaWNvbjplLHRvb2x0aXA6ITB9KSxvLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpufX0pLGkmJm8uZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsaSksb319dmFyIE1tPW4oMzIpLEVtPW4ubihNbSksU209bigzMyksSW09bi5uKFNtKTtuKDEwMyk7Y2xhc3MgTm0gZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcih0KXtzdXBlcih0KTtjb25zdCBlPXQudDt0aGlzLmZvY3VzVHJhY2tlcj1uZXcgb2wsdGhpcy5rZXlzdHJva2VzPW5ldyBRYyx0aGlzLnByZXZpZXdCdXR0b25WaWV3PXRoaXMuX2NyZWF0ZVByZXZpZXdCdXR0b24oKSx0aGlzLnVubGlua0J1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhdVwiKSxFbS5hLFwidW5saW5rXCIpLHRoaXMuZWRpdEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKGUoXCJhdlwiKSxJbS5hLFwiZWRpdFwiKSx0aGlzLnNldChcImhyZWZcIiksdGhpcy5fZm9jdXNhYmxlcz1uZXcgZmwsdGhpcy5fZm9jdXNDeWNsZXI9bmV3IFVsKHtmb2N1c2FibGVzOnRoaXMuX2ZvY3VzYWJsZXMsZm9jdXNUcmFja2VyOnRoaXMuZm9jdXNUcmFja2VyLGtleXN0cm9rZUhhbmRsZXI6dGhpcy5rZXlzdHJva2VzLGFjdGlvbnM6e2ZvY3VzUHJldmlvdXM6XCJzaGlmdCArIHRhYlwiLGZvY3VzTmV4dDpcInRhYlwifX0pLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saW5rLWFjdGlvbnNcIl0sdGFiaW5kZXg6XCItMVwifSxjaGlsZHJlbjpbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld119KX1yZW5kZXIoKXtzdXBlci5yZW5kZXIoKSxbdGhpcy5wcmV2aWV3QnV0dG9uVmlldyx0aGlzLmVkaXRCdXR0b25WaWV3LHRoaXMudW5saW5rQnV0dG9uVmlld10uZm9yRWFjaCh0PT57dGhpcy5fZm9jdXNhYmxlcy5hZGQodCksdGhpcy5mb2N1c1RyYWNrZXIuYWRkKHQuZWxlbWVudCl9KSx0aGlzLmtleXN0cm9rZXMubGlzdGVuVG8odGhpcy5lbGVtZW50KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1fY3JlYXRlQnV0dG9uKHQsZSxuKXtjb25zdCBpPW5ldyBXZCh0aGlzLmxvY2FsZSk7cmV0dXJuIGkuc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksaS5kZWxlZ2F0ZShcImV4ZWN1dGVcIikudG8odGhpcyxuKSxpfV9jcmVhdGVQcmV2aWV3QnV0dG9uKCl7Y29uc3QgdD1uZXcgV2QodGhpcy5sb2NhbGUpLGU9dGhpcy5iaW5kVGVtcGxhdGUsbj10aGlzLnQ7cmV0dXJuIHQuc2V0KHt3aXRoVGV4dDohMCx0b29sdGlwOm4oXCJhd1wiKX0pLHQuZXh0ZW5kVGVtcGxhdGUoe2F0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1saW5rLWFjdGlvbnNfX3ByZXZpZXdcIl0saHJlZjplLnRvKFwiaHJlZlwiLHQ9PnQmJmJtKHQpKSx0YXJnZXQ6XCJfYmxhbmtcIn19KSx0LmJpbmQoXCJsYWJlbFwiKS50byh0aGlzLFwiaHJlZlwiLHQ9PnR8fG4oXCJheFwiKSksdC5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHRoaXMsXCJocmVmXCIsdD0+ISF0KSx0LnRlbXBsYXRlLnRhZz1cImFcIix0LnRlbXBsYXRlLmV2ZW50TGlzdGVuZXJzPXt9LHR9fXZhciBPbT1uKDM0KSxSbT1uLm4oT20pO2NvbnN0IERtPVwiQ3RybCtLXCI7Y2xhc3MgTG0gZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0hoXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkxpbmtVSVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3QuZWRpdGluZy52aWV3LmFkZE9ic2VydmVyKFRtKSx0aGlzLmFjdGlvbnNWaWV3PXRoaXMuX2NyZWF0ZUFjdGlvbnNWaWV3KCksdGhpcy5mb3JtVmlldz10aGlzLl9jcmVhdGVGb3JtVmlldygpLHRoaXMuX2JhbGxvb249dC5wbHVnaW5zLmdldChIaCksdGhpcy5fY3JlYXRlVG9vbGJhckxpbmtCdXR0b24oKSx0aGlzLl9lbmFibGVVc2VyQmFsbG9vbkludGVyYWN0aW9ucygpfWRlc3Ryb3koKXtzdXBlci5kZXN0cm95KCksdGhpcy5mb3JtVmlldy5kZXN0cm95KCl9X2NyZWF0ZUFjdGlvbnNWaWV3KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPW5ldyBObSh0LmxvY2FsZSksbj10LmNvbW1hbmRzLmdldChcImxpbmtcIiksaT10LmNvbW1hbmRzLmdldChcInVubGlua1wiKTtyZXR1cm4gZS5iaW5kKFwiaHJlZlwiKS50byhuLFwidmFsdWVcIiksZS5lZGl0QnV0dG9uVmlldy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKG4pLGUudW5saW5rQnV0dG9uVmlldy5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKGkpLHRoaXMubGlzdGVuVG8oZSxcImVkaXRcIiwoKT0+e3RoaXMuX2FkZEZvcm1WaWV3KCl9KSx0aGlzLmxpc3RlblRvKGUsXCJ1bmxpbmtcIiwoKT0+e3QuZXhlY3V0ZShcInVubGlua1wiKSx0aGlzLl9oaWRlVUkoKX0pLGUua2V5c3Ryb2tlcy5zZXQoXCJFc2NcIiwodCxlKT0+e3RoaXMuX2hpZGVVSSgpLGUoKX0pLGUua2V5c3Ryb2tlcy5zZXQoRG0sKHQsZSk9Pnt0aGlzLl9hZGRGb3JtVmlldygpLGUoKX0pLGV9X2NyZWF0ZUZvcm1WaWV3KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPW5ldyBQbSh0LmxvY2FsZSksbj10LmNvbW1hbmRzLmdldChcImxpbmtcIik7cmV0dXJuIGUudXJsSW5wdXRWaWV3LmJpbmQoXCJ2YWx1ZVwiKS50byhuLFwidmFsdWVcIiksZS51cmxJbnB1dFZpZXcuYmluZChcImlzUmVhZE9ubHlcIikudG8obixcImlzRW5hYmxlZFwiLHQ9PiF0KSxlLnNhdmVCdXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obiksdGhpcy5saXN0ZW5UbyhlLFwic3VibWl0XCIsKCk9Pnt0LmV4ZWN1dGUoXCJsaW5rXCIsZS51cmxJbnB1dFZpZXcuaW5wdXRWaWV3LmVsZW1lbnQudmFsdWUpLHRoaXMuX3JlbW92ZUZvcm1WaWV3KCl9KSx0aGlzLmxpc3RlblRvKGUsXCJjYW5jZWxcIiwoKT0+e3RoaXMuX3JlbW92ZUZvcm1WaWV3KCl9KSxlLmtleXN0cm9rZXMuc2V0KFwiRXNjXCIsKHQsZSk9Pnt0aGlzLl9yZW1vdmVGb3JtVmlldygpLGUoKX0pLGV9X2NyZWF0ZVRvb2xiYXJMaW5rQnV0dG9uKCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQuY29tbWFuZHMuZ2V0KFwibGlua1wiKSxuPXQudDt0LmtleXN0cm9rZXMuc2V0KERtLCh0LG4pPT57bigpLGUuaXNFbmFibGVkJiZ0aGlzLl9zaG93VUkoKX0pLHQudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJsaW5rXCIsdD0+e2NvbnN0IGk9bmV3IFdkKHQpO3JldHVybiBpLmlzRW5hYmxlZD0hMCxpLmxhYmVsPW4oXCJhb1wiKSxpLmljb249Um0uYSxpLmtleXN0cm9rZT1EbSxpLnRvb2x0aXA9ITAsaS5iaW5kKFwiaXNPblwiLFwiaXNFbmFibGVkXCIpLnRvKGUsXCJ2YWx1ZVwiLFwiaXNFbmFibGVkXCIpLHRoaXMubGlzdGVuVG8oaSxcImV4ZWN1dGVcIiwoKT0+dGhpcy5fc2hvd1VJKCkpLGl9KX1fZW5hYmxlVXNlckJhbGxvb25JbnRlcmFjdGlvbnMoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmVkaXRpbmcudmlldy5kb2N1bWVudDt0aGlzLmxpc3RlblRvKHQsXCJjbGlja1wiLCgpPT57dGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpJiZ0aGlzLl9zaG93VUkoKX0pLHRoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiVGFiXCIsKHQsZSk9Pnt0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZSYmIXRoaXMuYWN0aW9uc1ZpZXcuZm9jdXNUcmFja2VyLmlzRm9jdXNlZCYmKHRoaXMuYWN0aW9uc1ZpZXcuZm9jdXMoKSxlKCkpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIkVzY1wiLCh0LGUpPT57dGhpcy5faXNVSVZpc2libGUmJih0aGlzLl9oaWRlVUkoKSxlKCkpfSksQ2goe2VtaXR0ZXI6dGhpcy5mb3JtVmlldyxhY3RpdmF0b3I6KCk9PnRoaXMuX2lzVUlWaXNpYmxlLGNvbnRleHRFbGVtZW50czpbdGhpcy5fYmFsbG9vbi52aWV3LmVsZW1lbnRdLGNhbGxiYWNrOigpPT50aGlzLl9oaWRlVUkoKX0pfV9hZGRBY3Rpb25zVmlldygpe3RoaXMuX2FyZUFjdGlvbnNJblBhbmVsfHx0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLmFjdGlvbnNWaWV3LHBvc2l0aW9uOnRoaXMuX2dldEJhbGxvb25Qb3NpdGlvbkRhdGEoKX0pfV9hZGRGb3JtVmlldygpe2lmKHRoaXMuX2lzRm9ybUluUGFuZWwpcmV0dXJuO2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KFwibGlua1wiKTt0aGlzLl9iYWxsb29uLmFkZCh7dmlldzp0aGlzLmZvcm1WaWV3LHBvc2l0aW9uOnRoaXMuX2dldEJhbGxvb25Qb3NpdGlvbkRhdGEoKX0pLHRoaXMuZm9ybVZpZXcudXJsSW5wdXRWaWV3LnNlbGVjdCgpLHRoaXMuZm9ybVZpZXcudXJsSW5wdXRWaWV3LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPXQudmFsdWV8fFwiXCJ9X3JlbW92ZUZvcm1WaWV3KCl7dGhpcy5faXNGb3JtSW5QYW5lbCYmKHRoaXMuZm9ybVZpZXcuc2F2ZUJ1dHRvblZpZXcuZm9jdXMoKSx0aGlzLl9iYWxsb29uLnJlbW92ZSh0aGlzLmZvcm1WaWV3KSx0aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZm9jdXMoKSl9X3Nob3dVSSgpe3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldChcImxpbmtcIikuaXNFbmFibGVkJiYodGhpcy5fZ2V0U2VsZWN0ZWRMaW5rRWxlbWVudCgpP3RoaXMuX2FyZUFjdGlvbnNWaXNpYmxlP3RoaXMuX2FkZEZvcm1WaWV3KCk6dGhpcy5fYWRkQWN0aW9uc1ZpZXcoKToodGhpcy5fYWRkQWN0aW9uc1ZpZXcoKSx0aGlzLl9hZGRGb3JtVmlldygpKSx0aGlzLl9zdGFydFVwZGF0aW5nVUkoKSl9X2hpZGVVSSgpe2lmKCF0aGlzLl9pc1VJSW5QYW5lbClyZXR1cm47Y29uc3QgdD10aGlzLmVkaXRvcjt0aGlzLnN0b3BMaXN0ZW5pbmcodC51aSxcInVwZGF0ZVwiKSx0LmVkaXRpbmcudmlldy5mb2N1cygpLHRoaXMuX3JlbW92ZUZvcm1WaWV3KCksdGhpcy5fYmFsbG9vbi5yZW1vdmUodGhpcy5hY3Rpb25zVmlldyl9X3N0YXJ0VXBkYXRpbmdVSSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10LmVkaXRpbmcudmlldy5kb2N1bWVudDtsZXQgbj10aGlzLl9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCksaT1vKCk7ZnVuY3Rpb24gbygpe3JldHVybiBlLnNlbGVjdGlvbi5mb2N1cy5nZXRBbmNlc3RvcnMoKS5yZXZlcnNlKCkuZmluZCh0PT50LmlzKFwiZWxlbWVudFwiKSl9dGhpcy5saXN0ZW5Ubyh0LnVpLFwidXBkYXRlXCIsKCk9Pntjb25zdCB0PXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKSxlPW8oKTtuJiYhdHx8IW4mJmUhPT1pP3RoaXMuX2hpZGVVSSgpOnRoaXMuX2JhbGxvb24udXBkYXRlUG9zaXRpb24odGhpcy5fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpKSxuPXQsaT1lfSl9Z2V0IF9pc0Zvcm1JblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmZvcm1WaWV3KX1nZXQgX2FyZUFjdGlvbnNJblBhbmVsKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24uaGFzVmlldyh0aGlzLmFjdGlvbnNWaWV3KX1nZXQgX2FyZUFjdGlvbnNWaXNpYmxlKCl7cmV0dXJuIHRoaXMuX2JhbGxvb24udmlzaWJsZVZpZXc9PT10aGlzLmFjdGlvbnNWaWV3fWdldCBfaXNVSUluUGFuZWwoKXtyZXR1cm4gdGhpcy5faXNGb3JtSW5QYW5lbHx8dGhpcy5fYXJlQWN0aW9uc0luUGFuZWx9Z2V0IF9pc1VJVmlzaWJsZSgpe3JldHVybiB0aGlzLl9iYWxsb29uLnZpc2libGVWaWV3PT10aGlzLmZvcm1WaWV3fHx0aGlzLl9hcmVBY3Rpb25zVmlzaWJsZX1fZ2V0QmFsbG9vblBvc2l0aW9uRGF0YSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuZWRpdGluZy52aWV3LGU9dC5kb2N1bWVudCxuPXRoaXMuX2dldFNlbGVjdGVkTGlua0VsZW1lbnQoKTtyZXR1cm57dGFyZ2V0Om4/dC5kb21Db252ZXJ0ZXIubWFwVmlld1RvRG9tKG4pOnQuZG9tQ29udmVydGVyLnZpZXdSYW5nZVRvRG9tKGUuc2VsZWN0aW9uLmdldEZpcnN0UmFuZ2UoKSl9fV9nZXRTZWxlY3RlZExpbmtFbGVtZW50KCl7Y29uc3QgdD10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcsZT10LmRvY3VtZW50LnNlbGVjdGlvbjtpZihlLmlzQ29sbGFwc2VkKXJldHVybiBqbShlLmdldEZpcnN0UG9zaXRpb24oKSk7e2NvbnN0IG49ZS5nZXRGaXJzdFJhbmdlKCkuZ2V0VHJpbW1lZCgpLGk9am0obi5zdGFydCksbz1qbShuLmVuZCk7cmV0dXJuIGkmJmk9PW8mJnQuY3JlYXRlUmFuZ2VJbihpKS5nZXRUcmltbWVkKCkuaXNFcXVhbChuKT9pOm51bGx9fX1mdW5jdGlvbiBqbSh0KXtyZXR1cm4gdC5nZXRBbmNlc3RvcnMoKS5maW5kKHQ9PihmdW5jdGlvbih0KXtyZXR1cm4gdC5pcyhcImF0dHJpYnV0ZUVsZW1lbnRcIikmJiEhdC5nZXRDdXN0b21Qcm9wZXJ0eShcImxpbmtcIil9KSh0KSl9Y2xhc3MgVm0gZXh0ZW5kcyBYbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKHQpLHRoaXMudHlwZT1cImJ1bGxldGVkXCI9PWU/XCJidWxsZXRlZFwiOlwibnVtYmVyZWRcIn1yZWZyZXNoKCl7dGhpcy52YWx1ZT10aGlzLl9nZXRWYWx1ZSgpLHRoaXMuaXNFbmFibGVkPXRoaXMuX2NoZWNrRW5hYmxlZCgpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9dC5kb2N1bWVudCxuPUFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSkuZmlsdGVyKGU9PnptKGUsdC5zY2hlbWEpKSxpPSEwPT09dGhpcy52YWx1ZTt0LmNoYW5nZSh0PT57aWYoaSl7bGV0IGU9bltuLmxlbmd0aC0xXS5uZXh0U2libGluZyxpPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxvPVtdO2Zvcig7ZSYmXCJsaXN0SXRlbVwiPT1lLm5hbWUmJjAhPT1lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7KXtjb25zdCB0PWUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTt0PGkmJihpPXQpO2NvbnN0IG49dC1pO28ucHVzaCh7ZWxlbWVudDplLGxpc3RJbmRlbnQ6bn0pLGU9ZS5uZXh0U2libGluZ31vPW8ucmV2ZXJzZSgpO2Zvcihjb25zdCBlIG9mIG8pdC5zZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIsZS5saXN0SW5kZW50LGUuZWxlbWVudCl9aWYoIWkpe2xldCB0PU51bWJlci5QT1NJVElWRV9JTkZJTklUWTtmb3IoY29uc3QgZSBvZiBuKWUuaXMoXCJsaXN0SXRlbVwiKSYmZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPHQmJih0PWUuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSk7Qm0obiwhMCx0PTA9PT10PzE6dCksQm0obiwhMSx0KX1mb3IoY29uc3QgZSBvZiBuLnJldmVyc2UoKSlpJiZcImxpc3RJdGVtXCI9PWUubmFtZT90LnJlbmFtZShlLFwicGFyYWdyYXBoXCIpOml8fFwibGlzdEl0ZW1cIj09ZS5uYW1lP2l8fFwibGlzdEl0ZW1cIiE9ZS5uYW1lfHxlLmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpPT10aGlzLnR5cGV8fHQuc2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIix0aGlzLnR5cGUsZSk6KHQuc2V0QXR0cmlidXRlcyh7bGlzdFR5cGU6dGhpcy50eXBlLGxpc3RJbmRlbnQ6MH0sZSksdC5yZW5hbWUoZSxcImxpc3RJdGVtXCIpKX0pfV9nZXRWYWx1ZSgpe2NvbnN0IHQ9Q3UodGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhdCYmdC5pcyhcImxpc3RJdGVtXCIpJiZ0LmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpPT10aGlzLnR5cGV9X2NoZWNrRW5hYmxlZCgpe2lmKHRoaXMudmFsdWUpcmV0dXJuITA7Y29uc3QgdD10aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24sZT10aGlzLmVkaXRvci5tb2RlbC5zY2hlbWEsbj1DdSh0LmdldFNlbGVjdGVkQmxvY2tzKCkpO3JldHVybiEhbiYmem0obixlKX19ZnVuY3Rpb24gQm0odCxlLG4pe2NvbnN0IGk9ZT90WzBdOnRbdC5sZW5ndGgtMV07aWYoaS5pcyhcImxpc3RJdGVtXCIpKXtsZXQgbz1pW2U/XCJwcmV2aW91c1NpYmxpbmdcIjpcIm5leHRTaWJsaW5nXCJdLHI9aS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2Zvcig7byYmby5pcyhcImxpc3RJdGVtXCIpJiZvLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik+PW47KXI+by5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpJiYocj1vLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikpLG8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT09ciYmdFtlP1widW5zaGlmdFwiOlwicHVzaFwiXShvKSxvPW9bZT9cInByZXZpb3VzU2libGluZ1wiOlwibmV4dFNpYmxpbmdcIl19fWZ1bmN0aW9uIHptKHQsZSl7cmV0dXJuIGUuY2hlY2tDaGlsZCh0LnBhcmVudCxcImxpc3RJdGVtXCIpJiYhZS5pc09iamVjdCh0KX1jbGFzcyBGbSBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQsZSl7c3VwZXIodCksdGhpcy5faW5kZW50Qnk9XCJmb3J3YXJkXCI9PWU/MTotMX1yZWZyZXNoKCl7dGhpcy5pc0VuYWJsZWQ9dGhpcy5fY2hlY2tFbmFibGVkKCl9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50O2xldCBuPUFycmF5LmZyb20oZS5zZWxlY3Rpb24uZ2V0U2VsZWN0ZWRCbG9ja3MoKSk7dC5jaGFuZ2UodD0+e2NvbnN0IGU9bltuLmxlbmd0aC0xXTtsZXQgaT1lLm5leHRTaWJsaW5nO2Zvcig7aSYmXCJsaXN0SXRlbVwiPT1pLm5hbWUmJmkuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKT5lLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7KW4ucHVzaChpKSxpPWkubmV4dFNpYmxpbmc7dGhpcy5faW5kZW50Qnk8MCYmKG49bi5yZXZlcnNlKCkpO2Zvcihjb25zdCBlIG9mIG4pe2NvbnN0IG49ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpK3RoaXMuX2luZGVudEJ5O248MD90LnJlbmFtZShlLFwicGFyYWdyYXBoXCIpOnQuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLG4sZSl9fSl9X2NoZWNrRW5hYmxlZCgpe2NvbnN0IHQ9Q3UodGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldFNlbGVjdGVkQmxvY2tzKCkpO2lmKCF0fHwhdC5pcyhcImxpc3RJdGVtXCIpKXJldHVybiExO2lmKHRoaXMuX2luZGVudEJ5PjApe2NvbnN0IGU9dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpLG49dC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKTtsZXQgaT10LnByZXZpb3VzU2libGluZztmb3IoO2kmJmkuaXMoXCJsaXN0SXRlbVwiKSYmaS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPj1lOyl7aWYoaS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPT1lKXJldHVybiBpLmdldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIpPT1uO2k9aS5wcmV2aW91c1NpYmxpbmd9cmV0dXJuITF9cmV0dXJuITB9fWZ1bmN0aW9uIFVtKCl7Y29uc3QgdD0hdGhpcy5pc0VtcHR5JiYoXCJ1bFwiPT10aGlzLmdldENoaWxkKDApLm5hbWV8fFwib2xcIj09dGhpcy5nZXRDaGlsZCgwKS5uYW1lKTtyZXR1cm4gdGhpcy5pc0VtcHR5fHx0PzA6eGkuY2FsbCh0aGlzKX1mdW5jdGlvbiBIbSh0KXtyZXR1cm4oZSxuLGkpPT57Y29uc3Qgbz1pLmNvbnN1bWFibGU7aWYoIW8udGVzdChuLml0ZW0sXCJpbnNlcnRcIil8fCFvLnRlc3Qobi5pdGVtLFwiYXR0cmlidXRlOmxpc3RUeXBlXCIpfHwhby50ZXN0KG4uaXRlbSxcImF0dHJpYnV0ZTpsaXN0SW5kZW50XCIpKXJldHVybjtvLmNvbnN1bWUobi5pdGVtLFwiaW5zZXJ0XCIpLG8uY29uc3VtZShuLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdFR5cGVcIiksby5jb25zdW1lKG4uaXRlbSxcImF0dHJpYnV0ZTpsaXN0SW5kZW50XCIpO2NvbnN0IHI9bi5pdGVtO2lwKHIsZnVuY3Rpb24odCxlKXtjb25zdCBuPWUubWFwcGVyLGk9ZS53cml0ZXIsbz1cIm51bWJlcmVkXCI9PXQuZ2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIik/XCJvbFwiOlwidWxcIixyPWZ1bmN0aW9uKHQpe2NvbnN0IGU9dC5jcmVhdGVDb250YWluZXJFbGVtZW50KFwibGlcIik7cmV0dXJuIGUuZ2V0RmlsbGVyT2Zmc2V0PVVtLGV9KGkpLHM9aS5jcmVhdGVDb250YWluZXJFbGVtZW50KG8sbnVsbCk7cmV0dXJuIGkuaW5zZXJ0KGkuY3JlYXRlUG9zaXRpb25BdChzLDApLHIpLG4uYmluZEVsZW1lbnRzKHQscikscn0ocixpKSxpLHQpfX1mdW5jdGlvbiBxbSh0KXtyZXR1cm4oZSxuLGkpPT57Y29uc3Qgbz1pLm1hcHBlci50b1ZpZXdQb3NpdGlvbihuLnBvc2l0aW9uKS5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0PT4hdC5pdGVtLmlzKFwibGlcIikpLm5vZGVBZnRlcixyPWkud3JpdGVyO3IuYnJlYWtDb250YWluZXIoci5jcmVhdGVQb3NpdGlvbkJlZm9yZShvKSksci5icmVha0NvbnRhaW5lcihyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIobykpO2NvbnN0IHM9by5wYXJlbnQsYT1zLnByZXZpb3VzU2libGluZyxjPXIuY3JlYXRlUmFuZ2VPbihzKSxsPXIucmVtb3ZlKGMpO2EmJmEubmV4dFNpYmxpbmcmJm5wKHIsYSxhLm5leHRTaWJsaW5nKSxvcChpLm1hcHBlci50b01vZGVsRWxlbWVudChvKS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpKzEsbi5wb3NpdGlvbixjLnN0YXJ0LG8saSx0KTtmb3IoY29uc3QgdCBvZiByLmNyZWF0ZVJhbmdlSW4obCkuZ2V0SXRlbXMoKSlpLm1hcHBlci51bmJpbmRWaWV3RWxlbWVudCh0KTtlLnN0b3AoKX19ZnVuY3Rpb24gV20odCxlLG4pe2lmKCFuLmNvbnN1bWFibGUuY29uc3VtZShlLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdFR5cGVcIikpcmV0dXJuO2NvbnN0IGk9bi5tYXBwZXIudG9WaWV3RWxlbWVudChlLml0ZW0pLG89bi53cml0ZXI7by5icmVha0NvbnRhaW5lcihvLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKGkpKSxvLmJyZWFrQ29udGFpbmVyKG8uY3JlYXRlUG9zaXRpb25BZnRlcihpKSk7bGV0IHI9aS5wYXJlbnQ7Y29uc3Qgcz1cIm51bWJlcmVkXCI9PWUuYXR0cmlidXRlTmV3VmFsdWU/XCJvbFwiOlwidWxcIjtucChvLHI9by5yZW5hbWUocyxyKSxyLm5leHRTaWJsaW5nKSxucChvLHIucHJldmlvdXNTaWJsaW5nLHIpO2Zvcihjb25zdCB0IG9mIGUuaXRlbS5nZXRDaGlsZHJlbigpKW4uY29uc3VtYWJsZS5jb25zdW1lKHQsXCJpbnNlcnRcIil9ZnVuY3Rpb24gWW0odCl7cmV0dXJuKGUsbixpKT0+e2lmKCFpLmNvbnN1bWFibGUuY29uc3VtZShuLml0ZW0sXCJhdHRyaWJ1dGU6bGlzdEluZGVudFwiKSlyZXR1cm47Y29uc3Qgbz1pLm1hcHBlci50b1ZpZXdFbGVtZW50KG4uaXRlbSkscj1pLndyaXRlcjtyLmJyZWFrQ29udGFpbmVyKHIuY3JlYXRlUG9zaXRpb25CZWZvcmUobykpLHIuYnJlYWtDb250YWluZXIoci5jcmVhdGVQb3NpdGlvbkFmdGVyKG8pKTtjb25zdCBzPW8ucGFyZW50LGE9cy5wcmV2aW91c1NpYmxpbmcsYz1yLmNyZWF0ZVJhbmdlT24ocyk7ci5yZW1vdmUoYyksYSYmYS5uZXh0U2libGluZyYmbnAocixhLGEubmV4dFNpYmxpbmcpLG9wKG4uYXR0cmlidXRlT2xkVmFsdWUrMSxuLnJhbmdlLnN0YXJ0LGMuc3RhcnQsbyxpLHQpLGlwKG4uaXRlbSxvLGksdCk7Zm9yKGNvbnN0IHQgb2Ygbi5pdGVtLmdldENoaWxkcmVuKCkpaS5jb25zdW1hYmxlLmNvbnN1bWUodCxcImluc2VydFwiKX19ZnVuY3Rpb24gJG0odCxlLG4pe2lmKFwibGlzdEl0ZW1cIiE9ZS5pdGVtLm5hbWUpe2xldCB0PW4ubWFwcGVyLnRvVmlld1Bvc2l0aW9uKGUucmFuZ2Uuc3RhcnQpO2NvbnN0IGk9bi53cml0ZXIsbz1bXTtmb3IoOyhcInVsXCI9PXQucGFyZW50Lm5hbWV8fFwib2xcIj09dC5wYXJlbnQubmFtZSkmJlwibGlcIj09KHQ9aS5icmVha0NvbnRhaW5lcih0KSkucGFyZW50Lm5hbWU7KXtjb25zdCBlPXQsbj1pLmNyZWF0ZVBvc2l0aW9uQXQodC5wYXJlbnQsXCJlbmRcIik7aWYoIWUuaXNFcXVhbChuKSl7Y29uc3QgdD1pLnJlbW92ZShpLmNyZWF0ZVJhbmdlKGUsbikpO28ucHVzaCh0KX10PWkuY3JlYXRlUG9zaXRpb25BZnRlcih0LnBhcmVudCl9aWYoby5sZW5ndGg+MCl7Zm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IG49dC5ub2RlQmVmb3JlO2lmKHQ9aS5pbnNlcnQodCxvW2VdKS5lbmQsZT4wKXtjb25zdCBlPW5wKGksbixuLm5leHRTaWJsaW5nKTtlJiZlLnBhcmVudD09biYmdC5vZmZzZXQtLX19bnAoaSx0Lm5vZGVCZWZvcmUsdC5ub2RlQWZ0ZXIpfX19ZnVuY3Rpb24gR20odCxlLG4pe2NvbnN0IGk9bi5tYXBwZXIudG9WaWV3UG9zaXRpb24oZS5wb3NpdGlvbiksbz1pLm5vZGVCZWZvcmUscj1pLm5vZGVBZnRlcjtucChuLndyaXRlcixvLHIpfWZ1bmN0aW9uIFFtKHQsZSxuKXtpZihuLmNvbnN1bWFibGUuY29uc3VtZShlLnZpZXdJdGVtLHtuYW1lOiEwfSkpe2NvbnN0IHQ9bi53cml0ZXIsaT10aGlzLmNvbnZlcnNpb25BcGkuc3RvcmUsbz10LmNyZWF0ZUVsZW1lbnQoXCJsaXN0SXRlbVwiKTtpLmluZGVudD1pLmluZGVudHx8MCx0LnNldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIixpLmluZGVudCxvKTtjb25zdCByPWUudmlld0l0ZW0ucGFyZW50JiZcIm9sXCI9PWUudmlld0l0ZW0ucGFyZW50Lm5hbWU/XCJudW1iZXJlZFwiOlwiYnVsbGV0ZWRcIjt0LnNldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIscixvKSxpLmluZGVudCsrO2NvbnN0IHM9bi5zcGxpdFRvQWxsb3dlZFBhcmVudChvLGUubW9kZWxDdXJzb3IpO2lmKCFzKXJldHVybjt0Lmluc2VydChvLHMucG9zaXRpb24pO2NvbnN0IGE9ZnVuY3Rpb24odCxlLG4pe2NvbnN0e3dyaXRlcjppLHNjaGVtYTpvfT1uO2xldCByPWkuY3JlYXRlUG9zaXRpb25BZnRlcih0KTtmb3IoY29uc3QgcyBvZiBlKWlmKFwidWxcIj09cy5uYW1lfHxcIm9sXCI9PXMubmFtZSlyPW4uY29udmVydEl0ZW0ocyxyKS5tb2RlbEN1cnNvcjtlbHNle2NvbnN0IGU9bi5jb252ZXJ0SXRlbShzLGkuY3JlYXRlUG9zaXRpb25BdCh0LFwiZW5kXCIpKSxhPWUubW9kZWxSYW5nZS5zdGFydC5ub2RlQWZ0ZXIsYz1hJiZhLmlzKFwiZWxlbWVudFwiKSYmIW8uY2hlY2tDaGlsZCh0LGEubmFtZSk7YyYmKHQ9ZS5tb2RlbEN1cnNvci5wYXJlbnQuaXMoXCJsaXN0SXRlbVwiKT9lLm1vZGVsQ3Vyc29yLnBhcmVudDp0cChlLm1vZGVsQ3Vyc29yKSxyPWkuY3JlYXRlUG9zaXRpb25BZnRlcih0KSl9cmV0dXJuIHJ9KG8sZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpLG4pO2kuaW5kZW50LS0sZS5tb2RlbFJhbmdlPXQuY3JlYXRlUmFuZ2UoZS5tb2RlbEN1cnNvcixhKSxzLmN1cnNvclBhcmVudD9lLm1vZGVsQ3Vyc29yPXQuY3JlYXRlUG9zaXRpb25BdChzLmN1cnNvclBhcmVudCwwKTplLm1vZGVsQ3Vyc29yPWUubW9kZWxSYW5nZS5lbmR9fWZ1bmN0aW9uIEptKHQsZSxuKXtpZihuLmNvbnN1bWFibGUudGVzdChlLnZpZXdJdGVtLHtuYW1lOiEwfSkpe2NvbnN0IHQ9QXJyYXkuZnJvbShlLnZpZXdJdGVtLmdldENoaWxkcmVuKCkpO2Zvcihjb25zdCBlIG9mIHQpZS5pcyhcImxpXCIpfHxlLl9yZW1vdmUoKX19ZnVuY3Rpb24gS20odCxlLG4pe2lmKG4uY29uc3VtYWJsZS50ZXN0KGUudmlld0l0ZW0se25hbWU6ITB9KSl7aWYoMD09PWUudmlld0l0ZW0uY2hpbGRDb3VudClyZXR1cm47Y29uc3QgdD1bLi4uZS52aWV3SXRlbS5nZXRDaGlsZHJlbigpXTtsZXQgbj0hMSxpPSEwO2Zvcihjb25zdCBlIG9mIHQpIW58fGUuaXMoXCJ1bFwiKXx8ZS5pcyhcIm9sXCIpfHxlLl9yZW1vdmUoKSxlLmlzKFwidGV4dFwiKT8oaSYmKGUuX2RhdGE9ZS5kYXRhLnJlcGxhY2UoL15cXHMrLyxcIlwiKSksKCFlLm5leHRTaWJsaW5nfHxlLm5leHRTaWJsaW5nLmlzKFwidWxcIil8fGUubmV4dFNpYmxpbmcuaXMoXCJvbFwiKSkmJihlLl9kYXRhPWUuZGF0YS5yZXBsYWNlKC9cXHMrJC8sXCJcIikpKTooZS5pcyhcInVsXCIpfHxlLmlzKFwib2xcIikpJiYobj0hMCksaT0hMX19ZnVuY3Rpb24gWm0odCl7cmV0dXJuKGUsbik9PntpZihuLmlzUGhhbnRvbSlyZXR1cm47Y29uc3QgaT1uLm1vZGVsUG9zaXRpb24ubm9kZUJlZm9yZTtpZihpJiZpLmlzKFwibGlzdEl0ZW1cIikpe2NvbnN0IGU9bi5tYXBwZXIudG9WaWV3RWxlbWVudChpKSxvPWUuZ2V0QW5jZXN0b3JzKCkuZmluZCh0PT50LmlzKFwidWxcIil8fHQuaXMoXCJvbFwiKSkscj10LmNyZWF0ZVBvc2l0aW9uQXQoZSwwKS5nZXRXYWxrZXIoKTtmb3IoY29uc3QgdCBvZiByKXtpZihcImVsZW1lbnRTdGFydFwiPT10LnR5cGUmJnQuaXRlbS5pcyhcImxpXCIpKXtuLnZpZXdQb3NpdGlvbj10LnByZXZpb3VzUG9zaXRpb247YnJlYWt9aWYoXCJlbGVtZW50RW5kXCI9PXQudHlwZSYmdC5pdGVtPT1vKXtuLnZpZXdQb3NpdGlvbj10Lm5leHRQb3NpdGlvbjticmVha319fX19ZnVuY3Rpb24gWG0odCxbZSxuXSl7bGV0IGksbz1lLmlzKFwiZG9jdW1lbnRGcmFnbWVudFwiKT9lLmdldENoaWxkKDApOmU7aWYoaT1uP3RoaXMuY3JlYXRlU2VsZWN0aW9uKG4pOnRoaXMuZG9jdW1lbnQuc2VsZWN0aW9uLG8mJm8uaXMoXCJsaXN0SXRlbVwiKSl7Y29uc3QgdD1pLmdldEZpcnN0UG9zaXRpb24oKTtsZXQgZT1udWxsO2lmKHQucGFyZW50LmlzKFwibGlzdEl0ZW1cIik/ZT10LnBhcmVudDp0Lm5vZGVCZWZvcmUmJnQubm9kZUJlZm9yZS5pcyhcImxpc3RJdGVtXCIpJiYoZT10Lm5vZGVCZWZvcmUpLGUpe2NvbnN0IHQ9ZS5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2lmKHQ+MClmb3IoO28mJm8uaXMoXCJsaXN0SXRlbVwiKTspby5fc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLG8uZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSt0KSxvPW8ubmV4dFNpYmxpbmd9fX1mdW5jdGlvbiB0cCh0KXtjb25zdCBlPW5ldyBxcyh7c3RhcnRQb3NpdGlvbjp0fSk7bGV0IG47ZG97bj1lLm5leHQoKX13aGlsZSghbi52YWx1ZS5pdGVtLmlzKFwibGlzdEl0ZW1cIikpO3JldHVybiBuLnZhbHVlLml0ZW19ZnVuY3Rpb24gZXAodCxlKXtjb25zdCBuPSEhZS5zYW1lSW5kZW50LGk9ISFlLnNtYWxsZXJJbmRlbnQsbz1lLmxpc3RJbmRlbnQ7bGV0IHI9dDtmb3IoO3ImJlwibGlzdEl0ZW1cIj09ci5uYW1lOyl7Y29uc3QgdD1yLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik7aWYobiYmbz09dHx8aSYmbz50KXJldHVybiByO3I9ci5wcmV2aW91c1NpYmxpbmd9cmV0dXJuIG51bGx9ZnVuY3Rpb24gbnAodCxlLG4pe3JldHVybiBlJiZuJiYoXCJ1bFwiPT1lLm5hbWV8fFwib2xcIj09ZS5uYW1lKSYmZS5uYW1lPT1uLm5hbWU/dC5tZXJnZUNvbnRhaW5lcnModC5jcmVhdGVQb3NpdGlvbkFmdGVyKGUpKTpudWxsfWZ1bmN0aW9uIGlwKHQsZSxuLGkpe2NvbnN0IG89ZS5wYXJlbnQscj1uLm1hcHBlcixzPW4ud3JpdGVyO2xldCBhPXIudG9WaWV3UG9zaXRpb24oaS5jcmVhdGVQb3NpdGlvbkJlZm9yZSh0KSk7Y29uc3QgYz1lcCh0LnByZXZpb3VzU2libGluZyx7c2FtZUluZGVudDohMCxzbWFsbGVySW5kZW50OiEwLGxpc3RJbmRlbnQ6dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpfSksbD10LnByZXZpb3VzU2libGluZztpZihjJiZjLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik9PXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSl7Y29uc3QgdD1yLnRvVmlld0VsZW1lbnQoYyk7YT1zLmJyZWFrQ29udGFpbmVyKHMuY3JlYXRlUG9zaXRpb25BZnRlcih0KSl9ZWxzZSBhPWwmJlwibGlzdEl0ZW1cIj09bC5uYW1lP3IudG9WaWV3UG9zaXRpb24oaS5jcmVhdGVQb3NpdGlvbkF0KGwsXCJlbmRcIikpOnIudG9WaWV3UG9zaXRpb24oaS5jcmVhdGVQb3NpdGlvbkJlZm9yZSh0KSk7aWYoYT1ycChhKSxzLmluc2VydChhLG8pLGwmJlwibGlzdEl0ZW1cIj09bC5uYW1lKXtjb25zdCB0PXIudG9WaWV3RWxlbWVudChsKSxuPXMuY3JlYXRlUmFuZ2Uocy5jcmVhdGVQb3NpdGlvbkF0KHQsMCksYSkuZ2V0V2Fsa2VyKHtpZ25vcmVFbGVtZW50RW5kOiEwfSk7Zm9yKGNvbnN0IHQgb2YgbilpZih0Lml0ZW0uaXMoXCJsaVwiKSl7Y29uc3QgaT1zLmJyZWFrQ29udGFpbmVyKHMuY3JlYXRlUG9zaXRpb25CZWZvcmUodC5pdGVtKSksbz10Lml0ZW0ucGFyZW50LHI9cy5jcmVhdGVQb3NpdGlvbkF0KGUsXCJlbmRcIik7bnAocyxyLm5vZGVCZWZvcmUsci5ub2RlQWZ0ZXIpLHMubW92ZShzLmNyZWF0ZVJhbmdlT24obyksciksbi5wb3NpdGlvbj1pfX1lbHNle2NvbnN0IG49by5uZXh0U2libGluZztpZihuJiYobi5pcyhcInVsXCIpfHxuLmlzKFwib2xcIikpKXtsZXQgaT1udWxsO2Zvcihjb25zdCBlIG9mIG4uZ2V0Q2hpbGRyZW4oKSl7Y29uc3Qgbj1yLnRvTW9kZWxFbGVtZW50KGUpO2lmKCEobiYmbi5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpPnQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSkpYnJlYWs7aT1lfWkmJihzLmJyZWFrQ29udGFpbmVyKHMuY3JlYXRlUG9zaXRpb25BZnRlcihpKSkscy5tb3ZlKHMuY3JlYXRlUmFuZ2VPbihpLnBhcmVudCkscy5jcmVhdGVQb3NpdGlvbkF0KGUsXCJlbmRcIikpKX19bnAocyxvLG8ubmV4dFNpYmxpbmcpLG5wKHMsby5wcmV2aW91c1NpYmxpbmcsbyl9ZnVuY3Rpb24gb3AodCxlLG4saSxvLHIpe2NvbnN0IHM9ZXAoZS5ub2RlQmVmb3JlLHtzYW1lSW5kZW50OiEwLHNtYWxsZXJJbmRlbnQ6ITAsbGlzdEluZGVudDp0LGZvbzpcImJcIn0pLGE9by5tYXBwZXIsYz1vLndyaXRlcixsPXM/cy5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpOm51bGw7bGV0IGQ7aWYocylpZihsPT10KXtjb25zdCB0PWEudG9WaWV3RWxlbWVudChzKS5wYXJlbnQ7ZD1jLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIodCl9ZWxzZXtjb25zdCB0PXIuY3JlYXRlUG9zaXRpb25BdChzLFwiZW5kXCIpO2Q9YS50b1ZpZXdQb3NpdGlvbih0KX1lbHNlIGQ9bjtkPXJwKGQpO2Zvcihjb25zdCB0IG9mWy4uLmkuZ2V0Q2hpbGRyZW4oKV0pKHQuaXMoXCJ1bFwiKXx8dC5pcyhcIm9sXCIpKSYmKGQ9Yy5tb3ZlKGMuY3JlYXRlUmFuZ2VPbih0KSxkKS5lbmQsbnAoYyx0LHQubmV4dFNpYmxpbmcpLG5wKGMsdC5wcmV2aW91c1NpYmxpbmcsdCkpfWZ1bmN0aW9uIHJwKHQpe3JldHVybiB0LmdldExhc3RNYXRjaGluZ1Bvc2l0aW9uKHQ9PnQuaXRlbS5pcyhcInVpRWxlbWVudFwiKSl9Y2xhc3Mgc3AgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW19mXX1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcjt0Lm1vZGVsLnNjaGVtYS5yZWdpc3RlcihcImxpc3RJdGVtXCIse2luaGVyaXRBbGxGcm9tOlwiJGJsb2NrXCIsYWxsb3dBdHRyaWJ1dGVzOltcImxpc3RUeXBlXCIsXCJsaXN0SW5kZW50XCJdfSk7Y29uc3QgZT10LmRhdGEsbj10LmVkaXRpbmc7dC5tb2RlbC5kb2N1bWVudC5yZWdpc3RlclBvc3RGaXhlcihlPT4oZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuZG9jdW1lbnQuZGlmZmVyLmdldENoYW5nZXMoKSxpPW5ldyBNYXA7bGV0IG89ITE7Zm9yKGNvbnN0IHQgb2YgbilpZihcImluc2VydFwiPT10LnR5cGUmJlwibGlzdEl0ZW1cIj09dC5uYW1lKXIodC5wb3NpdGlvbik7ZWxzZSBpZihcImluc2VydFwiPT10LnR5cGUmJlwibGlzdEl0ZW1cIiE9dC5uYW1lKXtpZihcIiR0ZXh0XCIhPXQubmFtZSl7Y29uc3Qgbj10LnBvc2l0aW9uLm5vZGVBZnRlcjtuLmhhc0F0dHJpYnV0ZShcImxpc3RJbmRlbnRcIikmJihlLnJlbW92ZUF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIixuKSxvPSEwKSxuLmhhc0F0dHJpYnV0ZShcImxpc3RUeXBlXCIpJiYoZS5yZW1vdmVBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiLG4pLG89ITApfXIodC5wb3NpdGlvbi5nZXRTaGlmdGVkQnkodC5sZW5ndGgpKX1lbHNlXCJyZW1vdmVcIj09dC50eXBlJiZcImxpc3RJdGVtXCI9PXQubmFtZT9yKHQucG9zaXRpb24pOlwiYXR0cmlidXRlXCI9PXQudHlwZSYmXCJsaXN0SW5kZW50XCI9PXQuYXR0cmlidXRlS2V5P3IodC5yYW5nZS5zdGFydCk6XCJhdHRyaWJ1dGVcIj09dC50eXBlJiZcImxpc3RUeXBlXCI9PXQuYXR0cmlidXRlS2V5JiZyKHQucmFuZ2Uuc3RhcnQpO2Zvcihjb25zdCB0IG9mIGkudmFsdWVzKCkpcyh0KSxhKHQpO3JldHVybiBvO2Z1bmN0aW9uIHIodCl7Y29uc3QgZT10Lm5vZGVCZWZvcmU7aWYoZSYmZS5pcyhcImxpc3RJdGVtXCIpKXtsZXQgbj1lO2lmKGkuaGFzKG4pKXJldHVybjtmb3IoO24ucHJldmlvdXNTaWJsaW5nJiZuLnByZXZpb3VzU2libGluZy5pcyhcImxpc3RJdGVtXCIpOylpZihuPW4ucHJldmlvdXNTaWJsaW5nLGkuaGFzKG4pKXJldHVybjtpLnNldCh0Lm5vZGVCZWZvcmUsbil9ZWxzZXtjb25zdCBlPXQubm9kZUFmdGVyO2UmJmUuaXMoXCJsaXN0SXRlbVwiKSYmaS5zZXQoZSxlKX19ZnVuY3Rpb24gcyh0KXtsZXQgbj0wLGk9bnVsbDtmb3IoO3QmJnQuaXMoXCJsaXN0SXRlbVwiKTspe2NvbnN0IHI9dC5nZXRBdHRyaWJ1dGUoXCJsaXN0SW5kZW50XCIpO2lmKHI+bil7bGV0IHM7bnVsbD09PWk/KGk9ci1uLHM9bik6KGk+ciYmKGk9cikscz1yLWkpLGUuc2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiLHMsdCksbz0hMH1lbHNlIGk9bnVsbCxuPXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKSsxO3Q9dC5uZXh0U2libGluZ319ZnVuY3Rpb24gYSh0KXtsZXQgbj1bXSxpPW51bGw7Zm9yKDt0JiZ0LmlzKFwibGlzdEl0ZW1cIik7KXtjb25zdCByPXQuZ2V0QXR0cmlidXRlKFwibGlzdEluZGVudFwiKTtpZihpJiZpLmdldEF0dHJpYnV0ZShcImxpc3RJbmRlbnRcIik+ciYmKG49bi5zbGljZSgwLHIrMSkpLDAhPXIpaWYobltyXSl7Y29uc3QgaT1uW3JdO3QuZ2V0QXR0cmlidXRlKFwibGlzdFR5cGVcIikhPWkmJihlLnNldEF0dHJpYnV0ZShcImxpc3RUeXBlXCIsaSx0KSxvPSEwKX1lbHNlIG5bcl09dC5nZXRBdHRyaWJ1dGUoXCJsaXN0VHlwZVwiKTtpPXQsdD10Lm5leHRTaWJsaW5nfX19KSh0Lm1vZGVsLGUpKSxuLm1hcHBlci5yZWdpc3RlclZpZXdUb01vZGVsTGVuZ3RoKFwibGlcIixhcCksZS5tYXBwZXIucmVnaXN0ZXJWaWV3VG9Nb2RlbExlbmd0aChcImxpXCIsYXApLG4ubWFwcGVyLm9uKFwibW9kZWxUb1ZpZXdQb3NpdGlvblwiLFptKG4udmlldykpLG4ubWFwcGVyLm9uKFwidmlld1RvTW9kZWxQb3NpdGlvblwiLGZ1bmN0aW9uKHQpe3JldHVybihlLG4pPT57Y29uc3QgaT1uLnZpZXdQb3NpdGlvbixvPWkucGFyZW50LHI9bi5tYXBwZXI7aWYoXCJ1bFwiPT1vLm5hbWV8fFwib2xcIj09by5uYW1lKXtpZihpLmlzQXRFbmQpe2NvbnN0IGU9ci50b01vZGVsRWxlbWVudChpLm5vZGVCZWZvcmUpLG89ci5nZXRNb2RlbExlbmd0aChpLm5vZGVCZWZvcmUpO24ubW9kZWxQb3NpdGlvbj10LmNyZWF0ZVBvc2l0aW9uQmVmb3JlKGUpLmdldFNoaWZ0ZWRCeShvKX1lbHNle2NvbnN0IGU9ci50b01vZGVsRWxlbWVudChpLm5vZGVBZnRlcik7bi5tb2RlbFBvc2l0aW9uPXQuY3JlYXRlUG9zaXRpb25CZWZvcmUoZSl9ZS5zdG9wKCl9ZWxzZSBpZihcImxpXCI9PW8ubmFtZSYmaS5ub2RlQmVmb3JlJiYoXCJ1bFwiPT1pLm5vZGVCZWZvcmUubmFtZXx8XCJvbFwiPT1pLm5vZGVCZWZvcmUubmFtZSkpe2NvbnN0IHM9ci50b01vZGVsRWxlbWVudChvKTtsZXQgYT0xLGM9aS5ub2RlQmVmb3JlO2Zvcig7YyYmKGMuaXMoXCJ1bFwiKXx8Yy5pcyhcIm9sXCIpKTspYSs9ci5nZXRNb2RlbExlbmd0aChjKSxjPWMucHJldmlvdXNTaWJsaW5nO24ubW9kZWxQb3NpdGlvbj10LmNyZWF0ZVBvc2l0aW9uQmVmb3JlKHMpLmdldFNoaWZ0ZWRCeShhKSxlLnN0b3AoKX19fSh0Lm1vZGVsKSksZS5tYXBwZXIub24oXCJtb2RlbFRvVmlld1Bvc2l0aW9uXCIsWm0obi52aWV3KSksbi5kb3duY2FzdERpc3BhdGNoZXIub24oXCJpbnNlcnRcIiwkbSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydDpsaXN0SXRlbVwiLEhtKHQubW9kZWwpKSxlLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcImluc2VydFwiLCRtLHtwcmlvcml0eTpcImhpZ2hcIn0pLGUuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiaW5zZXJ0Omxpc3RJdGVtXCIsSG0odC5tb2RlbCkpLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmxpc3RUeXBlOmxpc3RJdGVtXCIsV20pLGUuZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmxpc3RUeXBlOmxpc3RJdGVtXCIsV20pLG4uZG93bmNhc3REaXNwYXRjaGVyLm9uKFwiYXR0cmlidXRlOmxpc3RJbmRlbnQ6bGlzdEl0ZW1cIixZbSh0Lm1vZGVsKSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJhdHRyaWJ1dGU6bGlzdEluZGVudDpsaXN0SXRlbVwiLFltKHQubW9kZWwpKSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZTpsaXN0SXRlbVwiLHFtKHQubW9kZWwpKSxuLmRvd25jYXN0RGlzcGF0Y2hlci5vbihcInJlbW92ZVwiLEdtLHtwcmlvcml0eTpcImxvd1wifSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmU6bGlzdEl0ZW1cIixxbSh0Lm1vZGVsKSksZS5kb3duY2FzdERpc3BhdGNoZXIub24oXCJyZW1vdmVcIixHbSx7cHJpb3JpdHk6XCJsb3dcIn0pLGUudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6dWxcIixKbSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSxlLnVwY2FzdERpc3BhdGNoZXIub24oXCJlbGVtZW50Om9sXCIsSm0se3ByaW9yaXR5OlwiaGlnaFwifSksZS51cGNhc3REaXNwYXRjaGVyLm9uKFwiZWxlbWVudDpsaVwiLEttLHtwcmlvcml0eTpcImhpZ2hcIn0pLGUudXBjYXN0RGlzcGF0Y2hlci5vbihcImVsZW1lbnQ6bGlcIixRbSksdC5tb2RlbC5vbihcImluc2VydENvbnRlbnRcIixYbSx7cHJpb3JpdHk6XCJoaWdoXCJ9KSx0LmNvbW1hbmRzLmFkZChcIm51bWJlcmVkTGlzdFwiLG5ldyBWbSh0LFwibnVtYmVyZWRcIikpLHQuY29tbWFuZHMuYWRkKFwiYnVsbGV0ZWRMaXN0XCIsbmV3IFZtKHQsXCJidWxsZXRlZFwiKSksdC5jb21tYW5kcy5hZGQoXCJpbmRlbnRMaXN0XCIsbmV3IEZtKHQsXCJmb3J3YXJkXCIpKSx0LmNvbW1hbmRzLmFkZChcIm91dGRlbnRMaXN0XCIsbmV3IEZtKHQsXCJiYWNrd2FyZFwiKSk7Y29uc3QgaT10aGlzLmVkaXRvci5lZGl0aW5nLnZpZXcuZG9jdW1lbnQ7dGhpcy5saXN0ZW5UbyhpLFwiZW50ZXJcIiwodCxlKT0+e2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQsaT1uLnNlbGVjdGlvbi5nZXRMYXN0UG9zaXRpb24oKS5wYXJlbnQ7bi5zZWxlY3Rpb24uaXNDb2xsYXBzZWQmJlwibGlzdEl0ZW1cIj09aS5uYW1lJiZpLmlzRW1wdHkmJih0aGlzLmVkaXRvci5leGVjdXRlKFwib3V0ZGVudExpc3RcIiksZS5wcmV2ZW50RGVmYXVsdCgpLHQuc3RvcCgpKX0pLHRoaXMubGlzdGVuVG8oaSxcImRlbGV0ZVwiLCh0LGUpPT57aWYoXCJiYWNrd2FyZFwiIT09ZS5kaXJlY3Rpb24pcmV0dXJuO2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKCFuLmlzQ29sbGFwc2VkKXJldHVybjtjb25zdCBpPW4uZ2V0Rmlyc3RQb3NpdGlvbigpO2lmKCFpLmlzQXRTdGFydClyZXR1cm47Y29uc3Qgbz1pLnBhcmVudDtcImxpc3RJdGVtXCI9PT1vLm5hbWUmJihvLnByZXZpb3VzU2libGluZyYmXCJsaXN0SXRlbVwiPT09by5wcmV2aW91c1NpYmxpbmcubmFtZXx8KHRoaXMuZWRpdG9yLmV4ZWN1dGUoXCJvdXRkZW50TGlzdFwiKSxlLnByZXZlbnREZWZhdWx0KCksdC5zdG9wKCkpKX0se3ByaW9yaXR5OlwiaGlnaFwifSk7Y29uc3Qgbz10PT4oZSxuKT0+e3RoaXMuZWRpdG9yLmNvbW1hbmRzLmdldCh0KS5pc0VuYWJsZWQmJih0aGlzLmVkaXRvci5leGVjdXRlKHQpLG4oKSl9O3RoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiVGFiXCIsbyhcImluZGVudExpc3RcIikpLHRoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiU2hpZnQrVGFiXCIsbyhcIm91dGRlbnRMaXN0XCIpKX19ZnVuY3Rpb24gYXAodCl7bGV0IGU9MTtmb3IoY29uc3QgbiBvZiB0LmdldENoaWxkcmVuKCkpaWYoXCJ1bFwiPT1uLm5hbWV8fFwib2xcIj09bi5uYW1lKWZvcihjb25zdCB0IG9mIG4uZ2V0Q2hpbGRyZW4oKSllKz1hcCh0KTtyZXR1cm4gZX12YXIgY3A9bigzNSksbHA9bi5uKGNwKSxkcD1uKDM2KSx1cD1uLm4oZHApO2NsYXNzIGhwIGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IudDt0aGlzLl9hZGRCdXR0b24oXCJudW1iZXJlZExpc3RcIix0KFwib1wiKSxscC5hKSx0aGlzLl9hZGRCdXR0b24oXCJidWxsZXRlZExpc3RcIix0KFwicFwiKSx1cC5hKX1fYWRkQnV0dG9uKHQsZSxuKXtjb25zdCBpPXRoaXMuZWRpdG9yO2kudWkuY29tcG9uZW50RmFjdG9yeS5hZGQodCxvPT57Y29uc3Qgcj1pLmNvbW1hbmRzLmdldCh0KSxzPW5ldyBXZChvKTtyZXR1cm4gcy5zZXQoe2xhYmVsOmUsaWNvbjpuLHRvb2x0aXA6ITB9KSxzLmJpbmQoXCJpc09uXCIsXCJpc0VuYWJsZWRcIikudG8ocixcInZhbHVlXCIsXCJpc0VuYWJsZWRcIiksdGhpcy5saXN0ZW5UbyhzLFwiZXhlY3V0ZVwiLCgpPT5pLmV4ZWN1dGUodCkpLHN9KX19ZnVuY3Rpb24gZnAodCxlKXtyZXR1cm4gdD0+e3Qub24oXCJhdHRyaWJ1dGU6dXJsOm1lZGlhXCIsbil9O2Z1bmN0aW9uIG4obixpLG8pe2lmKCFvLmNvbnN1bWFibGUuY29uc3VtZShpLml0ZW0sbi5uYW1lKSlyZXR1cm47Y29uc3Qgcj1pLmF0dHJpYnV0ZU5ld1ZhbHVlLHM9by53cml0ZXIsYT1vLm1hcHBlci50b1ZpZXdFbGVtZW50KGkuaXRlbSk7cy5yZW1vdmUocy5jcmVhdGVSYW5nZUluKGEpKTtjb25zdCBjPXQuZ2V0TWVkaWFWaWV3RWxlbWVudChzLHIsZSk7cy5pbnNlcnQocy5jcmVhdGVQb3NpdGlvbkF0KGEsMCksYyl9fWZ1bmN0aW9uIG1wKHQsZSxuLGkpe2NvbnN0IG89dC5jcmVhdGVDb250YWluZXJFbGVtZW50KFwiZmlndXJlXCIse2NsYXNzOlwibWVkaWFcIn0pO3JldHVybiBvLmdldEZpbGxlck9mZnNldD1icCx0Lmluc2VydCh0LmNyZWF0ZVBvc2l0aW9uQXQobywwKSxlLmdldE1lZGlhVmlld0VsZW1lbnQodCxuLGkpKSxvfWZ1bmN0aW9uIHBwKHQpe2NvbnN0IGU9dC5nZXRTZWxlY3RlZEVsZW1lbnQoKTtyZXR1cm4gZSYmZS5pcyhcIm1lZGlhXCIpP2U6bnVsbH1mdW5jdGlvbiBncCh0LGUsbil7dC5jaGFuZ2UoaT0+e2NvbnN0IG89aS5jcmVhdGVFbGVtZW50KFwibWVkaWFcIix7dXJsOmV9KTt0Lmluc2VydENvbnRlbnQobyxuKSxpLnNldFNlbGVjdGlvbihvLFwib25cIil9KX1mdW5jdGlvbiBicCgpe3JldHVybiBudWxsfWNsYXNzIHdwIGV4dGVuZHMgWGx7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50LnNlbGVjdGlvbixuPXQuc2NoZW1hLGk9ZS5nZXRGaXJzdFBvc2l0aW9uKCksbz1wcChlKTtsZXQgcj1pLnBhcmVudDtyIT1yLnJvb3QmJihyPXIucGFyZW50KSx0aGlzLnZhbHVlPW8/by5nZXRBdHRyaWJ1dGUoXCJ1cmxcIik6bnVsbCx0aGlzLmlzRW5hYmxlZD1uLmNoZWNrQ2hpbGQocixcIm1lZGlhXCIpfWV4ZWN1dGUodCl7Y29uc3QgZT10aGlzLmVkaXRvci5tb2RlbCxuPWUuZG9jdW1lbnQuc2VsZWN0aW9uLGk9cHAobik7aWYoaSllLmNoYW5nZShlPT57ZS5zZXRBdHRyaWJ1dGUoXCJ1cmxcIix0LGkpfSk7ZWxzZXtjb25zdCBpPWRoKG4sZSk7Z3AoZSx0LGkpfX19dmFyIF9wPW4oMzcpLGtwPW4ubihfcCk7Y29uc3QgdnA9XCIwIDAgNjQgNDJcIjtjbGFzcyB5cHtjb25zdHJ1Y3Rvcih0LGUpe2NvbnN0IG49ZS5wcm92aWRlcnMsaT1lLmV4dHJhUHJvdmlkZXJzfHxbXSxvPW5ldyBTZXQoZS5yZW1vdmVQcm92aWRlcnMpLHI9bi5jb25jYXQoaSkuZmlsdGVyKHQ9Pntjb25zdCBlPXQubmFtZTtyZXR1cm4gZT8hby5oYXMoZSk6KGJzLmEud2FybihcIm1lZGlhLWVtYmVkLW5vLXByb3ZpZGVyLW5hbWU6IFRoZSBjb25maWd1cmVkIG1lZGlhIHByb3ZpZGVyIGhhcyBubyBuYW1lIGFuZCBjYW5ub3QgYmUgdXNlZC5cIix7cHJvdmlkZXI6dH0pLCExKX0pO3RoaXMubG9jYWxlPXQsdGhpcy5wcm92aWRlckRlZmluaXRpb25zPXJ9aGFzTWVkaWEodCl7cmV0dXJuISF0aGlzLl9nZXRNZWRpYSh0KX1nZXRNZWRpYVZpZXdFbGVtZW50KHQsZSxuKXtyZXR1cm4gdGhpcy5fZ2V0TWVkaWEoZSkuZ2V0Vmlld0VsZW1lbnQodCxuKX1fZ2V0TWVkaWEodCl7aWYoIXQpcmV0dXJuIG5ldyB4cCh0aGlzLmxvY2FsZSk7dD10LnRyaW0oKTtmb3IoY29uc3QgZSBvZiB0aGlzLnByb3ZpZGVyRGVmaW5pdGlvbnMpe2NvbnN0IG49ZS5odG1sO2xldCBpPWUudXJsO0FycmF5LmlzQXJyYXkoaSl8fChpPVtpXSk7Zm9yKGNvbnN0IGUgb2YgaSl7Y29uc3QgaT10aGlzLl9nZXRVcmxNYXRjaGVzKHQsZSk7aWYoaSlyZXR1cm4gbmV3IHhwKHRoaXMubG9jYWxlLHQsaSxuKX19cmV0dXJuIG51bGx9X2dldFVybE1hdGNoZXModCxlKXtsZXQgbj10Lm1hdGNoKGUpO2lmKG4pcmV0dXJuIG47bGV0IGk9dC5yZXBsYWNlKC9eaHR0cHM/OlxcL1xcLy8sXCJcIik7cmV0dXJuKG49aS5tYXRjaChlKSk/bjoobj0oaT1pLnJlcGxhY2UoL153d3dcXC4vLFwiXCIpKS5tYXRjaChlKSl8fG51bGx9fWNsYXNzIHhwe2NvbnN0cnVjdG9yKHQsZSxuLGkpe3RoaXMudXJsPXRoaXMuX2dldFZhbGlkVXJsKGUpLHRoaXMuX3Q9dC50LHRoaXMuX21hdGNoPW4sdGhpcy5fcHJldmlld1JlbmRlcmVyPWl9Z2V0Vmlld0VsZW1lbnQodCxlKXtjb25zdCBuPXt9O2lmKGUucmVuZGVyRm9yRWRpdGluZ1ZpZXd8fGUucmVuZGVyTWVkaWFQcmV2aWV3JiZ0aGlzLnVybCYmdGhpcy5fcHJldmlld1JlbmRlcmVyKXt0aGlzLnVybCYmKG5bXCJkYXRhLW9lbWJlZC11cmxcIl09dGhpcy51cmwpLGUucmVuZGVyRm9yRWRpdGluZ1ZpZXcmJihuLmNsYXNzPVwiY2stbWVkaWFfX3dyYXBwZXJcIik7Y29uc3QgaT10aGlzLl9nZXRQcmV2aWV3SHRtbChlKTtyZXR1cm4gdC5jcmVhdGVVSUVsZW1lbnQoXCJkaXZcIixuLGZ1bmN0aW9uKHQpe2NvbnN0IGU9dGhpcy50b0RvbUVsZW1lbnQodCk7cmV0dXJuIGUuaW5uZXJIVE1MPWksZX0pfXJldHVybiB0aGlzLnVybCYmKG4udXJsPXRoaXMudXJsKSx0LmNyZWF0ZUVtcHR5RWxlbWVudChcIm9lbWJlZFwiLG4pfV9nZXRQcmV2aWV3SHRtbCh0KXtyZXR1cm4gdGhpcy5fcHJldmlld1JlbmRlcmVyP3RoaXMuX3ByZXZpZXdSZW5kZXJlcih0aGlzLl9tYXRjaCk6dGhpcy51cmwmJnQucmVuZGVyRm9yRWRpdGluZ1ZpZXc/dGhpcy5fZ2V0UGxhY2Vob2xkZXJIdG1sKCk6XCJcIn1fZ2V0UGxhY2Vob2xkZXJIdG1sKCl7Y29uc3QgdD1uZXcgcWQsZT1uZXcgSGQ7cmV0dXJuIHQudGV4dD10aGlzLl90KFwiT3BlbiBtZWRpYSBpbiBuZXcgdGFiXCIpLGUuY29udGVudD1rcC5hLGUudmlld0JveD12cCxuZXcgcGwoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOlwiY2sgY2stcmVzZXRfYWxsIGNrLW1lZGlhX19wbGFjZWhvbGRlclwifSxjaGlsZHJlbjpbe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOlwiY2stbWVkaWFfX3BsYWNlaG9sZGVyX19pY29uXCJ9LGNoaWxkcmVuOltlXX0se3RhZzpcImFcIixhdHRyaWJ1dGVzOntjbGFzczpcImNrLW1lZGlhX19wbGFjZWhvbGRlcl9fdXJsXCIsdGFyZ2V0OlwibmV3XCIsaHJlZjp0aGlzLnVybH0sY2hpbGRyZW46W3t0YWc6XCJzcGFuXCIsYXR0cmlidXRlczp7Y2xhc3M6XCJjay1tZWRpYV9fcGxhY2Vob2xkZXJfX3VybF9fdGV4dFwifSxjaGlsZHJlbjpbdGhpcy51cmxdfSx0XX1dfSkucmVuZGVyKCkub3V0ZXJIVE1MfV9nZXRWYWxpZFVybCh0KXtyZXR1cm4gdD90Lm1hdGNoKC9eaHR0cHM/Lyk/dDpcImh0dHBzOi8vXCIrdDpudWxsfX1uKDEwNSk7Y2xhc3MgQXAgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIk1lZGlhRW1iZWRFZGl0aW5nXCJ9Y29uc3RydWN0b3IodCl7c3VwZXIodCksdC5jb25maWcuZGVmaW5lKFwibWVkaWFFbWJlZFwiLHtwcm92aWRlcnM6W3tuYW1lOlwiZGFpbHltb3Rpb25cIix1cmw6L15kYWlseW1vdGlvblxcLmNvbVxcL3ZpZGVvXFwvKFxcdyspLyxodG1sOnQ9PntyZXR1cm4nPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZy1ib3R0b206IDEwMCU7IGhlaWdodDogMDsgXCI+JytgPGlmcmFtZSBzcmM9XCJodHRwczovL3d3dy5kYWlseW1vdGlvbi5jb20vZW1iZWQvdmlkZW8vJHt0WzFdfVwiIGArJ3N0eWxlPVwicG9zaXRpb246IGFic29sdXRlOyB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyB0b3A6IDA7IGxlZnQ6IDA7XCIgZnJhbWVib3JkZXI9XCIwXCIgd2lkdGg9XCI0ODBcIiBoZWlnaHQ9XCIyNzBcIiBhbGxvd2Z1bGxzY3JlZW4gYWxsb3c9XCJhdXRvcGxheVwiPjwvaWZyYW1lPjwvZGl2Pid9fSx7bmFtZTpcInNwb3RpZnlcIix1cmw6Wy9eb3BlblxcLnNwb3RpZnlcXC5jb21cXC8oYXJ0aXN0XFwvXFx3KykvLC9eb3BlblxcLnNwb3RpZnlcXC5jb21cXC8oYWxidW1cXC9cXHcrKS8sL15vcGVuXFwuc3BvdGlmeVxcLmNvbVxcLyh0cmFja1xcL1xcdyspL10saHRtbDp0PT57cmV0dXJuJzxkaXYgc3R5bGU9XCJwb3NpdGlvbjogcmVsYXRpdmU7IHBhZGRpbmctYm90dG9tOiAxMDAlOyBoZWlnaHQ6IDA7IHBhZGRpbmctYm90dG9tOiAxMjYlO1wiPicrYDxpZnJhbWUgc3JjPVwiaHR0cHM6Ly9vcGVuLnNwb3RpZnkuY29tL2VtYmVkLyR7dFsxXX1cIiBgKydzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgdG9wOiAwOyBsZWZ0OiAwO1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93dHJhbnNwYXJlbmN5PVwidHJ1ZVwiIGFsbG93PVwiZW5jcnlwdGVkLW1lZGlhXCI+PC9pZnJhbWU+PC9kaXY+J319LHtuYW1lOlwieW91dHViZVwiLHVybDpbL14oPzptXFwuKT95b3V0dWJlXFwuY29tXFwvd2F0Y2hcXD92PShbXFx3LV0rKS8sL14oPzptXFwuKT95b3V0dWJlXFwuY29tXFwvdlxcLyhbXFx3LV0rKS8sL155b3V0dWJlXFwuY29tXFwvZW1iZWRcXC8oW1xcdy1dKykvLC9eeW91dHVcXC5iZVxcLyhbXFx3LV0rKS9dLGh0bWw6dD0+e3JldHVybic8ZGl2IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyBwYWRkaW5nLWJvdHRvbTogMTAwJTsgaGVpZ2h0OiAwOyBwYWRkaW5nLWJvdHRvbTogNTYuMjQ5MyU7XCI+JytgPGlmcmFtZSBzcmM9XCJodHRwczovL3d3dy55b3V0dWJlLmNvbS9lbWJlZC8ke3RbMV19XCIgYCsnc3R5bGU9XCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7IHRvcDogMDsgbGVmdDogMDtcIiBmcmFtZWJvcmRlcj1cIjBcIiBhbGxvdz1cImF1dG9wbGF5OyBlbmNyeXB0ZWQtbWVkaWFcIiBhbGxvd2Z1bGxzY3JlZW4+PC9pZnJhbWU+PC9kaXY+J319LHtuYW1lOlwidmltZW9cIix1cmw6Wy9edmltZW9cXC5jb21cXC8oXFxkKykvLC9edmltZW9cXC5jb21cXC9bXi9dK1xcL1teL10rXFwvdmlkZW9cXC8oXFxkKykvLC9edmltZW9cXC5jb21cXC9hbGJ1bVxcL1teL10rXFwvdmlkZW9cXC8oXFxkKykvLC9edmltZW9cXC5jb21cXC9jaGFubmVsc1xcL1teL10rXFwvKFxcZCspLywvXnZpbWVvXFwuY29tXFwvZ3JvdXBzXFwvW14vXStcXC92aWRlb3NcXC8oXFxkKykvLC9edmltZW9cXC5jb21cXC9vbmRlbWFuZFxcL1teL10rXFwvKFxcZCspLywvXnBsYXllclxcLnZpbWVvXFwuY29tXFwvdmlkZW9cXC8oXFxkKykvXSxodG1sOnQ9PntyZXR1cm4nPGRpdiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgcGFkZGluZy1ib3R0b206IDEwMCU7IGhlaWdodDogMDsgcGFkZGluZy1ib3R0b206IDU2LjI0OTMlO1wiPicrYDxpZnJhbWUgc3JjPVwiaHR0cHM6Ly9wbGF5ZXIudmltZW8uY29tL3ZpZGVvLyR7dFsxXX1cIiBgKydzdHlsZT1cInBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDEwMCU7IGhlaWdodDogMTAwJTsgdG9wOiAwOyBsZWZ0OiAwO1wiIGZyYW1lYm9yZGVyPVwiMFwiIHdlYmtpdGFsbG93ZnVsbHNjcmVlbiBtb3phbGxvd2Z1bGxzY3JlZW4gYWxsb3dmdWxsc2NyZWVuPjwvaWZyYW1lPjwvZGl2Pid9fSx7bmFtZTpcImluc3RhZ3JhbVwiLHVybDovXmluc3RhZ3JhbVxcLmNvbVxcL3BcXC8oXFx3KykvfSx7bmFtZTpcInR3aXR0ZXJcIix1cmw6L150d2l0dGVyXFwuY29tL30se25hbWU6XCJnb29nbGVNYXBzXCIsdXJsOi9eZ29vZ2xlXFwuY29tXFwvbWFwcy99LHtuYW1lOlwiZmxpY2tyXCIsdXJsOi9eZmxpY2tyXFwuY29tL30se25hbWU6XCJmYWNlYm9va1wiLHVybDovXmZhY2Vib29rXFwuY29tL31dfSksdGhpcy5yZWdpc3RyeT1uZXcgeXAodC5sb2NhbGUsdC5jb25maWcuZ2V0KFwibWVkaWFFbWJlZFwiKSl9aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLnNjaGVtYSxuPXQudCxpPXQuY29udmVyc2lvbixvPXQuY29uZmlnLmdldChcIm1lZGlhRW1iZWQucHJldmlld3NJbkRhdGFcIikscj10aGlzLnJlZ2lzdHJ5O3QuY29tbWFuZHMuYWRkKFwibWVkaWFFbWJlZFwiLG5ldyB3cCh0KSksZS5yZWdpc3RlcihcIm1lZGlhXCIse2lzT2JqZWN0OiEwLGlzQmxvY2s6ITAsYWxsb3dXaGVyZTpcIiRibG9ja1wiLGFsbG93QXR0cmlidXRlczpbXCJ1cmxcIl19KSxpLmZvcihcImRhdGFEb3duY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcIm1lZGlhXCIsdmlldzoodCxlKT0+e2NvbnN0IG49dC5nZXRBdHRyaWJ1dGUoXCJ1cmxcIik7cmV0dXJuIG1wKGUscixuLHtyZW5kZXJNZWRpYVByZXZpZXc6biYmb30pfX0pLGkuZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChmcChyLHtyZW5kZXJNZWRpYVByZXZpZXc6b30pKSxpLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5lbGVtZW50VG9FbGVtZW50KHttb2RlbDpcIm1lZGlhXCIsdmlldzoodCxlKT0+e2NvbnN0IGk9dC5nZXRBdHRyaWJ1dGUoXCJ1cmxcIik7cmV0dXJuIGZ1bmN0aW9uKHQsZSxuKXtyZXR1cm4gZS5zZXRDdXN0b21Qcm9wZXJ0eShcIm1lZGlhXCIsITAsdCksYWgodCxlLHtsYWJlbDpufSl9KG1wKGUscixpLHtyZW5kZXJGb3JFZGl0aW5nVmlldzohMH0pLGUsbihcImFrXCIpKX19KSxpLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoZnAocix7cmVuZGVyRm9yRWRpdGluZ1ZpZXc6ITB9KSksaS5mb3IoXCJ1cGNhc3RcIikuZWxlbWVudFRvRWxlbWVudCh7dmlldzp7bmFtZTpcIm9lbWJlZFwiLGF0dHJpYnV0ZXM6e3VybDohMH19LG1vZGVsOih0LGUpPT57Y29uc3Qgbj10LmdldEF0dHJpYnV0ZShcInVybFwiKTtpZihyLmhhc01lZGlhKG4pKXJldHVybiBlLmNyZWF0ZUVsZW1lbnQoXCJtZWRpYVwiLHt1cmw6bn0pfX0pLmVsZW1lbnRUb0VsZW1lbnQoe3ZpZXc6e25hbWU6XCJkaXZcIixhdHRyaWJ1dGVzOntcImRhdGEtb2VtYmVkLXVybFwiOiEwfX0sbW9kZWw6KHQsZSk9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1vZW1iZWQtdXJsXCIpO2lmKHIuaGFzTWVkaWEobikpcmV0dXJuIGUuY3JlYXRlRWxlbWVudChcIm1lZGlhXCIse3VybDpufSl9fSl9fWNvbnN0IENwPS9eKD86aHR0cChzKT86XFwvXFwvKT9bXFx3Li1dKyg/OlxcLltcXHcuLV0rKStbXFx3XFwtLl9+Oi8/I1tcXF1AISQmJygpKissOz1dKyQvO2NsYXNzIFRwIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltabCxLZF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJBdXRvTWVkaWFFbWJlZFwifWNvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuX3RpbWVvdXRJZD1udWxsLHRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQ9bnVsbH1pbml0KCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuZG9jdW1lbnQ7dGhpcy5saXN0ZW5Ubyh0LnBsdWdpbnMuZ2V0KFpsKSxcImlucHV0VHJhbnNmb3JtYXRpb25cIiwoKT0+e2NvbnN0IHQ9ZS5zZWxlY3Rpb24uZ2V0Rmlyc3RSYW5nZSgpLG49T2MuZnJvbVBvc2l0aW9uKHQuc3RhcnQpO24uc3RpY2tpbmVzcz1cInRvUHJldmlvdXNcIjtjb25zdCBpPU9jLmZyb21Qb3NpdGlvbih0LmVuZCk7aS5zdGlja2luZXNzPVwidG9OZXh0XCIsZS5vbmNlKFwiY2hhbmdlOmRhdGFcIiwoKT0+e3RoaXMuX2VtYmVkTWVkaWFCZXR3ZWVuUG9zaXRpb25zKG4saSksbi5kZXRhY2goKSxpLmRldGFjaCgpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX0pLHQuY29tbWFuZHMuZ2V0KFwidW5kb1wiKS5vbihcImV4ZWN1dGVcIiwoKT0+e3RoaXMuX3RpbWVvdXRJZCYmKG5yLndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdGltZW91dElkKSx0aGlzLl9wb3NpdGlvblRvSW5zZXJ0LmRldGFjaCgpLHRoaXMuX3RpbWVvdXRJZD1udWxsLHRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQ9bnVsbCl9LHtwcmlvcml0eTpcImhpZ2hcIn0pfV9lbWJlZE1lZGlhQmV0d2VlblBvc2l0aW9ucyh0LGUpe2NvbnN0IG49dGhpcy5lZGl0b3IsaT1uLnBsdWdpbnMuZ2V0KEFwKS5yZWdpc3RyeSxvPW5ldyBvYSh0LGUpLHI9by5nZXRXYWxrZXIoe2lnbm9yZUVsZW1lbnRFbmQ6ITB9KTtsZXQgcz1cIlwiO2Zvcihjb25zdCB0IG9mIHIpdC5pdGVtLmlzKFwidGV4dFByb3h5XCIpJiYocys9dC5pdGVtLmRhdGEpO2lmKCEocz1zLnRyaW0oKSkubWF0Y2goQ3ApKXJldHVybjtpZighaS5oYXNNZWRpYShzKSlyZXR1cm47bi5jb21tYW5kcy5nZXQoXCJtZWRpYUVtYmVkXCIpLmlzRW5hYmxlZCYmKHRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQ9T2MuZnJvbVBvc2l0aW9uKHQpLHRoaXMuX3RpbWVvdXRJZD1uci53aW5kb3cuc2V0VGltZW91dCgoKT0+e24ubW9kZWwuY2hhbmdlKHQ9PntsZXQgZTt0aGlzLl90aW1lb3V0SWQ9bnVsbCx0LnJlbW92ZShvKSxcIiRncmF2ZXlhcmRcIiE9PXRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQucm9vdC5yb290TmFtZSYmKGU9dGhpcy5fcG9zaXRpb25Ub0luc2VydCksZ3Aobi5tb2RlbCxzLGUpLHRoaXMuX3Bvc2l0aW9uVG9JbnNlcnQuZGV0YWNoKCksdGhpcy5fcG9zaXRpb25Ub0luc2VydD1udWxsfSl9LDEwMCkpfX1uKDEwNyk7Y2xhc3MgUHAgZXh0ZW5kcyBPbHtjb25zdHJ1Y3Rvcih0LGUpe3N1cGVyKGUpO2NvbnN0IG49ZS50O3RoaXMuZm9jdXNUcmFja2VyPW5ldyBvbCx0aGlzLmtleXN0cm9rZXM9bmV3IFFjLHRoaXMudXJsSW5wdXRWaWV3PXRoaXMuX2NyZWF0ZVVybElucHV0KCksdGhpcy5zYXZlQnV0dG9uVmlldz10aGlzLl9jcmVhdGVCdXR0b24obihcImF5XCIpLFNoLmEsXCJjay1idXR0b24tc2F2ZVwiKSx0aGlzLnNhdmVCdXR0b25WaWV3LnR5cGU9XCJzdWJtaXRcIix0aGlzLmNhbmNlbEJ1dHRvblZpZXc9dGhpcy5fY3JlYXRlQnV0dG9uKG4oXCJhelwiKSxOaC5hLFwiY2stYnV0dG9uLWNhbmNlbFwiLFwiY2FuY2VsXCIpLHRoaXMuX2ZvY3VzYWJsZXM9bmV3IGZsLHRoaXMuX2ZvY3VzQ3ljbGVyPW5ldyBVbCh7Zm9jdXNhYmxlczp0aGlzLl9mb2N1c2FibGVzLGZvY3VzVHJhY2tlcjp0aGlzLmZvY3VzVHJhY2tlcixrZXlzdHJva2VIYW5kbGVyOnRoaXMua2V5c3Ryb2tlcyxhY3Rpb25zOntmb2N1c1ByZXZpb3VzOlwic2hpZnQgKyB0YWJcIixmb2N1c05leHQ6XCJ0YWJcIn19KSx0aGlzLl92YWxpZGF0b3JzPXQsdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZm9ybVwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrXCIsXCJjay1tZWRpYS1mb3JtXCJdLHRhYmluZGV4OlwiLTFcIn0sY2hpbGRyZW46W3RoaXMudXJsSW5wdXRWaWV3LHRoaXMuc2F2ZUJ1dHRvblZpZXcsdGhpcy5jYW5jZWxCdXR0b25WaWV3XX0pfXJlbmRlcigpe3N1cGVyLnJlbmRlcigpLE1oKHt2aWV3OnRoaXN9KSxbdGhpcy51cmxJbnB1dFZpZXcsdGhpcy5zYXZlQnV0dG9uVmlldyx0aGlzLmNhbmNlbEJ1dHRvblZpZXddLmZvckVhY2godD0+e3RoaXMuX2ZvY3VzYWJsZXMuYWRkKHQpLHRoaXMuZm9jdXNUcmFja2VyLmFkZCh0LmVsZW1lbnQpfSksdGhpcy5rZXlzdHJva2VzLmxpc3RlblRvKHRoaXMuZWxlbWVudCk7Y29uc3QgdD10PT50LnN0b3BQcm9wYWdhdGlvbigpO3RoaXMua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd3JpZ2h0XCIsdCksdGhpcy5rZXlzdHJva2VzLnNldChcImFycm93bGVmdFwiLHQpLHRoaXMua2V5c3Ryb2tlcy5zZXQoXCJhcnJvd3VwXCIsdCksdGhpcy5rZXlzdHJva2VzLnNldChcImFycm93ZG93blwiLHQpLHRoaXMubGlzdGVuVG8odGhpcy51cmxJbnB1dFZpZXcuZWxlbWVudCxcInNlbGVjdHN0YXJ0XCIsKHQsZSk9PntlLnN0b3BQcm9wYWdhdGlvbigpfSx7cHJpb3JpdHk6XCJoaWdoXCJ9KX1mb2N1cygpe3RoaXMuX2ZvY3VzQ3ljbGVyLmZvY3VzRmlyc3QoKX1nZXQgdXJsKCl7cmV0dXJuIHRoaXMudXJsSW5wdXRWaWV3LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlLnRyaW0oKX1zZXQgdXJsKHQpe3RoaXMudXJsSW5wdXRWaWV3LmlucHV0Vmlldy5lbGVtZW50LnZhbHVlPXQudHJpbSgpfWlzVmFsaWQoKXt0aGlzLnJlc2V0Rm9ybVN0YXR1cygpO2Zvcihjb25zdCB0IG9mIHRoaXMuX3ZhbGlkYXRvcnMpe2NvbnN0IGU9dCh0aGlzKTtpZihlKXJldHVybiB0aGlzLnVybElucHV0Vmlldy5lcnJvclRleHQ9ZSwhMX1yZXR1cm4hMH1yZXNldEZvcm1TdGF0dXMoKXt0aGlzLnVybElucHV0Vmlldy5lcnJvclRleHQ9bnVsbCx0aGlzLnVybElucHV0Vmlldy5pbmZvVGV4dD10aGlzLl91cmxJbnB1dFZpZXdJbmZvRGVmYXVsdH1fY3JlYXRlVXJsSW5wdXQoKXtjb25zdCB0PXRoaXMubG9jYWxlLnQsZT1uZXcgVGgodGhpcy5sb2NhbGUsUGgpLG49ZS5pbnB1dFZpZXc7cmV0dXJuIHRoaXMuX3VybElucHV0Vmlld0luZm9EZWZhdWx0PXQoXCJiYlwiKSx0aGlzLl91cmxJbnB1dFZpZXdJbmZvVGlwPXQoXCJiY1wiKSxlLmxhYmVsPXQoXCJiZFwiKSxlLmluZm9UZXh0PXRoaXMuX3VybElucHV0Vmlld0luZm9EZWZhdWx0LG4ucGxhY2Vob2xkZXI9XCJodHRwczovL2V4YW1wbGUuY29tXCIsbi5vbihcImlucHV0XCIsKCk9PntlLmluZm9UZXh0PW4uZWxlbWVudC52YWx1ZT90aGlzLl91cmxJbnB1dFZpZXdJbmZvVGlwOnRoaXMuX3VybElucHV0Vmlld0luZm9EZWZhdWx0fSksZX1fY3JlYXRlQnV0dG9uKHQsZSxuLGkpe2NvbnN0IG89bmV3IFdkKHRoaXMubG9jYWxlKTtyZXR1cm4gby5zZXQoe2xhYmVsOnQsaWNvbjplLHRvb2x0aXA6ITB9KSxvLmV4dGVuZFRlbXBsYXRlKHthdHRyaWJ1dGVzOntjbGFzczpufX0pLGkmJm8uZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKHRoaXMsaSksb319dmFyIE1wPW4oMzgpLEVwPW4ubihNcCk7Y2xhc3MgU3AgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0FwXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIk1lZGlhRW1iZWRVSVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5jb21tYW5kcy5nZXQoXCJtZWRpYUVtYmVkXCIpLG49dC5wbHVnaW5zLmdldChBcCkucmVnaXN0cnk7dGhpcy5mb3JtPW5ldyBQcChmdW5jdGlvbih0LGUpe3JldHVybltlPT57aWYoIWUudXJsLmxlbmd0aClyZXR1cm4gdChcImFtXCIpfSxuPT57aWYoIWUuaGFzTWVkaWEobi51cmwpKXJldHVybiB0KFwiYW5cIil9XX0odC50LG4pLHQubG9jYWxlKSx0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwibWVkaWFFbWJlZFwiLG49Pntjb25zdCBpPUxmKG4pO3JldHVybiB0aGlzLl9zZXRVcERyb3Bkb3duKGksdGhpcy5mb3JtLGUsdCksdGhpcy5fc2V0VXBGb3JtKHRoaXMuZm9ybSxpLGUpLGl9KX1fc2V0VXBEcm9wZG93bih0LGUsbil7Y29uc3QgaT10aGlzLmVkaXRvcixvPWkudCxyPXQuYnV0dG9uVmlldztmdW5jdGlvbiBzKCl7aS5lZGl0aW5nLnZpZXcuZm9jdXMoKSx0LmlzT3Blbj0hMX10LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obiksdC5wYW5lbFZpZXcuY2hpbGRyZW4uYWRkKGUpLHIuc2V0KHtsYWJlbDpvKFwiYWxcIiksaWNvbjpFcC5hLHRvb2x0aXA6ITB9KSxyLm9uKFwib3BlblwiLCgpPT57ZS51cmw9bi52YWx1ZXx8XCJcIixlLnVybElucHV0Vmlldy5zZWxlY3QoKSxlLmZvY3VzKCl9LHtwcmlvcml0eTpcImxvd1wifSksdC5vbihcInN1Ym1pdFwiLCgpPT57ZS5pc1ZhbGlkKCkmJihpLmV4ZWN1dGUoXCJtZWRpYUVtYmVkXCIsZS51cmwpLHMoKSl9KSx0Lm9uKFwiY2hhbmdlOmlzT3BlblwiLCgpPT5lLnJlc2V0Rm9ybVN0YXR1cygpKSx0Lm9uKFwiY2FuY2VsXCIsKCk9PnMoKSl9X3NldFVwRm9ybSh0LGUsbil7dC5kZWxlZ2F0ZShcInN1Ym1pdFwiLFwiY2FuY2VsXCIpLnRvKGUpLHQudXJsSW5wdXRWaWV3LmJpbmQoXCJ2YWx1ZVwiKS50byhuLFwidmFsdWVcIiksdC51cmxJbnB1dFZpZXcuYmluZChcImlzUmVhZE9ubHlcIikudG8obixcImlzRW5hYmxlZFwiLHQ9PiF0KSx0LnNhdmVCdXR0b25WaWV3LmJpbmQoXCJpc0VuYWJsZWRcIikudG8obil9fW4oMTA5KTtmdW5jdGlvbiBJcCh0KXtyZXR1cm4gdC5yZXBsYWNlKC88c3Bhbig/OiBjbGFzcz1cIkFwcGxlLWNvbnZlcnRlZC1zcGFjZVwifCk+KFxccyspPFxcL3NwYW4+L2csKHQsZSk9PjE9PT1lLmxlbmd0aD9cIiBcIjpBcnJheShlLmxlbmd0aCsxKS5qb2luKFwiwqAgXCIpLnN1YnN0cigwLGUubGVuZ3RoKSl9ZnVuY3Rpb24gTnAodCl7Y29uc3QgZT1uZXcgRE9NUGFyc2VyLG49ZnVuY3Rpb24odCl7cmV0dXJuIElwKElwKHQpKS5yZXBsYWNlKC8oPHNwYW4gc3R5bGU9WydcIl1tc28tc3BhY2VydW46eWVzWydcIl0+W1xcc10qPylbXFxyXFxuXSsoXFxzKjxcXC9zcGFuPikvZyxcIiQxJDJcIikucmVwbGFjZSgvPHNwYW4gc3R5bGU9WydcIl1tc28tc3BhY2VydW46eWVzWydcIl0+PFxcL3NwYW4+L2csXCJcIikucmVwbGFjZSgvIDxcXC8vZyxcIsKgPC9cIikucmVwbGFjZSgvIDxvOnA+PFxcL286cD4vZyxcIsKgPG86cD48L286cD5cIikucmVwbGFjZSgvPihcXHMqW1xcclxcbl1cXHMqKTwvZyxcIj48XCIpfShmdW5jdGlvbih0KXtjb25zdCBlPXQubWF0Y2goLzxcXC9ib2R5PiguKj8pKDxcXC9odG1sPnwkKS8pO2UmJmVbMV0mJih0PXQuc2xpY2UoMCxlLmluZGV4KSt0LnNsaWNlKGUuaW5kZXgpLnJlcGxhY2UoZVsxXSxcIlwiKSk7cmV0dXJuIHR9KHQ9dC5yZXBsYWNlKC88IS0tXFxbaWYgZ3RlIHZtbCAxXT4vZyxcIlwiKSkpLGk9ZS5wYXJzZUZyb21TdHJpbmcobixcInRleHQvaHRtbFwiKTshZnVuY3Rpb24odCl7dC5xdWVyeVNlbGVjdG9yQWxsKFwic3BhbltzdHlsZSo9c3BhY2VydW5dXCIpLmZvckVhY2godD0+e2NvbnN0IGU9dC5jaGlsZE5vZGVzWzBdLmRhdGEubGVuZ3RoO3QuaW5uZXJIVE1MPUFycmF5KGUrMSkuam9pbihcIsKgIFwiKS5zdWJzdHIoMCxlKX0pfShpKTtjb25zdCBvPWkuYm9keS5pbm5lckhUTUwscj1mdW5jdGlvbih0KXtjb25zdCBlPW5ldyBycih7YmxvY2tGaWxsZXI6am99KSxuPXQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLGk9dC5ib2R5LmNoaWxkTm9kZXM7Zm9yKDtpLmxlbmd0aD4wOyluLmFwcGVuZENoaWxkKGlbMF0pO3JldHVybiBlLmRvbVRvVmlldyhuKX0oaSkscz1mdW5jdGlvbih0KXtjb25zdCBlPVtdLG49W10saT1BcnJheS5mcm9tKHQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHlsZVwiKSk7Zm9yKGNvbnN0IHQgb2YgaSl0LnNoZWV0JiZ0LnNoZWV0LmNzc1J1bGVzJiZ0LnNoZWV0LmNzc1J1bGVzLmxlbmd0aCYmKGUucHVzaCh0LnNoZWV0KSxuLnB1c2godC5pbm5lckhUTUwpKTtyZXR1cm57c3R5bGVzOmUsc3R5bGVzU3RyaW5nOm4uam9pbihcIiBcIil9fShpKTtyZXR1cm57Ym9keTpyLGJvZHlTdHJpbmc6byxzdHlsZXM6cy5zdHlsZXMsc3R5bGVzU3RyaW5nOnMuc3R5bGVzU3RyaW5nfX1mdW5jdGlvbiBPcCh0LGUpe2lmKCF0LmNoaWxkQ291bnQpcmV0dXJuO2NvbnN0IG49bmV3IGhmLGk9ZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuY3JlYXRlUmFuZ2VJbih0KSxpPW5ldyBiaSh7bmFtZTovXnB8aFxcZCskLyxzdHlsZXM6e1wibXNvLWxpc3RcIjovLiovfX0pLG89W107Zm9yKGNvbnN0IHQgb2YgbilpZihcImVsZW1lbnRTdGFydFwiPT09dC50eXBlJiZpLm1hdGNoKHQuaXRlbSkpe2NvbnN0IGU9UnAodC5pdGVtKTtvLnB1c2goe2VsZW1lbnQ6dC5pdGVtLGlkOmUuaWQsb3JkZXI6ZS5vcmRlcixpbmRlbnQ6ZS5pbmRlbnR9KX1yZXR1cm4gb30odCxuKTtpZighaS5sZW5ndGgpcmV0dXJuO2xldCBvPW51bGw7aS5mb3JFYWNoKCh0LHIpPT57aWYoIW98fGZ1bmN0aW9uKHQsZSl7aWYodC5pZCE9PWUuaWQpcmV0dXJuITA7Y29uc3Qgbj1lLmVsZW1lbnQucHJldmlvdXNTaWJsaW5nO2lmKCFuKXJldHVybiEwO3JldHVybiFuLmlzKFwidWxcIikmJiFuLmlzKFwib2xcIil9KGlbci0xXSx0KSl7Y29uc3QgaT1mdW5jdGlvbih0LGUpe2NvbnN0IG49L21zby1sZXZlbC1udW1iZXItZm9ybWF0OihbXjtdKik7L2dpLGk9bmV3IFJlZ0V4cChgQGxpc3QgbCR7dC5pZH06bGV2ZWwke3QuaW5kZW50fVxcXFxzKih7W159XSopYCxcImdpXCIpLmV4ZWMoZSk7bGV0IG89XCJkZWNpbWFsXCI7aWYoaSYmaVsxXSl7Y29uc3QgdD1uLmV4ZWMoaVsxXSk7dCYmdFsxXSYmKG89dFsxXS50cmltKCkpfXJldHVybnt0eXBlOlwiYnVsbGV0XCIhPT1vJiZcImltYWdlXCIhPT1vP1wib2xcIjpcInVsXCIsc3R5bGU6b319KHQsZSk7bz1mdW5jdGlvbih0LGUsbil7Y29uc3QgaT1uZXcgX2kodC50eXBlKSxvPWUucGFyZW50LmdldENoaWxkSW5kZXgoZSk7cmV0dXJuIG4uaW5zZXJ0Q2hpbGQobyxpLGUucGFyZW50KSxpfShpLHQuZWxlbWVudCxuKX1jb25zdCBzPWZ1bmN0aW9uKHQsZSl7cmV0dXJuIGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1uZXcgYmkoe25hbWU6XCJzcGFuXCIsc3R5bGVzOntcIm1zby1saXN0XCI6XCJJZ25vcmVcIn19KSxpPWUuY3JlYXRlUmFuZ2VJbih0KTtmb3IoY29uc3QgdCBvZiBpKVwiZWxlbWVudFN0YXJ0XCI9PT10LnR5cGUmJm4ubWF0Y2godC5pdGVtKSYmZS5yZW1vdmUodC5pdGVtKX0odCxlKSxlLnJlbmFtZShcImxpXCIsdCl9KHQuZWxlbWVudCxuKTtuLmFwcGVuZENoaWxkKHMsbyl9KX1mdW5jdGlvbiBScCh0KXtjb25zdCBlPXt9LG49dC5nZXRTdHlsZShcIm1zby1saXN0XCIpO3JldHVybiBuJiYoZS5pZD1wYXJzZUludChuLm1hdGNoKC8oXnxcXHMrKWwoXFxkKykvaSlbMl0pLGUub3JkZXI9cGFyc2VJbnQobi5tYXRjaCgvXFxzKmxmbyhcXGQrKS9pKVsxXSksZS5pbmRlbnQ9cGFyc2VJbnQobi5tYXRjaCgvXFxzKmxldmVsKFxcZCspL2kpWzFdKSksZX1mdW5jdGlvbiBEcCh0LGUpe2lmKCF0LmNoaWxkQ291bnQpcmV0dXJuO2NvbnN0IG49bmV3IGhmOyFmdW5jdGlvbih0LGUsbil7Y29uc3QgaT1uLmNyZWF0ZVJhbmdlSW4oZSksbz1uZXcgYmkoe25hbWU6XCJpbWdcIn0pLHI9W107Zm9yKGNvbnN0IGUgb2YgaSlpZihvLm1hdGNoKGUuaXRlbSkpe2NvbnN0IG49ZS5pdGVtLGk9bi5nZXRBdHRyaWJ1dGUoXCJ2OnNoYXBlc1wiKT9uLmdldEF0dHJpYnV0ZShcInY6c2hhcGVzXCIpLnNwbGl0KFwiIFwiKTpbXTtpLmxlbmd0aCYmaS5ldmVyeShlPT50LmluZGV4T2YoZSk+LTEpP3IucHVzaChuKTpuLmdldEF0dHJpYnV0ZShcInNyY1wiKXx8ci5wdXNoKG4pfWZvcihjb25zdCB0IG9mIHIpbi5yZW1vdmUodCl9KGZ1bmN0aW9uKHQsZSl7Y29uc3Qgbj1lLmNyZWF0ZVJhbmdlSW4odCksaT1uZXcgYmkoe25hbWU6L3Y6KC4rKS99KSxvPVtdO2Zvcihjb25zdCB0IG9mIG4pe2NvbnN0IGU9dC5pdGVtLG49ZS5wcmV2aW91c1NpYmxpbmcmJmUucHJldmlvdXNTaWJsaW5nLm5hbWV8fG51bGw7aS5tYXRjaChlKSYmZS5nZXRBdHRyaWJ1dGUoXCJvOmdmeGRhdGFcIikmJlwidjpzaGFwZXR5cGVcIiE9PW4mJm8ucHVzaCh0Lml0ZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikpfXJldHVybiBvfSh0LG4pLHQsbiksZnVuY3Rpb24odCxlKXtjb25zdCBuPWUuY3JlYXRlUmFuZ2VJbih0KSxpPW5ldyBiaSh7bmFtZTovdjooLispL30pLG89W107Zm9yKGNvbnN0IHQgb2YgbilpLm1hdGNoKHQuaXRlbSkmJm8ucHVzaCh0Lml0ZW0pO2Zvcihjb25zdCB0IG9mIG8pZS5yZW1vdmUodCl9KHQsbik7Y29uc3QgaT1mdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5jcmVhdGVSYW5nZUluKHQpLGk9bmV3IGJpKHtuYW1lOlwiaW1nXCJ9KSxvPVtdO2Zvcihjb25zdCB0IG9mIG4paS5tYXRjaCh0Lml0ZW0pJiZ0Lml0ZW0uZ2V0QXR0cmlidXRlKFwic3JjXCIpLnN0YXJ0c1dpdGgoXCJmaWxlOi8vXCIpJiZvLnB1c2godC5pdGVtKTtyZXR1cm4gb30odCxuKTtpLmxlbmd0aCYmZnVuY3Rpb24odCxlLG4pe2lmKHQubGVuZ3RoPT09ZS5sZW5ndGgpZm9yKGxldCBpPTA7aTx0Lmxlbmd0aDtpKyspe2NvbnN0IG89YGRhdGE6JHtlW2ldLnR5cGV9O2Jhc2U2NCwke0xwKGVbaV0uaGV4KX1gO24uc2V0QXR0cmlidXRlKFwic3JjXCIsbyx0W2ldKX19KGksZnVuY3Rpb24odCl7aWYoIXQpcmV0dXJuW107Y29uc3QgZT0ve1xcXFxwaWN0W1xcc1xcU10rP1xcXFxibGlwdGFnLT9cXGQrKFxcXFxibGlwdXBpLT9cXGQrKT8oe1xcXFxcXCpcXFxcYmxpcHVpZFxccz9bXFxkYS1mQS1GXSspP1tcXHN9XSo/LyxuPW5ldyBSZWdFeHAoXCIoPzooXCIrZS5zb3VyY2UrXCIpKShbXFxcXGRhLWZBLUZcXFxcc10rKVxcXFx9XCIsXCJnXCIpLGk9dC5tYXRjaChuKSxvPVtdO2lmKGkpZm9yKGNvbnN0IHQgb2YgaSl7bGV0IG49ITE7dC5pbmNsdWRlcyhcIlxcXFxwbmdibGlwXCIpP249XCJpbWFnZS9wbmdcIjp0LmluY2x1ZGVzKFwiXFxcXGpwZWdibGlwXCIpJiYobj1cImltYWdlL2pwZWdcIiksbiYmby5wdXNoKHtoZXg6dC5yZXBsYWNlKGUsXCJcIikucmVwbGFjZSgvW15cXGRhLWZBLUZdL2csXCJcIiksdHlwZTpufSl9cmV0dXJuIG99KGUpLG4pfWZ1bmN0aW9uIExwKHQpe3JldHVybiBidG9hKHQubWF0Y2goL1xcd3syfS9nKS5tYXAodD0+U3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludCh0LDE2KSkpLmpvaW4oXCJcIikpfWZ1bmN0aW9uIGpwKHQsZSl7bGV0IG49ZS5wYXJlbnQ7Zm9yKDtuOyl7aWYobi5uYW1lPT09dClyZXR1cm4gbjtuPW4ucGFyZW50fX1mdW5jdGlvbiBWcCh0LGUsbixpLG89MSl7ZT5vP2kuc2V0QXR0cmlidXRlKHQsZSxuKTppLnJlbW92ZUF0dHJpYnV0ZSh0LG4pfWZ1bmN0aW9uIEJwKHQsZSxuPXt9KXtjb25zdCBpPXQuY3JlYXRlRWxlbWVudChcInRhYmxlQ2VsbFwiLG4pO3QuaW5zZXJ0RWxlbWVudChcInBhcmFncmFwaFwiLGkpLHQuaW5zZXJ0KGksZSl9ZnVuY3Rpb24genAoKXtyZXR1cm4gdD0+e3Qub24oXCJlbGVtZW50OnRhYmxlXCIsKHQsZSxuKT0+e2NvbnN0IGk9ZS52aWV3SXRlbTtpZighbi5jb25zdW1hYmxlLnRlc3QoaSx7bmFtZTohMH0pKXJldHVybjtjb25zdHtyb3dzOm8saGVhZGluZ1Jvd3M6cixoZWFkaW5nQ29sdW1uczpzfT1mdW5jdGlvbih0KXtjb25zdCBlPXtoZWFkaW5nUm93czowLGhlYWRpbmdDb2x1bW5zOjB9LG49W10saT1bXTtsZXQgbztmb3IoY29uc3QgciBvZiBBcnJheS5mcm9tKHQuZ2V0Q2hpbGRyZW4oKSkpaWYoXCJ0Ym9keVwiPT09ci5uYW1lfHxcInRoZWFkXCI9PT1yLm5hbWV8fFwidGZvb3RcIj09PXIubmFtZSl7XCJ0aGVhZFwiIT09ci5uYW1lfHxvfHwobz1yKTtjb25zdCB0PUFycmF5LmZyb20oci5nZXRDaGlsZHJlbigpKS5maWx0ZXIodD0+dC5pcyhcImVsZW1lbnRcIixcInRyXCIpKTtmb3IoY29uc3QgciBvZiB0KWlmKFwidGhlYWRcIj09PXIucGFyZW50Lm5hbWUmJnIucGFyZW50PT09byllLmhlYWRpbmdSb3dzKyssbi5wdXNoKHIpO2Vsc2V7aS5wdXNoKHIpO2NvbnN0IHQ9VXAocik7dD5lLmhlYWRpbmdDb2x1bW5zJiYoZS5oZWFkaW5nQ29sdW1ucz10KX19cmV0dXJuIGUucm93cz1bLi4ubiwuLi5pXSxlfShpKSxhPXt9O3MmJihhLmhlYWRpbmdDb2x1bW5zPXMpLHImJihhLmhlYWRpbmdSb3dzPXIpO2NvbnN0IGM9bi53cml0ZXIuY3JlYXRlRWxlbWVudChcInRhYmxlXCIsYSksbD1uLnNwbGl0VG9BbGxvd2VkUGFyZW50KGMsZS5tb2RlbEN1cnNvcik7aWYobCl7aWYobi53cml0ZXIuaW5zZXJ0KGMsbC5wb3NpdGlvbiksbi5jb25zdW1hYmxlLmNvbnN1bWUoaSx7bmFtZTohMH0pLG8ubGVuZ3RoKW8uZm9yRWFjaCh0PT5uLmNvbnZlcnRJdGVtKHQsbi53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChjLFwiZW5kXCIpKSk7ZWxzZXtjb25zdCB0PW4ud3JpdGVyLmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVJvd1wiKTtuLndyaXRlci5pbnNlcnQodCxuLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGMsXCJlbmRcIikpLEJwKG4ud3JpdGVyLG4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQodCxcImVuZFwiKSl9ZS5tb2RlbFJhbmdlPW4ud3JpdGVyLmNyZWF0ZVJhbmdlKG4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKGMpLG4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIoYykpLGwuY3Vyc29yUGFyZW50P2UubW9kZWxDdXJzb3I9bi53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChsLmN1cnNvclBhcmVudCwwKTplLm1vZGVsQ3Vyc29yPWUubW9kZWxSYW5nZS5lbmR9fSl9fWZ1bmN0aW9uIEZwKHQpe3JldHVybiBlPT57ZS5vbihgZWxlbWVudDoke3R9YCwodCxlLG4pPT57Y29uc3QgaT1lLnZpZXdJdGVtO2lmKCFuLmNvbnN1bWFibGUudGVzdChpLHtuYW1lOiEwfSkpcmV0dXJuO2NvbnN0IG89bi53cml0ZXIuY3JlYXRlRWxlbWVudChcInRhYmxlQ2VsbFwiKSxyPW4uc3BsaXRUb0FsbG93ZWRQYXJlbnQobyxlLm1vZGVsQ3Vyc29yKTtpZighcilyZXR1cm47bi53cml0ZXIuaW5zZXJ0KG8sci5wb3NpdGlvbiksbi5jb25zdW1hYmxlLmNvbnN1bWUoaSx7bmFtZTohMH0pO2NvbnN0IHM9bi53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChvLDApO24uY29udmVydENoaWxkcmVuKGkscyksby5jaGlsZENvdW50fHxuLndyaXRlci5pbnNlcnRFbGVtZW50KFwicGFyYWdyYXBoXCIscyksZS5tb2RlbFJhbmdlPW4ud3JpdGVyLmNyZWF0ZVJhbmdlKG4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQmVmb3JlKG8pLG4ud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQWZ0ZXIobykpLGUubW9kZWxDdXJzb3I9ZS5tb2RlbFJhbmdlLmVuZH0pfX1mdW5jdGlvbiBVcCh0KXtsZXQgZT0wLG49MDtjb25zdCBpPUFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5maWx0ZXIodD0+XCJ0aFwiPT09dC5uYW1lfHxcInRkXCI9PT10Lm5hbWUpO2Zvcig7bjxpLmxlbmd0aCYmXCJ0aFwiPT09aVtuXS5uYW1lOyl7Y29uc3QgdD1pW25dO2UrPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSksbisrfXJldHVybiBlfWNsYXNzIEhwe2NvbnN0cnVjdG9yKHQsZT17fSl7dGhpcy50YWJsZT10LHRoaXMuc3RhcnRSb3c9ZS5zdGFydFJvd3x8MCx0aGlzLmVuZFJvdz1cIm51bWJlclwiPT10eXBlb2YgZS5lbmRSb3c/ZS5lbmRSb3c6dm9pZCAwLHRoaXMuaW5jbHVkZVNwYW5uZWQ9ISFlLmluY2x1ZGVTcGFubmVkLHRoaXMuY29sdW1uPVwibnVtYmVyXCI9PXR5cGVvZiBlLmNvbHVtbj9lLmNvbHVtbjp2b2lkIDAsdGhpcy5fc2tpcFJvd3M9bmV3IFNldCx0aGlzLl9yb3c9MCx0aGlzLl9jb2x1bW49MCx0aGlzLl9jZWxsPTAsdGhpcy5fc3Bhbm5lZENlbGxzPW5ldyBNYXB9W1N5bWJvbC5pdGVyYXRvcl0oKXtyZXR1cm4gdGhpc31uZXh0KCl7Y29uc3QgdD10aGlzLnRhYmxlLmdldENoaWxkKHRoaXMuX3Jvdyk7aWYoIXR8fHRoaXMuX2lzT3ZlckVuZFJvdygpKXJldHVybntkb25lOiEwfTtpZih0aGlzLl9pc1NwYW5uZWQodGhpcy5fcm93LHRoaXMuX2NvbHVtbikpe2NvbnN0IHQ9dGhpcy5fY29sdW1uLGU9dGhpcy5fZm9ybWF0T3V0VmFsdWUodm9pZCAwLHQpO3JldHVybiB0aGlzLl9jb2x1bW4rKywhdGhpcy5pbmNsdWRlU3Bhbm5lZHx8dGhpcy5fc2hvdWxkU2tpcFJvdygpfHx0aGlzLl9zaG91bGRTa2lwQ29sdW1uKHQsMSk/dGhpcy5uZXh0KCk6ZX1jb25zdCBlPXQuZ2V0Q2hpbGQodGhpcy5fY2VsbCk7aWYoIWUpcmV0dXJuIHRoaXMuX3JvdysrLHRoaXMuX2NvbHVtbj0wLHRoaXMuX2NlbGw9MCx0aGlzLm5leHQoKTtjb25zdCBuPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSksaT1wYXJzZUludChlLmdldEF0dHJpYnV0ZShcInJvd3NwYW5cIil8fDEpOyhuPjF8fGk+MSkmJnRoaXMuX3JlY29yZFNwYW5zKHRoaXMuX3Jvdyx0aGlzLl9jb2x1bW4saSxuKTtjb25zdCBvPXRoaXMuX2NvbHVtbixyPXRoaXMuX2Zvcm1hdE91dFZhbHVlKGUsbyxpLG4pO3JldHVybiB0aGlzLl9jb2x1bW4rKyx0aGlzLl9jZWxsKyssdGhpcy5fc2hvdWxkU2tpcFJvdygpfHx0aGlzLl9zaG91bGRTa2lwQ29sdW1uKG8sbik/dGhpcy5uZXh0KCk6cn1za2lwUm93KHQpe3RoaXMuX3NraXBSb3dzLmFkZCh0KX1faXNPdmVyRW5kUm93KCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuZW5kUm93JiZ0aGlzLl9yb3c+dGhpcy5lbmRSb3d9X2Zvcm1hdE91dFZhbHVlKHQsZSxuPTEsaT0xKXtyZXR1cm57ZG9uZTohMSx2YWx1ZTp7Y2VsbDp0LHJvdzp0aGlzLl9yb3csY29sdW1uOmUscm93c3BhbjpuLGNvbHNwYW46aSxjZWxsSW5kZXg6dGhpcy5fY2VsbH19fV9zaG91bGRTa2lwUm93KCl7Y29uc3QgdD10aGlzLl9yb3c8dGhpcy5zdGFydFJvdyxlPXRoaXMuX3NraXBSb3dzLmhhcyh0aGlzLl9yb3cpO3JldHVybiB0fHxlfV9zaG91bGRTa2lwQ29sdW1uKHQsZSl7aWYodm9pZCAwPT09dGhpcy5jb2x1bW4pcmV0dXJuITE7Y29uc3Qgbj10PT09dGhpcy5jb2x1bW4saT10PHRoaXMuY29sdW1uJiZ0K2U+dGhpcy5jb2x1bW47cmV0dXJuIW4mJiFpfV9pc1NwYW5uZWQodCxlKXtpZighdGhpcy5fc3Bhbm5lZENlbGxzLmhhcyh0KSlyZXR1cm4hMTtyZXR1cm4gdGhpcy5fc3Bhbm5lZENlbGxzLmdldCh0KS5oYXMoZSl9X3JlY29yZFNwYW5zKHQsZSxuLGkpe2ZvcihsZXQgbj1lKzE7bjw9ZStpLTE7bisrKXRoaXMuX21hcmtTcGFubmVkQ2VsbCh0LG4pO2ZvcihsZXQgbz10KzE7bzx0K247bysrKWZvcihsZXQgdD1lO3Q8PWUraS0xO3QrKyl0aGlzLl9tYXJrU3Bhbm5lZENlbGwobyx0KX1fbWFya1NwYW5uZWRDZWxsKHQsZSl7dGhpcy5fc3Bhbm5lZENlbGxzLmhhcyh0KXx8dGhpcy5fc3Bhbm5lZENlbGxzLnNldCh0LG5ldyBNYXApLHRoaXMuX3NwYW5uZWRDZWxscy5nZXQodCkuc2V0KGUsITApfX1mdW5jdGlvbiBxcCh0KXtyZXR1cm4hIXQuZ2V0Q3VzdG9tUHJvcGVydHkoXCJ0YWJsZVwiKSYmc2godCl9ZnVuY3Rpb24gV3AodCl7Y29uc3QgZT10LmdldFNlbGVjdGVkRWxlbWVudCgpO3JldHVybiBlJiZxcChlKT9lOm51bGx9ZnVuY3Rpb24gWXAodCl7Y29uc3QgZT1qcChcInRhYmxlXCIsdC5nZXRGaXJzdFBvc2l0aW9uKCkpO3JldHVybiBlJiZxcChlLnBhcmVudCk/ZS5wYXJlbnQ6bnVsbH1mdW5jdGlvbiAkcCh0PXt9KXtyZXR1cm4gZT0+ZS5vbihcImluc2VydDp0YWJsZVwiLChlLG4saSk9Pntjb25zdCBvPW4uaXRlbTtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobyxcImluc2VydFwiKSlyZXR1cm47aS5jb25zdW1hYmxlLmNvbnN1bWUobyxcImF0dHJpYnV0ZTpoZWFkaW5nUm93czp0YWJsZVwiKSxpLmNvbnN1bWFibGUuY29uc3VtZShvLFwiYXR0cmlidXRlOmhlYWRpbmdDb2x1bW5zOnRhYmxlXCIpO2NvbnN0IHI9dCYmdC5hc1dpZGdldCxzPWkud3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoXCJmaWd1cmVcIix7Y2xhc3M6XCJ0YWJsZVwifSksYT1pLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KFwidGFibGVcIik7bGV0IGM7aS53cml0ZXIuaW5zZXJ0KGkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQocywwKSxhKSxyJiYoYz1mdW5jdGlvbih0LGUpe3JldHVybiBlLnNldEN1c3RvbVByb3BlcnR5KFwidGFibGVcIiwhMCx0KSxhaCh0LGUse2hhc1NlbGVjdGlvbkhhbmRsZXI6ITB9KX0ocyxpLndyaXRlcikpO2NvbnN0IGw9bmV3IEhwKG8pLGQ9e2hlYWRpbmdSb3dzOm8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAsaGVhZGluZ0NvbHVtbnM6by5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MH0sdT1uZXcgTWFwO2Zvcihjb25zdCBlIG9mIGwpe2NvbnN0e3JvdzpuLGNlbGw6cn09ZSxzPW9nKGlnKG4sZCksYSxpKSxjPW8uZ2V0Q2hpbGQobiksbD11LmdldChuKXx8ZWcoYyxuLHMsaSk7dS5zZXQobixsKSxpLmNvbnN1bWFibGUuY29uc3VtZShyLFwiaW5zZXJ0XCIpLHRnKGUsZCxpLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGwsXCJlbmRcIiksaSx0KX1jb25zdCBoPWkubWFwcGVyLnRvVmlld1Bvc2l0aW9uKG4ucmFuZ2Uuc3RhcnQpO2kubWFwcGVyLmJpbmRFbGVtZW50cyhvLHI/YzpzKSxpLndyaXRlci5pbnNlcnQoaCxyP2M6cyl9KX1mdW5jdGlvbiBHcCh0PXt9KXtyZXR1cm4gZT0+ZS5vbihcImluc2VydDp0YWJsZVJvd1wiLChlLG4saSk9Pntjb25zdCBvPW4uaXRlbTtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobyxcImluc2VydFwiKSlyZXR1cm47Y29uc3Qgcj1vLnBhcmVudCxzPWNnKGkubWFwcGVyLnRvVmlld0VsZW1lbnQocikpLGE9ci5nZXRDaGlsZEluZGV4KG8pLGM9bmV3IEhwKHIse3N0YXJ0Um93OmEsZW5kUm93OmF9KSxsPXtoZWFkaW5nUm93czpyLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwLGhlYWRpbmdDb2x1bW5zOnIuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDB9LGQ9bmV3IE1hcDtmb3IoY29uc3QgZSBvZiBjKXtjb25zdCBuPW9nKGlnKGEsbCkscyxpKSxyPWQuZ2V0KGEpfHxlZyhvLGEsbixpKTtkLnNldChhLHIpLGkuY29uc3VtYWJsZS5jb25zdW1lKGUuY2VsbCxcImluc2VydFwiKSx0ZyhlLGwsaS53cml0ZXIuY3JlYXRlUG9zaXRpb25BdChyLFwiZW5kXCIpLGksdCl9fSl9ZnVuY3Rpb24gUXAodD17fSl7cmV0dXJuIGU9PmUub24oXCJpbnNlcnQ6dGFibGVDZWxsXCIsKGUsbixpKT0+e2NvbnN0IG89bi5pdGVtO2lmKCFpLmNvbnN1bWFibGUuY29uc3VtZShvLFwiaW5zZXJ0XCIpKXJldHVybjtjb25zdCByPW8ucGFyZW50LHM9ci5wYXJlbnQsYT1zLmdldENoaWxkSW5kZXgociksYz1uZXcgSHAocyx7c3RhcnRSb3c6YSxlbmRSb3c6YX0pLGw9e2hlYWRpbmdSb3dzOnMuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAsaGVhZGluZ0NvbHVtbnM6cy5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MH07Zm9yKGNvbnN0IGUgb2YgYylpZihlLmNlbGw9PT1vKXtjb25zdCBuPWkubWFwcGVyLnRvVmlld0VsZW1lbnQocik7cmV0dXJuIHZvaWQgdGcoZSxsLGkud3JpdGVyLmNyZWF0ZVBvc2l0aW9uQXQobixyLmdldENoaWxkSW5kZXgobykpLGksdCl9fSl9ZnVuY3Rpb24gSnAodD17fSl7Y29uc3QgZT0hIXQuYXNXaWRnZXQ7cmV0dXJuIHQ9PnQub24oXCJhdHRyaWJ1dGU6aGVhZGluZ1Jvd3M6dGFibGVcIiwodCxuLGkpPT57Y29uc3Qgbz1uLml0ZW07aWYoIWkuY29uc3VtYWJsZS5jb25zdW1lKG4uaXRlbSx0Lm5hbWUpKXJldHVybjtjb25zdCByPWNnKGkubWFwcGVyLnRvVmlld0VsZW1lbnQobykpLHM9bi5hdHRyaWJ1dGVPbGRWYWx1ZSxhPW4uYXR0cmlidXRlTmV3VmFsdWU7aWYoYT5zKXtjb25zdCB0PUFycmF5LmZyb20oby5nZXRDaGlsZHJlbigpKS5maWx0ZXIoKHtpbmRleDp0fSk9PmModCxzLTEsYSkpO2FnKHQsb2coXCJ0aGVhZFwiLHIsaSksaSxcImVuZFwiKTtmb3IoY29uc3QgbiBvZiB0KWZvcihjb25zdCB0IG9mIG4uZ2V0Q2hpbGRyZW4oKSlacCh0LFwidGhcIixpLGUpO3NnKFwidGJvZHlcIixyLGkpfWVsc2V7YWcoQXJyYXkuZnJvbShvLmdldENoaWxkcmVuKCkpLmZpbHRlcigoe2luZGV4OnR9KT0+Yyh0LGEtMSxzKSkucmV2ZXJzZSgpLG9nKFwidGJvZHlcIixyLGkpLGksMCk7Y29uc3QgdD1uZXcgSHAobyx7c3RhcnRSb3c6YT9hLTE6YSxlbmRSb3c6cy0xfSksbj17aGVhZGluZ1Jvd3M6by5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxoZWFkaW5nQ29sdW1uczpvLmdldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIpfHwwfTtmb3IoY29uc3QgbyBvZiB0KVhwKG8sbixpLGUpO3NnKFwidGhlYWRcIixyLGkpfWZ1bmN0aW9uIGModCxlLG4pe3JldHVybiB0PmUmJnQ8bn19KX1mdW5jdGlvbiBLcCh0PXt9KXtjb25zdCBlPSEhdC5hc1dpZGdldDtyZXR1cm4gdD0+dC5vbihcImF0dHJpYnV0ZTpoZWFkaW5nQ29sdW1uczp0YWJsZVwiLCh0LG4saSk9Pntjb25zdCBvPW4uaXRlbTtpZighaS5jb25zdW1hYmxlLmNvbnN1bWUobi5pdGVtLHQubmFtZSkpcmV0dXJuO2NvbnN0IHI9e2hlYWRpbmdSb3dzOm8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAsaGVhZGluZ0NvbHVtbnM6by5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MH0scz1uLmF0dHJpYnV0ZU9sZFZhbHVlLGE9bi5hdHRyaWJ1dGVOZXdWYWx1ZSxjPShzPmE/czphKS0xO2Zvcihjb25zdCB0IG9mIG5ldyBIcChvKSl0LmNvbHVtbj5jfHxYcCh0LHIsaSxlKX0pfWZ1bmN0aW9uIFpwKHQsZSxuLGkpe2NvbnN0IG89bi53cml0ZXIscj1uLm1hcHBlci50b1ZpZXdFbGVtZW50KHQpO2lmKCFyKXJldHVybjtsZXQgcztpZihpKXtzPWxoKG8uY3JlYXRlRWRpdGFibGVFbGVtZW50KGUsci5nZXRBdHRyaWJ1dGVzKCkpLG8pLG8uaW5zZXJ0KG8uY3JlYXRlUG9zaXRpb25BZnRlcihyKSxzKSxvLm1vdmUoby5jcmVhdGVSYW5nZUluKHIpLG8uY3JlYXRlUG9zaXRpb25BdChzLDApKSxvLnJlbW92ZShvLmNyZWF0ZVJhbmdlT24ocikpfWVsc2Ugcz1vLnJlbmFtZShlLHIpO24ubWFwcGVyLmJpbmRFbGVtZW50cyh0LHMpfWZ1bmN0aW9uIFhwKHQsZSxuLGkpe2NvbnN0e2NlbGw6b309dCxyPW5nKHQsZSkscz1uLm1hcHBlci50b1ZpZXdFbGVtZW50KG8pO3MmJnMubmFtZSE9PXImJlpwKG8scixuLGkpfWZ1bmN0aW9uIHRnKHQsZSxuLGksbyl7Y29uc3Qgcj1vJiZvLmFzV2lkZ2V0LHM9bmcodCxlKSxhPXI/bGgoaS53cml0ZXIuY3JlYXRlRWRpdGFibGVFbGVtZW50KHMpLGkud3JpdGVyKTppLndyaXRlci5jcmVhdGVDb250YWluZXJFbGVtZW50KHMpLGM9dC5jZWxsLGw9Yy5nZXRDaGlsZCgwKSxkPTE9PT1jLmNoaWxkQ291bnQmJlwicGFyYWdyYXBoXCI9PT1sLm5hbWU7aWYoaS53cml0ZXIuaW5zZXJ0KG4sYSksZCYmIWZ1bmN0aW9uKHQpe3JldHVybiEhWy4uLnQuZ2V0QXR0cmlidXRlS2V5cygpXS5sZW5ndGh9KGwpKXtjb25zdCB0PWMuZ2V0Q2hpbGQoMCksZT1pLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGEsXCJlbmRcIik7aWYoaS5jb25zdW1hYmxlLmNvbnN1bWUodCxcImluc2VydFwiKSxvLmFzV2lkZ2V0KXtjb25zdCBuPWkud3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQoXCJzcGFuXCIpO2kubWFwcGVyLmJpbmRFbGVtZW50cyh0LG4pLGkud3JpdGVyLmluc2VydChlLG4pLGkubWFwcGVyLmJpbmRFbGVtZW50cyhjLGEpfWVsc2UgaS5tYXBwZXIuYmluZEVsZW1lbnRzKGMsYSksaS5tYXBwZXIuYmluZEVsZW1lbnRzKHQsYSl9ZWxzZSBpLm1hcHBlci5iaW5kRWxlbWVudHMoYyxhKX1mdW5jdGlvbiBlZyh0LGUsbixpKXtpLmNvbnN1bWFibGUuY29uc3VtZSh0LFwiaW5zZXJ0XCIpO2NvbnN0IG89aS53cml0ZXIuY3JlYXRlQ29udGFpbmVyRWxlbWVudChcInRyXCIpO2kubWFwcGVyLmJpbmRFbGVtZW50cyh0LG8pO2NvbnN0IHI9dC5wYXJlbnQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDAscz1yPjAmJmU+PXI/ZS1yOmUsYT1pLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KG4scyk7cmV0dXJuIGkud3JpdGVyLmluc2VydChhLG8pLG99ZnVuY3Rpb24gbmcodCxlKXtjb25zdHtyb3c6bixjb2x1bW46aX09dCx7aGVhZGluZ0NvbHVtbnM6byxoZWFkaW5nUm93czpyfT1lO3JldHVybiByJiZyPm4/XCJ0aFwiOm8mJm8+aT9cInRoXCI6XCJ0ZFwifWZ1bmN0aW9uIGlnKHQsZSl7cmV0dXJuIHQ8ZS5oZWFkaW5nUm93cz9cInRoZWFkXCI6XCJ0Ym9keVwifWZ1bmN0aW9uIG9nKHQsZSxuKXtjb25zdCBpPXJnKHQsZSk7cmV0dXJuIGl8fGZ1bmN0aW9uKHQsZSxuKXtjb25zdCBpPW4ud3JpdGVyLmNyZWF0ZUNvbnRhaW5lckVsZW1lbnQodCksbz1uLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGUsXCJ0Ym9keVwiPT10P1wiZW5kXCI6MCk7cmV0dXJuIG4ud3JpdGVyLmluc2VydChvLGkpLGl9KHQsZSxuKX1mdW5jdGlvbiByZyh0LGUpe2Zvcihjb25zdCBuIG9mIGUuZ2V0Q2hpbGRyZW4oKSlpZihuLm5hbWU9PXQpcmV0dXJuIG59ZnVuY3Rpb24gc2codCxlLG4pe2NvbnN0IGk9cmcodCxlKTtpJiYwPT09aS5jaGlsZENvdW50JiZuLndyaXRlci5yZW1vdmUobi53cml0ZXIuY3JlYXRlUmFuZ2VPbihpKSl9ZnVuY3Rpb24gYWcodCxlLG4saSl7Zm9yKGNvbnN0IG8gb2YgdCl7Y29uc3QgdD1uLm1hcHBlci50b1ZpZXdFbGVtZW50KG8pO3QmJm4ud3JpdGVyLm1vdmUobi53cml0ZXIuY3JlYXRlUmFuZ2VPbih0KSxuLndyaXRlci5jcmVhdGVQb3NpdGlvbkF0KGUsaSkpfX1mdW5jdGlvbiBjZyh0KXtmb3IoY29uc3QgZSBvZiB0LmdldENoaWxkcmVuKCkpaWYoXCJ0YWJsZVwiPT09ZS5uYW1lKXJldHVybiBlfWNsYXNzIGxnIGV4dGVuZHMgWGx7cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50LnNlbGVjdGlvbixuPXQuc2NoZW1hLGk9ZnVuY3Rpb24odCl7Y29uc3QgZT10LnBhcmVudDtyZXR1cm4gZT09PWUucm9vdD9lOmUucGFyZW50fShlLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9bi5jaGVja0NoaWxkKGksXCJ0YWJsZVwiKX1leGVjdXRlKHQ9e30pe2NvbnN0IGU9dGhpcy5lZGl0b3IubW9kZWwsbj1lLmRvY3VtZW50LnNlbGVjdGlvbixpPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKSxvPXBhcnNlSW50KHQucm93cyl8fDIscj1wYXJzZUludCh0LmNvbHVtbnMpfHwyLHM9ZGgobixlKTtlLmNoYW5nZSh0PT57Y29uc3Qgbj1pLmNyZWF0ZVRhYmxlKHQsbyxyKTtlLmluc2VydENvbnRlbnQobixzKSx0LnNldFNlbGVjdGlvbih0LmNyZWF0ZVBvc2l0aW9uQXQobi5nZXROb2RlQnlQYXRoKFswLDAsMF0pLDApKX0pfX1jbGFzcyBkZyBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQsZT17fSl7c3VwZXIodCksdGhpcy5vcmRlcj1lLm9yZGVyfHxcImJlbG93XCJ9cmVmcmVzaCgpe2NvbnN0IHQ9anAoXCJ0YWJsZVwiLHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpO3RoaXMuaXNFbmFibGVkPSEhdH1leGVjdXRlKCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLG49dC5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIiksaT1qcChcInRhYmxlQ2VsbFwiLGUuZ2V0Rmlyc3RQb3NpdGlvbigpKS5wYXJlbnQsbz1pLnBhcmVudCxyPW8uZ2V0Q2hpbGRJbmRleChpKSxzPVwiYmVsb3dcIj09PXRoaXMub3JkZXI/cisxOnI7bi5pbnNlcnRSb3dzKG8se3Jvd3M6MSxhdDpzfSl9fWNsYXNzIHVnIGV4dGVuZHMgWGx7Y29uc3RydWN0b3IodCxlPXt9KXtzdXBlcih0KSx0aGlzLm9yZGVyPWUub3JkZXJ8fFwicmlnaHRcIn1yZWZyZXNoKCl7Y29uc3QgdD1qcChcInRhYmxlXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9ISF0fWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24sbj10LnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKSxpPWpwKFwidGFibGVDZWxsXCIsZS5nZXRGaXJzdFBvc2l0aW9uKCkpLG89aS5wYXJlbnQucGFyZW50LHtjb2x1bW46cn09bi5nZXRDZWxsTG9jYXRpb24oaSkscz1cInJpZ2h0XCI9PT10aGlzLm9yZGVyP3IrMTpyO24uaW5zZXJ0Q29sdW1ucyhvLHtjb2x1bW5zOjEsYXQ6c30pfX1jbGFzcyBoZyBleHRlbmRzIFhse2NvbnN0cnVjdG9yKHQsZT17fSl7c3VwZXIodCksdGhpcy5kaXJlY3Rpb249ZS5kaXJlY3Rpb258fFwiaG9yaXpvbnRhbGx5XCJ9cmVmcmVzaCgpe2NvbnN0IHQ9anAoXCJ0YWJsZUNlbGxcIix0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKTt0aGlzLmlzRW5hYmxlZD0hIXR9ZXhlY3V0ZSgpe2NvbnN0IHQ9anAoXCJ0YWJsZUNlbGxcIix0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKSxlPVwiaG9yaXpvbnRhbGx5XCI9PT10aGlzLmRpcmVjdGlvbixuPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKTtlP24uc3BsaXRDZWxsSG9yaXpvbnRhbGx5KHQsMik6bi5zcGxpdENlbGxWZXJ0aWNhbGx5KHQsMil9fWNsYXNzIGZnIGV4dGVuZHMgWGx7Y29uc3RydWN0b3IodCxlKXtzdXBlcih0KSx0aGlzLmRpcmVjdGlvbj1lLmRpcmVjdGlvbix0aGlzLmlzSG9yaXpvbnRhbD1cInJpZ2h0XCI9PXRoaXMuZGlyZWN0aW9ufHxcImxlZnRcIj09dGhpcy5kaXJlY3Rpb259cmVmcmVzaCgpe2NvbnN0IHQ9dGhpcy5fZ2V0TWVyZ2VhYmxlQ2VsbCgpO3RoaXMuaXNFbmFibGVkPSEhdCx0aGlzLnZhbHVlPXR9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT1qcChcInRhYmxlQ2VsbFwiLHQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSksbj10aGlzLnZhbHVlLGk9dGhpcy5kaXJlY3Rpb247dC5jaGFuZ2UodD0+e2NvbnN0IG89XCJyaWdodFwiPT1pfHxcImRvd25cIj09aSxyPW8/ZTpuLHM9bz9uOmUsYT1zLnBhcmVudDshZnVuY3Rpb24odCxlLG4pe21nKHQpfHwobWcoZSkmJm4ucmVtb3ZlKG4uY3JlYXRlUmFuZ2VJbihlKSksbi5tb3ZlKG4uY3JlYXRlUmFuZ2VJbih0KSxuLmNyZWF0ZVBvc2l0aW9uQXQoZSxcImVuZFwiKSkpO24ucmVtb3ZlKHQpfShzLHIsdCk7Y29uc3QgYz10aGlzLmlzSG9yaXpvbnRhbD9cImNvbHNwYW5cIjpcInJvd3NwYW5cIixsPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKGMpfHwxKSxkPXBhcnNlSW50KG4uZ2V0QXR0cmlidXRlKGMpfHwxKTt0LnNldEF0dHJpYnV0ZShjLGwrZCxyKSx0LnNldFNlbGVjdGlvbih0LmNyZWF0ZVJhbmdlSW4ocikpLGEuY2hpbGRDb3VudHx8ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQucGFyZW50LGk9bi5nZXRDaGlsZEluZGV4KHQpO2Zvcihjb25zdHtjZWxsOnQscm93Om8scm93c3BhbjpyfW9mIG5ldyBIcChuLHtlbmRSb3c6aX0pKXtjb25zdCBuPW8rci0xPj1pO24mJlZwKFwicm93c3BhblwiLHItMSx0LGUpfWUucmVtb3ZlKHQpfShhLHQpfSl9X2dldE1lcmdlYWJsZUNlbGwoKXtjb25zdCB0PWpwKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dGhpcy5lZGl0b3IucGx1Z2lucy5nZXQoXCJUYWJsZVV0aWxzXCIpLG49dGhpcy5pc0hvcml6b250YWw/ZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9XCJyaWdodFwiPT1lP3QubmV4dFNpYmxpbmc6dC5wcmV2aW91c1NpYmxpbmc7aWYoIWkpcmV0dXJuO2NvbnN0IG89XCJyaWdodFwiPT1lP3Q6aSxyPVwicmlnaHRcIj09ZT9pOnQse2NvbHVtbjpzfT1uLmdldENlbGxMb2NhdGlvbihvKSx7Y29sdW1uOmF9PW4uZ2V0Q2VsbExvY2F0aW9uKHIpLGM9cGFyc2VJbnQoby5nZXRBdHRyaWJ1dGUoXCJjb2xzcGFuXCIpfHwxKTtyZXR1cm4gcytjPT09YT9pOnZvaWQgMH0odCx0aGlzLmRpcmVjdGlvbixlKTpmdW5jdGlvbih0LGUpe2NvbnN0IG49dC5wYXJlbnQsaT1uLnBhcmVudCxvPWkuZ2V0Q2hpbGRJbmRleChuKTtpZihcImRvd25cIj09ZSYmbz09PWkuY2hpbGRDb3VudC0xfHxcInVwXCI9PWUmJjA9PT1vKXJldHVybjtjb25zdCByPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKXx8MSkscz1pLmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2lmKHMmJihcImRvd25cIj09ZSYmbytyPT09c3x8XCJ1cFwiPT1lJiZvPT09cykpcmV0dXJuO2NvbnN0IGE9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKSxjPVwiZG93blwiPT1lP28rYTpvLGw9Wy4uLm5ldyBIcChpLHtlbmRSb3c6Y30pXSxkPWwuZmluZChlPT5lLmNlbGw9PT10KS5jb2x1bW4sdT1sLmZpbmQoKHtyb3c6dCxyb3dzcGFuOm4sY29sdW1uOml9KT0+aT09PWQmJihcImRvd25cIj09ZT90PT09YzpjPT09dCtuKSk7cmV0dXJuIHUmJnUuY2VsbH0odCx0aGlzLmRpcmVjdGlvbik7aWYoIW4pcmV0dXJuO2NvbnN0IGk9dGhpcy5pc0hvcml6b250YWw/XCJyb3dzcGFuXCI6XCJjb2xzcGFuXCIsbz1wYXJzZUludCh0LmdldEF0dHJpYnV0ZShpKXx8MSk7cmV0dXJuIHBhcnNlSW50KG4uZ2V0QXR0cmlidXRlKGkpfHwxKT09PW8/bjp2b2lkIDB9fWZ1bmN0aW9uIG1nKHQpe3JldHVybiAxPT10LmNoaWxkQ291bnQmJnQuZ2V0Q2hpbGQoMCkuaXMoXCJwYXJhZ3JhcGhcIikmJnQuZ2V0Q2hpbGQoMCkuaXNFbXB0eX1jbGFzcyBwZyBleHRlbmRzIFhse3JlZnJlc2goKXtjb25zdCB0PWpwKFwidGFibGVDZWxsXCIsdGhpcy5lZGl0b3IubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSk7dGhpcy5pc0VuYWJsZWQ9ISF0JiZ0LnBhcmVudC5wYXJlbnQuY2hpbGRDb3VudD4xfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9anAoXCJ0YWJsZUNlbGxcIix0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpLnBhcmVudCxuPWUucGFyZW50LGk9bi5nZXRDaGlsZEluZGV4KGUpLG89bi5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MDt0LmNoYW5nZSh0PT57byYmaTw9byYmVnAoXCJoZWFkaW5nUm93c1wiLG8tMSxuLHQsMCk7Y29uc3Qgcj1bLi4ubmV3IEhwKG4se2VuZFJvdzppfSldLHM9bmV3IE1hcDtyLmZpbHRlcigoe3Jvdzp0LHJvd3NwYW46ZX0pPT50PT09aSYmZT4xKS5mb3JFYWNoKCh7Y29sdW1uOnQsY2VsbDplLHJvd3NwYW46bn0pPT5zLnNldCh0LHtjZWxsOmUscm93c3BhblRvU2V0Om4tMX0pKSxyLmZpbHRlcigoe3Jvdzp0LHJvd3NwYW46ZX0pPT50PD1pLTEmJnQrZT5pKS5mb3JFYWNoKCh7Y2VsbDplLHJvd3NwYW46bn0pPT5WcChcInJvd3NwYW5cIixuLTEsZSx0KSk7Y29uc3QgYT1pKzEsYz1uZXcgSHAobix7aW5jbHVkZVNwYW5uZWQ6ITAsc3RhcnRSb3c6YSxlbmRSb3c6YX0pO2xldCBsO2Zvcihjb25zdHtyb3c6ZSxjb2x1bW46aSxjZWxsOm99b2ZbLi4uY10paWYocy5oYXMoaSkpe2NvbnN0e2NlbGw6byxyb3dzcGFuVG9TZXQ6cn09cy5nZXQoaSksYT1sP3QuY3JlYXRlUG9zaXRpb25BZnRlcihsKTp0LmNyZWF0ZVBvc2l0aW9uQXQobi5nZXRDaGlsZChlKSwwKTt0Lm1vdmUodC5jcmVhdGVSYW5nZU9uKG8pLGEpLFZwKFwicm93c3BhblwiLHIsbyx0KSxsPW99ZWxzZSBsPW87dC5yZW1vdmUoZSl9KX19Y2xhc3MgZ2cgZXh0ZW5kcyBYbHtyZWZyZXNoKCl7Y29uc3QgdD10aGlzLmVkaXRvcixlPXQubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uLG49dC5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIiksaT1qcChcInRhYmxlQ2VsbFwiLGUuZ2V0Rmlyc3RQb3NpdGlvbigpKTt0aGlzLmlzRW5hYmxlZD0hIWkmJm4uZ2V0Q29sdW1ucyhpLnBhcmVudC5wYXJlbnQpPjF9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT1qcChcInRhYmxlQ2VsbFwiLHQuZG9jdW1lbnQuc2VsZWN0aW9uLmdldEZpcnN0UG9zaXRpb24oKSksbj1lLnBhcmVudCxpPW4ucGFyZW50LG89aS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MCxyPWkuZ2V0Q2hpbGRJbmRleChuKSxzPVsuLi5uZXcgSHAoaSldLGE9cy5maW5kKHQ9PnQuY2VsbD09PWUpLmNvbHVtbjt0LmNoYW5nZSh0PT57byYmcjw9byYmdC5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiLG8tMSxpKTtmb3IoY29uc3R7Y2VsbDplLGNvbHVtbjpuLGNvbHNwYW46aX1vZiBzKW48PWEmJmk+MSYmbitpPmE/VnAoXCJjb2xzcGFuXCIsaS0xLGUsdCk6bj09PWEmJnQucmVtb3ZlKGUpfSl9fWNsYXNzIGJnIGV4dGVuZHMgWGx7cmVmcmVzaCgpe2NvbnN0IHQ9anAoXCJ0YWJsZUNlbGxcIix0aGlzLmVkaXRvci5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKSxlPSEhdDt0aGlzLmlzRW5hYmxlZD1lLHRoaXMudmFsdWU9ZSYmdGhpcy5faXNJbkhlYWRpbmcodCx0LnBhcmVudC5wYXJlbnQpfWV4ZWN1dGUoKXtjb25zdCB0PXRoaXMuZWRpdG9yLm1vZGVsLGU9anAoXCJ0YWJsZUNlbGxcIix0LmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpLnBhcmVudCxuPWUucGFyZW50LGk9bi5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiKXx8MCxvPWUuaW5kZXgscj1pPm8/bzpvKzE7dC5jaGFuZ2UodD0+e2lmKHIpe2NvbnN0IGU9ZnVuY3Rpb24odCxlLG4pe2NvbnN0IGk9W10sbz1uZXcgSHAodCx7c3RhcnRSb3c6ZT5uP246MCxlbmRSb3c6ZS0xfSk7Zm9yKGNvbnN0e3Jvdzp0LHJvd3NwYW46bixjZWxsOnJ9b2YgbyluPjEmJnQrbj5lJiZpLnB1c2gocik7cmV0dXJuIGl9KG4scixpKTtmb3IoY29uc3QgbiBvZiBlKXdnKG4scix0KX1WcChcImhlYWRpbmdSb3dzXCIscixuLHQsMCl9KX1faXNJbkhlYWRpbmcodCxlKXtjb25zdCBuPXBhcnNlSW50KGUuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDApO3JldHVybiEhbiYmdC5wYXJlbnQuaW5kZXg8bn19ZnVuY3Rpb24gd2codCxlLG4pe2NvbnN0IGk9dC5wYXJlbnQsbz1pLnBhcmVudCxyPWUtaS5pbmRleCxzPXt9LGE9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpKS1yO2E+MSYmKHMucm93c3Bhbj1hKTtjb25zdCBjPW8uZ2V0Q2hpbGRJbmRleChpKSxsPWMrcixkPVsuLi5uZXcgSHAobyx7c3RhcnRSb3c6YyxlbmRSb3c6bCxpbmNsdWRlU3Bhbm5lZDohMH0pXTtsZXQgdTtmb3IoY29uc3R7cm93OmUsY29sdW1uOmksY2VsbDpyLGNvbHNwYW46YSxjZWxsSW5kZXg6Y31vZiBkKWlmKHI9PT10JiYodT1pLGE+MSYmKHMuY29sc3Bhbj1hKSksdm9pZCAwIT09dSYmdT09PWkmJmU9PT1sKXtjb25zdCB0PW8uZ2V0Q2hpbGQoZSk7QnAobixuLmNyZWF0ZVBvc2l0aW9uQXQodCxjKSxzKX1WcChcInJvd3NwYW5cIixyLHQsbil9Y2xhc3MgX2cgZXh0ZW5kcyBYbHtyZWZyZXNoKCl7Y29uc3QgdD1qcChcInRhYmxlQ2VsbFwiLHRoaXMuZWRpdG9yLm1vZGVsLmRvY3VtZW50LnNlbGVjdGlvbi5nZXRGaXJzdFBvc2l0aW9uKCkpLGU9ISF0O3RoaXMuaXNFbmFibGVkPWUsdGhpcy52YWx1ZT1lJiZ0aGlzLl9pc0luSGVhZGluZyh0LHQucGFyZW50LnBhcmVudCl9ZXhlY3V0ZSgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IubW9kZWwsZT10LmRvY3VtZW50LnNlbGVjdGlvbixuPXRoaXMuZWRpdG9yLnBsdWdpbnMuZ2V0KFwiVGFibGVVdGlsc1wiKSxpPWpwKFwidGFibGVDZWxsXCIsZS5nZXRGaXJzdFBvc2l0aW9uKCkucGFyZW50KSxvPWkucGFyZW50LnBhcmVudCxyPXBhcnNlSW50KG8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIil8fDApLHtjb2x1bW46c309bi5nZXRDZWxsTG9jYXRpb24oaSksYT1yPnM/czpzKzE7dC5jaGFuZ2UodD0+e1ZwKFwiaGVhZGluZ0NvbHVtbnNcIixhLG8sdCwwKX0pfV9pc0luSGVhZGluZyh0LGUpe2NvbnN0IG49cGFyc2VJbnQoZS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MCksaT10aGlzLmVkaXRvci5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIikse2NvbHVtbjpvfT1pLmdldENlbGxMb2NhdGlvbih0KTtyZXR1cm4hIW4mJm88bn19Y2xhc3Mga2cgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlRhYmxlVXRpbHNcIn1nZXRDZWxsTG9jYXRpb24odCl7Y29uc3QgZT10LnBhcmVudCxuPWUucGFyZW50LGk9bi5nZXRDaGlsZEluZGV4KGUpLG89bmV3IEhwKG4se3N0YXJ0Um93OmksZW5kUm93Oml9KTtmb3IoY29uc3R7Y2VsbDplLHJvdzpuLGNvbHVtbjppfW9mIG8paWYoZT09PXQpcmV0dXJue3JvdzpuLGNvbHVtbjppfX1jcmVhdGVUYWJsZSh0LGUsbil7Y29uc3QgaT10LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtyZXR1cm4gdmcodCxpLDAsZSxuKSxpfWluc2VydFJvd3ModCxlPXt9KXtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLGk9ZS5hdHx8MCxvPWUucm93c3x8MTtuLmNoYW5nZShlPT57Y29uc3Qgbj10LmdldEF0dHJpYnV0ZShcImhlYWRpbmdSb3dzXCIpfHwwO2lmKG4+aSYmZS5zZXRBdHRyaWJ1dGUoXCJoZWFkaW5nUm93c1wiLG4rbyx0KSwwPT09aXx8aT09PXQuY2hpbGRDb3VudClyZXR1cm4gdm9pZCB2ZyhlLHQsaSxvLHRoaXMuZ2V0Q29sdW1ucyh0KSk7Y29uc3Qgcj1uZXcgSHAodCx7ZW5kUm93Oml9KTtsZXQgcz0wO2Zvcihjb25zdHtyb3c6dCxyb3dzcGFuOm4sY29sc3BhbjphLGNlbGw6Y31vZiByKXt0PGkmJnQrbj5pJiZlLnNldEF0dHJpYnV0ZShcInJvd3NwYW5cIixuK28sYyksdD09PWkmJihzKz1hKX12ZyhlLHQsaSxvLHMpfSl9aW5zZXJ0Q29sdW1ucyh0LGU9e30pe2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwsaT1lLmF0fHwwLG89ZS5jb2x1bW5zfHwxO24uY2hhbmdlKGU9Pntjb25zdCBuPXQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ0NvbHVtbnNcIik7aTxuJiZlLnNldEF0dHJpYnV0ZShcImhlYWRpbmdDb2x1bW5zXCIsbitvLHQpO2NvbnN0IHI9dGhpcy5nZXRDb2x1bW5zKHQpO2lmKDA9PT1pfHxyPT09aSl7Zm9yKGNvbnN0IG4gb2YgdC5nZXRDaGlsZHJlbigpKXlnKG8sZSxlLmNyZWF0ZVBvc2l0aW9uQXQobixpP1wiZW5kXCI6MCkpO3JldHVybn1jb25zdCBzPW5ldyBIcCh0LHtjb2x1bW46aSxpbmNsdWRlU3Bhbm5lZDohMH0pO2Zvcihjb25zdHtyb3c6bixjb2x1bW46cixjZWxsOmEsY29sc3BhbjpjLHJvd3NwYW46bCxjZWxsSW5kZXg6ZH1vZiBzKWlmKHIhPT1pKXtpZihlLnNldEF0dHJpYnV0ZShcImNvbHNwYW5cIixjK28sYSkscy5za2lwUm93KG4pLGw+MSlmb3IobGV0IHQ9bisxO3Q8bitsO3QrKylzLnNraXBSb3codCl9ZWxzZXtjb25zdCBpPWUuY3JlYXRlUG9zaXRpb25BdCh0LmdldENoaWxkKG4pLGQpO3lnKG8sZSxpKX19KX1zcGxpdENlbGxWZXJ0aWNhbGx5KHQsZT0yKXtjb25zdCBuPXRoaXMuZWRpdG9yLm1vZGVsLGk9dC5wYXJlbnQucGFyZW50LG89cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKSxyPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSk7bi5jaGFuZ2Uobj0+e2lmKHI+MSl7Y29uc3R7bmV3Q2VsbHNTcGFuOmksdXBkYXRlZFNwYW46c309eGcocixlKTtWcChcImNvbHNwYW5cIixzLHQsbik7Y29uc3QgYT17fTtpPjEmJihhLmNvbHNwYW49aSksbz4xJiYoYS5yb3dzcGFuPW8pLHlnKHI+ZT9lLTE6ci0xLG4sbi5jcmVhdGVQb3NpdGlvbkFmdGVyKHQpLGEpfWlmKHI8ZSl7Y29uc3Qgcz1lLXIsYT1bLi4ubmV3IEhwKGkpXSx7Y29sdW1uOmN9PWEuZmluZCgoe2NlbGw6ZX0pPT5lPT09dCksbD1hLmZpbHRlcigoe2NlbGw6ZSxjb2xzcGFuOm4sY29sdW1uOml9KT0+e3JldHVybiBlIT09dCYmaT09PWN8fGk8YyYmaStuPmN9KTtmb3IoY29uc3R7Y2VsbDp0LGNvbHNwYW46ZX1vZiBsKW4uc2V0QXR0cmlidXRlKFwiY29sc3BhblwiLGUrcyx0KTtjb25zdCBkPXt9O28+MSYmKGQucm93c3Bhbj1vKSx5ZyhzLG4sbi5jcmVhdGVQb3NpdGlvbkFmdGVyKHQpLGQpO2NvbnN0IHU9aS5nZXRBdHRyaWJ1dGUoXCJoZWFkaW5nQ29sdW1uc1wiKXx8MDt1PmMmJlZwKFwiaGVhZGluZ0NvbHVtbnNcIix1K3MsaSxuKX19KX1zcGxpdENlbGxIb3Jpem9udGFsbHkodCxlPTIpe2NvbnN0IG49dGhpcy5lZGl0b3IubW9kZWwsaT10LnBhcmVudCxvPWkucGFyZW50LHI9by5nZXRDaGlsZEluZGV4KGkpLHM9cGFyc2VJbnQodC5nZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIpfHwxKSxhPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKXx8MSk7bi5jaGFuZ2Uobj0+e2lmKHM+MSl7Y29uc3QgaT1bLi4ubmV3IEhwKG8se3N0YXJ0Um93OnIsZW5kUm93OnIrcy0xLGluY2x1ZGVTcGFubmVkOiEwfSldLHtuZXdDZWxsc1NwYW46Yyx1cGRhdGVkU3BhbjpsfT14ZyhzLGUpO1ZwKFwicm93c3BhblwiLGwsdCxuKTtjb25zdHtjb2x1bW46ZH09aS5maW5kKCh7Y2VsbDplfSk9PmU9PT10KSx1PXt9O2M+MSYmKHUucm93c3Bhbj1jKSxhPjEmJih1LmNvbHNwYW49YSk7Zm9yKGNvbnN0e2NvbHVtbjp0LHJvdzplLGNlbGxJbmRleDpzfW9mIGkpe2lmKGU+PXIrbCYmdD09PWQmJihlK3IrbCklYz09MCl7eWcoMSxuLG4uY3JlYXRlUG9zaXRpb25BdChvLmdldENoaWxkKGUpLHMpLHUpfX19aWYoczxlKXtjb25zdCBpPWUtcyxjPVsuLi5uZXcgSHAobyx7c3RhcnRSb3c6MCxlbmRSb3c6cn0pXTtmb3IoY29uc3R7Y2VsbDplLHJvd3NwYW46byxyb3c6c31vZiBjKWlmKGUhPT10JiZzK28+cil7Y29uc3QgdD1vK2k7bi5zZXRBdHRyaWJ1dGUoXCJyb3dzcGFuXCIsdCxlKX1jb25zdCBsPXt9O2E+MSYmKGwuY29sc3Bhbj1hKSx2ZyhuLG8scisxLGksMSxsKTtjb25zdCBkPW8uZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDA7ZD5yJiZWcChcImhlYWRpbmdSb3dzXCIsZCtpLG8sbil9fSl9Z2V0Q29sdW1ucyh0KXtyZXR1cm5bLi4udC5nZXRDaGlsZCgwKS5nZXRDaGlsZHJlbigpXS5yZWR1Y2UoKHQsZSk9PntyZXR1cm4gdCtwYXJzZUludChlLmdldEF0dHJpYnV0ZShcImNvbHNwYW5cIil8fDEpfSwwKX19ZnVuY3Rpb24gdmcodCxlLG4saSxvLHI9e30pe2ZvcihsZXQgcz0wO3M8aTtzKyspe2NvbnN0IGk9dC5jcmVhdGVFbGVtZW50KFwidGFibGVSb3dcIik7dC5pbnNlcnQoaSxlLG4pLHlnKG8sdCx0LmNyZWF0ZVBvc2l0aW9uQXQoaSxcImVuZFwiKSxyKX19ZnVuY3Rpb24geWcodCxlLG4saT17fSl7Zm9yKGxldCBvPTA7bzx0O28rKylCcChlLG4saSl9ZnVuY3Rpb24geGcodCxlKXtpZih0PGUpcmV0dXJue25ld0NlbGxzU3BhbjoxLHVwZGF0ZWRTcGFuOjF9O2NvbnN0IG49TWF0aC5mbG9vcih0L2UpO3JldHVybntuZXdDZWxsc1NwYW46bix1cGRhdGVkU3Bhbjp0LW4qZStufX1mdW5jdGlvbiBBZyh0KXt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PihmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2xldCBpPSExO2NvbnN0IG89bmV3IFNldDtmb3IoY29uc3QgZSBvZiBuKXtsZXQgbjtcInRhYmxlXCI9PWUubmFtZSYmXCJpbnNlcnRcIj09ZS50eXBlJiYobj1lLnBvc2l0aW9uLm5vZGVBZnRlciksXCJ0YWJsZVJvd1wiIT1lLm5hbWUmJlwidGFibGVDZWxsXCIhPWUubmFtZXx8KG49anAoXCJ0YWJsZVwiLGUucG9zaXRpb24pKSxQZyhlKSYmKG49anAoXCJ0YWJsZVwiLGUucmFuZ2Uuc3RhcnQpKSxuJiYhby5oYXMobikmJihpPUNnKG4sdCl8fGksaT1UZyhuLHQpfHxpLG8uYWRkKG4pKX1yZXR1cm4gaX0pKGUsdCkpfWZ1bmN0aW9uIENnKHQsZSl7bGV0IG49ITE7Y29uc3QgaT1mdW5jdGlvbih0KXtjb25zdCBlPXBhcnNlSW50KHQuZ2V0QXR0cmlidXRlKFwiaGVhZGluZ1Jvd3NcIil8fDApLG49dC5jaGlsZENvdW50LGk9W107Zm9yKGNvbnN0e3JvdzpvLHJvd3NwYW46cixjZWxsOnN9b2YgbmV3IEhwKHQpKXtpZihyPDIpY29udGludWU7Y29uc3QgdD1vPGUsYT10P2U6bjtpZihvK3I+YSl7Y29uc3QgdD1hLW87aS5wdXNoKHtjZWxsOnMscm93c3Bhbjp0fSl9fXJldHVybiBpfSh0KTtpZihpLmxlbmd0aCl7bj0hMDtmb3IoY29uc3QgdCBvZiBpKVZwKFwicm93c3BhblwiLHQucm93c3Bhbix0LmNlbGwsZSwxKX1yZXR1cm4gbn1mdW5jdGlvbiBUZyh0LGUpe2xldCBuPSExO2NvbnN0IGk9ZnVuY3Rpb24odCl7Y29uc3QgZT17fTtmb3IoY29uc3R7cm93Om59b2YgbmV3IEhwKHQse2luY2x1ZGVTcGFubmVkOiEwfSkpZVtuXXx8KGVbbl09MCksZVtuXSs9MTtyZXR1cm4gZX0odCksbz1pWzBdO2lmKCFPYmplY3QudmFsdWVzKGkpLmV2ZXJ5KHQ9PnQ9PT1vKSl7Y29uc3Qgbz1PYmplY3QudmFsdWVzKGkpLnJlZHVjZSgodCxlKT0+ZT50P2U6dCwwKTtmb3IoY29uc3RbcixzXW9mIE9iamVjdC5lbnRyaWVzKGkpKXtjb25zdCBpPW8tcztpZihpKXtmb3IobGV0IG49MDtuPGk7bisrKUJwKGUsZS5jcmVhdGVQb3NpdGlvbkF0KHQuZ2V0Q2hpbGQociksXCJlbmRcIikpO249ITB9fX1yZXR1cm4gbn1mdW5jdGlvbiBQZyh0KXtjb25zdCBlPVwiYXR0cmlidXRlXCI9PT10LnR5cGUsbj10LmF0dHJpYnV0ZUtleTtyZXR1cm4gZSYmKFwiaGVhZGluZ1Jvd3NcIj09PW58fFwiY29sc3BhblwiPT09bnx8XCJyb3dzcGFuXCI9PT1uKX1mdW5jdGlvbiBNZyh0KXt0LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKGU9PihmdW5jdGlvbih0LGUpe2NvbnN0IG49ZS5kb2N1bWVudC5kaWZmZXIuZ2V0Q2hhbmdlcygpO2xldCBpPSExO2Zvcihjb25zdCBlIG9mIG4pXCJyZW1vdmVcIj09ZS50eXBlJiZlLnBvc2l0aW9uLnBhcmVudC5pcyhcInRhYmxlQ2VsbFwiKSYmKGk9SWcoZS5wb3NpdGlvbi5wYXJlbnQsdCl8fGkpLFwiaW5zZXJ0XCI9PWUudHlwZSYmKFwidGFibGVcIj09ZS5uYW1lJiYoaT1FZyhlLnBvc2l0aW9uLm5vZGVBZnRlcix0KXx8aSksXCJ0YWJsZVJvd1wiPT1lLm5hbWUmJihpPVNnKGUucG9zaXRpb24ubm9kZUFmdGVyLHQpfHxpKSxcInRhYmxlQ2VsbFwiPT1lLm5hbWUmJihpPUlnKGUucG9zaXRpb24ubm9kZUFmdGVyLHQpfHxpKSk7cmV0dXJuIGl9KShlLHQpKX1mdW5jdGlvbiBFZyh0LGUpe2xldCBuPSExO2Zvcihjb25zdCBpIG9mIHQuZ2V0Q2hpbGRyZW4oKSluPVNnKGksZSl8fG47cmV0dXJuIG59ZnVuY3Rpb24gU2codCxlKXtsZXQgbj0hMTtmb3IoY29uc3QgaSBvZiB0LmdldENoaWxkcmVuKCkpbj1JZyhpLGUpfHxuO3JldHVybiBufWZ1bmN0aW9uIElnKHQsZSl7aWYoMD09dC5jaGlsZENvdW50KXJldHVybiBlLmluc2VydEVsZW1lbnQoXCJwYXJhZ3JhcGhcIix0KSwhMDtjb25zdCBuPUFycmF5LmZyb20odC5nZXRDaGlsZHJlbigpKS5maWx0ZXIodD0+dC5pcyhcInRleHRcIikpO2Zvcihjb25zdCB0IG9mIG4pZS53cmFwKGUuY3JlYXRlUmFuZ2VPbih0KSxcInBhcmFncmFwaFwiKTtyZXR1cm4hIW4ubGVuZ3RofWZ1bmN0aW9uIE5nKHQsZSl7ZS52aWV3LmRvY3VtZW50LnJlZ2lzdGVyUG9zdEZpeGVyKG49PihmdW5jdGlvbih0LGUsbixpKXtsZXQgbz0hMTtjb25zdCByPWZ1bmN0aW9uKHQpe2NvbnN0IGU9QXJyYXkuZnJvbSh0Ll9yZW5kZXJlci5tYXJrZWRBdHRyaWJ1dGVzKS5maWx0ZXIodD0+ISF0LnBhcmVudCkuZmlsdGVyKFJnKS5maWx0ZXIodD0+RGcodC5wYXJlbnQpKSxuPUFycmF5LmZyb20odC5fcmVuZGVyZXIubWFya2VkQ2hpbGRyZW4pLmZpbHRlcih0PT4hIXQucGFyZW50KS5maWx0ZXIoRGcpLnJlZHVjZSgodCxlKT0+e2NvbnN0IG49QXJyYXkuZnJvbShlLmdldENoaWxkcmVuKCkpLmZpbHRlcihSZyk7cmV0dXJuWy4uLnQsLi4ubl19LFtdKTtyZXR1cm5bLi4uZSwuLi5uXX0oaSk7Zm9yKGNvbnN0IGUgb2YgcilvPU9nKGUsbix0KXx8bztvJiZmdW5jdGlvbih0LGUsbil7Y29uc3QgaT1BcnJheS5mcm9tKHQuZ2V0UmFuZ2VzKCkpLm1hcCh0PT5lLnRvVmlld1JhbmdlKHQpKTtuLnNldFNlbGVjdGlvbihpLHtiYWNrd2FyZDp0LmlzQmFja3dhcmR9KX0oZS5kb2N1bWVudC5zZWxlY3Rpb24sbix0KTtyZXR1cm4gb30pKG4sdCxlLm1hcHBlcixlLnZpZXcpKX1mdW5jdGlvbiBPZyh0LGUsbil7Y29uc3QgaT1lLnRvTW9kZWxFbGVtZW50KHQpLG89ZnVuY3Rpb24odCxlKXtjb25zdCBuPXQuY2hpbGRDb3VudD4xLGk9ISFbLi4uZS5nZXRBdHRyaWJ1dGVzKCldLmxlbmd0aDtyZXR1cm4gbnx8aT9cInBcIjpcInNwYW5cIn0oaS5wYXJlbnQsaSk7aWYodC5uYW1lIT09byl7ZS51bmJpbmRWaWV3RWxlbWVudCh0KTtjb25zdCByPW4ucmVuYW1lKG8sdCk7cmV0dXJuIGUuYmluZEVsZW1lbnRzKGksciksITB9cmV0dXJuITF9ZnVuY3Rpb24gUmcodCl7cmV0dXJuIHQuaXMoXCJwXCIpfHx0LmlzKFwic3BhblwiKX1mdW5jdGlvbiBEZyh0KXtyZXR1cm4gdC5pcyhcInRkXCIpfHx0LmlzKFwidGhcIil9bigxMTEpO2NsYXNzIExnIGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10Lm1vZGVsLG49ZS5zY2hlbWEsaT10LmNvbnZlcnNpb247bi5yZWdpc3RlcihcInRhYmxlXCIse2FsbG93V2hlcmU6XCIkYmxvY2tcIixhbGxvd0F0dHJpYnV0ZXM6W1wiaGVhZGluZ1Jvd3NcIixcImhlYWRpbmdDb2x1bW5zXCJdLGlzTGltaXQ6ITAsaXNPYmplY3Q6ITAsaXNCbG9jazohMH0pLG4ucmVnaXN0ZXIoXCJ0YWJsZVJvd1wiLHthbGxvd0luOlwidGFibGVcIixpc0xpbWl0OiEwfSksbi5yZWdpc3RlcihcInRhYmxlQ2VsbFwiLHthbGxvd0luOlwidGFibGVSb3dcIixhbGxvd0F0dHJpYnV0ZXM6W1wiY29sc3BhblwiLFwicm93c3BhblwiXSxpc0xpbWl0OiEwfSksbi5leHRlbmQoXCIkYmxvY2tcIix7YWxsb3dJbjpcInRhYmxlQ2VsbFwifSksbi5hZGRDaGlsZENoZWNrKCh0LGUpPT57aWYoXCJ0YWJsZVwiPT1lLm5hbWUmJkFycmF5LmZyb20odC5nZXROYW1lcygpKS5pbmNsdWRlcyhcInRhYmxlXCIpKXJldHVybiExfSksaS5mb3IoXCJ1cGNhc3RcIikuYWRkKHpwKCkpLGkuZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZCgkcCh7YXNXaWRnZXQ6ITB9KSksaS5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKCRwKCkpLGkuZm9yKFwidXBjYXN0XCIpLmVsZW1lbnRUb0VsZW1lbnQoe21vZGVsOlwidGFibGVSb3dcIix2aWV3OlwidHJcIn0pLGkuZm9yKFwiZWRpdGluZ0Rvd25jYXN0XCIpLmFkZChHcCh7YXNXaWRnZXQ6ITB9KSksaS5mb3IoXCJkYXRhRG93bmNhc3RcIikuYWRkKEdwKCkpLGkuZm9yKFwiZG93bmNhc3RcIikuYWRkKHQ9PnQub24oXCJyZW1vdmU6dGFibGVSb3dcIiwodCxlLG4pPT57dC5zdG9wKCk7Y29uc3QgaT1uLndyaXRlcixvPW4ubWFwcGVyLHI9by50b1ZpZXdQb3NpdGlvbihlLnBvc2l0aW9uKS5nZXRMYXN0TWF0Y2hpbmdQb3NpdGlvbih0PT4hdC5pdGVtLmlzKFwidHJcIikpLm5vZGVBZnRlcixzPXIucGFyZW50LGE9aS5jcmVhdGVSYW5nZU9uKHIpLGM9aS5yZW1vdmUoYSk7Zm9yKGNvbnN0IHQgb2YgaS5jcmVhdGVSYW5nZUluKGMpLmdldEl0ZW1zKCkpby51bmJpbmRWaWV3RWxlbWVudCh0KTtzLmNoaWxkQ291bnR8fGkucmVtb3ZlKGkuY3JlYXRlUmFuZ2VPbihzKSl9LHtwcmlvcml0eTpcImhpZ2hlclwifSkpLGkuZm9yKFwidXBjYXN0XCIpLmFkZChGcChcInRkXCIpKSxpLmZvcihcInVwY2FzdFwiKS5hZGQoRnAoXCJ0aFwiKSksaS5mb3IoXCJlZGl0aW5nRG93bmNhc3RcIikuYWRkKFFwKHthc1dpZGdldDohMH0pKSxpLmZvcihcImRhdGFEb3duY2FzdFwiKS5hZGQoUXAoKSksaS5hdHRyaWJ1dGVUb0F0dHJpYnV0ZSh7bW9kZWw6XCJjb2xzcGFuXCIsdmlldzpcImNvbHNwYW5cIn0pLGkuYXR0cmlidXRlVG9BdHRyaWJ1dGUoe21vZGVsOlwicm93c3BhblwiLHZpZXc6XCJyb3dzcGFuXCJ9KSxpLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoS3Aoe2FzV2lkZ2V0OiEwfSkpLGkuZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChLcCgpKSxpLmZvcihcImVkaXRpbmdEb3duY2FzdFwiKS5hZGQoSnAoe2FzV2lkZ2V0OiEwfSkpLGkuZm9yKFwiZGF0YURvd25jYXN0XCIpLmFkZChKcCgpKSxOZyh0Lm1vZGVsLHQuZWRpdGluZyksdC5jb21tYW5kcy5hZGQoXCJpbnNlcnRUYWJsZVwiLG5ldyBsZyh0KSksdC5jb21tYW5kcy5hZGQoXCJpbnNlcnRUYWJsZVJvd0Fib3ZlXCIsbmV3IGRnKHQse29yZGVyOlwiYWJvdmVcIn0pKSx0LmNvbW1hbmRzLmFkZChcImluc2VydFRhYmxlUm93QmVsb3dcIixuZXcgZGcodCx7b3JkZXI6XCJiZWxvd1wifSkpLHQuY29tbWFuZHMuYWRkKFwiaW5zZXJ0VGFibGVDb2x1bW5MZWZ0XCIsbmV3IHVnKHQse29yZGVyOlwibGVmdFwifSkpLHQuY29tbWFuZHMuYWRkKFwiaW5zZXJ0VGFibGVDb2x1bW5SaWdodFwiLG5ldyB1Zyh0LHtvcmRlcjpcInJpZ2h0XCJ9KSksdC5jb21tYW5kcy5hZGQoXCJyZW1vdmVUYWJsZVJvd1wiLG5ldyBwZyh0KSksdC5jb21tYW5kcy5hZGQoXCJyZW1vdmVUYWJsZUNvbHVtblwiLG5ldyBnZyh0KSksdC5jb21tYW5kcy5hZGQoXCJzcGxpdFRhYmxlQ2VsbFZlcnRpY2FsbHlcIixuZXcgaGcodCx7ZGlyZWN0aW9uOlwidmVydGljYWxseVwifSkpLHQuY29tbWFuZHMuYWRkKFwic3BsaXRUYWJsZUNlbGxIb3Jpem9udGFsbHlcIixuZXcgaGcodCx7ZGlyZWN0aW9uOlwiaG9yaXpvbnRhbGx5XCJ9KSksdC5jb21tYW5kcy5hZGQoXCJtZXJnZVRhYmxlQ2VsbFJpZ2h0XCIsbmV3IGZnKHQse2RpcmVjdGlvbjpcInJpZ2h0XCJ9KSksdC5jb21tYW5kcy5hZGQoXCJtZXJnZVRhYmxlQ2VsbExlZnRcIixuZXcgZmcodCx7ZGlyZWN0aW9uOlwibGVmdFwifSkpLHQuY29tbWFuZHMuYWRkKFwibWVyZ2VUYWJsZUNlbGxEb3duXCIsbmV3IGZnKHQse2RpcmVjdGlvbjpcImRvd25cIn0pKSx0LmNvbW1hbmRzLmFkZChcIm1lcmdlVGFibGVDZWxsVXBcIixuZXcgZmcodCx7ZGlyZWN0aW9uOlwidXBcIn0pKSx0LmNvbW1hbmRzLmFkZChcInNldFRhYmxlQ29sdW1uSGVhZGVyXCIsbmV3IF9nKHQpKSx0LmNvbW1hbmRzLmFkZChcInNldFRhYmxlUm93SGVhZGVyXCIsbmV3IGJnKHQpKSxBZyhlKSxNZyhlKSx0aGlzLmVkaXRvci5rZXlzdHJva2VzLnNldChcIlRhYlwiLCguLi50KT0+dGhpcy5faGFuZGxlVGFiT25TZWxlY3RlZFRhYmxlKC4uLnQpLHtwcmlvcml0eTpcImxvd1wifSksdGhpcy5lZGl0b3Iua2V5c3Ryb2tlcy5zZXQoXCJUYWJcIix0aGlzLl9nZXRUYWJIYW5kbGVyKCEwKSx7cHJpb3JpdHk6XCJsb3dcIn0pLHRoaXMuZWRpdG9yLmtleXN0cm9rZXMuc2V0KFwiU2hpZnQrVGFiXCIsdGhpcy5fZ2V0VGFiSGFuZGxlcighMSkse3ByaW9yaXR5OlwibG93XCJ9KX1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2tnXX1faGFuZGxlVGFiT25TZWxlY3RlZFRhYmxlKHQsZSl7Y29uc3Qgbj10aGlzLmVkaXRvcixpPW4ubW9kZWwuZG9jdW1lbnQuc2VsZWN0aW9uO2lmKCFpLmlzQ29sbGFwc2VkJiYxPT09aS5yYW5nZUNvdW50JiZpLmdldEZpcnN0UmFuZ2UoKS5pc0ZsYXQpe2NvbnN0IHQ9aS5nZXRTZWxlY3RlZEVsZW1lbnQoKTtpZighdHx8IXQuaXMoXCJ0YWJsZVwiKSlyZXR1cm47ZSgpLG4ubW9kZWwuY2hhbmdlKGU9PntlLnNldFNlbGVjdGlvbihlLmNyZWF0ZVJhbmdlSW4odC5nZXRDaGlsZCgwKS5nZXRDaGlsZCgwKSkpfSl9fV9nZXRUYWJIYW5kbGVyKHQpe2NvbnN0IGU9dGhpcy5lZGl0b3I7cmV0dXJuKG4saSk9Pntjb25zdCBvPWpwKFwidGFibGVDZWxsXCIsZS5tb2RlbC5kb2N1bWVudC5zZWxlY3Rpb24uZ2V0Rmlyc3RQb3NpdGlvbigpKTtpZighbylyZXR1cm47aSgpO2NvbnN0IHI9by5wYXJlbnQscz1yLnBhcmVudCxhPXMuZ2V0Q2hpbGRJbmRleChyKSxjPXIuZ2V0Q2hpbGRJbmRleChvKSxsPTA9PT1jO2lmKCF0JiZsJiYwPT09YSlyZXR1cm47Y29uc3QgZD1jPT09ci5jaGlsZENvdW50LTEsdT1hPT09cy5jaGlsZENvdW50LTE7bGV0IGg7aWYodCYmdSYmZCYmZS5wbHVnaW5zLmdldChcIlRhYmxlVXRpbHNcIikuaW5zZXJ0Um93cyhzLHthdDpzLmNoaWxkQ291bnR9KSx0JiZkKXtjb25zdCB0PXMuZ2V0Q2hpbGQoYSsxKTtoPXQuZ2V0Q2hpbGQoMCl9ZWxzZSBpZighdCYmbCl7Y29uc3QgdD1zLmdldENoaWxkKGEtMSk7aD10LmdldENoaWxkKHQuY2hpbGRDb3VudC0xKX1lbHNlIGg9ci5nZXRDaGlsZChjKyh0PzE6LTEpKTtlLm1vZGVsLmNoYW5nZSh0PT57dC5zZXRTZWxlY3Rpb24odC5jcmVhdGVSYW5nZUluKGgpKX0pfX19bigxMTMpO2NsYXNzIGpnIGV4dGVuZHMgT2x7Y29uc3RydWN0b3IodCl7c3VwZXIodCk7Y29uc3QgZT10aGlzLmJpbmRUZW1wbGF0ZTt0aGlzLml0ZW1zPXRoaXMuY3JlYXRlQ29sbGVjdGlvbigpLHRoaXMuc2V0KFwicm93c1wiLDApLHRoaXMuc2V0KFwiY29sdW1uc1wiLDApLHRoaXMuYmluZChcImxhYmVsXCIpLnRvKHRoaXMsXCJjb2x1bW5zXCIsdGhpcyxcInJvd3NcIiwodCxlKT0+YCR7ZX0geCAke3R9YCksdGhpcy5zZXRUZW1wbGF0ZSh7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2tcIl19LGNoaWxkcmVuOlt7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duX19ncmlkXCJdfSxjaGlsZHJlbjp0aGlzLml0ZW1zfSx7dGFnOlwiZGl2XCIsYXR0cmlidXRlczp7Y2xhc3M6W1wiY2staW5zZXJ0LXRhYmxlLWRyb3Bkb3duX19sYWJlbFwiXX0sY2hpbGRyZW46W3t0ZXh0OmUudG8oXCJsYWJlbFwiKX1dfV0sb246e21vdXNlZG93bjplLnRvKHQ9Pnt0LnByZXZlbnREZWZhdWx0KCl9KSxjbGljazplLnRvKCgpPT57dGhpcy5maXJlKFwiZXhlY3V0ZVwiKX0pfX0pO2ZvcihsZXQgdD0wO3Q8MTAwO3QrKyl7Y29uc3QgZT1uZXcgVmc7ZS5vbihcIm92ZXJcIiwoKT0+e2NvbnN0IGU9TWF0aC5mbG9vcih0LzEwKSxuPXQlMTA7dGhpcy5zZXQoXCJyb3dzXCIsZSsxKSx0aGlzLnNldChcImNvbHVtbnNcIixuKzEpfSksdGhpcy5pdGVtcy5hZGQoZSl9dGhpcy5vbihcImNoYW5nZTpjb2x1bW5zXCIsKCk9Pnt0aGlzLl9oaWdobGlnaHRHcmlkQm94ZXMoKX0pLHRoaXMub24oXCJjaGFuZ2U6cm93c1wiLCgpPT57dGhpcy5faGlnaGxpZ2h0R3JpZEJveGVzKCl9KX1mb2N1cygpe31mb2N1c0xhc3QoKXt9X2hpZ2hsaWdodEdyaWRCb3hlcygpe2NvbnN0IHQ9dGhpcy5yb3dzLGU9dGhpcy5jb2x1bW5zO3RoaXMuaXRlbXMubWFwKChuLGkpPT57Y29uc3Qgbz1NYXRoLmZsb29yKGkvMTApPHQmJmklMTA8ZTtuLnNldChcImlzT25cIixvKX0pfX1jbGFzcyBWZyBleHRlbmRzIE9se2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpO2NvbnN0IGU9dGhpcy5iaW5kVGVtcGxhdGU7dGhpcy5zZXQoXCJpc09uXCIsITEpLHRoaXMuc2V0VGVtcGxhdGUoe3RhZzpcImRpdlwiLGF0dHJpYnV0ZXM6e2NsYXNzOltcImNrLWluc2VydC10YWJsZS1kcm9wZG93bi1ncmlkLWJveFwiLGUuaWYoXCJpc09uXCIsXCJjay1vblwiKV19LG9uOnttb3VzZW92ZXI6ZS50byhcIm92ZXJcIil9fSl9fXZhciBCZz1uKDM5KSx6Zz1uLm4oQmcpLEZnPW4oNDApLFVnPW4ubihGZyksSGc9big0MSkscWc9bi5uKEhnKSxXZz1uKDQyKSxZZz1uLm4oV2cpO2NsYXNzICRnIGV4dGVuZHMgR2x7aW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3IsZT10aGlzLmVkaXRvci50O3QudWkuY29tcG9uZW50RmFjdG9yeS5hZGQoXCJpbnNlcnRUYWJsZVwiLG49Pntjb25zdCBpPXQuY29tbWFuZHMuZ2V0KFwiaW5zZXJ0VGFibGVcIiksbz1MZihuKTtvLmJpbmQoXCJpc0VuYWJsZWRcIikudG8oaSksby5idXR0b25WaWV3LnNldCh7aWNvbjp6Zy5hLGxhYmVsOmUoXCJxXCIpLHRvb2x0aXA6ITB9KTtjb25zdCByPW5ldyBqZyhuKTtyZXR1cm4gby5wYW5lbFZpZXcuY2hpbGRyZW4uYWRkKHIpLHIuZGVsZWdhdGUoXCJleGVjdXRlXCIpLnRvKG8pLG8uYnV0dG9uVmlldy5vbihcIm9wZW5cIiwoKT0+e3Iucm93cz0wLHIuY29sdW1ucz0wfSksby5vbihcImV4ZWN1dGVcIiwoKT0+e3QuZXhlY3V0ZShcImluc2VydFRhYmxlXCIse3Jvd3M6ci5yb3dzLGNvbHVtbnM6ci5jb2x1bW5zfSksdC5lZGl0aW5nLnZpZXcuZm9jdXMoKX0pLG99KSx0LnVpLmNvbXBvbmVudEZhY3RvcnkuYWRkKFwidGFibGVDb2x1bW5cIix0PT57Y29uc3Qgbj1be3R5cGU6XCJzd2l0Y2hidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6XCJzZXRUYWJsZUNvbHVtbkhlYWRlclwiLGxhYmVsOmUoXCJyXCIpLGJpbmRJc09uOiEwfX0se3R5cGU6XCJzZXBhcmF0b3JcIn0se3R5cGU6XCJidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6XCJpbnNlcnRUYWJsZUNvbHVtbkxlZnRcIixsYWJlbDplKFwic1wiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwiaW5zZXJ0VGFibGVDb2x1bW5SaWdodFwiLGxhYmVsOmUoXCJ0XCIpfX0se3R5cGU6XCJidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6XCJyZW1vdmVUYWJsZUNvbHVtblwiLGxhYmVsOmUoXCJ1XCIpfX1dO3JldHVybiB0aGlzLl9wcmVwYXJlRHJvcGRvd24oZShcInZcIiksVWcuYSxuLHQpfSksdC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcInRhYmxlUm93XCIsdD0+e2NvbnN0IG49W3t0eXBlOlwic3dpdGNoYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwic2V0VGFibGVSb3dIZWFkZXJcIixsYWJlbDplKFwid1wiKSxiaW5kSXNPbjohMH19LHt0eXBlOlwic2VwYXJhdG9yXCJ9LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwiaW5zZXJ0VGFibGVSb3dCZWxvd1wiLGxhYmVsOmUoXCJ4XCIpfX0se3R5cGU6XCJidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6XCJpbnNlcnRUYWJsZVJvd0Fib3ZlXCIsbGFiZWw6ZShcInlcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInJlbW92ZVRhYmxlUm93XCIsbGFiZWw6ZShcInpcIil9fV07cmV0dXJuIHRoaXMuX3ByZXBhcmVEcm9wZG93bihlKFwiYWFcIikscWcuYSxuLHQpfSksdC51aS5jb21wb25lbnRGYWN0b3J5LmFkZChcIm1lcmdlVGFibGVDZWxsc1wiLHQ9Pntjb25zdCBuPVt7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsVXBcIixsYWJlbDplKFwiYWJcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsUmlnaHRcIixsYWJlbDplKFwiYWNcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcIm1lcmdlVGFibGVDZWxsRG93blwiLGxhYmVsOmUoXCJhZFwiKX19LHt0eXBlOlwiYnV0dG9uXCIsbW9kZWw6e2NvbW1hbmROYW1lOlwibWVyZ2VUYWJsZUNlbGxMZWZ0XCIsbGFiZWw6ZShcImFlXCIpfX0se3R5cGU6XCJzZXBhcmF0b3JcIn0se3R5cGU6XCJidXR0b25cIixtb2RlbDp7Y29tbWFuZE5hbWU6XCJzcGxpdFRhYmxlQ2VsbFZlcnRpY2FsbHlcIixsYWJlbDplKFwiYWZcIil9fSx7dHlwZTpcImJ1dHRvblwiLG1vZGVsOntjb21tYW5kTmFtZTpcInNwbGl0VGFibGVDZWxsSG9yaXpvbnRhbGx5XCIsbGFiZWw6ZShcImFnXCIpfX1dO3JldHVybiB0aGlzLl9wcmVwYXJlRHJvcGRvd24oZShcImFoXCIpLFlnLmEsbix0KX0pfV9wcmVwYXJlRHJvcGRvd24odCxlLG4saSl7Y29uc3Qgbz10aGlzLmVkaXRvcixyPUxmKGkpLHM9W10sYT1uZXcgb287Zm9yKGNvbnN0IHQgb2YgbilHZyh0LG8scyxhKTtyZXR1cm4gamYocixhKSxyLmJ1dHRvblZpZXcuc2V0KHtsYWJlbDp0LGljb246ZSx0b29sdGlwOiEwfSksci5iaW5kKFwiaXNFbmFibGVkXCIpLnRvTWFueShzLFwiaXNFbmFibGVkXCIsKC4uLnQpPT50LnNvbWUodD0+dCkpLHRoaXMubGlzdGVuVG8ocixcImV4ZWN1dGVcIix0PT57by5leGVjdXRlKHQuc291cmNlLmNvbW1hbmROYW1lKSxvLmVkaXRpbmcudmlldy5mb2N1cygpfSkscn19ZnVuY3Rpb24gR2codCxlLG4saSl7Y29uc3Qgbz10Lm1vZGVsPW5ldyBUZih0Lm1vZGVsKSx7Y29tbWFuZE5hbWU6cixiaW5kSXNPbjpzfT10Lm1vZGVsO2lmKFwic2VwYXJhdG9yXCIhPT10LnR5cGUpe2NvbnN0IHQ9ZS5jb21tYW5kcy5nZXQocik7bi5wdXNoKHQpLG8uc2V0KHtjb21tYW5kTmFtZTpyfSksby5iaW5kKFwiaXNFbmFibGVkXCIpLnRvKHQpLHMmJm8uYmluZChcImlzT25cIikudG8odCxcInZhbHVlXCIpfW8uc2V0KHt3aXRoVGV4dDohMH0pLGkuYWRkKHQpfW4oMTE1KTtuLmQoZSxcImRlZmF1bHRcIixmdW5jdGlvbigpe3JldHVybiBRZ30pO2NsYXNzIFFnIGV4dGVuZHMgJGx7fVFnLmJ1aWx0aW5QbHVnaW5zPVtjbGFzcyBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bWmwsb2QsY2QsQ2QsS2RdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiRXNzZW50aWFsc1wifX0sc3UsY2xhc3MgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkF1dG9mb3JtYXRcIn1hZnRlckluaXQoKXt0aGlzLl9hZGRMaXN0QXV0b2Zvcm1hdHMoKSx0aGlzLl9hZGRCYXNpY1N0eWxlc0F1dG9mb3JtYXRzKCksdGhpcy5fYWRkSGVhZGluZ0F1dG9mb3JtYXRzKCksdGhpcy5fYWRkQmxvY2tRdW90ZUF1dG9mb3JtYXRzKCl9X2FkZExpc3RBdXRvZm9ybWF0cygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHM7dC5nZXQoXCJidWxsZXRlZExpc3RcIikmJm5ldyBjdSh0aGlzLmVkaXRvciwvXlsqLV1cXHMkLyxcImJ1bGxldGVkTGlzdFwiKSx0LmdldChcIm51bWJlcmVkTGlzdFwiKSYmbmV3IGN1KHRoaXMuZWRpdG9yLC9eMVsufCldXFxzJC8sXCJudW1iZXJlZExpc3RcIil9X2FkZEJhc2ljU3R5bGVzQXV0b2Zvcm1hdHMoKXtjb25zdCB0PXRoaXMuZWRpdG9yLmNvbW1hbmRzO2lmKHQuZ2V0KFwiYm9sZFwiKSl7Y29uc3QgdD11dSh0aGlzLmVkaXRvcixcImJvbGRcIik7bmV3IGx1KHRoaXMuZWRpdG9yLC8oXFwqXFwqKShbXipdKykoXFwqXFwqKSQvZyx0KSxuZXcgbHUodGhpcy5lZGl0b3IsLyhfXykoW15fXSspKF9fKSQvZyx0KX1pZih0LmdldChcIml0YWxpY1wiKSl7Y29uc3QgdD11dSh0aGlzLmVkaXRvcixcIml0YWxpY1wiKTtuZXcgbHUodGhpcy5lZGl0b3IsLyg/Ol58W14qXSkoXFwqKShbXipfXSspKFxcKikkL2csdCksbmV3IGx1KHRoaXMuZWRpdG9yLC8oPzpefFteX10pKF8pKFteX10rKShfKSQvZyx0KX1pZih0LmdldChcImNvZGVcIikpe2NvbnN0IHQ9dXUodGhpcy5lZGl0b3IsXCJjb2RlXCIpO25ldyBsdSh0aGlzLmVkaXRvciwvKGApKFteYF0rKShgKSQvZyx0KX19X2FkZEhlYWRpbmdBdXRvZm9ybWF0cygpe2NvbnN0IHQ9dGhpcy5lZGl0b3IuY29tbWFuZHMuZ2V0KFwiaGVhZGluZ1wiKTt0JiZ0Lm1vZGVsRWxlbWVudHMuZmlsdGVyKHQ9PnQubWF0Y2goL15oZWFkaW5nWzEtNl0kLykpLmZvckVhY2goZT0+e2NvbnN0IG49ZVs3XSxpPW5ldyBSZWdFeHAoYF4oI3ske259fSlcXFxccyRgKTtuZXcgY3UodGhpcy5lZGl0b3IsaSwoKT0+e2lmKCF0LmlzRW5hYmxlZClyZXR1cm4hMTt0aGlzLmVkaXRvci5leGVjdXRlKFwiaGVhZGluZ1wiLHt2YWx1ZTplfSl9KX0pfV9hZGRCbG9ja1F1b3RlQXV0b2Zvcm1hdHMoKXt0aGlzLmVkaXRvci5jb21tYW5kcy5nZXQoXCJibG9ja1F1b3RlXCIpJiZuZXcgY3UodGhpcy5lZGl0b3IsL14+XFxzJC8sXCJibG9ja1F1b3RlXCIpfX0sY2xhc3MgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW211LHd1XX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkJvbGRcIn19LGNsYXNzIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltrdSxBdV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJJdGFsaWNcIn19LGNsYXNzIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltTdSxPdV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJCbG9ja1F1b3RlXCJ9fSxjbGFzcyBleHRlbmRzIEdse3N0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiQ0tGaW5kZXJcIn1zdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW3p1LEx1LHN1XX19LGNsYXNzIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltHdSxRaCxnZl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJFYXN5SW1hZ2VcIn19LGNsYXNzIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltDZixWZl19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJIZWFkaW5nXCJ9fSxRaCxjbGFzcyBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bRmZdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VDYXB0aW9uXCJ9fSxjbGFzcyBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bc20sYW1dfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiSW1hZ2VTdHlsZVwifX0sY2xhc3MgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW2NtXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkltYWdlVG9vbGJhclwifWFmdGVySW5pdCgpe2NvbnN0IHQ9dGhpcy5lZGl0b3I7dC5wbHVnaW5zLmdldChjbSkucmVnaXN0ZXIoXCJpbWFnZVwiLHtpdGVtczp0LmNvbmZpZy5nZXQoXCJpbWFnZS50b29sYmFyXCIpfHxbXSxnZXRSZWxhdGVkRWxlbWVudDpoaH0pfX0sZ2YsY2xhc3MgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHJlcXVpcmVzKCl7cmV0dXJuW0NtLExtXX1zdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIkxpbmtcIn19LGNsYXNzIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltzcCxocF19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJMaXN0XCJ9fSxjbGFzcyBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bQXAsU3AsVHAsdmhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiTWVkaWFFbWJlZFwifX0sX2YsY2xhc3MgZXh0ZW5kcyBHbHtzdGF0aWMgZ2V0IHBsdWdpbk5hbWUoKXtyZXR1cm5cIlBhc3RlRnJvbU9mZmljZVwifWluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yO3RoaXMubGlzdGVuVG8odC5wbHVnaW5zLmdldChabCksXCJpbnB1dFRyYW5zZm9ybWF0aW9uXCIsKHQsZSk9Pntjb25zdCBuPWUuZGF0YVRyYW5zZmVyLmdldERhdGEoXCJ0ZXh0L2h0bWxcIik7ITAhPT1lLnBhc3RlRnJvbU9mZmljZVByb2Nlc3NlZCYmZnVuY3Rpb24odCl7cmV0dXJuISghdHx8IXQubWF0Y2goLzxtZXRhXFxzKm5hbWU9XCI/Z2VuZXJhdG9yXCI/XFxzKmNvbnRlbnQ9XCI/bWljcm9zb2Z0XFxzKndvcmRcXHMqXFxkK1wiP1xcLz8+L2dpKSYmIXQubWF0Y2goL3htbG5zOm89XCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tL2dpKSl9KG4pJiYoZS5jb250ZW50PXRoaXMuX25vcm1hbGl6ZVdvcmRJbnB1dChuLGUuZGF0YVRyYW5zZmVyKSxlLnBhc3RlRnJvbU9mZmljZVByb2Nlc3NlZD0hMCl9LHtwcmlvcml0eTpcImhpZ2hcIn0pfV9ub3JtYWxpemVXb3JkSW5wdXQodCxlKXtjb25zdHtib2R5Om4sc3R5bGVzU3RyaW5nOml9PU5wKHQpO3JldHVybiBPcChuLGkpLERwKG4sZS5nZXREYXRhKFwidGV4dC9ydGZcIikpLG59fSxjbGFzcyBleHRlbmRzIEdse3N0YXRpYyBnZXQgcmVxdWlyZXMoKXtyZXR1cm5bTGcsJGcsdmhdfXN0YXRpYyBnZXQgcGx1Z2luTmFtZSgpe3JldHVyblwiVGFibGVcIn19LGNsYXNzIGV4dGVuZHMgR2x7c3RhdGljIGdldCByZXF1aXJlcygpe3JldHVybltjbV19c3RhdGljIGdldCBwbHVnaW5OYW1lKCl7cmV0dXJuXCJUYWJsZVRvb2xiYXJcIn1hZnRlckluaXQoKXtjb25zdCB0PXRoaXMuZWRpdG9yLGU9dC5wbHVnaW5zLmdldChjbSksbj10LmNvbmZpZy5nZXQoXCJ0YWJsZS5jb250ZW50VG9vbGJhclwiKSxpPXQuY29uZmlnLmdldChcInRhYmxlLnRvb2xiYXJcIiksbz10LmNvbmZpZy5nZXQoXCJ0YWJsZS50YWJsZVRvb2xiYXJcIik7aSYmY29uc29sZS53YXJuKFwiYGNvbmZpZy50YWJsZS50b29sYmFyYCBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS4gVXNlIGBjb25maWcudGFibGUuY29udGVudFRvb2xiYXJgIGluc3RlYWQuXCIpLChufHxpKSYmZS5yZWdpc3RlcihcInRhYmxlQ29udGVudFwiLHtpdGVtczpufHxpLGdldFJlbGF0ZWRFbGVtZW50OllwfSksbyYmZS5yZWdpc3RlcihcInRhYmxlXCIse2l0ZW1zOm8sZ2V0UmVsYXRlZEVsZW1lbnQ6V3B9KX19XSxRZy5kZWZhdWx0Q29uZmlnPXt0b29sYmFyOntpdGVtczpbXCJoZWFkaW5nXCIsXCJ8XCIsXCJib2xkXCIsXCJpdGFsaWNcIixcImxpbmtcIixcImJ1bGxldGVkTGlzdFwiLFwibnVtYmVyZWRMaXN0XCIsXCJpbWFnZVVwbG9hZFwiLFwiYmxvY2tRdW90ZVwiLFwiaW5zZXJ0VGFibGVcIixcIm1lZGlhRW1iZWRcIixcInVuZG9cIixcInJlZG9cIl19LGltYWdlOnt0b29sYmFyOltcImltYWdlU3R5bGU6ZnVsbFwiLFwiaW1hZ2VTdHlsZTpzaWRlXCIsXCJ8XCIsXCJpbWFnZVRleHRBbHRlcm5hdGl2ZVwiXX0sdGFibGU6e2NvbnRlbnRUb29sYmFyOltcInRhYmxlQ29sdW1uXCIsXCJ0YWJsZVJvd1wiLFwibWVyZ2VUYWJsZUNlbGxzXCJdfSxsYW5ndWFnZTpcImVuXCJ9fV0pLmRlZmF1bHR9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNrZWRpdG9yLmpzLm1hcCIsIi8qIVxuICAqIENvcmVVSSB2Mi4xLjkgKGh0dHBzOi8vY29yZXVpLmlvKVxuICAqIENvcHlyaWdodCAyMDE5IMWBdWthc3ogSG9sZWN6ZWtcbiAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vY29yZXVpLmlvKVxuICAqL1xuKGZ1bmN0aW9uIChnbG9iYWwsIGZhY3RvcnkpIHtcbiAgdHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnICYmIHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnID8gZmFjdG9yeShleHBvcnRzLCByZXF1aXJlKCdqcXVlcnknKSwgcmVxdWlyZSgncGVyZmVjdC1zY3JvbGxiYXInKSkgOlxuICB0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQgPyBkZWZpbmUoWydleHBvcnRzJywgJ2pxdWVyeScsICdwZXJmZWN0LXNjcm9sbGJhciddLCBmYWN0b3J5KSA6XG4gIChnbG9iYWwgPSBnbG9iYWwgfHwgc2VsZiwgZmFjdG9yeShnbG9iYWwuY29yZXVpID0ge30sIGdsb2JhbC5qUXVlcnksIGdsb2JhbC5QZXJmZWN0U2Nyb2xsYmFyKSk7XG59KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzLCAkLCBQZXJmZWN0U2Nyb2xsYmFyKSB7ICd1c2Ugc3RyaWN0JztcblxuICAkID0gJCAmJiAkLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyAkWydkZWZhdWx0J10gOiAkO1xuICBQZXJmZWN0U2Nyb2xsYmFyID0gUGVyZmVjdFNjcm9sbGJhciAmJiBQZXJmZWN0U2Nyb2xsYmFyLmhhc093blByb3BlcnR5KCdkZWZhdWx0JykgPyBQZXJmZWN0U2Nyb2xsYmFyWydkZWZhdWx0J10gOiBQZXJmZWN0U2Nyb2xsYmFyO1xuXG4gIHZhciBfaXNPYmplY3QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gdHlwZW9mIGl0ID09PSAnb2JqZWN0JyA/IGl0ICE9PSBudWxsIDogdHlwZW9mIGl0ID09PSAnZnVuY3Rpb24nO1xuICB9O1xuXG4gIHZhciB0b1N0cmluZyA9IHt9LnRvU3RyaW5nO1xuXG4gIHZhciBfY29mID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwoaXQpLnNsaWNlKDgsIC0xKTtcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVDb21tb25qc01vZHVsZShmbiwgbW9kdWxlKSB7XG4gIFx0cmV0dXJuIG1vZHVsZSA9IHsgZXhwb3J0czoge30gfSwgZm4obW9kdWxlLCBtb2R1bGUuZXhwb3J0cyksIG1vZHVsZS5leHBvcnRzO1xuICB9XG5cbiAgdmFyIF9jb3JlID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICB2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0geyB2ZXJzaW9uOiAnMi42LjUnIH07XG4gIGlmICh0eXBlb2YgX19lID09ICdudW1iZXInKSBfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gIH0pO1xuICB2YXIgX2NvcmVfMSA9IF9jb3JlLnZlcnNpb247XG5cbiAgdmFyIF9nbG9iYWwgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2lzc3Vlcy84NiNpc3N1ZWNvbW1lbnQtMTE1NzU5MDI4XG4gIHZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICAgID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLW5ldy1mdW5jXG4gICAgOiBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuICBpZiAodHlwZW9mIF9fZyA9PSAnbnVtYmVyJykgX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG4gIH0pO1xuXG4gIHZhciBfc2hhcmVkID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICB2YXIgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXyc7XG4gIHZhciBzdG9yZSA9IF9nbG9iYWxbU0hBUkVEXSB8fCAoX2dsb2JhbFtTSEFSRURdID0ge30pO1xuXG4gIChtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgcmV0dXJuIHN0b3JlW2tleV0gfHwgKHN0b3JlW2tleV0gPSB2YWx1ZSAhPT0gdW5kZWZpbmVkID8gdmFsdWUgOiB7fSk7XG4gIH0pKCd2ZXJzaW9ucycsIFtdKS5wdXNoKHtcbiAgICB2ZXJzaW9uOiBfY29yZS52ZXJzaW9uLFxuICAgIG1vZGU6ICdnbG9iYWwnLFxuICAgIGNvcHlyaWdodDogJ8KpIDIwMTkgRGVuaXMgUHVzaGthcmV2ICh6bG9pcm9jay5ydSknXG4gIH0pO1xuICB9KTtcblxuICB2YXIgaWQgPSAwO1xuICB2YXIgcHggPSBNYXRoLnJhbmRvbSgpO1xuICB2YXIgX3VpZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xuICB9O1xuXG4gIHZhciBfd2tzID0gY3JlYXRlQ29tbW9uanNNb2R1bGUoZnVuY3Rpb24gKG1vZHVsZSkge1xuICB2YXIgc3RvcmUgPSBfc2hhcmVkKCd3a3MnKTtcblxuICB2YXIgU3ltYm9sID0gX2dsb2JhbC5TeW1ib2w7XG4gIHZhciBVU0VfU1lNQk9MID0gdHlwZW9mIFN5bWJvbCA9PSAnZnVuY3Rpb24nO1xuXG4gIHZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gc3RvcmVbbmFtZV0gfHwgKHN0b3JlW25hbWVdID1cbiAgICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogX3VpZCkoJ1N5bWJvbC4nICsgbmFtZSkpO1xuICB9O1xuXG4gICRleHBvcnRzLnN0b3JlID0gc3RvcmU7XG4gIH0pO1xuXG4gIC8vIDcuMi44IElzUmVnRXhwKGFyZ3VtZW50KVxuXG5cbiAgdmFyIE1BVENIID0gX3drcygnbWF0Y2gnKTtcbiAgdmFyIF9pc1JlZ2V4cCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHZhciBpc1JlZ0V4cDtcbiAgICByZXR1cm4gX2lzT2JqZWN0KGl0KSAmJiAoKGlzUmVnRXhwID0gaXRbTUFUQ0hdKSAhPT0gdW5kZWZpbmVkID8gISFpc1JlZ0V4cCA6IF9jb2YoaXQpID09ICdSZWdFeHAnKTtcbiAgfTtcblxuICB2YXIgX2FuT2JqZWN0ID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKCFfaXNPYmplY3QoaXQpKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gICAgcmV0dXJuIGl0O1xuICB9O1xuXG4gIHZhciBfYUZ1bmN0aW9uID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgaWYgKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKSB0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICAgIHJldHVybiBpdDtcbiAgfTtcblxuICAvLyA3LjMuMjAgU3BlY2llc0NvbnN0cnVjdG9yKE8sIGRlZmF1bHRDb25zdHJ1Y3RvcilcblxuXG4gIHZhciBTUEVDSUVTID0gX3drcygnc3BlY2llcycpO1xuICB2YXIgX3NwZWNpZXNDb25zdHJ1Y3RvciA9IGZ1bmN0aW9uIChPLCBEKSB7XG4gICAgdmFyIEMgPSBfYW5PYmplY3QoTykuY29uc3RydWN0b3I7XG4gICAgdmFyIFM7XG4gICAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IF9hbk9iamVjdChDKVtTUEVDSUVTXSkgPT0gdW5kZWZpbmVkID8gRCA6IF9hRnVuY3Rpb24oUyk7XG4gIH07XG5cbiAgLy8gNy4xLjQgVG9JbnRlZ2VyXG4gIHZhciBjZWlsID0gTWF0aC5jZWlsO1xuICB2YXIgZmxvb3IgPSBNYXRoLmZsb29yO1xuICB2YXIgX3RvSW50ZWdlciA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xuICB9O1xuXG4gIC8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG4gIHZhciBfZGVmaW5lZCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGlmIChpdCA9PSB1bmRlZmluZWQpIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgICByZXR1cm4gaXQ7XG4gIH07XG5cbiAgLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4gIC8vIGZhbHNlIC0+IFN0cmluZyNjb2RlUG9pbnRBdFxuICB2YXIgX3N0cmluZ0F0ID0gZnVuY3Rpb24gKFRPX1NUUklORykge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGhhdCwgcG9zKSB7XG4gICAgICB2YXIgcyA9IFN0cmluZyhfZGVmaW5lZCh0aGF0KSk7XG4gICAgICB2YXIgaSA9IF90b0ludGVnZXIocG9zKTtcbiAgICAgIHZhciBsID0gcy5sZW5ndGg7XG4gICAgICB2YXIgYSwgYjtcbiAgICAgIGlmIChpIDwgMCB8fCBpID49IGwpIHJldHVybiBUT19TVFJJTkcgPyAnJyA6IHVuZGVmaW5lZDtcbiAgICAgIGEgPSBzLmNoYXJDb2RlQXQoaSk7XG4gICAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgICA/IFRPX1NUUklORyA/IHMuY2hhckF0KGkpIDogYVxuICAgICAgICA6IFRPX1NUUklORyA/IHMuc2xpY2UoaSwgaSArIDIpIDogKGEgLSAweGQ4MDAgPDwgMTApICsgKGIgLSAweGRjMDApICsgMHgxMDAwMDtcbiAgICB9O1xuICB9O1xuXG4gIHZhciBhdCA9IF9zdHJpbmdBdCh0cnVlKTtcblxuICAgLy8gYEFkdmFuY2VTdHJpbmdJbmRleGAgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWFkdmFuY2VzdHJpbmdpbmRleFxuICB2YXIgX2FkdmFuY2VTdHJpbmdJbmRleCA9IGZ1bmN0aW9uIChTLCBpbmRleCwgdW5pY29kZSkge1xuICAgIHJldHVybiBpbmRleCArICh1bmljb2RlID8gYXQoUywgaW5kZXgpLmxlbmd0aCA6IDEpO1xuICB9O1xuXG4gIC8vIDcuMS4xNSBUb0xlbmd0aFxuXG4gIHZhciBtaW4gPSBNYXRoLm1pbjtcbiAgdmFyIF90b0xlbmd0aCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpdCA+IDAgPyBtaW4oX3RvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxuICB9O1xuXG4gIC8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG5cbiAgdmFyIFRBRyA9IF93a3MoJ3RvU3RyaW5nVGFnJyk7XG4gIC8vIEVTMyB3cm9uZyBoZXJlXG4gIHZhciBBUkcgPSBfY29mKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA9PSAnQXJndW1lbnRzJztcblxuICAvLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxuICB2YXIgdHJ5R2V0ID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGl0W2tleV07XG4gICAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gIH07XG5cbiAgdmFyIF9jbGFzc29mID0gZnVuY3Rpb24gKGl0KSB7XG4gICAgdmFyIE8sIFQsIEI7XG4gICAgcmV0dXJuIGl0ID09PSB1bmRlZmluZWQgPyAnVW5kZWZpbmVkJyA6IGl0ID09PSBudWxsID8gJ051bGwnXG4gICAgICAvLyBAQHRvU3RyaW5nVGFnIGNhc2VcbiAgICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAgIC8vIGJ1aWx0aW5UYWcgY2FzZVxuICAgICAgOiBBUkcgPyBfY29mKE8pXG4gICAgICAvLyBFUzMgYXJndW1lbnRzIGZhbGxiYWNrXG4gICAgICA6IChCID0gX2NvZihPKSkgPT0gJ09iamVjdCcgJiYgdHlwZW9mIE8uY2FsbGVlID09ICdmdW5jdGlvbicgPyAnQXJndW1lbnRzJyA6IEI7XG4gIH07XG5cbiAgdmFyIGJ1aWx0aW5FeGVjID0gUmVnRXhwLnByb3RvdHlwZS5leGVjO1xuXG4gICAvLyBgUmVnRXhwRXhlY2AgYWJzdHJhY3Qgb3BlcmF0aW9uXG4gIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLXJlZ2V4cGV4ZWNcbiAgdmFyIF9yZWdleHBFeGVjQWJzdHJhY3QgPSBmdW5jdGlvbiAoUiwgUykge1xuICAgIHZhciBleGVjID0gUi5leGVjO1xuICAgIGlmICh0eXBlb2YgZXhlYyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHJlc3VsdCA9IGV4ZWMuY2FsbChSLCBTKTtcbiAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAnb2JqZWN0Jykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdSZWdFeHAgZXhlYyBtZXRob2QgcmV0dXJuZWQgc29tZXRoaW5nIG90aGVyIHRoYW4gYW4gT2JqZWN0IG9yIG51bGwnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlmIChfY2xhc3NvZihSKSAhPT0gJ1JlZ0V4cCcpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1JlZ0V4cCNleGVjIGNhbGxlZCBvbiBpbmNvbXBhdGlibGUgcmVjZWl2ZXInKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWx0aW5FeGVjLmNhbGwoUiwgUyk7XG4gIH07XG5cbiAgLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3NcblxuICB2YXIgX2ZsYWdzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGF0ID0gX2FuT2JqZWN0KHRoaXMpO1xuICAgIHZhciByZXN1bHQgPSAnJztcbiAgICBpZiAodGhhdC5nbG9iYWwpIHJlc3VsdCArPSAnZyc7XG4gICAgaWYgKHRoYXQuaWdub3JlQ2FzZSkgcmVzdWx0ICs9ICdpJztcbiAgICBpZiAodGhhdC5tdWx0aWxpbmUpIHJlc3VsdCArPSAnbSc7XG4gICAgaWYgKHRoYXQudW5pY29kZSkgcmVzdWx0ICs9ICd1JztcbiAgICBpZiAodGhhdC5zdGlja3kpIHJlc3VsdCArPSAneSc7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICB2YXIgbmF0aXZlRXhlYyA9IFJlZ0V4cC5wcm90b3R5cGUuZXhlYztcbiAgLy8gVGhpcyBhbHdheXMgcmVmZXJzIHRvIHRoZSBuYXRpdmUgaW1wbGVtZW50YXRpb24sIGJlY2F1c2UgdGhlXG4gIC8vIFN0cmluZyNyZXBsYWNlIHBvbHlmaWxsIHVzZXMgLi9maXgtcmVnZXhwLXdlbGwta25vd24tc3ltYm9sLWxvZ2ljLmpzLFxuICAvLyB3aGljaCBsb2FkcyB0aGlzIGZpbGUgYmVmb3JlIHBhdGNoaW5nIHRoZSBtZXRob2QuXG4gIHZhciBuYXRpdmVSZXBsYWNlID0gU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlO1xuXG4gIHZhciBwYXRjaGVkRXhlYyA9IG5hdGl2ZUV4ZWM7XG5cbiAgdmFyIExBU1RfSU5ERVggPSAnbGFzdEluZGV4JztcblxuICB2YXIgVVBEQVRFU19MQVNUX0lOREVYX1dST05HID0gKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmUxID0gL2EvLFxuICAgICAgICByZTIgPSAvYiovZztcbiAgICBuYXRpdmVFeGVjLmNhbGwocmUxLCAnYScpO1xuICAgIG5hdGl2ZUV4ZWMuY2FsbChyZTIsICdhJyk7XG4gICAgcmV0dXJuIHJlMVtMQVNUX0lOREVYXSAhPT0gMCB8fCByZTJbTEFTVF9JTkRFWF0gIT09IDA7XG4gIH0pKCk7XG5cbiAgLy8gbm9ucGFydGljaXBhdGluZyBjYXB0dXJpbmcgZ3JvdXAsIGNvcGllZCBmcm9tIGVzNS1zaGltJ3MgU3RyaW5nI3NwbGl0IHBhdGNoLlxuICB2YXIgTlBDR19JTkNMVURFRCA9IC8oKT8/Ly5leGVjKCcnKVsxXSAhPT0gdW5kZWZpbmVkO1xuXG4gIHZhciBQQVRDSCA9IFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyB8fCBOUENHX0lOQ0xVREVEO1xuXG4gIGlmIChQQVRDSCkge1xuICAgIHBhdGNoZWRFeGVjID0gZnVuY3Rpb24gZXhlYyhzdHIpIHtcbiAgICAgIHZhciByZSA9IHRoaXM7XG4gICAgICB2YXIgbGFzdEluZGV4LCByZUNvcHksIG1hdGNoLCBpO1xuXG4gICAgICBpZiAoTlBDR19JTkNMVURFRCkge1xuICAgICAgICByZUNvcHkgPSBuZXcgUmVnRXhwKCdeJyArIHJlLnNvdXJjZSArICckKD8hXFxcXHMpJywgX2ZsYWdzLmNhbGwocmUpKTtcbiAgICAgIH1cbiAgICAgIGlmIChVUERBVEVTX0xBU1RfSU5ERVhfV1JPTkcpIGxhc3RJbmRleCA9IHJlW0xBU1RfSU5ERVhdO1xuXG4gICAgICBtYXRjaCA9IG5hdGl2ZUV4ZWMuY2FsbChyZSwgc3RyKTtcblxuICAgICAgaWYgKFVQREFURVNfTEFTVF9JTkRFWF9XUk9ORyAmJiBtYXRjaCkge1xuICAgICAgICByZVtMQVNUX0lOREVYXSA9IHJlLmdsb2JhbCA/IG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoIDogbGFzdEluZGV4O1xuICAgICAgfVxuICAgICAgaWYgKE5QQ0dfSU5DTFVERUQgJiYgbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID4gMSkge1xuICAgICAgICAvLyBGaXggYnJvd3NlcnMgd2hvc2UgYGV4ZWNgIG1ldGhvZHMgZG9uJ3QgY29uc2lzdGVudGx5IHJldHVybiBgdW5kZWZpbmVkYFxuICAgICAgICAvLyBmb3IgTlBDRywgbGlrZSBJRTguIE5PVEU6IFRoaXMgZG9lc24nIHdvcmsgZm9yIC8oLj8pPy9cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWxvb3AtZnVuY1xuICAgICAgICBuYXRpdmVSZXBsYWNlLmNhbGwobWF0Y2hbMF0sIHJlQ29weSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGZvciAoaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoIC0gMjsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldID09PSB1bmRlZmluZWQpIG1hdGNoW2ldID0gdW5kZWZpbmVkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtYXRjaDtcbiAgICB9O1xuICB9XG5cbiAgdmFyIF9yZWdleHBFeGVjID0gcGF0Y2hlZEV4ZWM7XG5cbiAgdmFyIF9mYWlscyA9IGZ1bmN0aW9uIChleGVjKSB7XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxuICB2YXIgX2Rlc2NyaXB0b3JzID0gIV9mYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSwgJ2EnLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gNzsgfSB9KS5hICE9IDc7XG4gIH0pO1xuXG4gIHZhciBkb2N1bWVudCQxID0gX2dsb2JhbC5kb2N1bWVudDtcbiAgLy8gdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCcgaW4gb2xkIElFXG4gIHZhciBpcyA9IF9pc09iamVjdChkb2N1bWVudCQxKSAmJiBfaXNPYmplY3QoZG9jdW1lbnQkMS5jcmVhdGVFbGVtZW50KTtcbiAgdmFyIF9kb21DcmVhdGUgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXMgPyBkb2N1bWVudCQxLmNyZWF0ZUVsZW1lbnQoaXQpIDoge307XG4gIH07XG5cbiAgdmFyIF9pZThEb21EZWZpbmUgPSAhX2Rlc2NyaXB0b3JzICYmICFfZmFpbHMoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoX2RvbUNyZWF0ZSgnZGl2JyksICdhJywgeyBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIDc7IH0gfSkuYSAhPSA3O1xuICB9KTtcblxuICAvLyA3LjEuMSBUb1ByaW1pdGl2ZShpbnB1dCBbLCBQcmVmZXJyZWRUeXBlXSlcblxuICAvLyBpbnN0ZWFkIG9mIHRoZSBFUzYgc3BlYyB2ZXJzaW9uLCB3ZSBkaWRuJ3QgaW1wbGVtZW50IEBAdG9QcmltaXRpdmUgY2FzZVxuICAvLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xuICB2YXIgX3RvUHJpbWl0aXZlID0gZnVuY3Rpb24gKGl0LCBTKSB7XG4gICAgaWYgKCFfaXNPYmplY3QoaXQpKSByZXR1cm4gaXQ7XG4gICAgdmFyIGZuLCB2YWw7XG4gICAgaWYgKFMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFfaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICAgIGlmICh0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhX2lzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSkgcmV0dXJuIHZhbDtcbiAgICBpZiAoIVMgJiYgdHlwZW9mIChmbiA9IGl0LnRvU3RyaW5nKSA9PSAnZnVuY3Rpb24nICYmICFfaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKSByZXR1cm4gdmFsO1xuICAgIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbiAgfTtcblxuICB2YXIgZFAgPSBPYmplY3QuZGVmaW5lUHJvcGVydHk7XG5cbiAgdmFyIGYgPSBfZGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydHkgOiBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKSB7XG4gICAgX2FuT2JqZWN0KE8pO1xuICAgIFAgPSBfdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gICAgX2FuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICAgIGlmIChfaWU4RG9tRGVmaW5lKSB0cnkge1xuICAgICAgcmV0dXJuIGRQKE8sIFAsIEF0dHJpYnV0ZXMpO1xuICAgIH0gY2F0Y2ggKGUpIHsgLyogZW1wdHkgKi8gfVxuICAgIGlmICgnZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpIHRocm93IFR5cGVFcnJvcignQWNjZXNzb3JzIG5vdCBzdXBwb3J0ZWQhJyk7XG4gICAgaWYgKCd2YWx1ZScgaW4gQXR0cmlidXRlcykgT1tQXSA9IEF0dHJpYnV0ZXMudmFsdWU7XG4gICAgcmV0dXJuIE87XG4gIH07XG5cbiAgdmFyIF9vYmplY3REcCA9IHtcbiAgXHRmOiBmXG4gIH07XG5cbiAgdmFyIF9wcm9wZXJ0eURlc2MgPSBmdW5jdGlvbiAoYml0bWFwLCB2YWx1ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBlbnVtZXJhYmxlOiAhKGJpdG1hcCAmIDEpLFxuICAgICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgICAgd3JpdGFibGU6ICEoYml0bWFwICYgNCksXG4gICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xuICB9O1xuXG4gIHZhciBfaGlkZSA9IF9kZXNjcmlwdG9ycyA/IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICByZXR1cm4gX29iamVjdERwLmYob2JqZWN0LCBrZXksIF9wcm9wZXJ0eURlc2MoMSwgdmFsdWUpKTtcbiAgfSA6IGZ1bmN0aW9uIChvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH07XG5cbiAgdmFyIGhhc093blByb3BlcnR5ID0ge30uaGFzT3duUHJvcGVydHk7XG4gIHZhciBfaGFzID0gZnVuY3Rpb24gKGl0LCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChpdCwga2V5KTtcbiAgfTtcblxuICB2YXIgX2Z1bmN0aW9uVG9TdHJpbmcgPSBfc2hhcmVkKCduYXRpdmUtZnVuY3Rpb24tdG8tc3RyaW5nJywgRnVuY3Rpb24udG9TdHJpbmcpO1xuXG4gIHZhciBfcmVkZWZpbmUgPSBjcmVhdGVDb21tb25qc01vZHVsZShmdW5jdGlvbiAobW9kdWxlKSB7XG4gIHZhciBTUkMgPSBfdWlkKCdzcmMnKTtcblxuICB2YXIgVE9fU1RSSU5HID0gJ3RvU3RyaW5nJztcbiAgdmFyIFRQTCA9ICgnJyArIF9mdW5jdGlvblRvU3RyaW5nKS5zcGxpdChUT19TVFJJTkcpO1xuXG4gIF9jb3JlLmluc3BlY3RTb3VyY2UgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gX2Z1bmN0aW9uVG9TdHJpbmcuY2FsbChpdCk7XG4gIH07XG5cbiAgKG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKE8sIGtleSwgdmFsLCBzYWZlKSB7XG4gICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsID09ICdmdW5jdGlvbic7XG4gICAgaWYgKGlzRnVuY3Rpb24pIF9oYXModmFsLCAnbmFtZScpIHx8IF9oaWRlKHZhbCwgJ25hbWUnLCBrZXkpO1xuICAgIGlmIChPW2tleV0gPT09IHZhbCkgcmV0dXJuO1xuICAgIGlmIChpc0Z1bmN0aW9uKSBfaGFzKHZhbCwgU1JDKSB8fCBfaGlkZSh2YWwsIFNSQywgT1trZXldID8gJycgKyBPW2tleV0gOiBUUEwuam9pbihTdHJpbmcoa2V5KSkpO1xuICAgIGlmIChPID09PSBfZ2xvYmFsKSB7XG4gICAgICBPW2tleV0gPSB2YWw7XG4gICAgfSBlbHNlIGlmICghc2FmZSkge1xuICAgICAgZGVsZXRlIE9ba2V5XTtcbiAgICAgIF9oaWRlKE8sIGtleSwgdmFsKTtcbiAgICB9IGVsc2UgaWYgKE9ba2V5XSkge1xuICAgICAgT1trZXldID0gdmFsO1xuICAgIH0gZWxzZSB7XG4gICAgICBfaGlkZShPLCBrZXksIHZhbCk7XG4gICAgfVxuICAvLyBhZGQgZmFrZSBGdW5jdGlvbiN0b1N0cmluZyBmb3IgY29ycmVjdCB3b3JrIHdyYXBwZWQgbWV0aG9kcyAvIGNvbnN0cnVjdG9ycyB3aXRoIG1ldGhvZHMgbGlrZSBMb0Rhc2ggaXNOYXRpdmVcbiAgfSkoRnVuY3Rpb24ucHJvdG90eXBlLCBUT19TVFJJTkcsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0eXBlb2YgdGhpcyA9PSAnZnVuY3Rpb24nICYmIHRoaXNbU1JDXSB8fCBfZnVuY3Rpb25Ub1N0cmluZy5jYWxsKHRoaXMpO1xuICB9KTtcbiAgfSk7XG5cbiAgLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG5cbiAgdmFyIF9jdHggPSBmdW5jdGlvbiAoZm4sIHRoYXQsIGxlbmd0aCkge1xuICAgIF9hRnVuY3Rpb24oZm4pO1xuICAgIGlmICh0aGF0ID09PSB1bmRlZmluZWQpIHJldHVybiBmbjtcbiAgICBzd2l0Y2ggKGxlbmd0aCkge1xuICAgICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24gKGEpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSk7XG4gICAgICB9O1xuICAgICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgICB9O1xuICAgICAgY2FzZSAzOiByZXR1cm4gZnVuY3Rpb24gKGEsIGIsIGMpIHtcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC8qIC4uLmFyZ3MgKi8pIHtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH07XG5cbiAgdmFyIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG4gIHZhciAkZXhwb3J0ID0gZnVuY3Rpb24gKHR5cGUsIG5hbWUsIHNvdXJjZSkge1xuICAgIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GO1xuICAgIHZhciBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HO1xuICAgIHZhciBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TO1xuICAgIHZhciBJU19QUk9UTyA9IHR5cGUgJiAkZXhwb3J0LlA7XG4gICAgdmFyIElTX0JJTkQgPSB0eXBlICYgJGV4cG9ydC5CO1xuICAgIHZhciB0YXJnZXQgPSBJU19HTE9CQUwgPyBfZ2xvYmFsIDogSVNfU1RBVElDID8gX2dsb2JhbFtuYW1lXSB8fCAoX2dsb2JhbFtuYW1lXSA9IHt9KSA6IChfZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdO1xuICAgIHZhciBleHBvcnRzID0gSVNfR0xPQkFMID8gX2NvcmUgOiBfY29yZVtuYW1lXSB8fCAoX2NvcmVbbmFtZV0gPSB7fSk7XG4gICAgdmFyIGV4cFByb3RvID0gZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSk7XG4gICAgdmFyIGtleSwgb3duLCBvdXQsIGV4cDtcbiAgICBpZiAoSVNfR0xPQkFMKSBzb3VyY2UgPSBuYW1lO1xuICAgIGZvciAoa2V5IGluIHNvdXJjZSkge1xuICAgICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiB0YXJnZXRba2V5XSAhPT0gdW5kZWZpbmVkO1xuICAgICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICAgIG91dCA9IChvd24gPyB0YXJnZXQgOiBzb3VyY2UpW2tleV07XG4gICAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgICAgZXhwID0gSVNfQklORCAmJiBvd24gPyBfY3R4KG91dCwgX2dsb2JhbCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBfY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgICAvLyBleHRlbmQgZ2xvYmFsXG4gICAgICBpZiAodGFyZ2V0KSBfcmVkZWZpbmUodGFyZ2V0LCBrZXksIG91dCwgdHlwZSAmICRleHBvcnQuVSk7XG4gICAgICAvLyBleHBvcnRcbiAgICAgIGlmIChleHBvcnRzW2tleV0gIT0gb3V0KSBfaGlkZShleHBvcnRzLCBrZXksIGV4cCk7XG4gICAgICBpZiAoSVNfUFJPVE8gJiYgZXhwUHJvdG9ba2V5XSAhPSBvdXQpIGV4cFByb3RvW2tleV0gPSBvdXQ7XG4gICAgfVxuICB9O1xuICBfZ2xvYmFsLmNvcmUgPSBfY29yZTtcbiAgLy8gdHlwZSBiaXRtYXBcbiAgJGV4cG9ydC5GID0gMTsgICAvLyBmb3JjZWRcbiAgJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiAgJGV4cG9ydC5TID0gNDsgICAvLyBzdGF0aWNcbiAgJGV4cG9ydC5QID0gODsgICAvLyBwcm90b1xuICAkZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiAgJGV4cG9ydC5XID0gMzI7ICAvLyB3cmFwXG4gICRleHBvcnQuVSA9IDY0OyAgLy8gc2FmZVxuICAkZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWBcbiAgdmFyIF9leHBvcnQgPSAkZXhwb3J0O1xuXG4gIF9leHBvcnQoe1xuICAgIHRhcmdldDogJ1JlZ0V4cCcsXG4gICAgcHJvdG86IHRydWUsXG4gICAgZm9yY2VkOiBfcmVnZXhwRXhlYyAhPT0gLy4vLmV4ZWNcbiAgfSwge1xuICAgIGV4ZWM6IF9yZWdleHBFeGVjXG4gIH0pO1xuXG4gIHZhciBTUEVDSUVTJDEgPSBfd2tzKCdzcGVjaWVzJyk7XG5cbiAgdmFyIFJFUExBQ0VfU1VQUE9SVFNfTkFNRURfR1JPVVBTID0gIV9mYWlscyhmdW5jdGlvbiAoKSB7XG4gICAgLy8gI3JlcGxhY2UgbmVlZHMgYnVpbHQtaW4gc3VwcG9ydCBmb3IgbmFtZWQgZ3JvdXBzLlxuICAgIC8vICNtYXRjaCB3b3JrcyBmaW5lIGJlY2F1c2UgaXQganVzdCByZXR1cm4gdGhlIGV4ZWMgcmVzdWx0cywgZXZlbiBpZiBpdCBoYXNcbiAgICAvLyBhIFwiZ3JvcHNcIiBwcm9wZXJ0eS5cbiAgICB2YXIgcmUgPSAvLi87XG4gICAgcmUuZXhlYyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHJlc3VsdC5ncm91cHMgPSB7IGE6ICc3JyB9O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xuICAgIHJldHVybiAnJy5yZXBsYWNlKHJlLCAnJDxhPicpICE9PSAnNyc7XG4gIH0pO1xuXG4gIHZhciBTUExJVF9XT1JLU19XSVRIX09WRVJXUklUVEVOX0VYRUMgPSAoZnVuY3Rpb24gKCkge1xuICAgIC8vIENocm9tZSA1MSBoYXMgYSBidWdneSBcInNwbGl0XCIgaW1wbGVtZW50YXRpb24gd2hlbiBSZWdFeHAjZXhlYyAhPT0gbmF0aXZlRXhlY1xuICAgIHZhciByZSA9IC8oPzopLztcbiAgICB2YXIgb3JpZ2luYWxFeGVjID0gcmUuZXhlYztcbiAgICByZS5leGVjID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gb3JpZ2luYWxFeGVjLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7IH07XG4gICAgdmFyIHJlc3VsdCA9ICdhYicuc3BsaXQocmUpO1xuICAgIHJldHVybiByZXN1bHQubGVuZ3RoID09PSAyICYmIHJlc3VsdFswXSA9PT0gJ2EnICYmIHJlc3VsdFsxXSA9PT0gJ2InO1xuICB9KSgpO1xuXG4gIHZhciBfZml4UmVXa3MgPSBmdW5jdGlvbiAoS0VZLCBsZW5ndGgsIGV4ZWMpIHtcbiAgICB2YXIgU1lNQk9MID0gX3drcyhLRVkpO1xuXG4gICAgdmFyIERFTEVHQVRFU19UT19TWU1CT0wgPSAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFN0cmluZyBtZXRob2RzIGNhbGwgc3ltYm9sLW5hbWVkIFJlZ0VwIG1ldGhvZHNcbiAgICAgIHZhciBPID0ge307XG4gICAgICBPW1NZTUJPTF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiA3OyB9O1xuICAgICAgcmV0dXJuICcnW0tFWV0oTykgIT0gNztcbiAgICB9KTtcblxuICAgIHZhciBERUxFR0FURVNfVE9fRVhFQyA9IERFTEVHQVRFU19UT19TWU1CT0wgPyAhX2ZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFN5bWJvbC1uYW1lZCBSZWdFeHAgbWV0aG9kcyBjYWxsIC5leGVjXG4gICAgICB2YXIgZXhlY0NhbGxlZCA9IGZhbHNlO1xuICAgICAgdmFyIHJlID0gL2EvO1xuICAgICAgcmUuZXhlYyA9IGZ1bmN0aW9uICgpIHsgZXhlY0NhbGxlZCA9IHRydWU7IHJldHVybiBudWxsOyB9O1xuICAgICAgaWYgKEtFWSA9PT0gJ3NwbGl0Jykge1xuICAgICAgICAvLyBSZWdFeHBbQEBzcGxpdF0gZG9lc24ndCBjYWxsIHRoZSByZWdleCdzIGV4ZWMgbWV0aG9kLCBidXQgZmlyc3QgY3JlYXRlc1xuICAgICAgICAvLyBhIG5ldyBvbmUuIFdlIG5lZWQgdG8gcmV0dXJuIHRoZSBwYXRjaGVkIHJlZ2V4IHdoZW4gY3JlYXRpbmcgdGhlIG5ldyBvbmUuXG4gICAgICAgIHJlLmNvbnN0cnVjdG9yID0ge307XG4gICAgICAgIHJlLmNvbnN0cnVjdG9yW1NQRUNJRVMkMV0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiByZTsgfTtcbiAgICAgIH1cbiAgICAgIHJlW1NZTUJPTF0oJycpO1xuICAgICAgcmV0dXJuICFleGVjQ2FsbGVkO1xuICAgIH0pIDogdW5kZWZpbmVkO1xuXG4gICAgaWYgKFxuICAgICAgIURFTEVHQVRFU19UT19TWU1CT0wgfHxcbiAgICAgICFERUxFR0FURVNfVE9fRVhFQyB8fFxuICAgICAgKEtFWSA9PT0gJ3JlcGxhY2UnICYmICFSRVBMQUNFX1NVUFBPUlRTX05BTUVEX0dST1VQUykgfHxcbiAgICAgIChLRVkgPT09ICdzcGxpdCcgJiYgIVNQTElUX1dPUktTX1dJVEhfT1ZFUldSSVRURU5fRVhFQylcbiAgICApIHtcbiAgICAgIHZhciBuYXRpdmVSZWdFeHBNZXRob2QgPSAvLi9bU1lNQk9MXTtcbiAgICAgIHZhciBmbnMgPSBleGVjKFxuICAgICAgICBfZGVmaW5lZCxcbiAgICAgICAgU1lNQk9MLFxuICAgICAgICAnJ1tLRVldLFxuICAgICAgICBmdW5jdGlvbiBtYXliZUNhbGxOYXRpdmUobmF0aXZlTWV0aG9kLCByZWdleHAsIHN0ciwgYXJnMiwgZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgICAgICBpZiAocmVnZXhwLmV4ZWMgPT09IF9yZWdleHBFeGVjKSB7XG4gICAgICAgICAgICBpZiAoREVMRUdBVEVTX1RPX1NZTUJPTCAmJiAhZm9yY2VTdHJpbmdNZXRob2QpIHtcbiAgICAgICAgICAgICAgLy8gVGhlIG5hdGl2ZSBTdHJpbmcgbWV0aG9kIGFscmVhZHkgZGVsZWdhdGVzIHRvIEBAbWV0aG9kICh0aGlzXG4gICAgICAgICAgICAgIC8vIHBvbHlmaWxsZWQgZnVuY3Rpb24pLCBsZWFzaW5nIHRvIGluZmluaXRlIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgLy8gV2UgYXZvaWQgaXQgYnkgZGlyZWN0bHkgY2FsbGluZyB0aGUgbmF0aXZlIEBAbWV0aG9kIG1ldGhvZC5cbiAgICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG5hdGl2ZVJlZ0V4cE1ldGhvZC5jYWxsKHJlZ2V4cCwgc3RyLCBhcmcyKSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IG5hdGl2ZU1ldGhvZC5jYWxsKHN0ciwgcmVnZXhwLCBhcmcyKSB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdmFyIHN0cmZuID0gZm5zWzBdO1xuICAgICAgdmFyIHJ4Zm4gPSBmbnNbMV07XG5cbiAgICAgIF9yZWRlZmluZShTdHJpbmcucHJvdG90eXBlLCBLRVksIHN0cmZuKTtcbiAgICAgIF9oaWRlKFJlZ0V4cC5wcm90b3R5cGUsIFNZTUJPTCwgbGVuZ3RoID09IDJcbiAgICAgICAgLy8gMjEuMi41LjggUmVnRXhwLnByb3RvdHlwZVtAQHJlcGxhY2VdKHN0cmluZywgcmVwbGFjZVZhbHVlKVxuICAgICAgICAvLyAyMS4yLjUuMTEgUmVnRXhwLnByb3RvdHlwZVtAQHNwbGl0XShzdHJpbmcsIGxpbWl0KVxuICAgICAgICA/IGZ1bmN0aW9uIChzdHJpbmcsIGFyZykgeyByZXR1cm4gcnhmbi5jYWxsKHN0cmluZywgdGhpcywgYXJnKTsgfVxuICAgICAgICAvLyAyMS4yLjUuNiBSZWdFeHAucHJvdG90eXBlW0BAbWF0Y2hdKHN0cmluZylcbiAgICAgICAgLy8gMjEuMi41LjkgUmVnRXhwLnByb3RvdHlwZVtAQHNlYXJjaF0oc3RyaW5nKVxuICAgICAgICA6IGZ1bmN0aW9uIChzdHJpbmcpIHsgcmV0dXJuIHJ4Zm4uY2FsbChzdHJpbmcsIHRoaXMpOyB9XG4gICAgICApO1xuICAgIH1cbiAgfTtcblxuICB2YXIgJG1pbiA9IE1hdGgubWluO1xuICB2YXIgJHB1c2ggPSBbXS5wdXNoO1xuICB2YXIgJFNQTElUID0gJ3NwbGl0JztcbiAgdmFyIExFTkdUSCA9ICdsZW5ndGgnO1xuICB2YXIgTEFTVF9JTkRFWCQxID0gJ2xhc3RJbmRleCc7XG4gIHZhciBNQVhfVUlOVDMyID0gMHhmZmZmZmZmZjtcblxuICAvLyBiYWJlbC1taW5pZnkgdHJhbnNwaWxlcyBSZWdFeHAoJ3gnLCAneScpIC0+IC94L3kgYW5kIGl0IGNhdXNlcyBTeW50YXhFcnJvclxuICB2YXIgU1VQUE9SVFNfWSA9ICFfZmFpbHMoZnVuY3Rpb24gKCkgeyB9KTtcblxuICAvLyBAQHNwbGl0IGxvZ2ljXG4gIF9maXhSZVdrcygnc3BsaXQnLCAyLCBmdW5jdGlvbiAoZGVmaW5lZCwgU1BMSVQsICRzcGxpdCwgbWF5YmVDYWxsTmF0aXZlKSB7XG4gICAgdmFyIGludGVybmFsU3BsaXQ7XG4gICAgaWYgKFxuICAgICAgJ2FiYmMnWyRTUExJVF0oLyhiKSovKVsxXSA9PSAnYycgfHxcbiAgICAgICd0ZXN0J1skU1BMSVRdKC8oPzopLywgLTEpW0xFTkdUSF0gIT0gNCB8fFxuICAgICAgJ2FiJ1skU1BMSVRdKC8oPzphYikqLylbTEVOR1RIXSAhPSAyIHx8XG4gICAgICAnLidbJFNQTElUXSgvKC4/KSguPykvKVtMRU5HVEhdICE9IDQgfHxcbiAgICAgICcuJ1skU1BMSVRdKC8oKSgpLylbTEVOR1RIXSA+IDEgfHxcbiAgICAgICcnWyRTUExJVF0oLy4/LylbTEVOR1RIXVxuICAgICkge1xuICAgICAgLy8gYmFzZWQgb24gZXM1LXNoaW0gaW1wbGVtZW50YXRpb24sIG5lZWQgdG8gcmV3b3JrIGl0XG4gICAgICBpbnRlcm5hbFNwbGl0ID0gZnVuY3Rpb24gKHNlcGFyYXRvciwgbGltaXQpIHtcbiAgICAgICAgdmFyIHN0cmluZyA9IFN0cmluZyh0aGlzKTtcbiAgICAgICAgaWYgKHNlcGFyYXRvciA9PT0gdW5kZWZpbmVkICYmIGxpbWl0ID09PSAwKSByZXR1cm4gW107XG4gICAgICAgIC8vIElmIGBzZXBhcmF0b3JgIGlzIG5vdCBhIHJlZ2V4LCB1c2UgbmF0aXZlIHNwbGl0XG4gICAgICAgIGlmICghX2lzUmVnZXhwKHNlcGFyYXRvcikpIHJldHVybiAkc3BsaXQuY2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpO1xuICAgICAgICB2YXIgb3V0cHV0ID0gW107XG4gICAgICAgIHZhciBmbGFncyA9IChzZXBhcmF0b3IuaWdub3JlQ2FzZSA/ICdpJyA6ICcnKSArXG4gICAgICAgICAgICAgICAgICAgIChzZXBhcmF0b3IubXVsdGlsaW5lID8gJ20nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci51bmljb2RlID8gJ3UnIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHNlcGFyYXRvci5zdGlja3kgPyAneScgOiAnJyk7XG4gICAgICAgIHZhciBsYXN0TGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIHNwbGl0TGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX1VJTlQzMiA6IGxpbWl0ID4+PiAwO1xuICAgICAgICAvLyBNYWtlIGBnbG9iYWxgIGFuZCBhdm9pZCBgbGFzdEluZGV4YCBpc3N1ZXMgYnkgd29ya2luZyB3aXRoIGEgY29weVxuICAgICAgICB2YXIgc2VwYXJhdG9yQ29weSA9IG5ldyBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgZmxhZ3MgKyAnZycpO1xuICAgICAgICB2YXIgbWF0Y2gsIGxhc3RJbmRleCwgbGFzdExlbmd0aDtcbiAgICAgICAgd2hpbGUgKG1hdGNoID0gX3JlZ2V4cEV4ZWMuY2FsbChzZXBhcmF0b3JDb3B5LCBzdHJpbmcpKSB7XG4gICAgICAgICAgbGFzdEluZGV4ID0gc2VwYXJhdG9yQ29weVtMQVNUX0lOREVYJDFdO1xuICAgICAgICAgIGlmIChsYXN0SW5kZXggPiBsYXN0TGFzdEluZGV4KSB7XG4gICAgICAgICAgICBvdXRwdXQucHVzaChzdHJpbmcuc2xpY2UobGFzdExhc3RJbmRleCwgbWF0Y2guaW5kZXgpKTtcbiAgICAgICAgICAgIGlmIChtYXRjaFtMRU5HVEhdID4gMSAmJiBtYXRjaC5pbmRleCA8IHN0cmluZ1tMRU5HVEhdKSAkcHVzaC5hcHBseShvdXRwdXQsIG1hdGNoLnNsaWNlKDEpKTtcbiAgICAgICAgICAgIGxhc3RMZW5ndGggPSBtYXRjaFswXVtMRU5HVEhdO1xuICAgICAgICAgICAgbGFzdExhc3RJbmRleCA9IGxhc3RJbmRleDtcbiAgICAgICAgICAgIGlmIChvdXRwdXRbTEVOR1RIXSA+PSBzcGxpdExpbWl0KSBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNlcGFyYXRvckNvcHlbTEFTVF9JTkRFWCQxXSA9PT0gbWF0Y2guaW5kZXgpIHNlcGFyYXRvckNvcHlbTEFTVF9JTkRFWCQxXSsrOyAvLyBBdm9pZCBhbiBpbmZpbml0ZSBsb29wXG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxhc3RMYXN0SW5kZXggPT09IHN0cmluZ1tMRU5HVEhdKSB7XG4gICAgICAgICAgaWYgKGxhc3RMZW5ndGggfHwgIXNlcGFyYXRvckNvcHkudGVzdCgnJykpIG91dHB1dC5wdXNoKCcnKTtcbiAgICAgICAgfSBlbHNlIG91dHB1dC5wdXNoKHN0cmluZy5zbGljZShsYXN0TGFzdEluZGV4KSk7XG4gICAgICAgIHJldHVybiBvdXRwdXRbTEVOR1RIXSA+IHNwbGl0TGltaXQgPyBvdXRwdXQuc2xpY2UoMCwgc3BsaXRMaW1pdCkgOiBvdXRwdXQ7XG4gICAgICB9O1xuICAgIC8vIENoYWtyYSwgVjhcbiAgICB9IGVsc2UgaWYgKCcwJ1skU1BMSVRdKHVuZGVmaW5lZCwgMClbTEVOR1RIXSkge1xuICAgICAgaW50ZXJuYWxTcGxpdCA9IGZ1bmN0aW9uIChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICAgIHJldHVybiBzZXBhcmF0b3IgPT09IHVuZGVmaW5lZCAmJiBsaW1pdCA9PT0gMCA/IFtdIDogJHNwbGl0LmNhbGwodGhpcywgc2VwYXJhdG9yLCBsaW1pdCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnRlcm5hbFNwbGl0ID0gJHNwbGl0O1xuICAgIH1cblxuICAgIHJldHVybiBbXG4gICAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5zcGxpdGAgbWV0aG9kXG4gICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnNwbGl0XG4gICAgICBmdW5jdGlvbiBzcGxpdChzZXBhcmF0b3IsIGxpbWl0KSB7XG4gICAgICAgIHZhciBPID0gZGVmaW5lZCh0aGlzKTtcbiAgICAgICAgdmFyIHNwbGl0dGVyID0gc2VwYXJhdG9yID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHNlcGFyYXRvcltTUExJVF07XG4gICAgICAgIHJldHVybiBzcGxpdHRlciAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgPyBzcGxpdHRlci5jYWxsKHNlcGFyYXRvciwgTywgbGltaXQpXG4gICAgICAgICAgOiBpbnRlcm5hbFNwbGl0LmNhbGwoU3RyaW5nKE8pLCBzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICAgIH0sXG4gICAgICAvLyBgUmVnRXhwLnByb3RvdHlwZVtAQHNwbGl0XWAgbWV0aG9kXG4gICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1yZWdleHAucHJvdG90eXBlLUBAc3BsaXRcbiAgICAgIC8vXG4gICAgICAvLyBOT1RFOiBUaGlzIGNhbm5vdCBiZSBwcm9wZXJseSBwb2x5ZmlsbGVkIGluIGVuZ2luZXMgdGhhdCBkb24ndCBzdXBwb3J0XG4gICAgICAvLyB0aGUgJ3knIGZsYWcuXG4gICAgICBmdW5jdGlvbiAocmVnZXhwLCBsaW1pdCkge1xuICAgICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKGludGVybmFsU3BsaXQsIHJlZ2V4cCwgdGhpcywgbGltaXQsIGludGVybmFsU3BsaXQgIT09ICRzcGxpdCk7XG4gICAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcblxuICAgICAgICB2YXIgcnggPSBfYW5PYmplY3QocmVnZXhwKTtcbiAgICAgICAgdmFyIFMgPSBTdHJpbmcodGhpcyk7XG4gICAgICAgIHZhciBDID0gX3NwZWNpZXNDb25zdHJ1Y3RvcihyeCwgUmVnRXhwKTtcblxuICAgICAgICB2YXIgdW5pY29kZU1hdGNoaW5nID0gcngudW5pY29kZTtcbiAgICAgICAgdmFyIGZsYWdzID0gKHJ4Lmlnbm9yZUNhc2UgPyAnaScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAocngubXVsdGlsaW5lID8gJ20nIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJ4LnVuaWNvZGUgPyAndScgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgICAoU1VQUE9SVFNfWSA/ICd5JyA6ICdnJyk7XG5cbiAgICAgICAgLy8gXig/ICsgcnggKyApIGlzIG5lZWRlZCwgaW4gY29tYmluYXRpb24gd2l0aCBzb21lIFMgc2xpY2luZywgdG9cbiAgICAgICAgLy8gc2ltdWxhdGUgdGhlICd5JyBmbGFnLlxuICAgICAgICB2YXIgc3BsaXR0ZXIgPSBuZXcgQyhTVVBQT1JUU19ZID8gcnggOiAnXig/OicgKyByeC5zb3VyY2UgKyAnKScsIGZsYWdzKTtcbiAgICAgICAgdmFyIGxpbSA9IGxpbWl0ID09PSB1bmRlZmluZWQgPyBNQVhfVUlOVDMyIDogbGltaXQgPj4+IDA7XG4gICAgICAgIGlmIChsaW0gPT09IDApIHJldHVybiBbXTtcbiAgICAgICAgaWYgKFMubGVuZ3RoID09PSAwKSByZXR1cm4gX3JlZ2V4cEV4ZWNBYnN0cmFjdChzcGxpdHRlciwgUykgPT09IG51bGwgPyBbU10gOiBbXTtcbiAgICAgICAgdmFyIHAgPSAwO1xuICAgICAgICB2YXIgcSA9IDA7XG4gICAgICAgIHZhciBBID0gW107XG4gICAgICAgIHdoaWxlIChxIDwgUy5sZW5ndGgpIHtcbiAgICAgICAgICBzcGxpdHRlci5sYXN0SW5kZXggPSBTVVBQT1JUU19ZID8gcSA6IDA7XG4gICAgICAgICAgdmFyIHogPSBfcmVnZXhwRXhlY0Fic3RyYWN0KHNwbGl0dGVyLCBTVVBQT1JUU19ZID8gUyA6IFMuc2xpY2UocSkpO1xuICAgICAgICAgIHZhciBlO1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHogPT09IG51bGwgfHxcbiAgICAgICAgICAgIChlID0gJG1pbihfdG9MZW5ndGgoc3BsaXR0ZXIubGFzdEluZGV4ICsgKFNVUFBPUlRTX1kgPyAwIDogcSkpLCBTLmxlbmd0aCkpID09PSBwXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBxID0gX2FkdmFuY2VTdHJpbmdJbmRleChTLCBxLCB1bmljb2RlTWF0Y2hpbmcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBBLnB1c2goUy5zbGljZShwLCBxKSk7XG4gICAgICAgICAgICBpZiAoQS5sZW5ndGggPT09IGxpbSkgcmV0dXJuIEE7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8PSB6Lmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICAgICAgICBBLnB1c2goeltpXSk7XG4gICAgICAgICAgICAgIGlmIChBLmxlbmd0aCA9PT0gbGltKSByZXR1cm4gQTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHEgPSBwID0gZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgQS5wdXNoKFMuc2xpY2UocCkpO1xuICAgICAgICByZXR1cm4gQTtcbiAgICAgIH1cbiAgICBdO1xuICB9KTtcblxuICAvKlxyXG4gICogcmVxdWlyZWQgcG9seWZpbGxzXHJcbiAgKi9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbnNpc3RlbnQtcmV0dXJuXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHR5cGVvZiBOb2RlTGlzdC5wcm90b3R5cGUuZm9yRWFjaCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIE5vZGVMaXN0LnByb3RvdHlwZS5mb3JFYWNoID0gQXJyYXkucHJvdG90eXBlLmZvckVhY2g7XG4gIH0pKCk7XG4gIC8qKiBJRTksIElFMTAgYW5kIElFMTEgcmVxdWlyZXMgYWxsIG9mIHRoZSBmb2xsb3dpbmcgcG9seWZpbGxzLiAqKi9cbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNi9zeW1ib2wnXG4gIC8vIGltcG9ydCAnY29yZS1qcy9lczYvb2JqZWN0J1xuICAvLyBpbXBvcnQgJ2NvcmUtanMvZXM2L2Z1bmN0aW9uJ1xuICAvLyBpbXBvcnQgJ2NvcmUtanMvZXM2L3BhcnNlLWludCdcbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNi9wYXJzZS1mbG9hdCdcbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNi9udW1iZXInXG4gIC8vIGltcG9ydCAnY29yZS1qcy9lczYvbWF0aCdcbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNi9zdHJpbmcnXG4gIC8vIGltcG9ydCAnY29yZS1qcy9lczYvZGF0ZSdcbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNi9hcnJheSdcbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNi9yZWdleHAnXG4gIC8vIGltcG9ydCAnY29yZS1qcy9lczYvbWFwJ1xuICAvLyBpbXBvcnQgJ2NvcmUtanMvZXM2L3dlYWstbWFwJ1xuICAvLyBpbXBvcnQgJ2NvcmUtanMvZXM2L3NldCdcbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNy9vYmplY3QnXG5cbiAgLyoqIElFMTAgYW5kIElFMTEgcmVxdWlyZXMgdGhlIGZvbGxvd2luZyBmb3IgdGhlIFJlZmxlY3QgQVBJLiAqL1xuICAvLyBpbXBvcnQgJ2NvcmUtanMvZXM2L3JlZmxlY3QnXG5cbiAgLyoqIEV2ZXJncmVlbiBicm93c2VycyByZXF1aXJlIHRoZXNlLiAqKi9cbiAgLy8gVXNlZCBmb3IgcmVmbGVjdC1tZXRhZGF0YSBpbiBKSVQuIElmIHlvdSB1c2UgQU9UIChhbmQgb25seSBBbmd1bGFyIGRlY29yYXRvcnMpLCB5b3UgY2FuIHJlbW92ZS5cbiAgLy8gaW1wb3J0ICdjb3JlLWpzL2VzNy9yZWZsZWN0J1xuICAvLyBDdXN0b21FdmVudCgpIGNvbnN0cnVjdG9yIGZ1bmN0aW9uYWxpdHkgaW4gSUU5LCBJRTEwLCBJRTExXG4gIC8vIChmdW5jdGlvbiAoKSB7XG4gIC8vXG4gIC8vICAgaWYgKCB0eXBlb2Ygd2luZG93LkN1c3RvbUV2ZW50ID09PSBcImZ1bmN0aW9uXCIgKSByZXR1cm4gZmFsc2VcbiAgLy9cbiAgLy8gICBmdW5jdGlvbiBDdXN0b21FdmVudCAoIGV2ZW50LCBwYXJhbXMgKSB7XG4gIC8vICAgICBwYXJhbXMgPSBwYXJhbXMgfHwgeyBidWJibGVzOiBmYWxzZSwgY2FuY2VsYWJsZTogZmFsc2UsIGRldGFpbDogdW5kZWZpbmVkIH1cbiAgLy8gICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCggJ0N1c3RvbUV2ZW50JyApXG4gIC8vICAgICBldnQuaW5pdEN1c3RvbUV2ZW50KCBldmVudCwgcGFyYW1zLmJ1YmJsZXMsIHBhcmFtcy5jYW5jZWxhYmxlLCBwYXJhbXMuZGV0YWlsIClcbiAgLy8gICAgIHJldHVybiBldnRcbiAgLy8gICB9XG4gIC8vXG4gIC8vICAgQ3VzdG9tRXZlbnQucHJvdG90eXBlID0gd2luZG93LkV2ZW50LnByb3RvdHlwZVxuICAvL1xuICAvLyAgIHdpbmRvdy5DdXN0b21FdmVudCA9IEN1c3RvbUV2ZW50XG4gIC8vIH0pKClcblxuICAvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wcm90b3R5cGUtYnVpbHRpbnNcbiAgdmFyIF9pb2JqZWN0ID0gT2JqZWN0KCd6JykucHJvcGVydHlJc0VudW1lcmFibGUoMCkgPyBPYmplY3QgOiBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gX2NvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xuICB9O1xuXG4gIC8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xuXG5cbiAgdmFyIF90b0lvYmplY3QgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gX2lvYmplY3QoX2RlZmluZWQoaXQpKTtcbiAgfTtcblxuICB2YXIgbWF4ID0gTWF0aC5tYXg7XG4gIHZhciBtaW4kMSA9IE1hdGgubWluO1xuICB2YXIgX3RvQWJzb2x1dGVJbmRleCA9IGZ1bmN0aW9uIChpbmRleCwgbGVuZ3RoKSB7XG4gICAgaW5kZXggPSBfdG9JbnRlZ2VyKGluZGV4KTtcbiAgICByZXR1cm4gaW5kZXggPCAwID8gbWF4KGluZGV4ICsgbGVuZ3RoLCAwKSA6IG1pbiQxKGluZGV4LCBsZW5ndGgpO1xuICB9O1xuXG4gIC8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2ZcbiAgLy8gdHJ1ZSAgLT4gQXJyYXkjaW5jbHVkZXNcblxuXG5cbiAgdmFyIF9hcnJheUluY2x1ZGVzID0gZnVuY3Rpb24gKElTX0lOQ0xVREVTKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgkdGhpcywgZWwsIGZyb21JbmRleCkge1xuICAgICAgdmFyIE8gPSBfdG9Jb2JqZWN0KCR0aGlzKTtcbiAgICAgIHZhciBsZW5ndGggPSBfdG9MZW5ndGgoTy5sZW5ndGgpO1xuICAgICAgdmFyIGluZGV4ID0gX3RvQWJzb2x1dGVJbmRleChmcm9tSW5kZXgsIGxlbmd0aCk7XG4gICAgICB2YXIgdmFsdWU7XG4gICAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tc2VsZi1jb21wYXJlXG4gICAgICBpZiAoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpIHdoaWxlIChsZW5ndGggPiBpbmRleCkge1xuICAgICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1zZWxmLWNvbXBhcmVcbiAgICAgICAgaWYgKHZhbHVlICE9IHZhbHVlKSByZXR1cm4gdHJ1ZTtcbiAgICAgIC8vIEFycmF5I2luZGV4T2YgaWdub3JlcyBob2xlcywgQXJyYXkjaW5jbHVkZXMgLSBub3RcbiAgICAgIH0gZWxzZSBmb3IgKDtsZW5ndGggPiBpbmRleDsgaW5kZXgrKykgaWYgKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pIHtcbiAgICAgICAgaWYgKE9baW5kZXhdID09PSBlbCkgcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgICB9IHJldHVybiAhSVNfSU5DTFVERVMgJiYgLTE7XG4gICAgfTtcbiAgfTtcblxuICB2YXIgc2hhcmVkID0gX3NoYXJlZCgna2V5cycpO1xuXG4gIHZhciBfc2hhcmVkS2V5ID0gZnVuY3Rpb24gKGtleSkge1xuICAgIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSBfdWlkKGtleSkpO1xuICB9O1xuXG4gIHZhciBhcnJheUluZGV4T2YgPSBfYXJyYXlJbmNsdWRlcyhmYWxzZSk7XG4gIHZhciBJRV9QUk9UTyA9IF9zaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG5cbiAgdmFyIF9vYmplY3RLZXlzSW50ZXJuYWwgPSBmdW5jdGlvbiAob2JqZWN0LCBuYW1lcykge1xuICAgIHZhciBPID0gX3RvSW9iamVjdChvYmplY3QpO1xuICAgIHZhciBpID0gMDtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGtleTtcbiAgICBmb3IgKGtleSBpbiBPKSBpZiAoa2V5ICE9IElFX1BST1RPKSBfaGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXG4gICAgd2hpbGUgKG5hbWVzLmxlbmd0aCA+IGkpIGlmIChfaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKSB7XG4gICAgICB+YXJyYXlJbmRleE9mKHJlc3VsdCwga2V5KSB8fCByZXN1bHQucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIElFIDgtIGRvbid0IGVudW0gYnVnIGtleXNcbiAgdmFyIF9lbnVtQnVnS2V5cyA9IChcbiAgICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xuICApLnNwbGl0KCcsJyk7XG5cbiAgLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXG5cblxuXG4gIHZhciBfb2JqZWN0S2V5cyA9IE9iamVjdC5rZXlzIHx8IGZ1bmN0aW9uIGtleXMoTykge1xuICAgIHJldHVybiBfb2JqZWN0S2V5c0ludGVybmFsKE8sIF9lbnVtQnVnS2V5cyk7XG4gIH07XG5cbiAgdmFyIGYkMSA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG5cbiAgdmFyIF9vYmplY3RHb3BzID0ge1xuICBcdGY6IGYkMVxuICB9O1xuXG4gIHZhciBmJDIgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuICB2YXIgX29iamVjdFBpZSA9IHtcbiAgXHRmOiBmJDJcbiAgfTtcblxuICAvLyA3LjEuMTMgVG9PYmplY3QoYXJndW1lbnQpXG5cbiAgdmFyIF90b09iamVjdCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBPYmplY3QoX2RlZmluZWQoaXQpKTtcbiAgfTtcblxuICAvLyAxOS4xLjIuMSBPYmplY3QuYXNzaWduKHRhcmdldCwgc291cmNlLCAuLi4pXG5cblxuXG5cblxuICB2YXIgJGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG5cbiAgLy8gc2hvdWxkIHdvcmsgd2l0aCBzeW1ib2xzIGFuZCBzaG91bGQgaGF2ZSBkZXRlcm1pbmlzdGljIHByb3BlcnR5IG9yZGVyIChWOCBidWcpXG4gIHZhciBfb2JqZWN0QXNzaWduID0gISRhc3NpZ24gfHwgX2ZhaWxzKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgQSA9IHt9O1xuICAgIHZhciBCID0ge307XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgdmFyIFMgPSBTeW1ib2woKTtcbiAgICB2YXIgSyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdCc7XG4gICAgQVtTXSA9IDc7XG4gICAgSy5zcGxpdCgnJykuZm9yRWFjaChmdW5jdGlvbiAoaykgeyBCW2tdID0gazsgfSk7XG4gICAgcmV0dXJuICRhc3NpZ24oe30sIEEpW1NdICE9IDcgfHwgT2JqZWN0LmtleXMoJGFzc2lnbih7fSwgQikpLmpvaW4oJycpICE9IEs7XG4gIH0pID8gZnVuY3Rpb24gYXNzaWduKHRhcmdldCwgc291cmNlKSB7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgICB2YXIgVCA9IF90b09iamVjdCh0YXJnZXQpO1xuICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICB2YXIgaW5kZXggPSAxO1xuICAgIHZhciBnZXRTeW1ib2xzID0gX29iamVjdEdvcHMuZjtcbiAgICB2YXIgaXNFbnVtID0gX29iamVjdFBpZS5mO1xuICAgIHdoaWxlIChhTGVuID4gaW5kZXgpIHtcbiAgICAgIHZhciBTID0gX2lvYmplY3QoYXJndW1lbnRzW2luZGV4KytdKTtcbiAgICAgIHZhciBrZXlzID0gZ2V0U3ltYm9scyA/IF9vYmplY3RLZXlzKFMpLmNvbmNhdChnZXRTeW1ib2xzKFMpKSA6IF9vYmplY3RLZXlzKFMpO1xuICAgICAgdmFyIGxlbmd0aCA9IGtleXMubGVuZ3RoO1xuICAgICAgdmFyIGogPSAwO1xuICAgICAgdmFyIGtleTtcbiAgICAgIHdoaWxlIChsZW5ndGggPiBqKSBpZiAoaXNFbnVtLmNhbGwoUywga2V5ID0ga2V5c1tqKytdKSkgVFtrZXldID0gU1trZXldO1xuICAgIH0gcmV0dXJuIFQ7XG4gIH0gOiAkYXNzaWduO1xuXG4gIC8vIDE5LjEuMy4xIE9iamVjdC5hc3NpZ24odGFyZ2V0LCBzb3VyY2UpXG5cblxuICBfZXhwb3J0KF9leHBvcnQuUyArIF9leHBvcnQuRiwgJ09iamVjdCcsIHsgYXNzaWduOiBfb2JqZWN0QXNzaWduIH0pO1xuXG4gIHZhciBfaXRlcmF0b3JzID0ge307XG5cbiAgdmFyIF9vYmplY3REcHMgPSBfZGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcykge1xuICAgIF9hbk9iamVjdChPKTtcbiAgICB2YXIga2V5cyA9IF9vYmplY3RLZXlzKFByb3BlcnRpZXMpO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgaSA9IDA7XG4gICAgdmFyIFA7XG4gICAgd2hpbGUgKGxlbmd0aCA+IGkpIF9vYmplY3REcC5mKE8sIFAgPSBrZXlzW2krK10sIFByb3BlcnRpZXNbUF0pO1xuICAgIHJldHVybiBPO1xuICB9O1xuXG4gIHZhciBkb2N1bWVudCQyID0gX2dsb2JhbC5kb2N1bWVudDtcbiAgdmFyIF9odG1sID0gZG9jdW1lbnQkMiAmJiBkb2N1bWVudCQyLmRvY3VtZW50RWxlbWVudDtcblxuICAvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcblxuXG5cbiAgdmFyIElFX1BST1RPJDEgPSBfc2hhcmVkS2V5KCdJRV9QUk9UTycpO1xuICB2YXIgRW1wdHkgPSBmdW5jdGlvbiAoKSB7IC8qIGVtcHR5ICovIH07XG4gIHZhciBQUk9UT1RZUEUkMSA9ICdwcm90b3R5cGUnO1xuXG4gIC8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcbiAgdmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gVGhyYXNoLCB3YXN0ZSBhbmQgc29kb215OiBJRSBHQyBidWdcbiAgICB2YXIgaWZyYW1lID0gX2RvbUNyZWF0ZSgnaWZyYW1lJyk7XG4gICAgdmFyIGkgPSBfZW51bUJ1Z0tleXMubGVuZ3RoO1xuICAgIHZhciBsdCA9ICc8JztcbiAgICB2YXIgZ3QgPSAnPic7XG4gICAgdmFyIGlmcmFtZURvY3VtZW50O1xuICAgIGlmcmFtZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIF9odG1sLmFwcGVuZENoaWxkKGlmcmFtZSk7XG4gICAgaWZyYW1lLnNyYyA9ICdqYXZhc2NyaXB0Oic7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tc2NyaXB0LXVybFxuICAgIC8vIGNyZWF0ZURpY3QgPSBpZnJhbWUuY29udGVudFdpbmRvdy5PYmplY3Q7XG4gICAgLy8gaHRtbC5yZW1vdmVDaGlsZChpZnJhbWUpO1xuICAgIGlmcmFtZURvY3VtZW50ID0gaWZyYW1lLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7XG4gICAgaWZyYW1lRG9jdW1lbnQub3BlbigpO1xuICAgIGlmcmFtZURvY3VtZW50LndyaXRlKGx0ICsgJ3NjcmlwdCcgKyBndCArICdkb2N1bWVudC5GPU9iamVjdCcgKyBsdCArICcvc2NyaXB0JyArIGd0KTtcbiAgICBpZnJhbWVEb2N1bWVudC5jbG9zZSgpO1xuICAgIGNyZWF0ZURpY3QgPSBpZnJhbWVEb2N1bWVudC5GO1xuICAgIHdoaWxlIChpLS0pIGRlbGV0ZSBjcmVhdGVEaWN0W1BST1RPVFlQRSQxXVtfZW51bUJ1Z0tleXNbaV1dO1xuICAgIHJldHVybiBjcmVhdGVEaWN0KCk7XG4gIH07XG5cbiAgdmFyIF9vYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlIHx8IGZ1bmN0aW9uIGNyZWF0ZShPLCBQcm9wZXJ0aWVzKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBpZiAoTyAhPT0gbnVsbCkge1xuICAgICAgRW1wdHlbUFJPVE9UWVBFJDFdID0gX2FuT2JqZWN0KE8pO1xuICAgICAgcmVzdWx0ID0gbmV3IEVtcHR5KCk7XG4gICAgICBFbXB0eVtQUk9UT1RZUEUkMV0gPSBudWxsO1xuICAgICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxuICAgICAgcmVzdWx0W0lFX1BST1RPJDFdID0gTztcbiAgICB9IGVsc2UgcmVzdWx0ID0gY3JlYXRlRGljdCgpO1xuICAgIHJldHVybiBQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQgPyByZXN1bHQgOiBfb2JqZWN0RHBzKHJlc3VsdCwgUHJvcGVydGllcyk7XG4gIH07XG5cbiAgdmFyIGRlZiA9IF9vYmplY3REcC5mO1xuXG4gIHZhciBUQUckMSA9IF93a3MoJ3RvU3RyaW5nVGFnJyk7XG5cbiAgdmFyIF9zZXRUb1N0cmluZ1RhZyA9IGZ1bmN0aW9uIChpdCwgdGFnLCBzdGF0KSB7XG4gICAgaWYgKGl0ICYmICFfaGFzKGl0ID0gc3RhdCA/IGl0IDogaXQucHJvdG90eXBlLCBUQUckMSkpIGRlZihpdCwgVEFHJDEsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogdGFnIH0pO1xuICB9O1xuXG4gIHZhciBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4gIC8vIDI1LjEuMi4xLjEgJUl0ZXJhdG9yUHJvdG90eXBlJVtAQGl0ZXJhdG9yXSgpXG4gIF9oaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBfd2tzKCdpdGVyYXRvcicpLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9KTtcblxuICB2YXIgX2l0ZXJDcmVhdGUgPSBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpIHtcbiAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUgPSBfb2JqZWN0Q3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7IG5leHQ6IF9wcm9wZXJ0eURlc2MoMSwgbmV4dCkgfSk7XG4gICAgX3NldFRvU3RyaW5nVGFnKENvbnN0cnVjdG9yLCBOQU1FICsgJyBJdGVyYXRvcicpO1xuICB9O1xuXG4gIC8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXG5cblxuICB2YXIgSUVfUFJPVE8kMiA9IF9zaGFyZWRLZXkoJ0lFX1BST1RPJyk7XG4gIHZhciBPYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbiAgdmFyIF9vYmplY3RHcG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gKE8pIHtcbiAgICBPID0gX3RvT2JqZWN0KE8pO1xuICAgIGlmIChfaGFzKE8sIElFX1BST1RPJDIpKSByZXR1cm4gT1tJRV9QUk9UTyQyXTtcbiAgICBpZiAodHlwZW9mIE8uY29uc3RydWN0b3IgPT0gJ2Z1bmN0aW9uJyAmJiBPIGluc3RhbmNlb2YgTy5jb25zdHJ1Y3Rvcikge1xuICAgICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xuICAgIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XG4gIH07XG5cbiAgdmFyIElURVJBVE9SID0gX3drcygnaXRlcmF0b3InKTtcbiAgdmFyIEJVR0dZID0gIShbXS5rZXlzICYmICduZXh0JyBpbiBbXS5rZXlzKCkpOyAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gIHZhciBGRl9JVEVSQVRPUiA9ICdAQGl0ZXJhdG9yJztcbiAgdmFyIEtFWVMgPSAna2V5cyc7XG4gIHZhciBWQUxVRVMgPSAndmFsdWVzJztcblxuICB2YXIgcmV0dXJuVGhpcyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH07XG5cbiAgdmFyIF9pdGVyRGVmaW5lID0gZnVuY3Rpb24gKEJhc2UsIE5BTUUsIENvbnN0cnVjdG9yLCBuZXh0LCBERUZBVUxULCBJU19TRVQsIEZPUkNFRCkge1xuICAgIF9pdGVyQ3JlYXRlKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KTtcbiAgICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24gKGtpbmQpIHtcbiAgICAgIGlmICghQlVHR1kgJiYga2luZCBpbiBwcm90bykgcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKSB7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICAgICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpIHsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICB9O1xuICAgIHZhciBUQUcgPSBOQU1FICsgJyBJdGVyYXRvcic7XG4gICAgdmFyIERFRl9WQUxVRVMgPSBERUZBVUxUID09IFZBTFVFUztcbiAgICB2YXIgVkFMVUVTX0JVRyA9IGZhbHNlO1xuICAgIHZhciBwcm90byA9IEJhc2UucHJvdG90eXBlO1xuICAgIHZhciAkbmF0aXZlID0gcHJvdG9bSVRFUkFUT1JdIHx8IHByb3RvW0ZGX0lURVJBVE9SXSB8fCBERUZBVUxUICYmIHByb3RvW0RFRkFVTFRdO1xuICAgIHZhciAkZGVmYXVsdCA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpO1xuICAgIHZhciAkZW50cmllcyA9IERFRkFVTFQgPyAhREVGX1ZBTFVFUyA/ICRkZWZhdWx0IDogZ2V0TWV0aG9kKCdlbnRyaWVzJykgOiB1bmRlZmluZWQ7XG4gICAgdmFyICRhbnlOYXRpdmUgPSBOQU1FID09ICdBcnJheScgPyBwcm90by5lbnRyaWVzIHx8ICRuYXRpdmUgOiAkbmF0aXZlO1xuICAgIHZhciBtZXRob2RzLCBrZXksIEl0ZXJhdG9yUHJvdG90eXBlO1xuICAgIC8vIEZpeCBuYXRpdmVcbiAgICBpZiAoJGFueU5hdGl2ZSkge1xuICAgICAgSXRlcmF0b3JQcm90b3R5cGUgPSBfb2JqZWN0R3BvKCRhbnlOYXRpdmUuY2FsbChuZXcgQmFzZSgpKSk7XG4gICAgICBpZiAoSXRlcmF0b3JQcm90b3R5cGUgIT09IE9iamVjdC5wcm90b3R5cGUgJiYgSXRlcmF0b3JQcm90b3R5cGUubmV4dCkge1xuICAgICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICAgIF9zZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgICAgLy8gZml4IGZvciBzb21lIG9sZCBlbmdpbmVzXG4gICAgICAgIGlmICh0eXBlb2YgSXRlcmF0b3JQcm90b3R5cGVbSVRFUkFUT1JdICE9ICdmdW5jdGlvbicpIF9oaWRlKEl0ZXJhdG9yUHJvdG90eXBlLCBJVEVSQVRPUiwgcmV0dXJuVGhpcyk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIGZpeCBBcnJheSN7dmFsdWVzLCBAQGl0ZXJhdG9yfS5uYW1lIGluIFY4IC8gRkZcbiAgICBpZiAoREVGX1ZBTFVFUyAmJiAkbmF0aXZlICYmICRuYXRpdmUubmFtZSAhPT0gVkFMVUVTKSB7XG4gICAgICBWQUxVRVNfQlVHID0gdHJ1ZTtcbiAgICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCkgeyByZXR1cm4gJG5hdGl2ZS5jYWxsKHRoaXMpOyB9O1xuICAgIH1cbiAgICAvLyBEZWZpbmUgaXRlcmF0b3JcbiAgICBpZiAoQlVHR1kgfHwgVkFMVUVTX0JVRyB8fCAhcHJvdG9bSVRFUkFUT1JdKSB7XG4gICAgICBfaGlkZShwcm90bywgSVRFUkFUT1IsICRkZWZhdWx0KTtcbiAgICB9XG4gICAgLy8gUGx1ZyBmb3IgbGlicmFyeVxuICAgIF9pdGVyYXRvcnNbTkFNRV0gPSAkZGVmYXVsdDtcbiAgICBfaXRlcmF0b3JzW1RBR10gPSByZXR1cm5UaGlzO1xuICAgIGlmIChERUZBVUxUKSB7XG4gICAgICBtZXRob2RzID0ge1xuICAgICAgICB2YWx1ZXM6IERFRl9WQUxVRVMgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChWQUxVRVMpLFxuICAgICAgICBrZXlzOiBJU19TRVQgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgICAgZW50cmllczogJGVudHJpZXNcbiAgICAgIH07XG4gICAgICBpZiAoRk9SQ0VEKSBmb3IgKGtleSBpbiBtZXRob2RzKSB7XG4gICAgICAgIGlmICghKGtleSBpbiBwcm90bykpIF9yZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgICAgfSBlbHNlIF9leHBvcnQoX2V4cG9ydC5QICsgX2V4cG9ydC5GICogKEJVR0dZIHx8IFZBTFVFU19CVUcpLCBOQU1FLCBtZXRob2RzKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGhvZHM7XG4gIH07XG5cbiAgdmFyICRhdCA9IF9zdHJpbmdBdCh0cnVlKTtcblxuICAvLyAyMS4xLjMuMjcgU3RyaW5nLnByb3RvdHlwZVtAQGl0ZXJhdG9yXSgpXG4gIF9pdGVyRGVmaW5lKFN0cmluZywgJ1N0cmluZycsIGZ1bmN0aW9uIChpdGVyYXRlZCkge1xuICAgIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgICB0aGlzLl9pID0gMDsgICAgICAgICAgICAgICAgLy8gbmV4dCBpbmRleFxuICAvLyAyMS4xLjUuMi4xICVTdHJpbmdJdGVyYXRvclByb3RvdHlwZSUubmV4dCgpXG4gIH0sIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgTyA9IHRoaXMuX3Q7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5faTtcbiAgICB2YXIgcG9pbnQ7XG4gICAgaWYgKGluZGV4ID49IE8ubGVuZ3RoKSByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgcG9pbnQgPSAkYXQoTywgaW5kZXgpO1xuICAgIHRoaXMuX2kgKz0gcG9pbnQubGVuZ3RoO1xuICAgIHJldHVybiB7IHZhbHVlOiBwb2ludCwgZG9uZTogZmFsc2UgfTtcbiAgfSk7XG5cbiAgLy8gY2FsbCBzb21ldGhpbmcgb24gaXRlcmF0b3Igc3RlcCB3aXRoIHNhZmUgY2xvc2luZyBvbiBlcnJvclxuXG4gIHZhciBfaXRlckNhbGwgPSBmdW5jdGlvbiAoaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcykge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gZW50cmllcyA/IGZuKF9hbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgICAvLyA3LjQuNiBJdGVyYXRvckNsb3NlKGl0ZXJhdG9yLCBjb21wbGV0aW9uKVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIHZhciByZXQgPSBpdGVyYXRvclsncmV0dXJuJ107XG4gICAgICBpZiAocmV0ICE9PSB1bmRlZmluZWQpIF9hbk9iamVjdChyZXQuY2FsbChpdGVyYXRvcikpO1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gIH07XG5cbiAgLy8gY2hlY2sgb24gZGVmYXVsdCBBcnJheSBpdGVyYXRvclxuXG4gIHZhciBJVEVSQVRPUiQxID0gX3drcygnaXRlcmF0b3InKTtcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGU7XG5cbiAgdmFyIF9pc0FycmF5SXRlciA9IGZ1bmN0aW9uIChpdCkge1xuICAgIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChfaXRlcmF0b3JzLkFycmF5ID09PSBpdCB8fCBBcnJheVByb3RvW0lURVJBVE9SJDFdID09PSBpdCk7XG4gIH07XG5cbiAgdmFyIF9jcmVhdGVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmplY3QsIGluZGV4LCB2YWx1ZSkge1xuICAgIGlmIChpbmRleCBpbiBvYmplY3QpIF9vYmplY3REcC5mKG9iamVjdCwgaW5kZXgsIF9wcm9wZXJ0eURlc2MoMCwgdmFsdWUpKTtcbiAgICBlbHNlIG9iamVjdFtpbmRleF0gPSB2YWx1ZTtcbiAgfTtcblxuICB2YXIgSVRFUkFUT1IkMiA9IF93a3MoJ2l0ZXJhdG9yJyk7XG5cbiAgdmFyIGNvcmVfZ2V0SXRlcmF0b3JNZXRob2QgPSBfY29yZS5nZXRJdGVyYXRvck1ldGhvZCA9IGZ1bmN0aW9uIChpdCkge1xuICAgIGlmIChpdCAhPSB1bmRlZmluZWQpIHJldHVybiBpdFtJVEVSQVRPUiQyXVxuICAgICAgfHwgaXRbJ0BAaXRlcmF0b3InXVxuICAgICAgfHwgX2l0ZXJhdG9yc1tfY2xhc3NvZihpdCldO1xuICB9O1xuXG4gIHZhciBJVEVSQVRPUiQzID0gX3drcygnaXRlcmF0b3InKTtcbiAgdmFyIFNBRkVfQ0xPU0lORyA9IGZhbHNlO1xuXG4gIHRyeSB7XG4gICAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SJDNdKCk7XG4gICAgcml0ZXJbJ3JldHVybiddID0gZnVuY3Rpb24gKCkgeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICB9IGNhdGNoIChlKSB7IC8qIGVtcHR5ICovIH1cblxuICB2YXIgX2l0ZXJEZXRlY3QgPSBmdW5jdGlvbiAoZXhlYywgc2tpcENsb3NpbmcpIHtcbiAgICBpZiAoIXNraXBDbG9zaW5nICYmICFTQUZFX0NMT1NJTkcpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgc2FmZSA9IGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICB2YXIgYXJyID0gWzddO1xuICAgICAgdmFyIGl0ZXIgPSBhcnJbSVRFUkFUT1IkM10oKTtcbiAgICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHsgZG9uZTogc2FmZSA9IHRydWUgfTsgfTtcbiAgICAgIGFycltJVEVSQVRPUiQzXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGl0ZXI7IH07XG4gICAgICBleGVjKGFycik7XG4gICAgfSBjYXRjaCAoZSkgeyAvKiBlbXB0eSAqLyB9XG4gICAgcmV0dXJuIHNhZmU7XG4gIH07XG5cbiAgX2V4cG9ydChfZXhwb3J0LlMgKyBfZXhwb3J0LkYgKiAhX2l0ZXJEZXRlY3QoZnVuY3Rpb24gKGl0ZXIpIHsgfSksICdBcnJheScsIHtcbiAgICAvLyAyMi4xLjIuMSBBcnJheS5mcm9tKGFycmF5TGlrZSwgbWFwZm4gPSB1bmRlZmluZWQsIHRoaXNBcmcgPSB1bmRlZmluZWQpXG4gICAgZnJvbTogZnVuY3Rpb24gZnJvbShhcnJheUxpa2UgLyogLCBtYXBmbiA9IHVuZGVmaW5lZCwgdGhpc0FyZyA9IHVuZGVmaW5lZCAqLykge1xuICAgICAgdmFyIE8gPSBfdG9PYmplY3QoYXJyYXlMaWtlKTtcbiAgICAgIHZhciBDID0gdHlwZW9mIHRoaXMgPT0gJ2Z1bmN0aW9uJyA/IHRoaXMgOiBBcnJheTtcbiAgICAgIHZhciBhTGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIHZhciBtYXBmbiA9IGFMZW4gPiAxID8gYXJndW1lbnRzWzFdIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIG1hcHBpbmcgPSBtYXBmbiAhPT0gdW5kZWZpbmVkO1xuICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgIHZhciBpdGVyRm4gPSBjb3JlX2dldEl0ZXJhdG9yTWV0aG9kKE8pO1xuICAgICAgdmFyIGxlbmd0aCwgcmVzdWx0LCBzdGVwLCBpdGVyYXRvcjtcbiAgICAgIGlmIChtYXBwaW5nKSBtYXBmbiA9IF9jdHgobWFwZm4sIGFMZW4gPiAyID8gYXJndW1lbnRzWzJdIDogdW5kZWZpbmVkLCAyKTtcbiAgICAgIC8vIGlmIG9iamVjdCBpc24ndCBpdGVyYWJsZSBvciBpdCdzIGFycmF5IHdpdGggZGVmYXVsdCBpdGVyYXRvciAtIHVzZSBzaW1wbGUgY2FzZVxuICAgICAgaWYgKGl0ZXJGbiAhPSB1bmRlZmluZWQgJiYgIShDID09IEFycmF5ICYmIF9pc0FycmF5SXRlcihpdGVyRm4pKSkge1xuICAgICAgICBmb3IgKGl0ZXJhdG9yID0gaXRlckZuLmNhbGwoTyksIHJlc3VsdCA9IG5ldyBDKCk7ICEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZTsgaW5kZXgrKykge1xuICAgICAgICAgIF9jcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gX2l0ZXJDYWxsKGl0ZXJhdG9yLCBtYXBmbiwgW3N0ZXAudmFsdWUsIGluZGV4XSwgdHJ1ZSkgOiBzdGVwLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGVuZ3RoID0gX3RvTGVuZ3RoKE8ubGVuZ3RoKTtcbiAgICAgICAgZm9yIChyZXN1bHQgPSBuZXcgQyhsZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKykge1xuICAgICAgICAgIF9jcmVhdGVQcm9wZXJ0eShyZXN1bHQsIGluZGV4LCBtYXBwaW5nID8gbWFwZm4oT1tpbmRleF0sIGluZGV4KSA6IE9baW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVzdWx0Lmxlbmd0aCA9IGluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBtYXgkMSA9IE1hdGgubWF4O1xuICB2YXIgbWluJDIgPSBNYXRoLm1pbjtcbiAgdmFyIGZsb29yJDEgPSBNYXRoLmZsb29yO1xuICB2YXIgU1VCU1RJVFVUSU9OX1NZTUJPTFMgPSAvXFwkKFskJmAnXXxcXGRcXGQ/fDxbXj5dKj4pL2c7XG4gIHZhciBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRCA9IC9cXCQoWyQmYCddfFxcZFxcZD8pL2c7XG5cbiAgdmFyIG1heWJlVG9TdHJpbmcgPSBmdW5jdGlvbiAoaXQpIHtcbiAgICByZXR1cm4gaXQgPT09IHVuZGVmaW5lZCA/IGl0IDogU3RyaW5nKGl0KTtcbiAgfTtcblxuICAvLyBAQHJlcGxhY2UgbG9naWNcbiAgX2ZpeFJlV2tzKCdyZXBsYWNlJywgMiwgZnVuY3Rpb24gKGRlZmluZWQsIFJFUExBQ0UsICRyZXBsYWNlLCBtYXliZUNhbGxOYXRpdmUpIHtcbiAgICByZXR1cm4gW1xuICAgICAgLy8gYFN0cmluZy5wcm90b3R5cGUucmVwbGFjZWAgbWV0aG9kXG4gICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLnJlcGxhY2VcbiAgICAgIGZ1bmN0aW9uIHJlcGxhY2Uoc2VhcmNoVmFsdWUsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgICB2YXIgTyA9IGRlZmluZWQodGhpcyk7XG4gICAgICAgIHZhciBmbiA9IHNlYXJjaFZhbHVlID09IHVuZGVmaW5lZCA/IHVuZGVmaW5lZCA6IHNlYXJjaFZhbHVlW1JFUExBQ0VdO1xuICAgICAgICByZXR1cm4gZm4gIT09IHVuZGVmaW5lZFxuICAgICAgICAgID8gZm4uY2FsbChzZWFyY2hWYWx1ZSwgTywgcmVwbGFjZVZhbHVlKVxuICAgICAgICAgIDogJHJlcGxhY2UuY2FsbChTdHJpbmcoTyksIHNlYXJjaFZhbHVlLCByZXBsYWNlVmFsdWUpO1xuICAgICAgfSxcbiAgICAgIC8vIGBSZWdFeHAucHJvdG90eXBlW0BAcmVwbGFjZV1gIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQHJlcGxhY2VcbiAgICAgIGZ1bmN0aW9uIChyZWdleHAsIHJlcGxhY2VWYWx1ZSkge1xuICAgICAgICB2YXIgcmVzID0gbWF5YmVDYWxsTmF0aXZlKCRyZXBsYWNlLCByZWdleHAsIHRoaXMsIHJlcGxhY2VWYWx1ZSk7XG4gICAgICAgIGlmIChyZXMuZG9uZSkgcmV0dXJuIHJlcy52YWx1ZTtcblxuICAgICAgICB2YXIgcnggPSBfYW5PYmplY3QocmVnZXhwKTtcbiAgICAgICAgdmFyIFMgPSBTdHJpbmcodGhpcyk7XG4gICAgICAgIHZhciBmdW5jdGlvbmFsUmVwbGFjZSA9IHR5cGVvZiByZXBsYWNlVmFsdWUgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIGlmICghZnVuY3Rpb25hbFJlcGxhY2UpIHJlcGxhY2VWYWx1ZSA9IFN0cmluZyhyZXBsYWNlVmFsdWUpO1xuICAgICAgICB2YXIgZ2xvYmFsID0gcnguZ2xvYmFsO1xuICAgICAgICBpZiAoZ2xvYmFsKSB7XG4gICAgICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgICAgICByeC5sYXN0SW5kZXggPSAwO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHRzID0gW107XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IF9yZWdleHBFeGVjQWJzdHJhY3QocngsIFMpO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwpIGJyZWFrO1xuICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgIGlmICghZ2xvYmFsKSBicmVhaztcbiAgICAgICAgICB2YXIgbWF0Y2hTdHIgPSBTdHJpbmcocmVzdWx0WzBdKTtcbiAgICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBfYWR2YW5jZVN0cmluZ0luZGV4KFMsIF90b0xlbmd0aChyeC5sYXN0SW5kZXgpLCBmdWxsVW5pY29kZSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFjY3VtdWxhdGVkUmVzdWx0ID0gJyc7XG4gICAgICAgIHZhciBuZXh0U291cmNlUG9zaXRpb24gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICByZXN1bHQgPSByZXN1bHRzW2ldO1xuICAgICAgICAgIHZhciBtYXRjaGVkID0gU3RyaW5nKHJlc3VsdFswXSk7XG4gICAgICAgICAgdmFyIHBvc2l0aW9uID0gbWF4JDEobWluJDIoX3RvSW50ZWdlcihyZXN1bHQuaW5kZXgpLCBTLmxlbmd0aCksIDApO1xuICAgICAgICAgIHZhciBjYXB0dXJlcyA9IFtdO1xuICAgICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgZXF1aXZhbGVudCB0b1xuICAgICAgICAgIC8vICAgY2FwdHVyZXMgPSByZXN1bHQuc2xpY2UoMSkubWFwKG1heWJlVG9TdHJpbmcpXG4gICAgICAgICAgLy8gYnV0IGZvciBzb21lIHJlYXNvbiBgbmF0aXZlU2xpY2UuY2FsbChyZXN1bHQsIDEsIHJlc3VsdC5sZW5ndGgpYCAoY2FsbGVkIGluXG4gICAgICAgICAgLy8gdGhlIHNsaWNlIHBvbHlmaWxsIHdoZW4gc2xpY2luZyBuYXRpdmUgYXJyYXlzKSBcImRvZXNuJ3Qgd29ya1wiIGluIHNhZmFyaSA5IGFuZFxuICAgICAgICAgIC8vIGNhdXNlcyBhIGNyYXNoIChodHRwczovL3Bhc3RlYmluLmNvbS9OMjFRemVRQSkgd2hlbiB0cnlpbmcgdG8gZGVidWcgaXQuXG4gICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCByZXN1bHQubGVuZ3RoOyBqKyspIGNhcHR1cmVzLnB1c2gobWF5YmVUb1N0cmluZyhyZXN1bHRbal0pKTtcbiAgICAgICAgICB2YXIgbmFtZWRDYXB0dXJlcyA9IHJlc3VsdC5ncm91cHM7XG4gICAgICAgICAgaWYgKGZ1bmN0aW9uYWxSZXBsYWNlKSB7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZXJBcmdzID0gW21hdGNoZWRdLmNvbmNhdChjYXB0dXJlcywgcG9zaXRpb24sIFMpO1xuICAgICAgICAgICAgaWYgKG5hbWVkQ2FwdHVyZXMgIT09IHVuZGVmaW5lZCkgcmVwbGFjZXJBcmdzLnB1c2gobmFtZWRDYXB0dXJlcyk7XG4gICAgICAgICAgICB2YXIgcmVwbGFjZW1lbnQgPSBTdHJpbmcocmVwbGFjZVZhbHVlLmFwcGx5KHVuZGVmaW5lZCwgcmVwbGFjZXJBcmdzKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlcGxhY2VtZW50ID0gZ2V0U3Vic3RpdHV0aW9uKG1hdGNoZWQsIFMsIHBvc2l0aW9uLCBjYXB0dXJlcywgbmFtZWRDYXB0dXJlcywgcmVwbGFjZVZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBvc2l0aW9uID49IG5leHRTb3VyY2VQb3NpdGlvbikge1xuICAgICAgICAgICAgYWNjdW11bGF0ZWRSZXN1bHQgKz0gUy5zbGljZShuZXh0U291cmNlUG9zaXRpb24sIHBvc2l0aW9uKSArIHJlcGxhY2VtZW50O1xuICAgICAgICAgICAgbmV4dFNvdXJjZVBvc2l0aW9uID0gcG9zaXRpb24gKyBtYXRjaGVkLmxlbmd0aDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjY3VtdWxhdGVkUmVzdWx0ICsgUy5zbGljZShuZXh0U291cmNlUG9zaXRpb24pO1xuICAgICAgfVxuICAgIF07XG5cbiAgICAgIC8vIGh0dHBzOi8vdGMzOS5naXRodWIuaW8vZWNtYTI2Mi8jc2VjLWdldHN1YnN0aXR1dGlvblxuICAgIGZ1bmN0aW9uIGdldFN1YnN0aXR1dGlvbihtYXRjaGVkLCBzdHIsIHBvc2l0aW9uLCBjYXB0dXJlcywgbmFtZWRDYXB0dXJlcywgcmVwbGFjZW1lbnQpIHtcbiAgICAgIHZhciB0YWlsUG9zID0gcG9zaXRpb24gKyBtYXRjaGVkLmxlbmd0aDtcbiAgICAgIHZhciBtID0gY2FwdHVyZXMubGVuZ3RoO1xuICAgICAgdmFyIHN5bWJvbHMgPSBTVUJTVElUVVRJT05fU1lNQk9MU19OT19OQU1FRDtcbiAgICAgIGlmIChuYW1lZENhcHR1cmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbmFtZWRDYXB0dXJlcyA9IF90b09iamVjdChuYW1lZENhcHR1cmVzKTtcbiAgICAgICAgc3ltYm9scyA9IFNVQlNUSVRVVElPTl9TWU1CT0xTO1xuICAgICAgfVxuICAgICAgcmV0dXJuICRyZXBsYWNlLmNhbGwocmVwbGFjZW1lbnQsIHN5bWJvbHMsIGZ1bmN0aW9uIChtYXRjaCwgY2gpIHtcbiAgICAgICAgdmFyIGNhcHR1cmU7XG4gICAgICAgIHN3aXRjaCAoY2guY2hhckF0KDApKSB7XG4gICAgICAgICAgY2FzZSAnJCc6IHJldHVybiAnJCc7XG4gICAgICAgICAgY2FzZSAnJic6IHJldHVybiBtYXRjaGVkO1xuICAgICAgICAgIGNhc2UgJ2AnOiByZXR1cm4gc3RyLnNsaWNlKDAsIHBvc2l0aW9uKTtcbiAgICAgICAgICBjYXNlIFwiJ1wiOiByZXR1cm4gc3RyLnNsaWNlKHRhaWxQb3MpO1xuICAgICAgICAgIGNhc2UgJzwnOlxuICAgICAgICAgICAgY2FwdHVyZSA9IG5hbWVkQ2FwdHVyZXNbY2guc2xpY2UoMSwgLTEpXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6IC8vIFxcZFxcZD9cbiAgICAgICAgICAgIHZhciBuID0gK2NoO1xuICAgICAgICAgICAgaWYgKG4gPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgIGlmIChuID4gbSkge1xuICAgICAgICAgICAgICB2YXIgZiA9IGZsb29yJDEobiAvIDEwKTtcbiAgICAgICAgICAgICAgaWYgKGYgPT09IDApIHJldHVybiBtYXRjaDtcbiAgICAgICAgICAgICAgaWYgKGYgPD0gbSkgcmV0dXJuIGNhcHR1cmVzW2YgLSAxXSA9PT0gdW5kZWZpbmVkID8gY2guY2hhckF0KDEpIDogY2FwdHVyZXNbZiAtIDFdICsgY2guY2hhckF0KDEpO1xuICAgICAgICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXB0dXJlID0gY2FwdHVyZXNbbiAtIDFdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjYXB0dXJlID09PSB1bmRlZmluZWQgPyAnJyA6IGNhcHR1cmU7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpO1xuICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogQ29yZVVJICh2Mi4xLjkpOiBhamF4LWxvYWQuanNcclxuICAgKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vY29yZXVpLmlvL2xpY2Vuc2UpXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgKi9cblxuICB2YXIgQWpheExvYWQgPSBmdW5jdGlvbiAoJCkge1xuICAgIC8qKlxyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKiBDb25zdGFudHNcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXG4gICAgdmFyIE5BTUUgPSAnYWpheExvYWQnO1xuICAgIHZhciBWRVJTSU9OID0gJzIuMS45JztcbiAgICB2YXIgREFUQV9LRVkgPSAnY29yZXVpLmFqYXhMb2FkJztcbiAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJC5mbltOQU1FXTtcbiAgICB2YXIgQ2xhc3NOYW1lID0ge1xuICAgICAgQUNUSVZFOiAnYWN0aXZlJyxcbiAgICAgIE5BVl9QSUxMUzogJ25hdi1waWxscycsXG4gICAgICBOQVZfVEFCUzogJ25hdi10YWJzJyxcbiAgICAgIE9QRU46ICdvcGVuJyxcbiAgICAgIFZJRVdfU0NSSVBUOiAndmlldy1zY3JpcHQnXG4gICAgfTtcbiAgICB2YXIgRXZlbnQgPSB7XG4gICAgICBDTElDSzogJ2NsaWNrJ1xuICAgIH07XG4gICAgdmFyIFNlbGVjdG9yID0ge1xuICAgICAgSEVBRDogJ2hlYWQnLFxuICAgICAgTkFWX0RST1BET1dOOiAnLnNpZGViYXItbmF2IC5uYXYtZHJvcGRvd24nLFxuICAgICAgTkFWX0xJTks6ICcuc2lkZWJhci1uYXYgLm5hdi1saW5rJyxcbiAgICAgIE5BVl9JVEVNOiAnLnNpZGViYXItbmF2IC5uYXYtaXRlbScsXG4gICAgICBWSUVXX1NDUklQVDogJy52aWV3LXNjcmlwdCdcbiAgICB9O1xuICAgIHZhciBEZWZhdWx0ID0ge1xuICAgICAgZGVmYXVsdFBhZ2U6ICdtYWluLmh0bWwnLFxuICAgICAgZXJyb3JQYWdlOiAnNDA0Lmh0bWwnLFxuICAgICAgc3VicGFnZXNEaXJlY3Rvcnk6ICd2aWV3cy8nXG4gICAgfTtcblxuICAgIHZhciBBamF4TG9hZCA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIEFqYXhMb2FkKGVsZW1lbnQsIGNvbmZpZykge1xuICAgICAgICB0aGlzLl9jb25maWcgPSB0aGlzLl9nZXRDb25maWcoY29uZmlnKTtcbiAgICAgICAgdGhpcy5fZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgICAgIHZhciB1cmwgPSBsb2NhdGlvbi5oYXNoLnJlcGxhY2UoL14jLywgJycpO1xuXG4gICAgICAgIGlmICh1cmwgIT09ICcnKSB7XG4gICAgICAgICAgdGhpcy5zZXRVcFVybCh1cmwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuc2V0VXBVcmwodGhpcy5fY29uZmlnLmRlZmF1bHRQYWdlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICB2YXIgX3Byb3RvID0gQWpheExvYWQucHJvdG90eXBlO1xuXG4gICAgICAvLyBQdWJsaWNcbiAgICAgIF9wcm90by5sb2FkUGFnZSA9IGZ1bmN0aW9uIGxvYWRQYWdlKHVybCkge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXMuX2VsZW1lbnQ7XG4gICAgICAgIHZhciBjb25maWcgPSB0aGlzLl9jb25maWc7XG5cbiAgICAgICAgdmFyIGxvYWRTY3JpcHRzID0gZnVuY3Rpb24gbG9hZFNjcmlwdHMoc3JjLCBlbGVtZW50KSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZWxlbWVudCA9IDA7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgICAgICAgIHNjcmlwdC50eXBlID0gJ3RleHQvamF2YXNjcmlwdCc7XG4gICAgICAgICAgc2NyaXB0LnNyYyA9IHNyY1tlbGVtZW50XTtcbiAgICAgICAgICBzY3JpcHQuY2xhc3NOYW1lID0gQ2xhc3NOYW1lLlZJRVdfU0NSSVBUOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tbXVsdGktYXNzaWduXG5cbiAgICAgICAgICBzY3JpcHQub25sb2FkID0gc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWFkeVN0YXRlIHx8IHRoaXMucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJykge1xuICAgICAgICAgICAgICBpZiAoc3JjLmxlbmd0aCA+IGVsZW1lbnQgKyAxKSB7XG4gICAgICAgICAgICAgICAgbG9hZFNjcmlwdHMoc3JjLCBlbGVtZW50ICsgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgdmFyIGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYm9keScpWzBdO1xuICAgICAgICAgIGJvZHkuYXBwZW5kQ2hpbGQoc2NyaXB0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgIHVybDogY29uZmlnLnN1YnBhZ2VzRGlyZWN0b3J5ICsgdXJsLFxuICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsXG4gICAgICAgICAgYmVmb3JlU2VuZDogZnVuY3Rpb24gYmVmb3JlU2VuZCgpIHtcbiAgICAgICAgICAgICQoU2VsZWN0b3IuVklFV19TQ1JJUFQpLnJlbW92ZSgpO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhyZXN1bHQpIHtcbiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgICB3cmFwcGVyLmlubmVySFRNTCA9IHJlc3VsdDtcbiAgICAgICAgICAgIHZhciBzY3JpcHRzID0gQXJyYXkuZnJvbSh3cmFwcGVyLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NjcmlwdCcpKS5tYXAoZnVuY3Rpb24gKHNjcmlwdCkge1xuICAgICAgICAgICAgICByZXR1cm4gc2NyaXB0LmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKCdzcmMnKS5ub2RlVmFsdWU7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHdyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnc2NyaXB0JykuZm9yRWFjaChmdW5jdGlvbiAoc2NyaXB0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBzY3JpcHQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAkKCdib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgIHNjcm9sbFRvcDogMFxuICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAkKGVsZW1lbnQpLmh0bWwod3JhcHBlcik7XG5cbiAgICAgICAgICAgIGlmIChzY3JpcHRzLmxlbmd0aCkge1xuICAgICAgICAgICAgICBsb2FkU2NyaXB0cyhzY3JpcHRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSB1cmw7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3IoKSB7XG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGNvbmZpZy5lcnJvclBhZ2U7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5zZXRVcFVybCA9IGZ1bmN0aW9uIHNldFVwVXJsKHVybCkge1xuICAgICAgICAkKFNlbGVjdG9yLk5BVl9MSU5LKS5yZW1vdmVDbGFzcyhDbGFzc05hbWUuQUNUSVZFKTtcbiAgICAgICAgJChTZWxlY3Rvci5OQVZfRFJPUERPV04pLnJlbW92ZUNsYXNzKENsYXNzTmFtZS5PUEVOKTtcbiAgICAgICAgJChTZWxlY3Rvci5OQVZfRFJPUERPV04gKyBcIjpoYXMoYVtocmVmPVxcXCJcIiArIHVybC5yZXBsYWNlKC9eXFwvLywgJycpLnNwbGl0KCc/JylbMF0gKyBcIlxcXCJdKVwiKS5hZGRDbGFzcyhDbGFzc05hbWUuT1BFTik7XG4gICAgICAgICQoU2VsZWN0b3IuTkFWX0lURU0gKyBcIiBhW2hyZWY9XFxcIlwiICsgdXJsLnJlcGxhY2UoL15cXC8vLCAnJykuc3BsaXQoJz8nKVswXSArIFwiXFxcIl1cIikuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSk7XG4gICAgICAgIHRoaXMubG9hZFBhZ2UodXJsKTtcbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5sb2FkQmxhbmsgPSBmdW5jdGlvbiBsb2FkQmxhbmsodXJsKSB7XG4gICAgICAgIHdpbmRvdy5vcGVuKHVybCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8ubG9hZFRvcCA9IGZ1bmN0aW9uIGxvYWRUb3AodXJsKSB7XG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHVybDtcbiAgICAgIH0gLy8gUHJpdmF0ZVxuICAgICAgO1xuXG4gICAgICBfcHJvdG8uX2dldENvbmZpZyA9IGZ1bmN0aW9uIF9nZXRDb25maWcoY29uZmlnKSB7XG4gICAgICAgIGNvbmZpZyA9IE9iamVjdC5hc3NpZ24oe30sIERlZmF1bHQsIGNvbmZpZyk7XG4gICAgICAgIHJldHVybiBjb25maWc7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX2FkZEV2ZW50TGlzdGVuZXJzID0gZnVuY3Rpb24gX2FkZEV2ZW50TGlzdGVuZXJzKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLLCBTZWxlY3Rvci5OQVZfTElOSyArIFwiW2hyZWYhPVxcXCIjXFxcIl1cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnRhcmdldCA9PT0gJ190b3AnKSB7XG4gICAgICAgICAgICBfdGhpcy5sb2FkVG9wKGV2ZW50LmN1cnJlbnRUYXJnZXQuaHJlZik7XG4gICAgICAgICAgfSBlbHNlIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LnRhcmdldCA9PT0gJ19ibGFuaycpIHtcbiAgICAgICAgICAgIF90aGlzLmxvYWRCbGFuayhldmVudC5jdXJyZW50VGFyZ2V0LmhyZWYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfdGhpcy5zZXRVcFVybChldmVudC5jdXJyZW50VGFyZ2V0LmdldEF0dHJpYnV0ZSgnaHJlZicpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBTdGF0aWNcbiAgICAgIDtcblxuICAgICAgQWpheExvYWQuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBkYXRhID0gJCh0aGlzKS5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgIHZhciBfY29uZmlnID0gdHlwZW9mIGNvbmZpZyA9PT0gJ29iamVjdCcgJiYgY29uZmlnO1xuXG4gICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IEFqYXhMb2FkKHRoaXMsIF9jb25maWcpO1xuICAgICAgICAgICAgJCh0aGlzKS5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX2NyZWF0ZUNsYXNzKEFqYXhMb2FkLCBudWxsLCBbe1xuICAgICAgICBrZXk6IFwiVkVSU0lPTlwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gVkVSU0lPTjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBrZXk6IFwiRGVmYXVsdFwiLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHtcbiAgICAgICAgICByZXR1cm4gRGVmYXVsdDtcbiAgICAgICAgfVxuICAgICAgfV0pO1xuXG4gICAgICByZXR1cm4gQWpheExvYWQ7XG4gICAgfSgpO1xuICAgIC8qKlxyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKiBqUXVlcnlcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXG5cblxuICAgICQuZm5bTkFNRV0gPSBBamF4TG9hZC5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBBamF4TG9hZDtcblxuICAgICQuZm5bTkFNRV0ubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICQuZm5bTkFNRV0gPSBKUVVFUllfTk9fQ09ORkxJQ1Q7XG4gICAgICByZXR1cm4gQWpheExvYWQuX2pRdWVyeUludGVyZmFjZTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEFqYXhMb2FkO1xuICB9KCQpO1xuXG4gIC8qKlxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogQ29yZVVJICh2Mi4xLjkpOiB0b2dnbGUtY2xhc3Nlcy5qc1xyXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9jb3JldWkuaW8vbGljZW5zZSlcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqL1xuICB2YXIgcmVtb3ZlQ2xhc3NlcyA9IGZ1bmN0aW9uIHJlbW92ZUNsYXNzZXMoY2xhc3NOYW1lcykge1xuICAgIHJldHVybiBjbGFzc05hbWVzLm1hcChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKTtcbiAgICB9KS5pbmRleE9mKHRydWUpICE9PSAtMTtcbiAgfTtcblxuICB2YXIgdG9nZ2xlQ2xhc3NlcyA9IGZ1bmN0aW9uIHRvZ2dsZUNsYXNzZXModG9nZ2xlQ2xhc3MsIGNsYXNzTmFtZXMpIHtcbiAgICB2YXIgYnJlYWtwb2ludCA9IGNsYXNzTmFtZXMuaW5kZXhPZih0b2dnbGVDbGFzcyk7XG4gICAgdmFyIG5ld0NsYXNzTmFtZXMgPSBjbGFzc05hbWVzLnNsaWNlKDAsIGJyZWFrcG9pbnQgKyAxKTtcblxuICAgIGlmIChyZW1vdmVDbGFzc2VzKG5ld0NsYXNzTmFtZXMpKSB7XG4gICAgICBuZXdDbGFzc05hbWVzLm1hcChmdW5jdGlvbiAoY2xhc3NOYW1lKSB7XG4gICAgICAgIHJldHVybiBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQodG9nZ2xlQ2xhc3MpO1xuICAgIH1cbiAgfTtcblxuICAvKipcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIENvcmVVSSAodjIuMS45KTogYXNpZGUtbWVudS5qc1xyXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9jb3JldWkuaW8vbGljZW5zZSlcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqL1xuXG4gIHZhciBBc2lkZU1lbnUgPSBmdW5jdGlvbiAoJCkge1xuICAgIC8qKlxyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKiBDb25zdGFudHNcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXG4gICAgdmFyIE5BTUUgPSAnYXNpZGUtbWVudSc7XG4gICAgdmFyIFZFUlNJT04gPSAnMi4xLjknO1xuICAgIHZhciBEQVRBX0tFWSA9ICdjb3JldWkuYXNpZGUtbWVudSc7XG4gICAgdmFyIEVWRU5UX0tFWSA9IFwiLlwiICsgREFUQV9LRVk7XG4gICAgdmFyIERBVEFfQVBJX0tFWSA9ICcuZGF0YS1hcGknO1xuICAgIHZhciBKUVVFUllfTk9fQ09ORkxJQ1QgPSAkLmZuW05BTUVdO1xuICAgIHZhciBFdmVudCA9IHtcbiAgICAgIENMSUNLOiAnY2xpY2snLFxuICAgICAgTE9BRF9EQVRBX0FQSTogXCJsb2FkXCIgKyBFVkVOVF9LRVkgKyBEQVRBX0FQSV9LRVksXG4gICAgICBUT0dHTEU6ICd0b2dnbGUnXG4gICAgfTtcbiAgICB2YXIgU2VsZWN0b3IgPSB7XG4gICAgICBCT0RZOiAnYm9keScsXG4gICAgICBBU0lERV9NRU5VOiAnLmFzaWRlLW1lbnUnLFxuICAgICAgQVNJREVfTUVOVV9UT0dHTEVSOiAnLmFzaWRlLW1lbnUtdG9nZ2xlcidcbiAgICB9O1xuICAgIHZhciBTaG93Q2xhc3NOYW1lcyA9IFsnYXNpZGUtbWVudS1zaG93JywgJ2FzaWRlLW1lbnUtc20tc2hvdycsICdhc2lkZS1tZW51LW1kLXNob3cnLCAnYXNpZGUtbWVudS1sZy1zaG93JywgJ2FzaWRlLW1lbnUteGwtc2hvdyddO1xuICAgIC8qKlxyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKiBDbGFzcyBEZWZpbml0aW9uXHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xuXG4gICAgdmFyIEFzaWRlTWVudSA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIEFzaWRlTWVudShlbGVtZW50KSB7XG4gICAgICAgIHRoaXMuX2VsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICAgIHRoaXMuX2FkZEV2ZW50TGlzdGVuZXJzKCk7XG4gICAgICB9IC8vIEdldHRlcnNcblxuXG4gICAgICB2YXIgX3Byb3RvID0gQXNpZGVNZW51LnByb3RvdHlwZTtcblxuICAgICAgLy8gUHJpdmF0ZVxuICAgICAgX3Byb3RvLl9hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgJChkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0ssIFNlbGVjdG9yLkFTSURFX01FTlVfVE9HR0xFUiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICB2YXIgdG9nZ2xlID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0ID8gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LnRvZ2dsZSA6ICQoZXZlbnQuY3VycmVudFRhcmdldCkuZGF0YSgndG9nZ2xlJyk7XG4gICAgICAgICAgdG9nZ2xlQ2xhc3Nlcyh0b2dnbGUsIFNob3dDbGFzc05hbWVzKTtcbiAgICAgICAgfSk7XG4gICAgICB9IC8vIFN0YXRpY1xuICAgICAgO1xuXG4gICAgICBBc2lkZU1lbnUuX2pRdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uIF9qUXVlcnlJbnRlcmZhY2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQodGhpcyk7XG4gICAgICAgICAgdmFyIGRhdGEgPSAkZWxlbWVudC5kYXRhKERBVEFfS0VZKTtcblxuICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgZGF0YSA9IG5ldyBBc2lkZU1lbnUodGhpcyk7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX2NyZWF0ZUNsYXNzKEFzaWRlTWVudSwgbnVsbCwgW3tcbiAgICAgICAga2V5OiBcIlZFUlNJT05cIixcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7XG4gICAgICAgICAgcmV0dXJuIFZFUlNJT047XG4gICAgICAgIH1cbiAgICAgIH1dKTtcblxuICAgICAgcmV0dXJuIEFzaWRlTWVudTtcbiAgICB9KCk7XG4gICAgLyoqXHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqIERhdGEgQXBpIGltcGxlbWVudGF0aW9uXHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xuXG5cbiAgICAkKHdpbmRvdykub24oRXZlbnQuTE9BRF9EQVRBX0FQSSwgZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGFzaWRlTWVudSA9ICQoU2VsZWN0b3IuQVNJREVfTUVOVSk7XG5cbiAgICAgIEFzaWRlTWVudS5falF1ZXJ5SW50ZXJmYWNlLmNhbGwoYXNpZGVNZW51KTtcbiAgICB9KTtcbiAgICAvKipcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICogalF1ZXJ5XHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xuXG4gICAgJC5mbltOQU1FXSA9IEFzaWRlTWVudS5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBBc2lkZU1lbnU7XG5cbiAgICAkLmZuW05BTUVdLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAkLmZuW05BTUVdID0gSlFVRVJZX05PX0NPTkZMSUNUO1xuICAgICAgcmV0dXJuIEFzaWRlTWVudS5falF1ZXJ5SW50ZXJmYWNlO1xuICAgIH07XG5cbiAgICByZXR1cm4gQXNpZGVNZW51O1xuICB9KCQpO1xuXG4gIC8vIDcuMi4yIElzQXJyYXkoYXJndW1lbnQpXG5cbiAgdmFyIF9pc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZykge1xuICAgIHJldHVybiBfY29mKGFyZykgPT0gJ0FycmF5JztcbiAgfTtcblxuICB2YXIgU1BFQ0lFUyQyID0gX3drcygnc3BlY2llcycpO1xuXG4gIHZhciBfYXJyYXlTcGVjaWVzQ29uc3RydWN0b3IgPSBmdW5jdGlvbiAob3JpZ2luYWwpIHtcbiAgICB2YXIgQztcbiAgICBpZiAoX2lzQXJyYXkob3JpZ2luYWwpKSB7XG4gICAgICBDID0gb3JpZ2luYWwuY29uc3RydWN0b3I7XG4gICAgICAvLyBjcm9zcy1yZWFsbSBmYWxsYmFja1xuICAgICAgaWYgKHR5cGVvZiBDID09ICdmdW5jdGlvbicgJiYgKEMgPT09IEFycmF5IHx8IF9pc0FycmF5KEMucHJvdG90eXBlKSkpIEMgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoX2lzT2JqZWN0KEMpKSB7XG4gICAgICAgIEMgPSBDW1NQRUNJRVMkMl07XG4gICAgICAgIGlmIChDID09PSBudWxsKSBDID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0gcmV0dXJuIEMgPT09IHVuZGVmaW5lZCA/IEFycmF5IDogQztcbiAgfTtcblxuICAvLyA5LjQuMi4zIEFycmF5U3BlY2llc0NyZWF0ZShvcmlnaW5hbEFycmF5LCBsZW5ndGgpXG5cblxuICB2YXIgX2FycmF5U3BlY2llc0NyZWF0ZSA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbGVuZ3RoKSB7XG4gICAgcmV0dXJuIG5ldyAoX2FycmF5U3BlY2llc0NvbnN0cnVjdG9yKG9yaWdpbmFsKSkobGVuZ3RoKTtcbiAgfTtcblxuICAvLyAwIC0+IEFycmF5I2ZvckVhY2hcbiAgLy8gMSAtPiBBcnJheSNtYXBcbiAgLy8gMiAtPiBBcnJheSNmaWx0ZXJcbiAgLy8gMyAtPiBBcnJheSNzb21lXG4gIC8vIDQgLT4gQXJyYXkjZXZlcnlcbiAgLy8gNSAtPiBBcnJheSNmaW5kXG4gIC8vIDYgLT4gQXJyYXkjZmluZEluZGV4XG5cblxuXG5cblxuICB2YXIgX2FycmF5TWV0aG9kcyA9IGZ1bmN0aW9uIChUWVBFLCAkY3JlYXRlKSB7XG4gICAgdmFyIElTX01BUCA9IFRZUEUgPT0gMTtcbiAgICB2YXIgSVNfRklMVEVSID0gVFlQRSA9PSAyO1xuICAgIHZhciBJU19TT01FID0gVFlQRSA9PSAzO1xuICAgIHZhciBJU19FVkVSWSA9IFRZUEUgPT0gNDtcbiAgICB2YXIgSVNfRklORF9JTkRFWCA9IFRZUEUgPT0gNjtcbiAgICB2YXIgTk9fSE9MRVMgPSBUWVBFID09IDUgfHwgSVNfRklORF9JTkRFWDtcbiAgICB2YXIgY3JlYXRlID0gJGNyZWF0ZSB8fCBfYXJyYXlTcGVjaWVzQ3JlYXRlO1xuICAgIHJldHVybiBmdW5jdGlvbiAoJHRoaXMsIGNhbGxiYWNrZm4sIHRoYXQpIHtcbiAgICAgIHZhciBPID0gX3RvT2JqZWN0KCR0aGlzKTtcbiAgICAgIHZhciBzZWxmID0gX2lvYmplY3QoTyk7XG4gICAgICB2YXIgZiA9IF9jdHgoY2FsbGJhY2tmbiwgdGhhdCwgMyk7XG4gICAgICB2YXIgbGVuZ3RoID0gX3RvTGVuZ3RoKHNlbGYubGVuZ3RoKTtcbiAgICAgIHZhciBpbmRleCA9IDA7XG4gICAgICB2YXIgcmVzdWx0ID0gSVNfTUFQID8gY3JlYXRlKCR0aGlzLCBsZW5ndGgpIDogSVNfRklMVEVSID8gY3JlYXRlKCR0aGlzLCAwKSA6IHVuZGVmaW5lZDtcbiAgICAgIHZhciB2YWwsIHJlcztcbiAgICAgIGZvciAoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKSBpZiAoTk9fSE9MRVMgfHwgaW5kZXggaW4gc2VsZikge1xuICAgICAgICB2YWwgPSBzZWxmW2luZGV4XTtcbiAgICAgICAgcmVzID0gZih2YWwsIGluZGV4LCBPKTtcbiAgICAgICAgaWYgKFRZUEUpIHtcbiAgICAgICAgICBpZiAoSVNfTUFQKSByZXN1bHRbaW5kZXhdID0gcmVzOyAgIC8vIG1hcFxuICAgICAgICAgIGVsc2UgaWYgKHJlcykgc3dpdGNoIChUWVBFKSB7XG4gICAgICAgICAgICBjYXNlIDM6IHJldHVybiB0cnVlOyAgICAgICAgICAgICAvLyBzb21lXG4gICAgICAgICAgICBjYXNlIDU6IHJldHVybiB2YWw7ICAgICAgICAgICAgICAvLyBmaW5kXG4gICAgICAgICAgICBjYXNlIDY6IHJldHVybiBpbmRleDsgICAgICAgICAgICAvLyBmaW5kSW5kZXhcbiAgICAgICAgICAgIGNhc2UgMjogcmVzdWx0LnB1c2godmFsKTsgICAgICAgIC8vIGZpbHRlclxuICAgICAgICAgIH0gZWxzZSBpZiAoSVNfRVZFUlkpIHJldHVybiBmYWxzZTsgLy8gZXZlcnlcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIElTX0ZJTkRfSU5ERVggPyAtMSA6IElTX1NPTUUgfHwgSVNfRVZFUlkgPyBJU19FVkVSWSA6IHJlc3VsdDtcbiAgICB9O1xuICB9O1xuXG4gIC8vIDIyLjEuMy4zMSBBcnJheS5wcm90b3R5cGVbQEB1bnNjb3BhYmxlc11cbiAgdmFyIFVOU0NPUEFCTEVTID0gX3drcygndW5zY29wYWJsZXMnKTtcbiAgdmFyIEFycmF5UHJvdG8kMSA9IEFycmF5LnByb3RvdHlwZTtcbiAgaWYgKEFycmF5UHJvdG8kMVtVTlNDT1BBQkxFU10gPT0gdW5kZWZpbmVkKSBfaGlkZShBcnJheVByb3RvJDEsIFVOU0NPUEFCTEVTLCB7fSk7XG4gIHZhciBfYWRkVG9VbnNjb3BhYmxlcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICBBcnJheVByb3RvJDFbVU5TQ09QQUJMRVNdW2tleV0gPSB0cnVlO1xuICB9O1xuXG4gIC8vIDIyLjEuMy44IEFycmF5LnByb3RvdHlwZS5maW5kKHByZWRpY2F0ZSwgdGhpc0FyZyA9IHVuZGVmaW5lZClcblxuICB2YXIgJGZpbmQgPSBfYXJyYXlNZXRob2RzKDUpO1xuICB2YXIgS0VZID0gJ2ZpbmQnO1xuICB2YXIgZm9yY2VkID0gdHJ1ZTtcbiAgLy8gU2hvdWxkbid0IHNraXAgaG9sZXNcbiAgaWYgKEtFWSBpbiBbXSkgQXJyYXkoMSlbS0VZXShmdW5jdGlvbiAoKSB7IGZvcmNlZCA9IGZhbHNlOyB9KTtcbiAgX2V4cG9ydChfZXhwb3J0LlAgKyBfZXhwb3J0LkYgKiBmb3JjZWQsICdBcnJheScsIHtcbiAgICBmaW5kOiBmdW5jdGlvbiBmaW5kKGNhbGxiYWNrZm4gLyogLCB0aGF0ID0gdW5kZWZpbmVkICovKSB7XG4gICAgICByZXR1cm4gJGZpbmQodGhpcywgY2FsbGJhY2tmbiwgYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQpO1xuICAgIH1cbiAgfSk7XG4gIF9hZGRUb1Vuc2NvcGFibGVzKEtFWSk7XG5cbiAgLy8gQEBtYXRjaCBsb2dpY1xuICBfZml4UmVXa3MoJ21hdGNoJywgMSwgZnVuY3Rpb24gKGRlZmluZWQsIE1BVENILCAkbWF0Y2gsIG1heWJlQ2FsbE5hdGl2ZSkge1xuICAgIHJldHVybiBbXG4gICAgICAvLyBgU3RyaW5nLnByb3RvdHlwZS5tYXRjaGAgbWV0aG9kXG4gICAgICAvLyBodHRwczovL3RjMzkuZ2l0aHViLmlvL2VjbWEyNjIvI3NlYy1zdHJpbmcucHJvdG90eXBlLm1hdGNoXG4gICAgICBmdW5jdGlvbiBtYXRjaChyZWdleHApIHtcbiAgICAgICAgdmFyIE8gPSBkZWZpbmVkKHRoaXMpO1xuICAgICAgICB2YXIgZm4gPSByZWdleHAgPT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkIDogcmVnZXhwW01BVENIXTtcbiAgICAgICAgcmV0dXJuIGZuICE9PSB1bmRlZmluZWQgPyBmbi5jYWxsKHJlZ2V4cCwgTykgOiBuZXcgUmVnRXhwKHJlZ2V4cClbTUFUQ0hdKFN0cmluZyhPKSk7XG4gICAgICB9LFxuICAgICAgLy8gYFJlZ0V4cC5wcm90b3R5cGVbQEBtYXRjaF1gIG1ldGhvZFxuICAgICAgLy8gaHR0cHM6Ly90YzM5LmdpdGh1Yi5pby9lY21hMjYyLyNzZWMtcmVnZXhwLnByb3RvdHlwZS1AQG1hdGNoXG4gICAgICBmdW5jdGlvbiAocmVnZXhwKSB7XG4gICAgICAgIHZhciByZXMgPSBtYXliZUNhbGxOYXRpdmUoJG1hdGNoLCByZWdleHAsIHRoaXMpO1xuICAgICAgICBpZiAocmVzLmRvbmUpIHJldHVybiByZXMudmFsdWU7XG4gICAgICAgIHZhciByeCA9IF9hbk9iamVjdChyZWdleHApO1xuICAgICAgICB2YXIgUyA9IFN0cmluZyh0aGlzKTtcbiAgICAgICAgaWYgKCFyeC5nbG9iYWwpIHJldHVybiBfcmVnZXhwRXhlY0Fic3RyYWN0KHJ4LCBTKTtcbiAgICAgICAgdmFyIGZ1bGxVbmljb2RlID0gcngudW5pY29kZTtcbiAgICAgICAgcngubGFzdEluZGV4ID0gMDtcbiAgICAgICAgdmFyIEEgPSBbXTtcbiAgICAgICAgdmFyIG4gPSAwO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB3aGlsZSAoKHJlc3VsdCA9IF9yZWdleHBFeGVjQWJzdHJhY3QocngsIFMpKSAhPT0gbnVsbCkge1xuICAgICAgICAgIHZhciBtYXRjaFN0ciA9IFN0cmluZyhyZXN1bHRbMF0pO1xuICAgICAgICAgIEFbbl0gPSBtYXRjaFN0cjtcbiAgICAgICAgICBpZiAobWF0Y2hTdHIgPT09ICcnKSByeC5sYXN0SW5kZXggPSBfYWR2YW5jZVN0cmluZ0luZGV4KFMsIF90b0xlbmd0aChyeC5sYXN0SW5kZXgpLCBmdWxsVW5pY29kZSk7XG4gICAgICAgICAgbisrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuID09PSAwID8gbnVsbCA6IEE7XG4gICAgICB9XG4gICAgXTtcbiAgfSk7XG5cbiAgLyoqXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgKiBDb3JlVUkgVXRpbGl0aWVzICh2Mi4xLjkpOiBnZXQtY3NzLWN1c3RvbS1wcm9wZXJ0aWVzLmpzXHJcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2NvcmV1aS5pby9saWNlbnNlKVxyXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IGNzcyBjdXN0b20gcHJvcGVydHkgbmFtZVxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICovXG4gIHZhciBnZXRDc3NDdXN0b21Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gZ2V0Q3NzQ3VzdG9tUHJvcGVydGllcygpIHtcbiAgICB2YXIgY3NzQ3VzdG9tUHJvcGVydGllcyA9IHt9O1xuICAgIHZhciBzaGVldHMgPSBkb2N1bWVudC5zdHlsZVNoZWV0cztcbiAgICB2YXIgY3NzVGV4dCA9ICcnO1xuXG4gICAgZm9yICh2YXIgaSA9IHNoZWV0cy5sZW5ndGggLSAxOyBpID4gLTE7IGktLSkge1xuICAgICAgdmFyIHJ1bGVzID0gc2hlZXRzW2ldLmNzc1J1bGVzO1xuXG4gICAgICBmb3IgKHZhciBqID0gcnVsZXMubGVuZ3RoIC0gMTsgaiA+IC0xOyBqLS0pIHtcbiAgICAgICAgaWYgKHJ1bGVzW2pdLnNlbGVjdG9yVGV4dCA9PT0gJy5pZS1jdXN0b20tcHJvcGVydGllcycpIHtcbiAgICAgICAgICBjc3NUZXh0ID0gcnVsZXNbal0uY3NzVGV4dDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoY3NzVGV4dCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjc3NUZXh0ID0gY3NzVGV4dC5zdWJzdHJpbmcoY3NzVGV4dC5sYXN0SW5kZXhPZigneycpICsgMSwgY3NzVGV4dC5sYXN0SW5kZXhPZignfScpKTtcbiAgICBjc3NUZXh0LnNwbGl0KCc7JykuZm9yRWFjaChmdW5jdGlvbiAocHJvcGVydHkpIHtcbiAgICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgICB2YXIgbmFtZSA9IHByb3BlcnR5LnNwbGl0KCc6ICcpWzBdO1xuICAgICAgICB2YXIgdmFsdWUgPSBwcm9wZXJ0eS5zcGxpdCgnOiAnKVsxXTtcblxuICAgICAgICBpZiAobmFtZSAmJiB2YWx1ZSkge1xuICAgICAgICAgIGNzc0N1c3RvbVByb3BlcnRpZXNbXCItLVwiICsgbmFtZS50cmltKCldID0gdmFsdWUudHJpbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGNzc0N1c3RvbVByb3BlcnRpZXM7XG4gIH07XG5cbiAgdmFyIG1pbklFVmVyc2lvbiA9IDEwO1xuXG4gIHZhciBpc0lFMXggPSBmdW5jdGlvbiBpc0lFMXgoKSB7XG4gICAgcmV0dXJuIEJvb2xlYW4oZG9jdW1lbnQuZG9jdW1lbnRNb2RlKSAmJiBkb2N1bWVudC5kb2N1bWVudE1vZGUgPj0gbWluSUVWZXJzaW9uO1xuICB9O1xuXG4gIHZhciBpc0N1c3RvbVByb3BlcnR5ID0gZnVuY3Rpb24gaXNDdXN0b21Qcm9wZXJ0eShwcm9wZXJ0eSkge1xuICAgIHJldHVybiBwcm9wZXJ0eS5tYXRjaCgvXi0tLiovaSk7XG4gIH07XG5cbiAgdmFyIGdldFN0eWxlID0gZnVuY3Rpb24gZ2V0U3R5bGUocHJvcGVydHksIGVsZW1lbnQpIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gdm9pZCAwKSB7XG4gICAgICBlbGVtZW50ID0gZG9jdW1lbnQuYm9keTtcbiAgICB9XG5cbiAgICB2YXIgc3R5bGU7XG5cbiAgICBpZiAoaXNDdXN0b21Qcm9wZXJ0eShwcm9wZXJ0eSkgJiYgaXNJRTF4KCkpIHtcbiAgICAgIHZhciBjc3NDdXN0b21Qcm9wZXJ0aWVzID0gZ2V0Q3NzQ3VzdG9tUHJvcGVydGllcygpO1xuICAgICAgc3R5bGUgPSBjc3NDdXN0b21Qcm9wZXJ0aWVzW3Byb3BlcnR5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKHByb3BlcnR5KS5yZXBsYWNlKC9eXFxzLywgJycpO1xuICAgIH1cblxuICAgIHJldHVybiBzdHlsZTtcbiAgfTtcblxuICAvKipcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIENvcmVVSSAodjIuMS45KTogc2lkZWJhci5qc1xyXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9jb3JldWkuaW8vbGljZW5zZSlcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqL1xuXG4gIHZhciBTaWRlYmFyID0gZnVuY3Rpb24gKCQpIHtcbiAgICAvKipcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICogQ29uc3RhbnRzXHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqL1xuICAgIHZhciBOQU1FID0gJ3NpZGViYXInO1xuICAgIHZhciBWRVJTSU9OID0gJzIuMS45JztcbiAgICB2YXIgREFUQV9LRVkgPSAnY29yZXVpLnNpZGViYXInO1xuICAgIHZhciBFVkVOVF9LRVkgPSBcIi5cIiArIERBVEFfS0VZO1xuICAgIHZhciBEQVRBX0FQSV9LRVkgPSAnLmRhdGEtYXBpJztcbiAgICB2YXIgSlFVRVJZX05PX0NPTkZMSUNUID0gJC5mbltOQU1FXTtcbiAgICB2YXIgRGVmYXVsdCA9IHtcbiAgICAgIHRyYW5zaXRpb246IDQwMFxuICAgIH07XG4gICAgdmFyIENsYXNzTmFtZSA9IHtcbiAgICAgIEFDVElWRTogJ2FjdGl2ZScsXG4gICAgICBCUkFORF9NSU5JTUlaRUQ6ICdicmFuZC1taW5pbWl6ZWQnLFxuICAgICAgTkFWX0RST1BET1dOX1RPR0dMRTogJ25hdi1kcm9wZG93bi10b2dnbGUnLFxuICAgICAgT1BFTjogJ29wZW4nLFxuICAgICAgU0lERUJBUl9GSVhFRDogJ3NpZGViYXItZml4ZWQnLFxuICAgICAgU0lERUJBUl9NSU5JTUlaRUQ6ICdzaWRlYmFyLW1pbmltaXplZCcsXG4gICAgICBTSURFQkFSX09GRl9DQU5WQVM6ICdzaWRlYmFyLW9mZi1jYW52YXMnXG4gICAgfTtcbiAgICB2YXIgRXZlbnQgPSB7XG4gICAgICBDTElDSzogJ2NsaWNrJyxcbiAgICAgIERFU1RST1k6ICdkZXN0cm95JyxcbiAgICAgIElOSVQ6ICdpbml0JyxcbiAgICAgIExPQURfREFUQV9BUEk6IFwibG9hZFwiICsgRVZFTlRfS0VZICsgREFUQV9BUElfS0VZLFxuICAgICAgVE9HR0xFOiAndG9nZ2xlJyxcbiAgICAgIFVQREFURTogJ3VwZGF0ZSdcbiAgICB9O1xuICAgIHZhciBTZWxlY3RvciA9IHtcbiAgICAgIEJPRFk6ICdib2R5JyxcbiAgICAgIEJSQU5EX01JTklNSVpFUjogJy5icmFuZC1taW5pbWl6ZXInLFxuICAgICAgTkFWX0RST1BET1dOX1RPR0dMRTogJy5uYXYtZHJvcGRvd24tdG9nZ2xlJyxcbiAgICAgIE5BVl9EUk9QRE9XTl9JVEVNUzogJy5uYXYtZHJvcGRvd24taXRlbXMnLFxuICAgICAgTkFWX0lURU06ICcubmF2LWl0ZW0nLFxuICAgICAgTkFWX0xJTks6ICcubmF2LWxpbmsnLFxuICAgICAgTkFWX0xJTktfUVVFUklFRDogJy5uYXYtbGluay1xdWVyaWVkJyxcbiAgICAgIE5BVklHQVRJT05fQ09OVEFJTkVSOiAnLnNpZGViYXItbmF2JyxcbiAgICAgIE5BVklHQVRJT046ICcuc2lkZWJhci1uYXYgPiAubmF2JyxcbiAgICAgIFNJREVCQVI6ICcuc2lkZWJhcicsXG4gICAgICBTSURFQkFSX01JTklNSVpFUjogJy5zaWRlYmFyLW1pbmltaXplcicsXG4gICAgICBTSURFQkFSX1RPR0dMRVI6ICcuc2lkZWJhci10b2dnbGVyJ1xuICAgIH07XG4gICAgdmFyIFNob3dDbGFzc05hbWVzID0gWydzaWRlYmFyLXNob3cnLCAnc2lkZWJhci1zbS1zaG93JywgJ3NpZGViYXItbWQtc2hvdycsICdzaWRlYmFyLWxnLXNob3cnLCAnc2lkZWJhci14bC1zaG93J107XG4gICAgLyoqXHJcbiAgICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAqIENsYXNzIERlZmluaXRpb25cclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXG5cbiAgICB2YXIgU2lkZWJhciA9XG4gICAgLyojX19QVVJFX18qL1xuICAgIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIFNpZGViYXIoZWxlbWVudCkge1xuICAgICAgICB0aGlzLl9lbGVtZW50ID0gZWxlbWVudDtcbiAgICAgICAgdGhpcy5tb2JpbGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5wcyA9IG51bGw7XG4gICAgICAgIHRoaXMucGVyZmVjdFNjcm9sbGJhcihFdmVudC5JTklUKTtcbiAgICAgICAgdGhpcy5zZXRBY3RpdmVMaW5rKCk7XG4gICAgICAgIHRoaXMuX2JyZWFrcG9pbnRUZXN0ID0gdGhpcy5fYnJlYWtwb2ludFRlc3QuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5fY2xpY2tPdXRMaXN0ZW5lciA9IHRoaXMuX2NsaWNrT3V0TGlzdGVuZXIuYmluZCh0aGlzKTtcblxuICAgICAgICB0aGlzLl9hZGRFdmVudExpc3RlbmVycygpO1xuXG4gICAgICAgIHRoaXMuX2FkZE1lZGlhUXVlcnkoKTtcbiAgICAgIH0gLy8gR2V0dGVyc1xuXG5cbiAgICAgIHZhciBfcHJvdG8gPSBTaWRlYmFyLnByb3RvdHlwZTtcblxuICAgICAgLy8gUHVibGljXG4gICAgICBfcHJvdG8ucGVyZmVjdFNjcm9sbGJhciA9IGZ1bmN0aW9uIHBlcmZlY3RTY3JvbGxiYXIoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICBpZiAodHlwZW9mIFBlcmZlY3RTY3JvbGxiYXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgdmFyIGNsYXNzTGlzdCA9IGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0O1xuXG4gICAgICAgICAgaWYgKGV2ZW50ID09PSBFdmVudC5JTklUICYmICFjbGFzc0xpc3QuY29udGFpbnMoQ2xhc3NOYW1lLlNJREVCQVJfTUlOSU1JWkVEKSkge1xuICAgICAgICAgICAgdGhpcy5wcyA9IHRoaXMubWFrZVNjcm9sbGJhcigpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChldmVudCA9PT0gRXZlbnQuREVTVFJPWSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0cm95U2Nyb2xsYmFyKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV2ZW50ID09PSBFdmVudC5UT0dHTEUpIHtcbiAgICAgICAgICAgIGlmIChjbGFzc0xpc3QuY29udGFpbnMoQ2xhc3NOYW1lLlNJREVCQVJfTUlOSU1JWkVEKSkge1xuICAgICAgICAgICAgICB0aGlzLmRlc3Ryb3lTY3JvbGxiYXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMuZGVzdHJveVNjcm9sbGJhcigpO1xuICAgICAgICAgICAgICB0aGlzLnBzID0gdGhpcy5tYWtlU2Nyb2xsYmFyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGV2ZW50ID09PSBFdmVudC5VUERBVEUgJiYgIWNsYXNzTGlzdC5jb250YWlucyhDbGFzc05hbWUuU0lERUJBUl9NSU5JTUlaRUQpKSB7XG4gICAgICAgICAgICAvLyBUb0RvOiBBZGQgc21vb3RoIHRyYW5zaXRpb25cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBfdGhpcy5kZXN0cm95U2Nyb2xsYmFyKCk7XG5cbiAgICAgICAgICAgICAgX3RoaXMucHMgPSBfdGhpcy5tYWtlU2Nyb2xsYmFyKCk7XG4gICAgICAgICAgICB9LCBEZWZhdWx0LnRyYW5zaXRpb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3Byb3RvLm1ha2VTY3JvbGxiYXIgPSBmdW5jdGlvbiBtYWtlU2Nyb2xsYmFyKGNvbnRhaW5lcikge1xuICAgICAgICBpZiAoY29udGFpbmVyID09PSB2b2lkIDApIHtcbiAgICAgICAgICBjb250YWluZXIgPSBTZWxlY3Rvci5OQVZJR0FUSU9OX0NPTlRBSU5FUjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcyA9IG5ldyBQZXJmZWN0U2Nyb2xsYmFyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyKSwge1xuICAgICAgICAgIHN1cHByZXNzU2Nyb2xsWDogdHJ1ZVxuICAgICAgICB9KTsgLy8gVG9EbzogZmluZCByZWFsIGZpeCBmb3IgcHMgcnRsXG5cbiAgICAgICAgcHMuaXNSdGwgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHBzO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLmRlc3Ryb3lTY3JvbGxiYXIgPSBmdW5jdGlvbiBkZXN0cm95U2Nyb2xsYmFyKCkge1xuICAgICAgICBpZiAodGhpcy5wcykge1xuICAgICAgICAgIHRoaXMucHMuZGVzdHJveSgpO1xuICAgICAgICAgIHRoaXMucHMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uc2V0QWN0aXZlTGluayA9IGZ1bmN0aW9uIHNldEFjdGl2ZUxpbmsoKSB7XG4gICAgICAgICQoU2VsZWN0b3IuTkFWSUdBVElPTikuZmluZChTZWxlY3Rvci5OQVZfTElOSykuZWFjaChmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICAgIHZhciBsaW5rID0gdmFsdWU7XG4gICAgICAgICAgdmFyIGNVcmw7XG5cbiAgICAgICAgICBpZiAobGluay5jbGFzc0xpc3QuY29udGFpbnMoU2VsZWN0b3IuTkFWX0xJTktfUVVFUklFRCkpIHtcbiAgICAgICAgICAgIGNVcmwgPSBTdHJpbmcod2luZG93LmxvY2F0aW9uKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY1VybCA9IFN0cmluZyh3aW5kb3cubG9jYXRpb24pLnNwbGl0KCc/JylbMF07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGNVcmwuc3Vic3RyKGNVcmwubGVuZ3RoIC0gMSkgPT09ICcjJykge1xuICAgICAgICAgICAgY1VybCA9IGNVcmwuc2xpY2UoMCwgLTEpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICgkKCQobGluaykpWzBdLmhyZWYgPT09IGNVcmwpIHtcbiAgICAgICAgICAgICQobGluaykuYWRkQ2xhc3MoQ2xhc3NOYW1lLkFDVElWRSkucGFyZW50cyhTZWxlY3Rvci5OQVZfRFJPUERPV05fSVRFTVMpLmFkZChsaW5rKS5lYWNoKGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgIGxpbmsgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgJChsaW5rKS5wYXJlbnQoKS5hZGRDbGFzcyhDbGFzc05hbWUuT1BFTik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBQcml2YXRlXG4gICAgICA7XG5cbiAgICAgIF9wcm90by5fYWRkTWVkaWFRdWVyeSA9IGZ1bmN0aW9uIF9hZGRNZWRpYVF1ZXJ5KCkge1xuICAgICAgICB2YXIgc20gPSBnZXRTdHlsZSgnLS1icmVha3BvaW50LXNtJyk7XG5cbiAgICAgICAgaWYgKCFzbSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzbVZhbCA9IHBhcnNlSW50KHNtLCAxMCkgLSAxO1xuICAgICAgICB2YXIgbWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYShcIihtYXgtd2lkdGg6IFwiICsgc21WYWwgKyBcInB4KVwiKTtcblxuICAgICAgICB0aGlzLl9icmVha3BvaW50VGVzdChtZWRpYVF1ZXJ5TGlzdCk7XG5cbiAgICAgICAgbWVkaWFRdWVyeUxpc3QuYWRkTGlzdGVuZXIodGhpcy5fYnJlYWtwb2ludFRlc3QpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9icmVha3BvaW50VGVzdCA9IGZ1bmN0aW9uIF9icmVha3BvaW50VGVzdChlKSB7XG4gICAgICAgIHRoaXMubW9iaWxlID0gQm9vbGVhbihlLm1hdGNoZXMpO1xuXG4gICAgICAgIHRoaXMuX3RvZ2dsZUNsaWNrT3V0KCk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX2NsaWNrT3V0TGlzdGVuZXIgPSBmdW5jdGlvbiBfY2xpY2tPdXRMaXN0ZW5lcihldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuX2VsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgIC8vIG9yIHVzZTogZXZlbnQudGFyZ2V0LmNsb3Nlc3QoU2VsZWN0b3IuU0lERUJBUikgPT09IG51bGxcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgdGhpcy5fcmVtb3ZlQ2xpY2tPdXQoKTtcblxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2lkZWJhci1zaG93Jyk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF9wcm90by5fYWRkQ2xpY2tPdXQgPSBmdW5jdGlvbiBfYWRkQ2xpY2tPdXQoKSB7XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoRXZlbnQuQ0xJQ0ssIHRoaXMuX2NsaWNrT3V0TGlzdGVuZXIsIHRydWUpO1xuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9yZW1vdmVDbGlja091dCA9IGZ1bmN0aW9uIF9yZW1vdmVDbGlja091dCgpIHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihFdmVudC5DTElDSywgdGhpcy5fY2xpY2tPdXRMaXN0ZW5lciwgdHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICBfcHJvdG8uX3RvZ2dsZUNsaWNrT3V0ID0gZnVuY3Rpb24gX3RvZ2dsZUNsaWNrT3V0KCkge1xuICAgICAgICBpZiAodGhpcy5tb2JpbGUgJiYgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuY29udGFpbnMoJ3NpZGViYXItc2hvdycpKSB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCdhc2lkZS1tZW51LXNob3cnKTtcblxuICAgICAgICAgIHRoaXMuX2FkZENsaWNrT3V0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlQ2xpY2tPdXQoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3Byb3RvLl9hZGRFdmVudExpc3RlbmVycyA9IGZ1bmN0aW9uIF9hZGRFdmVudExpc3RlbmVycygpIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgJChkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0ssIFNlbGVjdG9yLkJSQU5EX01JTklNSVpFUiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAkKFNlbGVjdG9yLkJPRFkpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5CUkFORF9NSU5JTUlaRUQpO1xuICAgICAgICB9KTtcbiAgICAgICAgJChkb2N1bWVudCkub24oRXZlbnQuQ0xJQ0ssIFNlbGVjdG9yLk5BVl9EUk9QRE9XTl9UT0dHTEUsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdmFyIGRyb3Bkb3duID0gZXZlbnQudGFyZ2V0O1xuICAgICAgICAgICQoZHJvcGRvd24pLnBhcmVudCgpLnRvZ2dsZUNsYXNzKENsYXNzTmFtZS5PUEVOKTtcblxuICAgICAgICAgIF90aGlzMi5wZXJmZWN0U2Nyb2xsYmFyKEV2ZW50LlVQREFURSk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKGRvY3VtZW50KS5vbihFdmVudC5DTElDSywgU2VsZWN0b3IuU0lERUJBUl9NSU5JTUlaRVIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgJChTZWxlY3Rvci5CT0RZKS50b2dnbGVDbGFzcyhDbGFzc05hbWUuU0lERUJBUl9NSU5JTUlaRUQpO1xuXG4gICAgICAgICAgX3RoaXMyLnBlcmZlY3RTY3JvbGxiYXIoRXZlbnQuVE9HR0xFKTtcbiAgICAgICAgfSk7XG4gICAgICAgICQoZG9jdW1lbnQpLm9uKEV2ZW50LkNMSUNLLCBTZWxlY3Rvci5TSURFQkFSX1RPR0dMRVIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgdmFyIHRvZ2dsZSA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldCA/IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC50b2dnbGUgOiAkKGV2ZW50LmN1cnJlbnRUYXJnZXQpLmRhdGEoJ3RvZ2dsZScpO1xuICAgICAgICAgIHRvZ2dsZUNsYXNzZXModG9nZ2xlLCBTaG93Q2xhc3NOYW1lcyk7XG5cbiAgICAgICAgICBfdGhpczIuX3RvZ2dsZUNsaWNrT3V0KCk7XG4gICAgICAgIH0pO1xuICAgICAgICAkKFNlbGVjdG9yLk5BVklHQVRJT04gKyBcIiA+IFwiICsgU2VsZWN0b3IuTkFWX0lURU0gKyBcIiBcIiArIFNlbGVjdG9yLk5BVl9MSU5LICsgXCI6bm90KFwiICsgU2VsZWN0b3IuTkFWX0RST1BET1dOX1RPR0dMRSArIFwiKVwiKS5vbihFdmVudC5DTElDSywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIF90aGlzMi5fcmVtb3ZlQ2xpY2tPdXQoKTtcblxuICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnc2lkZWJhci1zaG93Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfSAvLyBTdGF0aWNcbiAgICAgIDtcblxuICAgICAgU2lkZWJhci5falF1ZXJ5SW50ZXJmYWNlID0gZnVuY3Rpb24gX2pRdWVyeUludGVyZmFjZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyICRlbGVtZW50ID0gJCh0aGlzKTtcbiAgICAgICAgICB2YXIgZGF0YSA9ICRlbGVtZW50LmRhdGEoREFUQV9LRVkpO1xuXG4gICAgICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgICAgICBkYXRhID0gbmV3IFNpZGViYXIodGhpcyk7XG4gICAgICAgICAgICAkZWxlbWVudC5kYXRhKERBVEFfS0VZLCBkYXRhKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfTtcblxuICAgICAgX2NyZWF0ZUNsYXNzKFNpZGViYXIsIG51bGwsIFt7XG4gICAgICAgIGtleTogXCJWRVJTSU9OXCIsXG4gICAgICAgIGdldDogZnVuY3Rpb24gZ2V0KCkge1xuICAgICAgICAgIHJldHVybiBWRVJTSU9OO1xuICAgICAgICB9XG4gICAgICB9XSk7XG5cbiAgICAgIHJldHVybiBTaWRlYmFyO1xuICAgIH0oKTtcbiAgICAvKipcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICogRGF0YSBBcGkgaW1wbGVtZW50YXRpb25cclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXG5cblxuICAgICQod2luZG93KS5vbihFdmVudC5MT0FEX0RBVEFfQVBJLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2lkZWJhciA9ICQoU2VsZWN0b3IuU0lERUJBUik7XG5cbiAgICAgIFNpZGViYXIuX2pRdWVyeUludGVyZmFjZS5jYWxsKHNpZGViYXIpO1xuICAgIH0pO1xuICAgIC8qKlxyXG4gICAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgKiBqUXVlcnlcclxuICAgICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICovXG5cbiAgICAkLmZuW05BTUVdID0gU2lkZWJhci5falF1ZXJ5SW50ZXJmYWNlO1xuICAgICQuZm5bTkFNRV0uQ29uc3RydWN0b3IgPSBTaWRlYmFyO1xuXG4gICAgJC5mbltOQU1FXS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgJC5mbltOQU1FXSA9IEpRVUVSWV9OT19DT05GTElDVDtcbiAgICAgIHJldHVybiBTaWRlYmFyLl9qUXVlcnlJbnRlcmZhY2U7XG4gICAgfTtcblxuICAgIHJldHVybiBTaWRlYmFyO1xuICB9KCQpO1xuXG4gIC8qKlxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogQ29yZVVJIFV0aWxpdGllcyAodjIuMS45KTogaGV4LXRvLXJnYi5qc1xyXG4gICAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9jb3JldWkuaW8vbGljZW5zZSlcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqL1xuXG4gIC8qIGVzbGludC1kaXNhYmxlIG5vLW1hZ2ljLW51bWJlcnMgKi9cbiAgdmFyIGhleFRvUmdiID0gZnVuY3Rpb24gaGV4VG9SZ2IoY29sb3IpIHtcbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdIZXggY29sb3IgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgaGV4ID0gY29sb3IubWF0Y2goL14jKD86WzAtOWEtZl17M30pezEsMn0kL2kpO1xuXG4gICAgaWYgKCFoZXgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihjb2xvciArIFwiIGlzIG5vdCBhIHZhbGlkIGhleCBjb2xvclwiKTtcbiAgICB9XG5cbiAgICB2YXIgcjtcbiAgICB2YXIgZztcbiAgICB2YXIgYjtcblxuICAgIGlmIChjb2xvci5sZW5ndGggPT09IDcpIHtcbiAgICAgIHIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSwgMyksIDE2KTtcbiAgICAgIGcgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgIGIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoNSwgNyksIDE2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgciA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygxLCAyKSwgMTYpO1xuICAgICAgZyA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygyLCAzKSwgMTYpO1xuICAgICAgYiA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygzLCA1KSwgMTYpO1xuICAgIH1cblxuICAgIHJldHVybiBcInJnYmEoXCIgKyByICsgXCIsIFwiICsgZyArIFwiLCBcIiArIGIgKyBcIilcIjtcbiAgfTtcblxuICAvKipcclxuICAgKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAqIENvcmVVSSBVdGlsaXRpZXMgKHYyLjEuOSk6IGhleC10by1yZ2JhLmpzXHJcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2NvcmV1aS5pby9saWNlbnNlKVxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tbWFnaWMtbnVtYmVycyAqL1xuICB2YXIgaGV4VG9SZ2JhID0gZnVuY3Rpb24gaGV4VG9SZ2JhKGNvbG9yLCBvcGFjaXR5KSB7XG4gICAgaWYgKG9wYWNpdHkgPT09IHZvaWQgMCkge1xuICAgICAgb3BhY2l0eSA9IDEwMDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGNvbG9yID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdIZXggY29sb3IgaXMgbm90IGRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB2YXIgaGV4ID0gY29sb3IubWF0Y2goL14jKD86WzAtOWEtZl17M30pezEsMn0kL2kpO1xuXG4gICAgaWYgKCFoZXgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihjb2xvciArIFwiIGlzIG5vdCBhIHZhbGlkIGhleCBjb2xvclwiKTtcbiAgICB9XG5cbiAgICB2YXIgcjtcbiAgICB2YXIgZztcbiAgICB2YXIgYjtcblxuICAgIGlmIChjb2xvci5sZW5ndGggPT09IDcpIHtcbiAgICAgIHIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMSwgMyksIDE2KTtcbiAgICAgIGcgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgIGIgPSBwYXJzZUludChjb2xvci5zdWJzdHJpbmcoNSwgNyksIDE2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgciA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygxLCAyKSwgMTYpO1xuICAgICAgZyA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygyLCAzKSwgMTYpO1xuICAgICAgYiA9IHBhcnNlSW50KGNvbG9yLnN1YnN0cmluZygzLCA1KSwgMTYpO1xuICAgIH1cblxuICAgIHJldHVybiBcInJnYmEoXCIgKyByICsgXCIsIFwiICsgZyArIFwiLCBcIiArIGIgKyBcIiwgXCIgKyBvcGFjaXR5IC8gMTAwICsgXCIpXCI7XG4gIH07XG5cbiAgLy8gMjEuMi41LjMgZ2V0IFJlZ0V4cC5wcm90b3R5cGUuZmxhZ3MoKVxuICBpZiAoX2Rlc2NyaXB0b3JzICYmIC8uL2cuZmxhZ3MgIT0gJ2cnKSBfb2JqZWN0RHAuZihSZWdFeHAucHJvdG90eXBlLCAnZmxhZ3MnLCB7XG4gICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIGdldDogX2ZsYWdzXG4gIH0pO1xuXG4gIHZhciBUT19TVFJJTkcgPSAndG9TdHJpbmcnO1xuICB2YXIgJHRvU3RyaW5nID0gLy4vW1RPX1NUUklOR107XG5cbiAgdmFyIGRlZmluZSA9IGZ1bmN0aW9uIChmbikge1xuICAgIF9yZWRlZmluZShSZWdFeHAucHJvdG90eXBlLCBUT19TVFJJTkcsIGZuLCB0cnVlKTtcbiAgfTtcblxuICAvLyAyMS4yLjUuMTQgUmVnRXhwLnByb3RvdHlwZS50b1N0cmluZygpXG4gIGlmIChfZmFpbHMoZnVuY3Rpb24gKCkgeyByZXR1cm4gJHRvU3RyaW5nLmNhbGwoeyBzb3VyY2U6ICdhJywgZmxhZ3M6ICdiJyB9KSAhPSAnL2EvYic7IH0pKSB7XG4gICAgZGVmaW5lKGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgdmFyIFIgPSBfYW5PYmplY3QodGhpcyk7XG4gICAgICByZXR1cm4gJy8nLmNvbmNhdChSLnNvdXJjZSwgJy8nLFxuICAgICAgICAnZmxhZ3MnIGluIFIgPyBSLmZsYWdzIDogIV9kZXNjcmlwdG9ycyAmJiBSIGluc3RhbmNlb2YgUmVnRXhwID8gX2ZsYWdzLmNhbGwoUikgOiB1bmRlZmluZWQpO1xuICAgIH0pO1xuICAvLyBGRjQ0LSBSZWdFeHAjdG9TdHJpbmcgaGFzIGEgd3JvbmcgbmFtZVxuICB9IGVsc2UgaWYgKCR0b1N0cmluZy5uYW1lICE9IFRPX1NUUklORykge1xuICAgIGRlZmluZShmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICAgIHJldHVybiAkdG9TdHJpbmcuY2FsbCh0aGlzKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIDE5LjEuMy42IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcoKVxuXG4gIHZhciB0ZXN0ID0ge307XG4gIHRlc3RbX3drcygndG9TdHJpbmdUYWcnKV0gPSAneic7XG4gIGlmICh0ZXN0ICsgJycgIT0gJ1tvYmplY3Qgel0nKSB7XG4gICAgX3JlZGVmaW5lKE9iamVjdC5wcm90b3R5cGUsICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgICAgcmV0dXJuICdbb2JqZWN0ICcgKyBfY2xhc3NvZih0aGlzKSArICddJztcbiAgICB9LCB0cnVlKTtcbiAgfVxuXG4gIC8qKlxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICogQ29yZVVJICh2Mi4xLjkpOiByZ2ItdG8taGV4LmpzXHJcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2NvcmV1aS5pby9saWNlbnNlKVxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICovXG5cbiAgLyogZXNsaW50LWRpc2FibGUgbm8tbWFnaWMtbnVtYmVycyAqL1xuICB2YXIgcmdiVG9IZXggPSBmdW5jdGlvbiByZ2JUb0hleChjb2xvcikge1xuICAgIGlmICh0eXBlb2YgY29sb3IgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0hleCBjb2xvciBpcyBub3QgZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIGlmIChjb2xvciA9PT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgcmV0dXJuICcjMDAwMDAwMDAnO1xuICAgIH1cblxuICAgIHZhciByZ2IgPSBjb2xvci5tYXRjaCgvXnJnYmE/W1xccytdP1xcKFtcXHMrXT8oXFxkKylbXFxzK10/LFtcXHMrXT8oXFxkKylbXFxzK10/LFtcXHMrXT8oXFxkKylbXFxzK10/L2kpO1xuXG4gICAgaWYgKCFyZ2IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihjb2xvciArIFwiIGlzIG5vdCBhIHZhbGlkIHJnYiBjb2xvclwiKTtcbiAgICB9XG5cbiAgICB2YXIgciA9IFwiMFwiICsgcGFyc2VJbnQocmdiWzFdLCAxMCkudG9TdHJpbmcoMTYpO1xuICAgIHZhciBnID0gXCIwXCIgKyBwYXJzZUludChyZ2JbMl0sIDEwKS50b1N0cmluZygxNik7XG4gICAgdmFyIGIgPSBcIjBcIiArIHBhcnNlSW50KHJnYlszXSwgMTApLnRvU3RyaW5nKDE2KTtcbiAgICByZXR1cm4gXCIjXCIgKyByLnNsaWNlKC0yKSArIGcuc2xpY2UoLTIpICsgYi5zbGljZSgtMik7XG4gIH07XG5cbiAgLyoqXHJcbiAgICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgKiBDb3JlVUkgKHYyLjEuOSk6IGluZGV4LmpzXHJcbiAgICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2NvcmV1aS5pby9saWNlbnNlKVxyXG4gICAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICovXG5cbiAgKGZ1bmN0aW9uICgkKSB7XG4gICAgaWYgKHR5cGVvZiAkID09PSAndW5kZWZpbmVkJykge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ29yZVVJXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGpRdWVyeS4galF1ZXJ5IG11c3QgYmUgaW5jbHVkZWQgYmVmb3JlIENvcmVVSVxcJ3MgSmF2YVNjcmlwdC4nKTtcbiAgICB9XG5cbiAgICB2YXIgdmVyc2lvbiA9ICQuZm4uanF1ZXJ5LnNwbGl0KCcgJylbMF0uc3BsaXQoJy4nKTtcbiAgICB2YXIgbWluTWFqb3IgPSAxO1xuICAgIHZhciBsdE1ham9yID0gMjtcbiAgICB2YXIgbWluTWlub3IgPSA5O1xuICAgIHZhciBtaW5QYXRjaCA9IDE7XG4gICAgdmFyIG1heE1ham9yID0gNDtcblxuICAgIGlmICh2ZXJzaW9uWzBdIDwgbHRNYWpvciAmJiB2ZXJzaW9uWzFdIDwgbWluTWlub3IgfHwgdmVyc2lvblswXSA9PT0gbWluTWFqb3IgJiYgdmVyc2lvblsxXSA9PT0gbWluTWlub3IgJiYgdmVyc2lvblsyXSA8IG1pblBhdGNoIHx8IHZlcnNpb25bMF0gPj0gbWF4TWFqb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ29yZVVJXFwncyBKYXZhU2NyaXB0IHJlcXVpcmVzIGF0IGxlYXN0IGpRdWVyeSB2MS45LjEgYnV0IGxlc3MgdGhhbiB2NC4wLjAnKTtcbiAgICB9XG4gIH0pKCQpO1xuICB3aW5kb3cuZ2V0U3R5bGUgPSBnZXRTdHlsZTtcbiAgd2luZG93LmhleFRvUmdiID0gaGV4VG9SZ2I7XG4gIHdpbmRvdy5oZXhUb1JnYmEgPSBoZXhUb1JnYmE7XG4gIHdpbmRvdy5yZ2JUb0hleCA9IHJnYlRvSGV4O1xuXG4gIGV4cG9ydHMuQWpheExvYWQgPSBBamF4TG9hZDtcbiAgZXhwb3J0cy5Bc2lkZU1lbnUgPSBBc2lkZU1lbnU7XG4gIGV4cG9ydHMuU2lkZWJhciA9IFNpZGViYXI7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxufSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZXVpLmpzLm1hcFxuIiwiLyohXG4gKiBEZXRlcm1pbmUgaWYgYW4gb2JqZWN0IGlzIGEgQnVmZmVyXG4gKlxuICogQGF1dGhvciAgIEZlcm9zcyBBYm91a2hhZGlqZWggPGh0dHBzOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xuXG4vLyBUaGUgX2lzQnVmZmVyIGNoZWNrIGlzIGZvciBTYWZhcmkgNS03IHN1cHBvcnQsIGJlY2F1c2UgaXQncyBtaXNzaW5nXG4vLyBPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLiBSZW1vdmUgdGhpcyBldmVudHVhbGx5XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmopIHtcbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIChpc0J1ZmZlcihvYmopIHx8IGlzU2xvd0J1ZmZlcihvYmopIHx8ICEhb2JqLl9pc0J1ZmZlcilcbn1cblxuZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gISFvYmouY29uc3RydWN0b3IgJiYgdHlwZW9mIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJyAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIob2JqKVxufVxuXG4vLyBGb3IgTm9kZSB2MC4xMCBzdXBwb3J0LiBSZW1vdmUgdGhpcyBldmVudHVhbGx5LlxuZnVuY3Rpb24gaXNTbG93QnVmZmVyIChvYmopIHtcbiAgcmV0dXJuIHR5cGVvZiBvYmoucmVhZEZsb2F0TEUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJiBpc0J1ZmZlcihvYmouc2xpY2UoMCwgMCkpXG59XG4iLCIvKiFcclxuICogalF1ZXJ5IFZhbGlkYXRpb24gUGx1Z2luIHYxLjE5LjBcclxuICpcclxuICogaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9cclxuICpcclxuICogQ29weXJpZ2h0IChjKSAyMDE4IErDtnJuIFphZWZmZXJlclxyXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcclxuICovXHJcbihmdW5jdGlvbiggZmFjdG9yeSApIHtcclxuXHRpZiAoIHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kICkge1xyXG5cdFx0ZGVmaW5lKCBbXCJqcXVlcnlcIl0sIGZhY3RvcnkgKTtcclxuXHR9IGVsc2UgaWYgKHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCIgJiYgbW9kdWxlLmV4cG9ydHMpIHtcclxuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSggcmVxdWlyZSggXCJqcXVlcnlcIiApICk7XHJcblx0fSBlbHNlIHtcclxuXHRcdGZhY3RvcnkoIGpRdWVyeSApO1xyXG5cdH1cclxufShmdW5jdGlvbiggJCApIHtcclxuXHJcbiQuZXh0ZW5kKCAkLmZuLCB7XG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy92YWxpZGF0ZS9cblx0dmFsaWRhdGU6IGZ1bmN0aW9uKCBvcHRpb25zICkge1xuXG5cdFx0Ly8gSWYgbm90aGluZyBpcyBzZWxlY3RlZCwgcmV0dXJuIG5vdGhpbmc7IGNhbid0IGNoYWluIGFueXdheVxuXHRcdGlmICggIXRoaXMubGVuZ3RoICkge1xuXHRcdFx0aWYgKCBvcHRpb25zICYmIG9wdGlvbnMuZGVidWcgJiYgd2luZG93LmNvbnNvbGUgKSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybiggXCJOb3RoaW5nIHNlbGVjdGVkLCBjYW4ndCB2YWxpZGF0ZSwgcmV0dXJuaW5nIG5vdGhpbmcuXCIgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBDaGVjayBpZiBhIHZhbGlkYXRvciBmb3IgdGhpcyBmb3JtIHdhcyBhbHJlYWR5IGNyZWF0ZWRcblx0XHR2YXIgdmFsaWRhdG9yID0gJC5kYXRhKCB0aGlzWyAwIF0sIFwidmFsaWRhdG9yXCIgKTtcblx0XHRpZiAoIHZhbGlkYXRvciApIHtcblx0XHRcdHJldHVybiB2YWxpZGF0b3I7XG5cdFx0fVxuXG5cdFx0Ly8gQWRkIG5vdmFsaWRhdGUgdGFnIGlmIEhUTUw1LlxuXHRcdHRoaXMuYXR0ciggXCJub3ZhbGlkYXRlXCIsIFwibm92YWxpZGF0ZVwiICk7XG5cblx0XHR2YWxpZGF0b3IgPSBuZXcgJC52YWxpZGF0b3IoIG9wdGlvbnMsIHRoaXNbIDAgXSApO1xuXHRcdCQuZGF0YSggdGhpc1sgMCBdLCBcInZhbGlkYXRvclwiLCB2YWxpZGF0b3IgKTtcblxuXHRcdGlmICggdmFsaWRhdG9yLnNldHRpbmdzLm9uc3VibWl0ICkge1xuXG5cdFx0XHR0aGlzLm9uKCBcImNsaWNrLnZhbGlkYXRlXCIsIFwiOnN1Ym1pdFwiLCBmdW5jdGlvbiggZXZlbnQgKSB7XG5cblx0XHRcdFx0Ly8gVHJhY2sgdGhlIHVzZWQgc3VibWl0IGJ1dHRvbiB0byBwcm9wZXJseSBoYW5kbGUgc2NyaXB0ZWRcblx0XHRcdFx0Ly8gc3VibWl0cyBsYXRlci5cblx0XHRcdFx0dmFsaWRhdG9yLnN1Ym1pdEJ1dHRvbiA9IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG5cblx0XHRcdFx0Ly8gQWxsb3cgc3VwcHJlc3NpbmcgdmFsaWRhdGlvbiBieSBhZGRpbmcgYSBjYW5jZWwgY2xhc3MgdG8gdGhlIHN1Ym1pdCBidXR0b25cblx0XHRcdFx0aWYgKCAkKCB0aGlzICkuaGFzQ2xhc3MoIFwiY2FuY2VsXCIgKSApIHtcblx0XHRcdFx0XHR2YWxpZGF0b3IuY2FuY2VsU3VibWl0ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEFsbG93IHN1cHByZXNzaW5nIHZhbGlkYXRpb24gYnkgYWRkaW5nIHRoZSBodG1sNSBmb3Jtbm92YWxpZGF0ZSBhdHRyaWJ1dGUgdG8gdGhlIHN1Ym1pdCBidXR0b25cblx0XHRcdFx0aWYgKCAkKCB0aGlzICkuYXR0ciggXCJmb3Jtbm92YWxpZGF0ZVwiICkgIT09IHVuZGVmaW5lZCApIHtcblx0XHRcdFx0XHR2YWxpZGF0b3IuY2FuY2VsU3VibWl0ID0gdHJ1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXG5cdFx0XHQvLyBWYWxpZGF0ZSB0aGUgZm9ybSBvbiBzdWJtaXRcblx0XHRcdHRoaXMub24oIFwic3VibWl0LnZhbGlkYXRlXCIsIGZ1bmN0aW9uKCBldmVudCApIHtcblx0XHRcdFx0aWYgKCB2YWxpZGF0b3Iuc2V0dGluZ3MuZGVidWcgKSB7XG5cblx0XHRcdFx0XHQvLyBQcmV2ZW50IGZvcm0gc3VibWl0IHRvIGJlIGFibGUgdG8gc2VlIGNvbnNvbGUgb3V0cHV0XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGZ1bmN0aW9uIGhhbmRsZSgpIHtcblx0XHRcdFx0XHR2YXIgaGlkZGVuLCByZXN1bHQ7XG5cblx0XHRcdFx0XHQvLyBJbnNlcnQgYSBoaWRkZW4gaW5wdXQgYXMgYSByZXBsYWNlbWVudCBmb3IgdGhlIG1pc3Npbmcgc3VibWl0IGJ1dHRvblxuXHRcdFx0XHRcdC8vIFRoZSBoaWRkZW4gaW5wdXQgaXMgaW5zZXJ0ZWQgaW4gdHdvIGNhc2VzOlxuXHRcdFx0XHRcdC8vICAgLSBBIHVzZXIgZGVmaW5lZCBhIGBzdWJtaXRIYW5kbGVyYFxuXHRcdFx0XHRcdC8vICAgLSBUaGVyZSB3YXMgYSBwZW5kaW5nIHJlcXVlc3QgZHVlIHRvIGByZW1vdGVgIG1ldGhvZCBhbmQgYHN0b3BSZXF1ZXN0KClgXG5cdFx0XHRcdFx0Ly8gICAgIHdhcyBjYWxsZWQgdG8gc3VibWl0IHRoZSBmb3JtIGluIGNhc2UgaXQncyB2YWxpZFxuXHRcdFx0XHRcdGlmICggdmFsaWRhdG9yLnN1Ym1pdEJ1dHRvbiAmJiAoIHZhbGlkYXRvci5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyIHx8IHZhbGlkYXRvci5mb3JtU3VibWl0dGVkICkgKSB7XG5cdFx0XHRcdFx0XHRoaWRkZW4gPSAkKCBcIjxpbnB1dCB0eXBlPSdoaWRkZW4nLz5cIiApXG5cdFx0XHRcdFx0XHRcdC5hdHRyKCBcIm5hbWVcIiwgdmFsaWRhdG9yLnN1Ym1pdEJ1dHRvbi5uYW1lIClcblx0XHRcdFx0XHRcdFx0LnZhbCggJCggdmFsaWRhdG9yLnN1Ym1pdEJ1dHRvbiApLnZhbCgpIClcblx0XHRcdFx0XHRcdFx0LmFwcGVuZFRvKCB2YWxpZGF0b3IuY3VycmVudEZvcm0gKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoIHZhbGlkYXRvci5zZXR0aW5ncy5zdWJtaXRIYW5kbGVyICYmICF2YWxpZGF0b3Iuc2V0dGluZ3MuZGVidWcgKSB7XG5cdFx0XHRcdFx0XHRyZXN1bHQgPSB2YWxpZGF0b3Iuc2V0dGluZ3Muc3VibWl0SGFuZGxlci5jYWxsKCB2YWxpZGF0b3IsIHZhbGlkYXRvci5jdXJyZW50Rm9ybSwgZXZlbnQgKTtcblx0XHRcdFx0XHRcdGlmICggaGlkZGVuICkge1xuXG5cdFx0XHRcdFx0XHRcdC8vIEFuZCBjbGVhbiB1cCBhZnRlcndhcmRzOyB0aGFua3MgdG8gbm8tYmxvY2stc2NvcGUsIGhpZGRlbiBjYW4gYmUgcmVmZXJlbmNlZFxuXHRcdFx0XHRcdFx0XHRoaWRkZW4ucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRpZiAoIHJlc3VsdCAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFByZXZlbnQgc3VibWl0IGZvciBpbnZhbGlkIGZvcm1zIG9yIGN1c3RvbSBzdWJtaXQgaGFuZGxlcnNcblx0XHRcdFx0aWYgKCB2YWxpZGF0b3IuY2FuY2VsU3VibWl0ICkge1xuXHRcdFx0XHRcdHZhbGlkYXRvci5jYW5jZWxTdWJtaXQgPSBmYWxzZTtcblx0XHRcdFx0XHRyZXR1cm4gaGFuZGxlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCB2YWxpZGF0b3IuZm9ybSgpICkge1xuXHRcdFx0XHRcdGlmICggdmFsaWRhdG9yLnBlbmRpbmdSZXF1ZXN0ICkge1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLmZvcm1TdWJtaXR0ZWQgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRyZXR1cm4gaGFuZGxlKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dmFsaWRhdG9yLmZvY3VzSW52YWxpZCgpO1xuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblxuXHRcdHJldHVybiB2YWxpZGF0b3I7XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy92YWxpZC9cblx0dmFsaWQ6IGZ1bmN0aW9uKCkge1xuXHRcdHZhciB2YWxpZCwgdmFsaWRhdG9yLCBlcnJvckxpc3Q7XG5cblx0XHRpZiAoICQoIHRoaXNbIDAgXSApLmlzKCBcImZvcm1cIiApICkge1xuXHRcdFx0dmFsaWQgPSB0aGlzLnZhbGlkYXRlKCkuZm9ybSgpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlcnJvckxpc3QgPSBbXTtcblx0XHRcdHZhbGlkID0gdHJ1ZTtcblx0XHRcdHZhbGlkYXRvciA9ICQoIHRoaXNbIDAgXS5mb3JtICkudmFsaWRhdGUoKTtcblx0XHRcdHRoaXMuZWFjaCggZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhbGlkID0gdmFsaWRhdG9yLmVsZW1lbnQoIHRoaXMgKSAmJiB2YWxpZDtcblx0XHRcdFx0aWYgKCAhdmFsaWQgKSB7XG5cdFx0XHRcdFx0ZXJyb3JMaXN0ID0gZXJyb3JMaXN0LmNvbmNhdCggdmFsaWRhdG9yLmVycm9yTGlzdCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9ICk7XG5cdFx0XHR2YWxpZGF0b3IuZXJyb3JMaXN0ID0gZXJyb3JMaXN0O1xuXHRcdH1cblx0XHRyZXR1cm4gdmFsaWQ7XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9ydWxlcy9cblx0cnVsZXM6IGZ1bmN0aW9uKCBjb21tYW5kLCBhcmd1bWVudCApIHtcblx0XHR2YXIgZWxlbWVudCA9IHRoaXNbIDAgXSxcblx0XHRcdGlzQ29udGVudEVkaXRhYmxlID0gdHlwZW9mIHRoaXMuYXR0ciggXCJjb250ZW50ZWRpdGFibGVcIiApICE9PSBcInVuZGVmaW5lZFwiICYmIHRoaXMuYXR0ciggXCJjb250ZW50ZWRpdGFibGVcIiApICE9PSBcImZhbHNlXCIsXG5cdFx0XHRzZXR0aW5ncywgc3RhdGljUnVsZXMsIGV4aXN0aW5nUnVsZXMsIGRhdGEsIHBhcmFtLCBmaWx0ZXJlZDtcblxuXHRcdC8vIElmIG5vdGhpbmcgaXMgc2VsZWN0ZWQsIHJldHVybiBlbXB0eSBvYmplY3Q7IGNhbid0IGNoYWluIGFueXdheVxuXHRcdGlmICggZWxlbWVudCA9PSBudWxsICkge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICggIWVsZW1lbnQuZm9ybSAmJiBpc0NvbnRlbnRFZGl0YWJsZSApIHtcblx0XHRcdGVsZW1lbnQuZm9ybSA9IHRoaXMuY2xvc2VzdCggXCJmb3JtXCIgKVsgMCBdO1xuXHRcdFx0ZWxlbWVudC5uYW1lID0gdGhpcy5hdHRyKCBcIm5hbWVcIiApO1xuXHRcdH1cblxuXHRcdGlmICggZWxlbWVudC5mb3JtID09IG51bGwgKSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0aWYgKCBjb21tYW5kICkge1xuXHRcdFx0c2V0dGluZ3MgPSAkLmRhdGEoIGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIiApLnNldHRpbmdzO1xuXHRcdFx0c3RhdGljUnVsZXMgPSBzZXR0aW5ncy5ydWxlcztcblx0XHRcdGV4aXN0aW5nUnVsZXMgPSAkLnZhbGlkYXRvci5zdGF0aWNSdWxlcyggZWxlbWVudCApO1xuXHRcdFx0c3dpdGNoICggY29tbWFuZCApIHtcblx0XHRcdGNhc2UgXCJhZGRcIjpcblx0XHRcdFx0JC5leHRlbmQoIGV4aXN0aW5nUnVsZXMsICQudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoIGFyZ3VtZW50ICkgKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgbWVzc2FnZXMgZnJvbSBydWxlcywgYnV0IGFsbG93IHRoZW0gdG8gYmUgc2V0IHNlcGFyYXRlbHlcblx0XHRcdFx0ZGVsZXRlIGV4aXN0aW5nUnVsZXMubWVzc2FnZXM7XG5cdFx0XHRcdHN0YXRpY1J1bGVzWyBlbGVtZW50Lm5hbWUgXSA9IGV4aXN0aW5nUnVsZXM7XG5cdFx0XHRcdGlmICggYXJndW1lbnQubWVzc2FnZXMgKSB7XG5cdFx0XHRcdFx0c2V0dGluZ3MubWVzc2FnZXNbIGVsZW1lbnQubmFtZSBdID0gJC5leHRlbmQoIHNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXSwgYXJndW1lbnQubWVzc2FnZXMgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgXCJyZW1vdmVcIjpcblx0XHRcdFx0aWYgKCAhYXJndW1lbnQgKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHN0YXRpY1J1bGVzWyBlbGVtZW50Lm5hbWUgXTtcblx0XHRcdFx0XHRyZXR1cm4gZXhpc3RpbmdSdWxlcztcblx0XHRcdFx0fVxuXHRcdFx0XHRmaWx0ZXJlZCA9IHt9O1xuXHRcdFx0XHQkLmVhY2goIGFyZ3VtZW50LnNwbGl0KCAvXFxzLyApLCBmdW5jdGlvbiggaW5kZXgsIG1ldGhvZCApIHtcblx0XHRcdFx0XHRmaWx0ZXJlZFsgbWV0aG9kIF0gPSBleGlzdGluZ1J1bGVzWyBtZXRob2QgXTtcblx0XHRcdFx0XHRkZWxldGUgZXhpc3RpbmdSdWxlc1sgbWV0aG9kIF07XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIGZpbHRlcmVkO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGRhdGEgPSAkLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlcyhcblx0XHQkLmV4dGVuZChcblx0XHRcdHt9LFxuXHRcdFx0JC52YWxpZGF0b3IuY2xhc3NSdWxlcyggZWxlbWVudCApLFxuXHRcdFx0JC52YWxpZGF0b3IuYXR0cmlidXRlUnVsZXMoIGVsZW1lbnQgKSxcblx0XHRcdCQudmFsaWRhdG9yLmRhdGFSdWxlcyggZWxlbWVudCApLFxuXHRcdFx0JC52YWxpZGF0b3Iuc3RhdGljUnVsZXMoIGVsZW1lbnQgKVxuXHRcdCksIGVsZW1lbnQgKTtcblxuXHRcdC8vIE1ha2Ugc3VyZSByZXF1aXJlZCBpcyBhdCBmcm9udFxuXHRcdGlmICggZGF0YS5yZXF1aXJlZCApIHtcblx0XHRcdHBhcmFtID0gZGF0YS5yZXF1aXJlZDtcblx0XHRcdGRlbGV0ZSBkYXRhLnJlcXVpcmVkO1xuXHRcdFx0ZGF0YSA9ICQuZXh0ZW5kKCB7IHJlcXVpcmVkOiBwYXJhbSB9LCBkYXRhICk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFrZSBzdXJlIHJlbW90ZSBpcyBhdCBiYWNrXG5cdFx0aWYgKCBkYXRhLnJlbW90ZSApIHtcblx0XHRcdHBhcmFtID0gZGF0YS5yZW1vdGU7XG5cdFx0XHRkZWxldGUgZGF0YS5yZW1vdGU7XG5cdFx0XHRkYXRhID0gJC5leHRlbmQoIGRhdGEsIHsgcmVtb3RlOiBwYXJhbSB9ICk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGRhdGE7XG5cdH1cbn0gKTtcblxuLy8gQ3VzdG9tIHNlbGVjdG9yc1xuJC5leHRlbmQoICQuZXhwci5wc2V1ZG9zIHx8ICQuZXhwclsgXCI6XCIgXSwge1x0XHQvLyAnfHwgJC5leHByWyBcIjpcIiBdJyBoZXJlIGVuYWJsZXMgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgdG8galF1ZXJ5IDEuNy4gQ2FuIGJlIHJlbW92ZWQgd2hlbiBkcm9wcGluZyBqUSAxLjcueCBzdXBwb3J0XG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9ibGFuay1zZWxlY3Rvci9cblx0Ymxhbms6IGZ1bmN0aW9uKCBhICkge1xuXHRcdHJldHVybiAhJC50cmltKCBcIlwiICsgJCggYSApLnZhbCgpICk7XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9maWxsZWQtc2VsZWN0b3IvXG5cdGZpbGxlZDogZnVuY3Rpb24oIGEgKSB7XG5cdFx0dmFyIHZhbCA9ICQoIGEgKS52YWwoKTtcblx0XHRyZXR1cm4gdmFsICE9PSBudWxsICYmICEhJC50cmltKCBcIlwiICsgdmFsICk7XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy91bmNoZWNrZWQtc2VsZWN0b3IvXG5cdHVuY2hlY2tlZDogZnVuY3Rpb24oIGEgKSB7XG5cdFx0cmV0dXJuICEkKCBhICkucHJvcCggXCJjaGVja2VkXCIgKTtcblx0fVxufSApO1xuXG4vLyBDb25zdHJ1Y3RvciBmb3IgdmFsaWRhdG9yXG4kLnZhbGlkYXRvciA9IGZ1bmN0aW9uKCBvcHRpb25zLCBmb3JtICkge1xuXHR0aGlzLnNldHRpbmdzID0gJC5leHRlbmQoIHRydWUsIHt9LCAkLnZhbGlkYXRvci5kZWZhdWx0cywgb3B0aW9ucyApO1xuXHR0aGlzLmN1cnJlbnRGb3JtID0gZm9ybTtcblx0dGhpcy5pbml0KCk7XG59O1xuXG4vLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2pRdWVyeS52YWxpZGF0b3IuZm9ybWF0L1xuJC52YWxpZGF0b3IuZm9ybWF0ID0gZnVuY3Rpb24oIHNvdXJjZSwgcGFyYW1zICkge1xuXHRpZiAoIGFyZ3VtZW50cy5sZW5ndGggPT09IDEgKSB7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGFyZ3MgPSAkLm1ha2VBcnJheSggYXJndW1lbnRzICk7XG5cdFx0XHRhcmdzLnVuc2hpZnQoIHNvdXJjZSApO1xuXHRcdFx0cmV0dXJuICQudmFsaWRhdG9yLmZvcm1hdC5hcHBseSggdGhpcywgYXJncyApO1xuXHRcdH07XG5cdH1cblx0aWYgKCBwYXJhbXMgPT09IHVuZGVmaW5lZCApIHtcblx0XHRyZXR1cm4gc291cmNlO1xuXHR9XG5cdGlmICggYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgcGFyYW1zLmNvbnN0cnVjdG9yICE9PSBBcnJheSAgKSB7XG5cdFx0cGFyYW1zID0gJC5tYWtlQXJyYXkoIGFyZ3VtZW50cyApLnNsaWNlKCAxICk7XG5cdH1cblx0aWYgKCBwYXJhbXMuY29uc3RydWN0b3IgIT09IEFycmF5ICkge1xuXHRcdHBhcmFtcyA9IFsgcGFyYW1zIF07XG5cdH1cblx0JC5lYWNoKCBwYXJhbXMsIGZ1bmN0aW9uKCBpLCBuICkge1xuXHRcdHNvdXJjZSA9IHNvdXJjZS5yZXBsYWNlKCBuZXcgUmVnRXhwKCBcIlxcXFx7XCIgKyBpICsgXCJcXFxcfVwiLCBcImdcIiApLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBuO1xuXHRcdH0gKTtcblx0fSApO1xuXHRyZXR1cm4gc291cmNlO1xufTtcblxuJC5leHRlbmQoICQudmFsaWRhdG9yLCB7XG5cblx0ZGVmYXVsdHM6IHtcblx0XHRtZXNzYWdlczoge30sXG5cdFx0Z3JvdXBzOiB7fSxcblx0XHRydWxlczoge30sXG5cdFx0ZXJyb3JDbGFzczogXCJlcnJvclwiLFxuXHRcdHBlbmRpbmdDbGFzczogXCJwZW5kaW5nXCIsXG5cdFx0dmFsaWRDbGFzczogXCJ2YWxpZFwiLFxuXHRcdGVycm9yRWxlbWVudDogXCJsYWJlbFwiLFxuXHRcdGZvY3VzQ2xlYW51cDogZmFsc2UsXG5cdFx0Zm9jdXNJbnZhbGlkOiB0cnVlLFxuXHRcdGVycm9yQ29udGFpbmVyOiAkKCBbXSApLFxuXHRcdGVycm9yTGFiZWxDb250YWluZXI6ICQoIFtdICksXG5cdFx0b25zdWJtaXQ6IHRydWUsXG5cdFx0aWdub3JlOiBcIjpoaWRkZW5cIixcblx0XHRpZ25vcmVUaXRsZTogZmFsc2UsXG5cdFx0b25mb2N1c2luOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdHRoaXMubGFzdEFjdGl2ZSA9IGVsZW1lbnQ7XG5cblx0XHRcdC8vIEhpZGUgZXJyb3IgbGFiZWwgYW5kIHJlbW92ZSBlcnJvciBjbGFzcyBvbiBmb2N1cyBpZiBlbmFibGVkXG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MuZm9jdXNDbGVhbnVwICkge1xuXHRcdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodC5jYWxsKCB0aGlzLCBlbGVtZW50LCB0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MsIHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuaGlkZVRoZXNlKCB0aGlzLmVycm9yc0ZvciggZWxlbWVudCApICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRvbmZvY3Vzb3V0OiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdGlmICggIXRoaXMuY2hlY2thYmxlKCBlbGVtZW50ICkgJiYgKCBlbGVtZW50Lm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQgfHwgIXRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSApICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQoIGVsZW1lbnQgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdG9ua2V5dXA6IGZ1bmN0aW9uKCBlbGVtZW50LCBldmVudCApIHtcblxuXHRcdFx0Ly8gQXZvaWQgcmV2YWxpZGF0ZSB0aGUgZmllbGQgd2hlbiBwcmVzc2luZyBvbmUgb2YgdGhlIGZvbGxvd2luZyBrZXlzXG5cdFx0XHQvLyBTaGlmdCAgICAgICA9PiAxNlxuXHRcdFx0Ly8gQ3RybCAgICAgICAgPT4gMTdcblx0XHRcdC8vIEFsdCAgICAgICAgID0+IDE4XG5cdFx0XHQvLyBDYXBzIGxvY2sgICA9PiAyMFxuXHRcdFx0Ly8gRW5kICAgICAgICAgPT4gMzVcblx0XHRcdC8vIEhvbWUgICAgICAgID0+IDM2XG5cdFx0XHQvLyBMZWZ0IGFycm93ICA9PiAzN1xuXHRcdFx0Ly8gVXAgYXJyb3cgICAgPT4gMzhcblx0XHRcdC8vIFJpZ2h0IGFycm93ID0+IDM5XG5cdFx0XHQvLyBEb3duIGFycm93ICA9PiA0MFxuXHRcdFx0Ly8gSW5zZXJ0ICAgICAgPT4gNDVcblx0XHRcdC8vIE51bSBsb2NrICAgID0+IDE0NFxuXHRcdFx0Ly8gQWx0R3Iga2V5ICAgPT4gMjI1XG5cdFx0XHR2YXIgZXhjbHVkZWRLZXlzID0gW1xuXHRcdFx0XHQxNiwgMTcsIDE4LCAyMCwgMzUsIDM2LCAzNyxcblx0XHRcdFx0MzgsIDM5LCA0MCwgNDUsIDE0NCwgMjI1XG5cdFx0XHRdO1xuXG5cdFx0XHRpZiAoIGV2ZW50LndoaWNoID09PSA5ICYmIHRoaXMuZWxlbWVudFZhbHVlKCBlbGVtZW50ICkgPT09IFwiXCIgfHwgJC5pbkFycmF5KCBldmVudC5rZXlDb2RlLCBleGNsdWRlZEtleXMgKSAhPT0gLTEgKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH0gZWxzZSBpZiAoIGVsZW1lbnQubmFtZSBpbiB0aGlzLnN1Ym1pdHRlZCB8fCBlbGVtZW50Lm5hbWUgaW4gdGhpcy5pbnZhbGlkICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQoIGVsZW1lbnQgKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdG9uY2xpY2s6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXG5cdFx0XHQvLyBDbGljayBvbiBzZWxlY3RzLCByYWRpb2J1dHRvbnMgYW5kIGNoZWNrYm94ZXNcblx0XHRcdGlmICggZWxlbWVudC5uYW1lIGluIHRoaXMuc3VibWl0dGVkICkge1xuXHRcdFx0XHR0aGlzLmVsZW1lbnQoIGVsZW1lbnQgKTtcblxuXHRcdFx0Ly8gT3Igb3B0aW9uIGVsZW1lbnRzLCBjaGVjayBwYXJlbnQgc2VsZWN0IGluIHRoYXQgY2FzZVxuXHRcdFx0fSBlbHNlIGlmICggZWxlbWVudC5wYXJlbnROb2RlLm5hbWUgaW4gdGhpcy5zdWJtaXR0ZWQgKSB7XG5cdFx0XHRcdHRoaXMuZWxlbWVudCggZWxlbWVudC5wYXJlbnROb2RlICk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHRoaWdobGlnaHQ6IGZ1bmN0aW9uKCBlbGVtZW50LCBlcnJvckNsYXNzLCB2YWxpZENsYXNzICkge1xuXHRcdFx0aWYgKCBlbGVtZW50LnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdFx0dGhpcy5maW5kQnlOYW1lKCBlbGVtZW50Lm5hbWUgKS5hZGRDbGFzcyggZXJyb3JDbGFzcyApLnJlbW92ZUNsYXNzKCB2YWxpZENsYXNzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCBlbGVtZW50ICkuYWRkQ2xhc3MoIGVycm9yQ2xhc3MgKS5yZW1vdmVDbGFzcyggdmFsaWRDbGFzcyApO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dW5oaWdobGlnaHQ6IGZ1bmN0aW9uKCBlbGVtZW50LCBlcnJvckNsYXNzLCB2YWxpZENsYXNzICkge1xuXHRcdFx0aWYgKCBlbGVtZW50LnR5cGUgPT09IFwicmFkaW9cIiApIHtcblx0XHRcdFx0dGhpcy5maW5kQnlOYW1lKCBlbGVtZW50Lm5hbWUgKS5yZW1vdmVDbGFzcyggZXJyb3JDbGFzcyApLmFkZENsYXNzKCB2YWxpZENsYXNzICk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQkKCBlbGVtZW50ICkucmVtb3ZlQ2xhc3MoIGVycm9yQ2xhc3MgKS5hZGRDbGFzcyggdmFsaWRDbGFzcyApO1xuXHRcdFx0fVxuXHRcdH1cblx0fSxcblxuXHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2pRdWVyeS52YWxpZGF0b3Iuc2V0RGVmYXVsdHMvXG5cdHNldERlZmF1bHRzOiBmdW5jdGlvbiggc2V0dGluZ3MgKSB7XG5cdFx0JC5leHRlbmQoICQudmFsaWRhdG9yLmRlZmF1bHRzLCBzZXR0aW5ncyApO1xuXHR9LFxuXG5cdG1lc3NhZ2VzOiB7XG5cdFx0cmVxdWlyZWQ6IFwiVGhpcyBmaWVsZCBpcyByZXF1aXJlZC5cIixcblx0XHRyZW1vdGU6IFwiUGxlYXNlIGZpeCB0aGlzIGZpZWxkLlwiLFxuXHRcdGVtYWlsOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MuXCIsXG5cdFx0dXJsOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIFVSTC5cIixcblx0XHRkYXRlOiBcIlBsZWFzZSBlbnRlciBhIHZhbGlkIGRhdGUuXCIsXG5cdFx0ZGF0ZUlTTzogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBkYXRlIChJU08pLlwiLFxuXHRcdG51bWJlcjogXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBudW1iZXIuXCIsXG5cdFx0ZGlnaXRzOiBcIlBsZWFzZSBlbnRlciBvbmx5IGRpZ2l0cy5cIixcblx0XHRlcXVhbFRvOiBcIlBsZWFzZSBlbnRlciB0aGUgc2FtZSB2YWx1ZSBhZ2Fpbi5cIixcblx0XHRtYXhsZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdCggXCJQbGVhc2UgZW50ZXIgbm8gbW9yZSB0aGFuIHswfSBjaGFyYWN0ZXJzLlwiICksXG5cdFx0bWlubGVuZ3RoOiAkLnZhbGlkYXRvci5mb3JtYXQoIFwiUGxlYXNlIGVudGVyIGF0IGxlYXN0IHswfSBjaGFyYWN0ZXJzLlwiICksXG5cdFx0cmFuZ2VsZW5ndGg6ICQudmFsaWRhdG9yLmZvcm1hdCggXCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBiZXR3ZWVuIHswfSBhbmQgezF9IGNoYXJhY3RlcnMgbG9uZy5cIiApLFxuXHRcdHJhbmdlOiAkLnZhbGlkYXRvci5mb3JtYXQoIFwiUGxlYXNlIGVudGVyIGEgdmFsdWUgYmV0d2VlbiB7MH0gYW5kIHsxfS5cIiApLFxuXHRcdG1heDogJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhIHZhbHVlIGxlc3MgdGhhbiBvciBlcXVhbCB0byB7MH0uXCIgKSxcblx0XHRtaW46ICQudmFsaWRhdG9yLmZvcm1hdCggXCJQbGVhc2UgZW50ZXIgYSB2YWx1ZSBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG8gezB9LlwiICksXG5cdFx0c3RlcDogJC52YWxpZGF0b3IuZm9ybWF0KCBcIlBsZWFzZSBlbnRlciBhIG11bHRpcGxlIG9mIHswfS5cIiApXG5cdH0sXG5cblx0YXV0b0NyZWF0ZVJhbmdlczogZmFsc2UsXG5cblx0cHJvdG90eXBlOiB7XG5cblx0XHRpbml0OiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMubGFiZWxDb250YWluZXIgPSAkKCB0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIgKTtcblx0XHRcdHRoaXMuZXJyb3JDb250ZXh0ID0gdGhpcy5sYWJlbENvbnRhaW5lci5sZW5ndGggJiYgdGhpcy5sYWJlbENvbnRhaW5lciB8fCAkKCB0aGlzLmN1cnJlbnRGb3JtICk7XG5cdFx0XHR0aGlzLmNvbnRhaW5lcnMgPSAkKCB0aGlzLnNldHRpbmdzLmVycm9yQ29udGFpbmVyICkuYWRkKCB0aGlzLnNldHRpbmdzLmVycm9yTGFiZWxDb250YWluZXIgKTtcblx0XHRcdHRoaXMuc3VibWl0dGVkID0ge307XG5cdFx0XHR0aGlzLnZhbHVlQ2FjaGUgPSB7fTtcblx0XHRcdHRoaXMucGVuZGluZ1JlcXVlc3QgPSAwO1xuXHRcdFx0dGhpcy5wZW5kaW5nID0ge307XG5cdFx0XHR0aGlzLmludmFsaWQgPSB7fTtcblx0XHRcdHRoaXMucmVzZXQoKTtcblxuXHRcdFx0dmFyIGN1cnJlbnRGb3JtID0gdGhpcy5jdXJyZW50Rm9ybSxcblx0XHRcdFx0Z3JvdXBzID0gKCB0aGlzLmdyb3VwcyA9IHt9ICksXG5cdFx0XHRcdHJ1bGVzO1xuXHRcdFx0JC5lYWNoKCB0aGlzLnNldHRpbmdzLmdyb3VwcywgZnVuY3Rpb24oIGtleSwgdmFsdWUgKSB7XG5cdFx0XHRcdGlmICggdHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiICkge1xuXHRcdFx0XHRcdHZhbHVlID0gdmFsdWUuc3BsaXQoIC9cXHMvICk7XG5cdFx0XHRcdH1cblx0XHRcdFx0JC5lYWNoKCB2YWx1ZSwgZnVuY3Rpb24oIGluZGV4LCBuYW1lICkge1xuXHRcdFx0XHRcdGdyb3Vwc1sgbmFtZSBdID0ga2V5O1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9ICk7XG5cdFx0XHRydWxlcyA9IHRoaXMuc2V0dGluZ3MucnVsZXM7XG5cdFx0XHQkLmVhY2goIHJ1bGVzLCBmdW5jdGlvbigga2V5LCB2YWx1ZSApIHtcblx0XHRcdFx0cnVsZXNbIGtleSBdID0gJC52YWxpZGF0b3Iubm9ybWFsaXplUnVsZSggdmFsdWUgKTtcblx0XHRcdH0gKTtcblxuXHRcdFx0ZnVuY3Rpb24gZGVsZWdhdGUoIGV2ZW50ICkge1xuXHRcdFx0XHR2YXIgaXNDb250ZW50RWRpdGFibGUgPSB0eXBlb2YgJCggdGhpcyApLmF0dHIoIFwiY29udGVudGVkaXRhYmxlXCIgKSAhPT0gXCJ1bmRlZmluZWRcIiAmJiAkKCB0aGlzICkuYXR0ciggXCJjb250ZW50ZWRpdGFibGVcIiApICE9PSBcImZhbHNlXCI7XG5cblx0XHRcdFx0Ly8gU2V0IGZvcm0gZXhwYW5kbyBvbiBjb250ZW50ZWRpdGFibGVcblx0XHRcdFx0aWYgKCAhdGhpcy5mb3JtICYmIGlzQ29udGVudEVkaXRhYmxlICkge1xuXHRcdFx0XHRcdHRoaXMuZm9ybSA9ICQoIHRoaXMgKS5jbG9zZXN0KCBcImZvcm1cIiApWyAwIF07XG5cdFx0XHRcdFx0dGhpcy5uYW1lID0gJCggdGhpcyApLmF0dHIoIFwibmFtZVwiICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZ25vcmUgdGhlIGVsZW1lbnQgaWYgaXQgYmVsb25ncyB0byBhbm90aGVyIGZvcm0uIFRoaXMgd2lsbCBoYXBwZW4gbWFpbmx5XG5cdFx0XHRcdC8vIHdoZW4gc2V0dGluZyB0aGUgYGZvcm1gIGF0dHJpYnV0ZSBvZiBhbiBpbnB1dCB0byB0aGUgaWQgb2YgYW5vdGhlciBmb3JtLlxuXHRcdFx0XHRpZiAoIGN1cnJlbnRGb3JtICE9PSB0aGlzLmZvcm0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHZhbGlkYXRvciA9ICQuZGF0YSggdGhpcy5mb3JtLCBcInZhbGlkYXRvclwiICksXG5cdFx0XHRcdFx0ZXZlbnRUeXBlID0gXCJvblwiICsgZXZlbnQudHlwZS5yZXBsYWNlKCAvXnZhbGlkYXRlLywgXCJcIiApLFxuXHRcdFx0XHRcdHNldHRpbmdzID0gdmFsaWRhdG9yLnNldHRpbmdzO1xuXHRcdFx0XHRpZiAoIHNldHRpbmdzWyBldmVudFR5cGUgXSAmJiAhJCggdGhpcyApLmlzKCBzZXR0aW5ncy5pZ25vcmUgKSApIHtcblx0XHRcdFx0XHRzZXR0aW5nc1sgZXZlbnRUeXBlIF0uY2FsbCggdmFsaWRhdG9yLCB0aGlzLCBldmVudCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdCQoIHRoaXMuY3VycmVudEZvcm0gKVxuXHRcdFx0XHQub24oIFwiZm9jdXNpbi52YWxpZGF0ZSBmb2N1c291dC52YWxpZGF0ZSBrZXl1cC52YWxpZGF0ZVwiLFxuXHRcdFx0XHRcdFwiOnRleHQsIFt0eXBlPSdwYXNzd29yZCddLCBbdHlwZT0nZmlsZSddLCBzZWxlY3QsIHRleHRhcmVhLCBbdHlwZT0nbnVtYmVyJ10sIFt0eXBlPSdzZWFyY2gnXSwgXCIgK1xuXHRcdFx0XHRcdFwiW3R5cGU9J3RlbCddLCBbdHlwZT0ndXJsJ10sIFt0eXBlPSdlbWFpbCddLCBbdHlwZT0nZGF0ZXRpbWUnXSwgW3R5cGU9J2RhdGUnXSwgW3R5cGU9J21vbnRoJ10sIFwiICtcblx0XHRcdFx0XHRcIlt0eXBlPSd3ZWVrJ10sIFt0eXBlPSd0aW1lJ10sIFt0eXBlPSdkYXRldGltZS1sb2NhbCddLCBbdHlwZT0ncmFuZ2UnXSwgW3R5cGU9J2NvbG9yJ10sIFwiICtcblx0XHRcdFx0XHRcIlt0eXBlPSdyYWRpbyddLCBbdHlwZT0nY2hlY2tib3gnXSwgW2NvbnRlbnRlZGl0YWJsZV0sIFt0eXBlPSdidXR0b24nXVwiLCBkZWxlZ2F0ZSApXG5cblx0XHRcdFx0Ly8gU3VwcG9ydDogQ2hyb21lLCBvbGRJRVxuXHRcdFx0XHQvLyBcInNlbGVjdFwiIGlzIHByb3ZpZGVkIGFzIGV2ZW50LnRhcmdldCB3aGVuIGNsaWNraW5nIGEgb3B0aW9uXG5cdFx0XHRcdC5vbiggXCJjbGljay52YWxpZGF0ZVwiLCBcInNlbGVjdCwgb3B0aW9uLCBbdHlwZT0ncmFkaW8nXSwgW3R5cGU9J2NoZWNrYm94J11cIiwgZGVsZWdhdGUgKTtcblxuXHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLmludmFsaWRIYW5kbGVyICkge1xuXHRcdFx0XHQkKCB0aGlzLmN1cnJlbnRGb3JtICkub24oIFwiaW52YWxpZC1mb3JtLnZhbGlkYXRlXCIsIHRoaXMuc2V0dGluZ3MuaW52YWxpZEhhbmRsZXIgKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3IuZm9ybS9cblx0XHRmb3JtOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuY2hlY2tGb3JtKCk7XG5cdFx0XHQkLmV4dGVuZCggdGhpcy5zdWJtaXR0ZWQsIHRoaXMuZXJyb3JNYXAgKTtcblx0XHRcdHRoaXMuaW52YWxpZCA9ICQuZXh0ZW5kKCB7fSwgdGhpcy5lcnJvck1hcCApO1xuXHRcdFx0aWYgKCAhdGhpcy52YWxpZCgpICkge1xuXHRcdFx0XHQkKCB0aGlzLmN1cnJlbnRGb3JtICkudHJpZ2dlckhhbmRsZXIoIFwiaW52YWxpZC1mb3JtXCIsIFsgdGhpcyBdICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnNob3dFcnJvcnMoKTtcblx0XHRcdHJldHVybiB0aGlzLnZhbGlkKCk7XG5cdFx0fSxcblxuXHRcdGNoZWNrRm9ybTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnByZXBhcmVGb3JtKCk7XG5cdFx0XHRmb3IgKCB2YXIgaSA9IDAsIGVsZW1lbnRzID0gKCB0aGlzLmN1cnJlbnRFbGVtZW50cyA9IHRoaXMuZWxlbWVudHMoKSApOyBlbGVtZW50c1sgaSBdOyBpKysgKSB7XG5cdFx0XHRcdHRoaXMuY2hlY2soIGVsZW1lbnRzWyBpIF0gKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0aGlzLnZhbGlkKCk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvVmFsaWRhdG9yLmVsZW1lbnQvXG5cdFx0ZWxlbWVudDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHR2YXIgY2xlYW5FbGVtZW50ID0gdGhpcy5jbGVhbiggZWxlbWVudCApLFxuXHRcdFx0XHRjaGVja0VsZW1lbnQgPSB0aGlzLnZhbGlkYXRpb25UYXJnZXRGb3IoIGNsZWFuRWxlbWVudCApLFxuXHRcdFx0XHR2ID0gdGhpcyxcblx0XHRcdFx0cmVzdWx0ID0gdHJ1ZSxcblx0XHRcdFx0cnMsIGdyb3VwO1xuXG5cdFx0XHRpZiAoIGNoZWNrRWxlbWVudCA9PT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRkZWxldGUgdGhpcy5pbnZhbGlkWyBjbGVhbkVsZW1lbnQubmFtZSBdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5wcmVwYXJlRWxlbWVudCggY2hlY2tFbGVtZW50ICk7XG5cdFx0XHRcdHRoaXMuY3VycmVudEVsZW1lbnRzID0gJCggY2hlY2tFbGVtZW50ICk7XG5cblx0XHRcdFx0Ly8gSWYgdGhpcyBlbGVtZW50IGlzIGdyb3VwZWQsIHRoZW4gdmFsaWRhdGUgYWxsIGdyb3VwIGVsZW1lbnRzIGFscmVhZHlcblx0XHRcdFx0Ly8gY29udGFpbmluZyBhIHZhbHVlXG5cdFx0XHRcdGdyb3VwID0gdGhpcy5ncm91cHNbIGNoZWNrRWxlbWVudC5uYW1lIF07XG5cdFx0XHRcdGlmICggZ3JvdXAgKSB7XG5cdFx0XHRcdFx0JC5lYWNoKCB0aGlzLmdyb3VwcywgZnVuY3Rpb24oIG5hbWUsIHRlc3Rncm91cCApIHtcblx0XHRcdFx0XHRcdGlmICggdGVzdGdyb3VwID09PSBncm91cCAmJiBuYW1lICE9PSBjaGVja0VsZW1lbnQubmFtZSApIHtcblx0XHRcdFx0XHRcdFx0Y2xlYW5FbGVtZW50ID0gdi52YWxpZGF0aW9uVGFyZ2V0Rm9yKCB2LmNsZWFuKCB2LmZpbmRCeU5hbWUoIG5hbWUgKSApICk7XG5cdFx0XHRcdFx0XHRcdGlmICggY2xlYW5FbGVtZW50ICYmIGNsZWFuRWxlbWVudC5uYW1lIGluIHYuaW52YWxpZCApIHtcblx0XHRcdFx0XHRcdFx0XHR2LmN1cnJlbnRFbGVtZW50cy5wdXNoKCBjbGVhbkVsZW1lbnQgKTtcblx0XHRcdFx0XHRcdFx0XHRyZXN1bHQgPSB2LmNoZWNrKCBjbGVhbkVsZW1lbnQgKSAmJiByZXN1bHQ7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRycyA9IHRoaXMuY2hlY2soIGNoZWNrRWxlbWVudCApICE9PSBmYWxzZTtcblx0XHRcdFx0cmVzdWx0ID0gcmVzdWx0ICYmIHJzO1xuXHRcdFx0XHRpZiAoIHJzICkge1xuXHRcdFx0XHRcdHRoaXMuaW52YWxpZFsgY2hlY2tFbGVtZW50Lm5hbWUgXSA9IGZhbHNlO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHRoaXMuaW52YWxpZFsgY2hlY2tFbGVtZW50Lm5hbWUgXSA9IHRydWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoICF0aGlzLm51bWJlck9mSW52YWxpZHMoKSApIHtcblxuXHRcdFx0XHRcdC8vIEhpZGUgZXJyb3IgY29udGFpbmVycyBvbiBsYXN0IGVycm9yXG5cdFx0XHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLnRvSGlkZS5hZGQoIHRoaXMuY29udGFpbmVycyApO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRoaXMuc2hvd0Vycm9ycygpO1xuXG5cdFx0XHRcdC8vIEFkZCBhcmlhLWludmFsaWQgc3RhdHVzIGZvciBzY3JlZW4gcmVhZGVyc1xuXHRcdFx0XHQkKCBlbGVtZW50ICkuYXR0ciggXCJhcmlhLWludmFsaWRcIiwgIXJzICk7XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvVmFsaWRhdG9yLnNob3dFcnJvcnMvXG5cdFx0c2hvd0Vycm9yczogZnVuY3Rpb24oIGVycm9ycyApIHtcblx0XHRcdGlmICggZXJyb3JzICkge1xuXHRcdFx0XHR2YXIgdmFsaWRhdG9yID0gdGhpcztcblxuXHRcdFx0XHQvLyBBZGQgaXRlbXMgdG8gZXJyb3IgbGlzdCBhbmQgbWFwXG5cdFx0XHRcdCQuZXh0ZW5kKCB0aGlzLmVycm9yTWFwLCBlcnJvcnMgKTtcblx0XHRcdFx0dGhpcy5lcnJvckxpc3QgPSAkLm1hcCggdGhpcy5lcnJvck1hcCwgZnVuY3Rpb24oIG1lc3NhZ2UsIG5hbWUgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHtcblx0XHRcdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0XHRcdFx0XHRlbGVtZW50OiB2YWxpZGF0b3IuZmluZEJ5TmFtZSggbmFtZSApWyAwIF1cblx0XHRcdFx0XHR9O1xuXHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0Ly8gUmVtb3ZlIGl0ZW1zIGZyb20gc3VjY2VzcyBsaXN0XG5cdFx0XHRcdHRoaXMuc3VjY2Vzc0xpc3QgPSAkLmdyZXAoIHRoaXMuc3VjY2Vzc0xpc3QsIGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0XHRcdHJldHVybiAhKCBlbGVtZW50Lm5hbWUgaW4gZXJyb3JzICk7XG5cdFx0XHRcdH0gKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy5zaG93RXJyb3JzICkge1xuXHRcdFx0XHR0aGlzLnNldHRpbmdzLnNob3dFcnJvcnMuY2FsbCggdGhpcywgdGhpcy5lcnJvck1hcCwgdGhpcy5lcnJvckxpc3QgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHRoaXMuZGVmYXVsdFNob3dFcnJvcnMoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9WYWxpZGF0b3IucmVzZXRGb3JtL1xuXHRcdHJlc2V0Rm9ybTogZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoICQuZm4ucmVzZXRGb3JtICkge1xuXHRcdFx0XHQkKCB0aGlzLmN1cnJlbnRGb3JtICkucmVzZXRGb3JtKCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmludmFsaWQgPSB7fTtcblx0XHRcdHRoaXMuc3VibWl0dGVkID0ge307XG5cdFx0XHR0aGlzLnByZXBhcmVGb3JtKCk7XG5cdFx0XHR0aGlzLmhpZGVFcnJvcnMoKTtcblx0XHRcdHZhciBlbGVtZW50cyA9IHRoaXMuZWxlbWVudHMoKVxuXHRcdFx0XHQucmVtb3ZlRGF0YSggXCJwcmV2aW91c1ZhbHVlXCIgKVxuXHRcdFx0XHQucmVtb3ZlQXR0ciggXCJhcmlhLWludmFsaWRcIiApO1xuXG5cdFx0XHR0aGlzLnJlc2V0RWxlbWVudHMoIGVsZW1lbnRzICk7XG5cdFx0fSxcblxuXHRcdHJlc2V0RWxlbWVudHM6IGZ1bmN0aW9uKCBlbGVtZW50cyApIHtcblx0XHRcdHZhciBpO1xuXG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwOyBlbGVtZW50c1sgaSBdOyBpKysgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodC5jYWxsKCB0aGlzLCBlbGVtZW50c1sgaSBdLFxuXHRcdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCBcIlwiICk7XG5cdFx0XHRcdFx0dGhpcy5maW5kQnlOYW1lKCBlbGVtZW50c1sgaSBdLm5hbWUgKS5yZW1vdmVDbGFzcyggdGhpcy5zZXR0aW5ncy52YWxpZENsYXNzICk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGVsZW1lbnRzXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCB0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggdGhpcy5zZXR0aW5ncy52YWxpZENsYXNzICk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdG51bWJlck9mSW52YWxpZHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMub2JqZWN0TGVuZ3RoKCB0aGlzLmludmFsaWQgKTtcblx0XHR9LFxuXG5cdFx0b2JqZWN0TGVuZ3RoOiBmdW5jdGlvbiggb2JqICkge1xuXHRcdFx0LyoganNoaW50IHVudXNlZDogZmFsc2UgKi9cblx0XHRcdHZhciBjb3VudCA9IDAsXG5cdFx0XHRcdGk7XG5cdFx0XHRmb3IgKCBpIGluIG9iaiApIHtcblxuXHRcdFx0XHQvLyBUaGlzIGNoZWNrIGFsbG93cyBjb3VudGluZyBlbGVtZW50cyB3aXRoIGVtcHR5IGVycm9yXG5cdFx0XHRcdC8vIG1lc3NhZ2UgYXMgaW52YWxpZCBlbGVtZW50c1xuXHRcdFx0XHRpZiAoIG9ialsgaSBdICE9PSB1bmRlZmluZWQgJiYgb2JqWyBpIF0gIT09IG51bGwgJiYgb2JqWyBpIF0gIT09IGZhbHNlICkge1xuXHRcdFx0XHRcdGNvdW50Kys7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBjb3VudDtcblx0XHR9LFxuXG5cdFx0aGlkZUVycm9yczogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmhpZGVUaGVzZSggdGhpcy50b0hpZGUgKTtcblx0XHR9LFxuXG5cdFx0aGlkZVRoZXNlOiBmdW5jdGlvbiggZXJyb3JzICkge1xuXHRcdFx0ZXJyb3JzLm5vdCggdGhpcy5jb250YWluZXJzICkudGV4dCggXCJcIiApO1xuXHRcdFx0dGhpcy5hZGRXcmFwcGVyKCBlcnJvcnMgKS5oaWRlKCk7XG5cdFx0fSxcblxuXHRcdHZhbGlkOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLnNpemUoKSA9PT0gMDtcblx0XHR9LFxuXG5cdFx0c2l6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5lcnJvckxpc3QubGVuZ3RoO1xuXHRcdH0sXG5cblx0XHRmb2N1c0ludmFsaWQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLmZvY3VzSW52YWxpZCApIHtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHQkKCB0aGlzLmZpbmRMYXN0QWN0aXZlKCkgfHwgdGhpcy5lcnJvckxpc3QubGVuZ3RoICYmIHRoaXMuZXJyb3JMaXN0WyAwIF0uZWxlbWVudCB8fCBbXSApXG5cdFx0XHRcdFx0LmZpbHRlciggXCI6dmlzaWJsZVwiIClcblx0XHRcdFx0XHQuZm9jdXMoKVxuXG5cdFx0XHRcdFx0Ly8gTWFudWFsbHkgdHJpZ2dlciBmb2N1c2luIGV2ZW50OyB3aXRob3V0IGl0LCBmb2N1c2luIGhhbmRsZXIgaXNuJ3QgY2FsbGVkLCBmaW5kTGFzdEFjdGl2ZSB3b24ndCBoYXZlIGFueXRoaW5nIHRvIGZpbmRcblx0XHRcdFx0XHQudHJpZ2dlciggXCJmb2N1c2luXCIgKTtcblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cblx0XHRcdFx0XHQvLyBJZ25vcmUgSUUgdGhyb3dpbmcgZXJyb3JzIHdoZW4gZm9jdXNpbmcgaGlkZGVuIGVsZW1lbnRzXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZmluZExhc3RBY3RpdmU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGxhc3RBY3RpdmUgPSB0aGlzLmxhc3RBY3RpdmU7XG5cdFx0XHRyZXR1cm4gbGFzdEFjdGl2ZSAmJiAkLmdyZXAoIHRoaXMuZXJyb3JMaXN0LCBmdW5jdGlvbiggbiApIHtcblx0XHRcdFx0cmV0dXJuIG4uZWxlbWVudC5uYW1lID09PSBsYXN0QWN0aXZlLm5hbWU7XG5cdFx0XHR9ICkubGVuZ3RoID09PSAxICYmIGxhc3RBY3RpdmU7XG5cdFx0fSxcblxuXHRcdGVsZW1lbnRzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciB2YWxpZGF0b3IgPSB0aGlzLFxuXHRcdFx0XHRydWxlc0NhY2hlID0ge307XG5cblx0XHRcdC8vIFNlbGVjdCBhbGwgdmFsaWQgaW5wdXRzIGluc2lkZSB0aGUgZm9ybSAobm8gc3VibWl0IG9yIHJlc2V0IGJ1dHRvbnMpXG5cdFx0XHRyZXR1cm4gJCggdGhpcy5jdXJyZW50Rm9ybSApXG5cdFx0XHQuZmluZCggXCJpbnB1dCwgc2VsZWN0LCB0ZXh0YXJlYSwgW2NvbnRlbnRlZGl0YWJsZV1cIiApXG5cdFx0XHQubm90KCBcIjpzdWJtaXQsIDpyZXNldCwgOmltYWdlLCA6ZGlzYWJsZWRcIiApXG5cdFx0XHQubm90KCB0aGlzLnNldHRpbmdzLmlnbm9yZSApXG5cdFx0XHQuZmlsdGVyKCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG5hbWUgPSB0aGlzLm5hbWUgfHwgJCggdGhpcyApLmF0dHIoIFwibmFtZVwiICk7IC8vIEZvciBjb250ZW50ZWRpdGFibGVcblx0XHRcdFx0dmFyIGlzQ29udGVudEVkaXRhYmxlID0gdHlwZW9mICQoIHRoaXMgKS5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwidW5kZWZpbmVkXCIgJiYgJCggdGhpcyApLmF0dHIoIFwiY29udGVudGVkaXRhYmxlXCIgKSAhPT0gXCJmYWxzZVwiO1xuXG5cdFx0XHRcdGlmICggIW5hbWUgJiYgdmFsaWRhdG9yLnNldHRpbmdzLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoIFwiJW8gaGFzIG5vIG5hbWUgYXNzaWduZWRcIiwgdGhpcyApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2V0IGZvcm0gZXhwYW5kbyBvbiBjb250ZW50ZWRpdGFibGVcblx0XHRcdFx0aWYgKCBpc0NvbnRlbnRFZGl0YWJsZSApIHtcblx0XHRcdFx0XHR0aGlzLmZvcm0gPSAkKCB0aGlzICkuY2xvc2VzdCggXCJmb3JtXCIgKVsgMCBdO1xuXHRcdFx0XHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBJZ25vcmUgZWxlbWVudHMgdGhhdCBiZWxvbmcgdG8gb3RoZXIvbmVzdGVkIGZvcm1zXG5cdFx0XHRcdGlmICggdGhpcy5mb3JtICE9PSB2YWxpZGF0b3IuY3VycmVudEZvcm0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gU2VsZWN0IG9ubHkgdGhlIGZpcnN0IGVsZW1lbnQgZm9yIGVhY2ggbmFtZSwgYW5kIG9ubHkgdGhvc2Ugd2l0aCBydWxlcyBzcGVjaWZpZWRcblx0XHRcdFx0aWYgKCBuYW1lIGluIHJ1bGVzQ2FjaGUgfHwgIXZhbGlkYXRvci5vYmplY3RMZW5ndGgoICQoIHRoaXMgKS5ydWxlcygpICkgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cnVsZXNDYWNoZVsgbmFtZSBdID0gdHJ1ZTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9ICk7XG5cdFx0fSxcblxuXHRcdGNsZWFuOiBmdW5jdGlvbiggc2VsZWN0b3IgKSB7XG5cdFx0XHRyZXR1cm4gJCggc2VsZWN0b3IgKVsgMCBdO1xuXHRcdH0sXG5cblx0XHRlcnJvcnM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGVycm9yQ2xhc3MgPSB0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3Muc3BsaXQoIFwiIFwiICkuam9pbiggXCIuXCIgKTtcblx0XHRcdHJldHVybiAkKCB0aGlzLnNldHRpbmdzLmVycm9yRWxlbWVudCArIFwiLlwiICsgZXJyb3JDbGFzcywgdGhpcy5lcnJvckNvbnRleHQgKTtcblx0XHR9LFxuXG5cdFx0cmVzZXRJbnRlcm5hbHM6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5zdWNjZXNzTGlzdCA9IFtdO1xuXHRcdFx0dGhpcy5lcnJvckxpc3QgPSBbXTtcblx0XHRcdHRoaXMuZXJyb3JNYXAgPSB7fTtcblx0XHRcdHRoaXMudG9TaG93ID0gJCggW10gKTtcblx0XHRcdHRoaXMudG9IaWRlID0gJCggW10gKTtcblx0XHR9LFxuXG5cdFx0cmVzZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5yZXNldEludGVybmFscygpO1xuXHRcdFx0dGhpcy5jdXJyZW50RWxlbWVudHMgPSAkKCBbXSApO1xuXHRcdH0sXG5cblx0XHRwcmVwYXJlRm9ybTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnJlc2V0KCk7XG5cdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMuZXJyb3JzKCkuYWRkKCB0aGlzLmNvbnRhaW5lcnMgKTtcblx0XHR9LFxuXG5cdFx0cHJlcGFyZUVsZW1lbnQ6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dGhpcy5yZXNldCgpO1xuXHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLmVycm9yc0ZvciggZWxlbWVudCApO1xuXHRcdH0sXG5cblx0XHRlbGVtZW50VmFsdWU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0dmFyICRlbGVtZW50ID0gJCggZWxlbWVudCApLFxuXHRcdFx0XHR0eXBlID0gZWxlbWVudC50eXBlLFxuXHRcdFx0XHRpc0NvbnRlbnRFZGl0YWJsZSA9IHR5cGVvZiAkZWxlbWVudC5hdHRyKCBcImNvbnRlbnRlZGl0YWJsZVwiICkgIT09IFwidW5kZWZpbmVkXCIgJiYgJGVsZW1lbnQuYXR0ciggXCJjb250ZW50ZWRpdGFibGVcIiApICE9PSBcImZhbHNlXCIsXG5cdFx0XHRcdHZhbCwgaWR4O1xuXG5cdFx0XHRpZiAoIHR5cGUgPT09IFwicmFkaW9cIiB8fCB0eXBlID09PSBcImNoZWNrYm94XCIgKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnQubmFtZSApLmZpbHRlciggXCI6Y2hlY2tlZFwiICkudmFsKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0eXBlID09PSBcIm51bWJlclwiICYmIHR5cGVvZiBlbGVtZW50LnZhbGlkaXR5ICE9PSBcInVuZGVmaW5lZFwiICkge1xuXHRcdFx0XHRyZXR1cm4gZWxlbWVudC52YWxpZGl0eS5iYWRJbnB1dCA/IFwiTmFOXCIgOiAkZWxlbWVudC52YWwoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBpc0NvbnRlbnRFZGl0YWJsZSApIHtcblx0XHRcdFx0dmFsID0gJGVsZW1lbnQudGV4dCgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dmFsID0gJGVsZW1lbnQudmFsKCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggdHlwZSA9PT0gXCJmaWxlXCIgKSB7XG5cblx0XHRcdFx0Ly8gTW9kZXJuIGJyb3dzZXIgKGNocm9tZSAmIHNhZmFyaSlcblx0XHRcdFx0aWYgKCB2YWwuc3Vic3RyKCAwLCAxMiApID09PSBcIkM6XFxcXGZha2VwYXRoXFxcXFwiICkge1xuXHRcdFx0XHRcdHJldHVybiB2YWwuc3Vic3RyKCAxMiApO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gTGVnYWN5IGJyb3dzZXJzXG5cdFx0XHRcdC8vIFVuaXgtYmFzZWQgcGF0aFxuXHRcdFx0XHRpZHggPSB2YWwubGFzdEluZGV4T2YoIFwiL1wiICk7XG5cdFx0XHRcdGlmICggaWR4ID49IDAgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbC5zdWJzdHIoIGlkeCArIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFdpbmRvd3MtYmFzZWQgcGF0aFxuXHRcdFx0XHRpZHggPSB2YWwubGFzdEluZGV4T2YoIFwiXFxcXFwiICk7XG5cdFx0XHRcdGlmICggaWR4ID49IDAgKSB7XG5cdFx0XHRcdFx0cmV0dXJuIHZhbC5zdWJzdHIoIGlkeCArIDEgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEp1c3QgdGhlIGZpbGUgbmFtZVxuXHRcdFx0XHRyZXR1cm4gdmFsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdHJldHVybiB2YWwucmVwbGFjZSggL1xcci9nLCBcIlwiICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsO1xuXHRcdH0sXG5cblx0XHRjaGVjazogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHRlbGVtZW50ID0gdGhpcy52YWxpZGF0aW9uVGFyZ2V0Rm9yKCB0aGlzLmNsZWFuKCBlbGVtZW50ICkgKTtcblxuXHRcdFx0dmFyIHJ1bGVzID0gJCggZWxlbWVudCApLnJ1bGVzKCksXG5cdFx0XHRcdHJ1bGVzQ291bnQgPSAkLm1hcCggcnVsZXMsIGZ1bmN0aW9uKCBuLCBpICkge1xuXHRcdFx0XHRcdHJldHVybiBpO1xuXHRcdFx0XHR9ICkubGVuZ3RoLFxuXHRcdFx0XHRkZXBlbmRlbmN5TWlzbWF0Y2ggPSBmYWxzZSxcblx0XHRcdFx0dmFsID0gdGhpcy5lbGVtZW50VmFsdWUoIGVsZW1lbnQgKSxcblx0XHRcdFx0cmVzdWx0LCBtZXRob2QsIHJ1bGUsIG5vcm1hbGl6ZXI7XG5cblx0XHRcdC8vIFByaW9yaXRpemUgdGhlIGxvY2FsIG5vcm1hbGl6ZXIgZGVmaW5lZCBmb3IgdGhpcyBlbGVtZW50IG92ZXIgdGhlIGdsb2JhbCBvbmVcblx0XHRcdC8vIGlmIHRoZSBmb3JtZXIgZXhpc3RzLCBvdGhlcndpc2UgdXNlciB0aGUgZ2xvYmFsIG9uZSBpbiBjYXNlIGl0IGV4aXN0cy5cblx0XHRcdGlmICggdHlwZW9mIHJ1bGVzLm5vcm1hbGl6ZXIgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0bm9ybWFsaXplciA9IHJ1bGVzLm5vcm1hbGl6ZXI7XG5cdFx0XHR9IGVsc2UgaWYgKFx0dHlwZW9mIHRoaXMuc2V0dGluZ3Mubm9ybWFsaXplciA9PT0gXCJmdW5jdGlvblwiICkge1xuXHRcdFx0XHRub3JtYWxpemVyID0gdGhpcy5zZXR0aW5ncy5ub3JtYWxpemVyO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBJZiBub3JtYWxpemVyIGlzIGRlZmluZWQsIHRoZW4gY2FsbCBpdCB0byByZXRyZWl2ZSB0aGUgY2hhbmdlZCB2YWx1ZSBpbnN0ZWFkXG5cdFx0XHQvLyBvZiB1c2luZyB0aGUgcmVhbCBvbmUuXG5cdFx0XHQvLyBOb3RlIHRoYXQgYHRoaXNgIGluIHRoZSBub3JtYWxpemVyIGlzIGBlbGVtZW50YC5cblx0XHRcdGlmICggbm9ybWFsaXplciApIHtcblx0XHRcdFx0dmFsID0gbm9ybWFsaXplci5jYWxsKCBlbGVtZW50LCB2YWwgKTtcblxuXHRcdFx0XHQvLyBEZWxldGUgdGhlIG5vcm1hbGl6ZXIgZnJvbSBydWxlcyB0byBhdm9pZCB0cmVhdGluZyBpdCBhcyBhIHByZS1kZWZpbmVkIG1ldGhvZC5cblx0XHRcdFx0ZGVsZXRlIHJ1bGVzLm5vcm1hbGl6ZXI7XG5cdFx0XHR9XG5cblx0XHRcdGZvciAoIG1ldGhvZCBpbiBydWxlcyApIHtcblx0XHRcdFx0cnVsZSA9IHsgbWV0aG9kOiBtZXRob2QsIHBhcmFtZXRlcnM6IHJ1bGVzWyBtZXRob2QgXSB9O1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHJlc3VsdCA9ICQudmFsaWRhdG9yLm1ldGhvZHNbIG1ldGhvZCBdLmNhbGwoIHRoaXMsIHZhbCwgZWxlbWVudCwgcnVsZS5wYXJhbWV0ZXJzICk7XG5cblx0XHRcdFx0XHQvLyBJZiBhIG1ldGhvZCBpbmRpY2F0ZXMgdGhhdCB0aGUgZmllbGQgaXMgb3B0aW9uYWwgYW5kIHRoZXJlZm9yZSB2YWxpZCxcblx0XHRcdFx0XHQvLyBkb24ndCBtYXJrIGl0IGFzIHZhbGlkIHdoZW4gdGhlcmUgYXJlIG5vIG90aGVyIHJ1bGVzXG5cdFx0XHRcdFx0aWYgKCByZXN1bHQgPT09IFwiZGVwZW5kZW5jeS1taXNtYXRjaFwiICYmIHJ1bGVzQ291bnQgPT09IDEgKSB7XG5cdFx0XHRcdFx0XHRkZXBlbmRlbmN5TWlzbWF0Y2ggPSB0cnVlO1xuXHRcdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlcGVuZGVuY3lNaXNtYXRjaCA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0aWYgKCByZXN1bHQgPT09IFwicGVuZGluZ1wiICkge1xuXHRcdFx0XHRcdFx0dGhpcy50b0hpZGUgPSB0aGlzLnRvSGlkZS5ub3QoIHRoaXMuZXJyb3JzRm9yKCBlbGVtZW50ICkgKTtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoICFyZXN1bHQgKSB7XG5cdFx0XHRcdFx0XHR0aGlzLmZvcm1hdEFuZEFkZCggZWxlbWVudCwgcnVsZSApO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoIGUgKSB7XG5cdFx0XHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLmRlYnVnICYmIHdpbmRvdy5jb25zb2xlICkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coIFwiRXhjZXB0aW9uIG9jY3VycmVkIHdoZW4gY2hlY2tpbmcgZWxlbWVudCBcIiArIGVsZW1lbnQuaWQgKyBcIiwgY2hlY2sgdGhlICdcIiArIHJ1bGUubWV0aG9kICsgXCInIG1ldGhvZC5cIiwgZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoIGUgaW5zdGFuY2VvZiBUeXBlRXJyb3IgKSB7XG5cdFx0XHRcdFx0XHRlLm1lc3NhZ2UgKz0gXCIuICBFeGNlcHRpb24gb2NjdXJyZWQgd2hlbiBjaGVja2luZyBlbGVtZW50IFwiICsgZWxlbWVudC5pZCArIFwiLCBjaGVjayB0aGUgJ1wiICsgcnVsZS5tZXRob2QgKyBcIicgbWV0aG9kLlwiO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHRocm93IGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggZGVwZW5kZW5jeU1pc21hdGNoICkge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXMub2JqZWN0TGVuZ3RoKCBydWxlcyApICkge1xuXHRcdFx0XHR0aGlzLnN1Y2Nlc3NMaXN0LnB1c2goIGVsZW1lbnQgKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiB0cnVlO1xuXHRcdH0sXG5cblx0XHQvLyBSZXR1cm4gdGhlIGN1c3RvbSBtZXNzYWdlIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBhbmQgdmFsaWRhdGlvbiBtZXRob2Rcblx0XHQvLyBzcGVjaWZpZWQgaW4gdGhlIGVsZW1lbnQncyBIVE1MNSBkYXRhIGF0dHJpYnV0ZVxuXHRcdC8vIHJldHVybiB0aGUgZ2VuZXJpYyBtZXNzYWdlIGlmIHByZXNlbnQgYW5kIG5vIG1ldGhvZCBzcGVjaWZpYyBtZXNzYWdlIGlzIHByZXNlbnRcblx0XHRjdXN0b21EYXRhTWVzc2FnZTogZnVuY3Rpb24oIGVsZW1lbnQsIG1ldGhvZCApIHtcblx0XHRcdHJldHVybiAkKCBlbGVtZW50ICkuZGF0YSggXCJtc2dcIiArIG1ldGhvZC5jaGFyQXQoIDAgKS50b1VwcGVyQ2FzZSgpICtcblx0XHRcdFx0bWV0aG9kLnN1YnN0cmluZyggMSApLnRvTG93ZXJDYXNlKCkgKSB8fCAkKCBlbGVtZW50ICkuZGF0YSggXCJtc2dcIiApO1xuXHRcdH0sXG5cblx0XHQvLyBSZXR1cm4gdGhlIGN1c3RvbSBtZXNzYWdlIGZvciB0aGUgZ2l2ZW4gZWxlbWVudCBuYW1lIGFuZCB2YWxpZGF0aW9uIG1ldGhvZFxuXHRcdGN1c3RvbU1lc3NhZ2U6IGZ1bmN0aW9uKCBuYW1lLCBtZXRob2QgKSB7XG5cdFx0XHR2YXIgbSA9IHRoaXMuc2V0dGluZ3MubWVzc2FnZXNbIG5hbWUgXTtcblx0XHRcdHJldHVybiBtICYmICggbS5jb25zdHJ1Y3RvciA9PT0gU3RyaW5nID8gbSA6IG1bIG1ldGhvZCBdICk7XG5cdFx0fSxcblxuXHRcdC8vIFJldHVybiB0aGUgZmlyc3QgZGVmaW5lZCBhcmd1bWVudCwgYWxsb3dpbmcgZW1wdHkgc3RyaW5nc1xuXHRcdGZpbmREZWZpbmVkOiBmdW5jdGlvbigpIHtcblx0XHRcdGZvciAoIHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKyApIHtcblx0XHRcdFx0aWYgKCBhcmd1bWVudHNbIGkgXSAhPT0gdW5kZWZpbmVkICkge1xuXHRcdFx0XHRcdHJldHVybiBhcmd1bWVudHNbIGkgXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0XHR9LFxuXG5cdFx0Ly8gVGhlIHNlY29uZCBwYXJhbWV0ZXIgJ3J1bGUnIHVzZWQgdG8gYmUgYSBzdHJpbmcsIGFuZCBleHRlbmRlZCB0byBhbiBvYmplY3QgbGl0ZXJhbFxuXHRcdC8vIG9mIHRoZSBmb2xsb3dpbmcgZm9ybTpcblx0XHQvLyBydWxlID0ge1xuXHRcdC8vICAgICBtZXRob2Q6IFwibWV0aG9kIG5hbWVcIixcblx0XHQvLyAgICAgcGFyYW1ldGVyczogXCJ0aGUgZ2l2ZW4gbWV0aG9kIHBhcmFtZXRlcnNcIlxuXHRcdC8vIH1cblx0XHQvL1xuXHRcdC8vIFRoZSBvbGQgYmVoYXZpb3Igc3RpbGwgc3VwcG9ydGVkLCBrZXB0IHRvIG1haW50YWluIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkgd2l0aFxuXHRcdC8vIG9sZCBjb2RlLCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cdFx0ZGVmYXVsdE1lc3NhZ2U6IGZ1bmN0aW9uKCBlbGVtZW50LCBydWxlICkge1xuXHRcdFx0aWYgKCB0eXBlb2YgcnVsZSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0cnVsZSA9IHsgbWV0aG9kOiBydWxlIH07XG5cdFx0XHR9XG5cblx0XHRcdHZhciBtZXNzYWdlID0gdGhpcy5maW5kRGVmaW5lZChcblx0XHRcdFx0XHR0aGlzLmN1c3RvbU1lc3NhZ2UoIGVsZW1lbnQubmFtZSwgcnVsZS5tZXRob2QgKSxcblx0XHRcdFx0XHR0aGlzLmN1c3RvbURhdGFNZXNzYWdlKCBlbGVtZW50LCBydWxlLm1ldGhvZCApLFxuXG5cdFx0XHRcdFx0Ly8gJ3RpdGxlJyBpcyBuZXZlciB1bmRlZmluZWQsIHNvIGhhbmRsZSBlbXB0eSBzdHJpbmcgYXMgdW5kZWZpbmVkXG5cdFx0XHRcdFx0IXRoaXMuc2V0dGluZ3MuaWdub3JlVGl0bGUgJiYgZWxlbWVudC50aXRsZSB8fCB1bmRlZmluZWQsXG5cdFx0XHRcdFx0JC52YWxpZGF0b3IubWVzc2FnZXNbIHJ1bGUubWV0aG9kIF0sXG5cdFx0XHRcdFx0XCI8c3Ryb25nPldhcm5pbmc6IE5vIG1lc3NhZ2UgZGVmaW5lZCBmb3IgXCIgKyBlbGVtZW50Lm5hbWUgKyBcIjwvc3Ryb25nPlwiXG5cdFx0XHRcdCksXG5cdFx0XHRcdHRoZXJlZ2V4ID0gL1xcJD9cXHsoXFxkKylcXH0vZztcblx0XHRcdGlmICggdHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIiApIHtcblx0XHRcdFx0bWVzc2FnZSA9IG1lc3NhZ2UuY2FsbCggdGhpcywgcnVsZS5wYXJhbWV0ZXJzLCBlbGVtZW50ICk7XG5cdFx0XHR9IGVsc2UgaWYgKCB0aGVyZWdleC50ZXN0KCBtZXNzYWdlICkgKSB7XG5cdFx0XHRcdG1lc3NhZ2UgPSAkLnZhbGlkYXRvci5mb3JtYXQoIG1lc3NhZ2UucmVwbGFjZSggdGhlcmVnZXgsIFwieyQxfVwiICksIHJ1bGUucGFyYW1ldGVycyApO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gbWVzc2FnZTtcblx0XHR9LFxuXG5cdFx0Zm9ybWF0QW5kQWRkOiBmdW5jdGlvbiggZWxlbWVudCwgcnVsZSApIHtcblx0XHRcdHZhciBtZXNzYWdlID0gdGhpcy5kZWZhdWx0TWVzc2FnZSggZWxlbWVudCwgcnVsZSApO1xuXG5cdFx0XHR0aGlzLmVycm9yTGlzdC5wdXNoKCB7XG5cdFx0XHRcdG1lc3NhZ2U6IG1lc3NhZ2UsXG5cdFx0XHRcdGVsZW1lbnQ6IGVsZW1lbnQsXG5cdFx0XHRcdG1ldGhvZDogcnVsZS5tZXRob2Rcblx0XHRcdH0gKTtcblxuXHRcdFx0dGhpcy5lcnJvck1hcFsgZWxlbWVudC5uYW1lIF0gPSBtZXNzYWdlO1xuXHRcdFx0dGhpcy5zdWJtaXR0ZWRbIGVsZW1lbnQubmFtZSBdID0gbWVzc2FnZTtcblx0XHR9LFxuXG5cdFx0YWRkV3JhcHBlcjogZnVuY3Rpb24oIHRvVG9nZ2xlICkge1xuXHRcdFx0aWYgKCB0aGlzLnNldHRpbmdzLndyYXBwZXIgKSB7XG5cdFx0XHRcdHRvVG9nZ2xlID0gdG9Ub2dnbGUuYWRkKCB0b1RvZ2dsZS5wYXJlbnQoIHRoaXMuc2V0dGluZ3Mud3JhcHBlciApICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdG9Ub2dnbGU7XG5cdFx0fSxcblxuXHRcdGRlZmF1bHRTaG93RXJyb3JzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBpLCBlbGVtZW50cywgZXJyb3I7XG5cdFx0XHRmb3IgKCBpID0gMDsgdGhpcy5lcnJvckxpc3RbIGkgXTsgaSsrICkge1xuXHRcdFx0XHRlcnJvciA9IHRoaXMuZXJyb3JMaXN0WyBpIF07XG5cdFx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy5oaWdobGlnaHQgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5oaWdobGlnaHQuY2FsbCggdGhpcywgZXJyb3IuZWxlbWVudCwgdGhpcy5zZXR0aW5ncy5lcnJvckNsYXNzLCB0aGlzLnNldHRpbmdzLnZhbGlkQ2xhc3MgKTtcblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLnNob3dMYWJlbCggZXJyb3IuZWxlbWVudCwgZXJyb3IubWVzc2FnZSApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCB0aGlzLmVycm9yTGlzdC5sZW5ndGggKSB7XG5cdFx0XHRcdHRoaXMudG9TaG93ID0gdGhpcy50b1Nob3cuYWRkKCB0aGlzLmNvbnRhaW5lcnMgKTtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy5zdWNjZXNzICkge1xuXHRcdFx0XHRmb3IgKCBpID0gMDsgdGhpcy5zdWNjZXNzTGlzdFsgaSBdOyBpKysgKSB7XG5cdFx0XHRcdFx0dGhpcy5zaG93TGFiZWwoIHRoaXMuc3VjY2Vzc0xpc3RbIGkgXSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MudW5oaWdobGlnaHQgKSB7XG5cdFx0XHRcdGZvciAoIGkgPSAwLCBlbGVtZW50cyA9IHRoaXMudmFsaWRFbGVtZW50cygpOyBlbGVtZW50c1sgaSBdOyBpKysgKSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy51bmhpZ2hsaWdodC5jYWxsKCB0aGlzLCBlbGVtZW50c1sgaSBdLCB0aGlzLnNldHRpbmdzLmVycm9yQ2xhc3MsIHRoaXMuc2V0dGluZ3MudmFsaWRDbGFzcyApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRvSGlkZSA9IHRoaXMudG9IaWRlLm5vdCggdGhpcy50b1Nob3cgKTtcblx0XHRcdHRoaXMuaGlkZUVycm9ycygpO1xuXHRcdFx0dGhpcy5hZGRXcmFwcGVyKCB0aGlzLnRvU2hvdyApLnNob3coKTtcblx0XHR9LFxuXG5cdFx0dmFsaWRFbGVtZW50czogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jdXJyZW50RWxlbWVudHMubm90KCB0aGlzLmludmFsaWRFbGVtZW50cygpICk7XG5cdFx0fSxcblxuXHRcdGludmFsaWRFbGVtZW50czogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gJCggdGhpcy5lcnJvckxpc3QgKS5tYXAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gdGhpcy5lbGVtZW50O1xuXHRcdFx0fSApO1xuXHRcdH0sXG5cblx0XHRzaG93TGFiZWw6IGZ1bmN0aW9uKCBlbGVtZW50LCBtZXNzYWdlICkge1xuXHRcdFx0dmFyIHBsYWNlLCBncm91cCwgZXJyb3JJRCwgdixcblx0XHRcdFx0ZXJyb3IgPSB0aGlzLmVycm9yc0ZvciggZWxlbWVudCApLFxuXHRcdFx0XHRlbGVtZW50SUQgPSB0aGlzLmlkT3JOYW1lKCBlbGVtZW50ICksXG5cdFx0XHRcdGRlc2NyaWJlZEJ5ID0gJCggZWxlbWVudCApLmF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiICk7XG5cblx0XHRcdGlmICggZXJyb3IubGVuZ3RoICkge1xuXG5cdFx0XHRcdC8vIFJlZnJlc2ggZXJyb3Ivc3VjY2VzcyBjbGFzc1xuXHRcdFx0XHRlcnJvci5yZW1vdmVDbGFzcyggdGhpcy5zZXR0aW5ncy52YWxpZENsYXNzICkuYWRkQ2xhc3MoIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyApO1xuXG5cdFx0XHRcdC8vIFJlcGxhY2UgbWVzc2FnZSBvbiBleGlzdGluZyBsYWJlbFxuXHRcdFx0XHRlcnJvci5odG1sKCBtZXNzYWdlICk7XG5cdFx0XHR9IGVsc2Uge1xuXG5cdFx0XHRcdC8vIENyZWF0ZSBlcnJvciBlbGVtZW50XG5cdFx0XHRcdGVycm9yID0gJCggXCI8XCIgKyB0aGlzLnNldHRpbmdzLmVycm9yRWxlbWVudCArIFwiPlwiIClcblx0XHRcdFx0XHQuYXR0ciggXCJpZFwiLCBlbGVtZW50SUQgKyBcIi1lcnJvclwiIClcblx0XHRcdFx0XHQuYWRkQ2xhc3MoIHRoaXMuc2V0dGluZ3MuZXJyb3JDbGFzcyApXG5cdFx0XHRcdFx0Lmh0bWwoIG1lc3NhZ2UgfHwgXCJcIiApO1xuXG5cdFx0XHRcdC8vIE1haW50YWluIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCB0byBiZSBwbGFjZWQgaW50byB0aGUgRE9NXG5cdFx0XHRcdHBsYWNlID0gZXJyb3I7XG5cdFx0XHRcdGlmICggdGhpcy5zZXR0aW5ncy53cmFwcGVyICkge1xuXG5cdFx0XHRcdFx0Ly8gTWFrZSBzdXJlIHRoZSBlbGVtZW50IGlzIHZpc2libGUsIGV2ZW4gaW4gSUVcblx0XHRcdFx0XHQvLyBhY3R1YWxseSBzaG93aW5nIHRoZSB3cmFwcGVkIGVsZW1lbnQgaXMgaGFuZGxlZCBlbHNld2hlcmVcblx0XHRcdFx0XHRwbGFjZSA9IGVycm9yLmhpZGUoKS5zaG93KCkud3JhcCggXCI8XCIgKyB0aGlzLnNldHRpbmdzLndyYXBwZXIgKyBcIi8+XCIgKS5wYXJlbnQoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIHRoaXMubGFiZWxDb250YWluZXIubGVuZ3RoICkge1xuXHRcdFx0XHRcdHRoaXMubGFiZWxDb250YWluZXIuYXBwZW5kKCBwbGFjZSApO1xuXHRcdFx0XHR9IGVsc2UgaWYgKCB0aGlzLnNldHRpbmdzLmVycm9yUGxhY2VtZW50ICkge1xuXHRcdFx0XHRcdHRoaXMuc2V0dGluZ3MuZXJyb3JQbGFjZW1lbnQuY2FsbCggdGhpcywgcGxhY2UsICQoIGVsZW1lbnQgKSApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHBsYWNlLmluc2VydEFmdGVyKCBlbGVtZW50ICk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBMaW5rIGVycm9yIGJhY2sgdG8gdGhlIGVsZW1lbnRcblx0XHRcdFx0aWYgKCBlcnJvci5pcyggXCJsYWJlbFwiICkgKSB7XG5cblx0XHRcdFx0XHQvLyBJZiB0aGUgZXJyb3IgaXMgYSBsYWJlbCwgdGhlbiBhc3NvY2lhdGUgdXNpbmcgJ2Zvcidcblx0XHRcdFx0XHRlcnJvci5hdHRyKCBcImZvclwiLCBlbGVtZW50SUQgKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoZSBlbGVtZW50IGlzIG5vdCBhIGNoaWxkIG9mIGFuIGFzc29jaWF0ZWQgbGFiZWwsIHRoZW4gaXQncyBuZWNlc3Nhcnlcblx0XHRcdFx0XHQvLyB0byBleHBsaWNpdGx5IGFwcGx5IGFyaWEtZGVzY3JpYmVkYnlcblx0XHRcdFx0fSBlbHNlIGlmICggZXJyb3IucGFyZW50cyggXCJsYWJlbFtmb3I9J1wiICsgdGhpcy5lc2NhcGVDc3NNZXRhKCBlbGVtZW50SUQgKSArIFwiJ11cIiApLmxlbmd0aCA9PT0gMCApIHtcblx0XHRcdFx0XHRlcnJvcklEID0gZXJyb3IuYXR0ciggXCJpZFwiICk7XG5cblx0XHRcdFx0XHQvLyBSZXNwZWN0IGV4aXN0aW5nIG5vbi1lcnJvciBhcmlhLWRlc2NyaWJlZGJ5XG5cdFx0XHRcdFx0aWYgKCAhZGVzY3JpYmVkQnkgKSB7XG5cdFx0XHRcdFx0XHRkZXNjcmliZWRCeSA9IGVycm9ySUQ7XG5cdFx0XHRcdFx0fSBlbHNlIGlmICggIWRlc2NyaWJlZEJ5Lm1hdGNoKCBuZXcgUmVnRXhwKCBcIlxcXFxiXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoIGVycm9ySUQgKSArIFwiXFxcXGJcIiApICkgKSB7XG5cblx0XHRcdFx0XHRcdC8vIEFkZCB0byBlbmQgb2YgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG5cdFx0XHRcdFx0XHRkZXNjcmliZWRCeSArPSBcIiBcIiArIGVycm9ySUQ7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCQoIGVsZW1lbnQgKS5hdHRyKCBcImFyaWEtZGVzY3JpYmVkYnlcIiwgZGVzY3JpYmVkQnkgKTtcblxuXHRcdFx0XHRcdC8vIElmIHRoaXMgZWxlbWVudCBpcyBncm91cGVkLCB0aGVuIGFzc2lnbiB0byBhbGwgZWxlbWVudHMgaW4gdGhlIHNhbWUgZ3JvdXBcblx0XHRcdFx0XHRncm91cCA9IHRoaXMuZ3JvdXBzWyBlbGVtZW50Lm5hbWUgXTtcblx0XHRcdFx0XHRpZiAoIGdyb3VwICkge1xuXHRcdFx0XHRcdFx0diA9IHRoaXM7XG5cdFx0XHRcdFx0XHQkLmVhY2goIHYuZ3JvdXBzLCBmdW5jdGlvbiggbmFtZSwgdGVzdGdyb3VwICkge1xuXHRcdFx0XHRcdFx0XHRpZiAoIHRlc3Rncm91cCA9PT0gZ3JvdXAgKSB7XG5cdFx0XHRcdFx0XHRcdFx0JCggXCJbbmFtZT0nXCIgKyB2LmVzY2FwZUNzc01ldGEoIG5hbWUgKSArIFwiJ11cIiwgdi5jdXJyZW50Rm9ybSApXG5cdFx0XHRcdFx0XHRcdFx0XHQuYXR0ciggXCJhcmlhLWRlc2NyaWJlZGJ5XCIsIGVycm9yLmF0dHIoIFwiaWRcIiApICk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGlmICggIW1lc3NhZ2UgJiYgdGhpcy5zZXR0aW5ncy5zdWNjZXNzICkge1xuXHRcdFx0XHRlcnJvci50ZXh0KCBcIlwiICk7XG5cdFx0XHRcdGlmICggdHlwZW9mIHRoaXMuc2V0dGluZ3Muc3VjY2VzcyA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdFx0XHRlcnJvci5hZGRDbGFzcyggdGhpcy5zZXR0aW5ncy5zdWNjZXNzICk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0dGhpcy5zZXR0aW5ncy5zdWNjZXNzKCBlcnJvciwgZWxlbWVudCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnRvU2hvdyA9IHRoaXMudG9TaG93LmFkZCggZXJyb3IgKTtcblx0XHR9LFxuXG5cdFx0ZXJyb3JzRm9yOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdHZhciBuYW1lID0gdGhpcy5lc2NhcGVDc3NNZXRhKCB0aGlzLmlkT3JOYW1lKCBlbGVtZW50ICkgKSxcblx0XHRcdFx0ZGVzY3JpYmVyID0gJCggZWxlbWVudCApLmF0dHIoIFwiYXJpYS1kZXNjcmliZWRieVwiICksXG5cdFx0XHRcdHNlbGVjdG9yID0gXCJsYWJlbFtmb3I9J1wiICsgbmFtZSArIFwiJ10sIGxhYmVsW2Zvcj0nXCIgKyBuYW1lICsgXCInXSAqXCI7XG5cblx0XHRcdC8vICdhcmlhLWRlc2NyaWJlZGJ5JyBzaG91bGQgZGlyZWN0bHkgcmVmZXJlbmNlIHRoZSBlcnJvciBlbGVtZW50XG5cdFx0XHRpZiAoIGRlc2NyaWJlciApIHtcblx0XHRcdFx0c2VsZWN0b3IgPSBzZWxlY3RvciArIFwiLCAjXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoIGRlc2NyaWJlciApXG5cdFx0XHRcdFx0LnJlcGxhY2UoIC9cXHMrL2csIFwiLCAjXCIgKTtcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIHRoaXNcblx0XHRcdFx0LmVycm9ycygpXG5cdFx0XHRcdC5maWx0ZXIoIHNlbGVjdG9yICk7XG5cdFx0fSxcblxuXHRcdC8vIFNlZSBodHRwczovL2FwaS5qcXVlcnkuY29tL2NhdGVnb3J5L3NlbGVjdG9ycy8sIGZvciBDU1Ncblx0XHQvLyBtZXRhLWNoYXJhY3RlcnMgdGhhdCBzaG91bGQgYmUgZXNjYXBlZCBpbiBvcmRlciB0byBiZSB1c2VkIHdpdGggSlF1ZXJ5XG5cdFx0Ly8gYXMgYSBsaXRlcmFsIHBhcnQgb2YgYSBuYW1lL2lkIG9yIGFueSBzZWxlY3Rvci5cblx0XHRlc2NhcGVDc3NNZXRhOiBmdW5jdGlvbiggc3RyaW5nICkge1xuXHRcdFx0cmV0dXJuIHN0cmluZy5yZXBsYWNlKCAvKFtcXFxcIVwiIyQlJicoKSorLC4vOjs8PT4/QFxcW1xcXV5ge3x9fl0pL2csIFwiXFxcXCQxXCIgKTtcblx0XHR9LFxuXG5cdFx0aWRPck5hbWU6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ3JvdXBzWyBlbGVtZW50Lm5hbWUgXSB8fCAoIHRoaXMuY2hlY2thYmxlKCBlbGVtZW50ICkgPyBlbGVtZW50Lm5hbWUgOiBlbGVtZW50LmlkIHx8IGVsZW1lbnQubmFtZSApO1xuXHRcdH0sXG5cblx0XHR2YWxpZGF0aW9uVGFyZ2V0Rm9yOiBmdW5jdGlvbiggZWxlbWVudCApIHtcblxuXHRcdFx0Ly8gSWYgcmFkaW8vY2hlY2tib3gsIHZhbGlkYXRlIGZpcnN0IGVsZW1lbnQgaW4gZ3JvdXAgaW5zdGVhZFxuXHRcdFx0aWYgKCB0aGlzLmNoZWNrYWJsZSggZWxlbWVudCApICkge1xuXHRcdFx0XHRlbGVtZW50ID0gdGhpcy5maW5kQnlOYW1lKCBlbGVtZW50Lm5hbWUgKTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gQWx3YXlzIGFwcGx5IGlnbm9yZSBmaWx0ZXJcblx0XHRcdHJldHVybiAkKCBlbGVtZW50ICkubm90KCB0aGlzLnNldHRpbmdzLmlnbm9yZSApWyAwIF07XG5cdFx0fSxcblxuXHRcdGNoZWNrYWJsZTogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gKCAvcmFkaW98Y2hlY2tib3gvaSApLnRlc3QoIGVsZW1lbnQudHlwZSApO1xuXHRcdH0sXG5cblx0XHRmaW5kQnlOYW1lOiBmdW5jdGlvbiggbmFtZSApIHtcblx0XHRcdHJldHVybiAkKCB0aGlzLmN1cnJlbnRGb3JtICkuZmluZCggXCJbbmFtZT0nXCIgKyB0aGlzLmVzY2FwZUNzc01ldGEoIG5hbWUgKSArIFwiJ11cIiApO1xuXHRcdH0sXG5cblx0XHRnZXRMZW5ndGg6IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0XHRcdHN3aXRjaCAoIGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKSApIHtcblx0XHRcdGNhc2UgXCJzZWxlY3RcIjpcblx0XHRcdFx0cmV0dXJuICQoIFwib3B0aW9uOnNlbGVjdGVkXCIsIGVsZW1lbnQgKS5sZW5ndGg7XG5cdFx0XHRjYXNlIFwiaW5wdXRcIjpcblx0XHRcdFx0aWYgKCB0aGlzLmNoZWNrYWJsZSggZWxlbWVudCApICkge1xuXHRcdFx0XHRcdHJldHVybiB0aGlzLmZpbmRCeU5hbWUoIGVsZW1lbnQubmFtZSApLmZpbHRlciggXCI6Y2hlY2tlZFwiICkubGVuZ3RoO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsdWUubGVuZ3RoO1xuXHRcdH0sXG5cblx0XHRkZXBlbmQ6IGZ1bmN0aW9uKCBwYXJhbSwgZWxlbWVudCApIHtcblx0XHRcdHJldHVybiB0aGlzLmRlcGVuZFR5cGVzWyB0eXBlb2YgcGFyYW0gXSA/IHRoaXMuZGVwZW5kVHlwZXNbIHR5cGVvZiBwYXJhbSBdKCBwYXJhbSwgZWxlbWVudCApIDogdHJ1ZTtcblx0XHR9LFxuXG5cdFx0ZGVwZW5kVHlwZXM6IHtcblx0XHRcdFwiYm9vbGVhblwiOiBmdW5jdGlvbiggcGFyYW0gKSB7XG5cdFx0XHRcdHJldHVybiBwYXJhbTtcblx0XHRcdH0sXG5cdFx0XHRcInN0cmluZ1wiOiBmdW5jdGlvbiggcGFyYW0sIGVsZW1lbnQgKSB7XG5cdFx0XHRcdHJldHVybiAhISQoIHBhcmFtLCBlbGVtZW50LmZvcm0gKS5sZW5ndGg7XG5cdFx0XHR9LFxuXHRcdFx0XCJmdW5jdGlvblwiOiBmdW5jdGlvbiggcGFyYW0sIGVsZW1lbnQgKSB7XG5cdFx0XHRcdHJldHVybiBwYXJhbSggZWxlbWVudCApO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRvcHRpb25hbDogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0XHR2YXIgdmFsID0gdGhpcy5lbGVtZW50VmFsdWUoIGVsZW1lbnQgKTtcblx0XHRcdHJldHVybiAhJC52YWxpZGF0b3IubWV0aG9kcy5yZXF1aXJlZC5jYWxsKCB0aGlzLCB2YWwsIGVsZW1lbnQgKSAmJiBcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtcblx0XHR9LFxuXG5cdFx0c3RhcnRSZXF1ZXN0OiBmdW5jdGlvbiggZWxlbWVudCApIHtcblx0XHRcdGlmICggIXRoaXMucGVuZGluZ1sgZWxlbWVudC5uYW1lIF0gKSB7XG5cdFx0XHRcdHRoaXMucGVuZGluZ1JlcXVlc3QrKztcblx0XHRcdFx0JCggZWxlbWVudCApLmFkZENsYXNzKCB0aGlzLnNldHRpbmdzLnBlbmRpbmdDbGFzcyApO1xuXHRcdFx0XHR0aGlzLnBlbmRpbmdbIGVsZW1lbnQubmFtZSBdID0gdHJ1ZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0c3RvcFJlcXVlc3Q6IGZ1bmN0aW9uKCBlbGVtZW50LCB2YWxpZCApIHtcblx0XHRcdHRoaXMucGVuZGluZ1JlcXVlc3QtLTtcblxuXHRcdFx0Ly8gU29tZXRpbWVzIHN5bmNocm9uaXphdGlvbiBmYWlscywgbWFrZSBzdXJlIHBlbmRpbmdSZXF1ZXN0IGlzIG5ldmVyIDwgMFxuXHRcdFx0aWYgKCB0aGlzLnBlbmRpbmdSZXF1ZXN0IDwgMCApIHtcblx0XHRcdFx0dGhpcy5wZW5kaW5nUmVxdWVzdCA9IDA7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgdGhpcy5wZW5kaW5nWyBlbGVtZW50Lm5hbWUgXTtcblx0XHRcdCQoIGVsZW1lbnQgKS5yZW1vdmVDbGFzcyggdGhpcy5zZXR0aW5ncy5wZW5kaW5nQ2xhc3MgKTtcblx0XHRcdGlmICggdmFsaWQgJiYgdGhpcy5wZW5kaW5nUmVxdWVzdCA9PT0gMCAmJiB0aGlzLmZvcm1TdWJtaXR0ZWQgJiYgdGhpcy5mb3JtKCkgKSB7XG5cdFx0XHRcdCQoIHRoaXMuY3VycmVudEZvcm0gKS5zdWJtaXQoKTtcblxuXHRcdFx0XHQvLyBSZW1vdmUgdGhlIGhpZGRlbiBpbnB1dCB0aGF0IHdhcyB1c2VkIGFzIGEgcmVwbGFjZW1lbnQgZm9yIHRoZVxuXHRcdFx0XHQvLyBtaXNzaW5nIHN1Ym1pdCBidXR0b24uIFRoZSBoaWRkZW4gaW5wdXQgaXMgYWRkZWQgYnkgYGhhbmRsZSgpYFxuXHRcdFx0XHQvLyB0byBlbnN1cmUgdGhhdCB0aGUgdmFsdWUgb2YgdGhlIHVzZWQgc3VibWl0IGJ1dHRvbiBpcyBwYXNzZWQgb25cblx0XHRcdFx0Ly8gZm9yIHNjcmlwdGVkIHN1Ym1pdHMgdHJpZ2dlcmVkIGJ5IHRoaXMgbWV0aG9kXG5cdFx0XHRcdGlmICggdGhpcy5zdWJtaXRCdXR0b24gKSB7XG5cdFx0XHRcdFx0JCggXCJpbnB1dDpoaWRkZW5bbmFtZT0nXCIgKyB0aGlzLnN1Ym1pdEJ1dHRvbi5uYW1lICsgXCInXVwiLCB0aGlzLmN1cnJlbnRGb3JtICkucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLmZvcm1TdWJtaXR0ZWQgPSBmYWxzZTtcblx0XHRcdH0gZWxzZSBpZiAoICF2YWxpZCAmJiB0aGlzLnBlbmRpbmdSZXF1ZXN0ID09PSAwICYmIHRoaXMuZm9ybVN1Ym1pdHRlZCApIHtcblx0XHRcdFx0JCggdGhpcy5jdXJyZW50Rm9ybSApLnRyaWdnZXJIYW5kbGVyKCBcImludmFsaWQtZm9ybVwiLCBbIHRoaXMgXSApO1xuXHRcdFx0XHR0aGlzLmZvcm1TdWJtaXR0ZWQgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0cHJldmlvdXNWYWx1ZTogZnVuY3Rpb24oIGVsZW1lbnQsIG1ldGhvZCApIHtcblx0XHRcdG1ldGhvZCA9IHR5cGVvZiBtZXRob2QgPT09IFwic3RyaW5nXCIgJiYgbWV0aG9kIHx8IFwicmVtb3RlXCI7XG5cblx0XHRcdHJldHVybiAkLmRhdGEoIGVsZW1lbnQsIFwicHJldmlvdXNWYWx1ZVwiICkgfHwgJC5kYXRhKCBlbGVtZW50LCBcInByZXZpb3VzVmFsdWVcIiwge1xuXHRcdFx0XHRvbGQ6IG51bGwsXG5cdFx0XHRcdHZhbGlkOiB0cnVlLFxuXHRcdFx0XHRtZXNzYWdlOiB0aGlzLmRlZmF1bHRNZXNzYWdlKCBlbGVtZW50LCB7IG1ldGhvZDogbWV0aG9kIH0gKVxuXHRcdFx0fSApO1xuXHRcdH0sXG5cblx0XHQvLyBDbGVhbnMgdXAgYWxsIGZvcm1zIGFuZCBlbGVtZW50cywgcmVtb3ZlcyB2YWxpZGF0b3Itc3BlY2lmaWMgZXZlbnRzXG5cdFx0ZGVzdHJveTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnJlc2V0Rm9ybSgpO1xuXG5cdFx0XHQkKCB0aGlzLmN1cnJlbnRGb3JtIClcblx0XHRcdFx0Lm9mZiggXCIudmFsaWRhdGVcIiApXG5cdFx0XHRcdC5yZW1vdmVEYXRhKCBcInZhbGlkYXRvclwiIClcblx0XHRcdFx0LmZpbmQoIFwiLnZhbGlkYXRlLWVxdWFsVG8tYmx1clwiIClcblx0XHRcdFx0XHQub2ZmKCBcIi52YWxpZGF0ZS1lcXVhbFRvXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1lcXVhbFRvLWJsdXJcIiApXG5cdFx0XHRcdC5maW5kKCBcIi52YWxpZGF0ZS1sZXNzVGhhbi1ibHVyXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnZhbGlkYXRlLWxlc3NUaGFuXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1sZXNzVGhhbi1ibHVyXCIgKVxuXHRcdFx0XHQuZmluZCggXCIudmFsaWRhdGUtbGVzc1RoYW5FcXVhbC1ibHVyXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnZhbGlkYXRlLWxlc3NUaGFuRXF1YWxcIiApXG5cdFx0XHRcdFx0LnJlbW92ZUNsYXNzKCBcInZhbGlkYXRlLWxlc3NUaGFuRXF1YWwtYmx1clwiIClcblx0XHRcdFx0LmZpbmQoIFwiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuRXF1YWwtYmx1clwiIClcblx0XHRcdFx0XHQub2ZmKCBcIi52YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbkVxdWFsLWJsdXJcIiApXG5cdFx0XHRcdC5maW5kKCBcIi52YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyXCIgKVxuXHRcdFx0XHRcdC5vZmYoIFwiLnZhbGlkYXRlLWdyZWF0ZXJUaGFuXCIgKVxuXHRcdFx0XHRcdC5yZW1vdmVDbGFzcyggXCJ2YWxpZGF0ZS1ncmVhdGVyVGhhbi1ibHVyXCIgKTtcblx0XHR9XG5cblx0fSxcblxuXHRjbGFzc1J1bGVTZXR0aW5nczoge1xuXHRcdHJlcXVpcmVkOiB7IHJlcXVpcmVkOiB0cnVlIH0sXG5cdFx0ZW1haWw6IHsgZW1haWw6IHRydWUgfSxcblx0XHR1cmw6IHsgdXJsOiB0cnVlIH0sXG5cdFx0ZGF0ZTogeyBkYXRlOiB0cnVlIH0sXG5cdFx0ZGF0ZUlTTzogeyBkYXRlSVNPOiB0cnVlIH0sXG5cdFx0bnVtYmVyOiB7IG51bWJlcjogdHJ1ZSB9LFxuXHRcdGRpZ2l0czogeyBkaWdpdHM6IHRydWUgfSxcblx0XHRjcmVkaXRjYXJkOiB7IGNyZWRpdGNhcmQ6IHRydWUgfVxuXHR9LFxuXG5cdGFkZENsYXNzUnVsZXM6IGZ1bmN0aW9uKCBjbGFzc05hbWUsIHJ1bGVzICkge1xuXHRcdGlmICggY2xhc3NOYW1lLmNvbnN0cnVjdG9yID09PSBTdHJpbmcgKSB7XG5cdFx0XHR0aGlzLmNsYXNzUnVsZVNldHRpbmdzWyBjbGFzc05hbWUgXSA9IHJ1bGVzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQkLmV4dGVuZCggdGhpcy5jbGFzc1J1bGVTZXR0aW5ncywgY2xhc3NOYW1lICk7XG5cdFx0fVxuXHR9LFxuXG5cdGNsYXNzUnVsZXM6IGZ1bmN0aW9uKCBlbGVtZW50ICkge1xuXHRcdHZhciBydWxlcyA9IHt9LFxuXHRcdFx0Y2xhc3NlcyA9ICQoIGVsZW1lbnQgKS5hdHRyKCBcImNsYXNzXCIgKTtcblxuXHRcdGlmICggY2xhc3NlcyApIHtcblx0XHRcdCQuZWFjaCggY2xhc3Nlcy5zcGxpdCggXCIgXCIgKSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRcdGlmICggdGhpcyBpbiAkLnZhbGlkYXRvci5jbGFzc1J1bGVTZXR0aW5ncyApIHtcblx0XHRcdFx0XHQkLmV4dGVuZCggcnVsZXMsICQudmFsaWRhdG9yLmNsYXNzUnVsZVNldHRpbmdzWyB0aGlzIF0gKTtcblx0XHRcdFx0fVxuXHRcdFx0fSApO1xuXHRcdH1cblx0XHRyZXR1cm4gcnVsZXM7XG5cdH0sXG5cblx0bm9ybWFsaXplQXR0cmlidXRlUnVsZTogZnVuY3Rpb24oIHJ1bGVzLCB0eXBlLCBtZXRob2QsIHZhbHVlICkge1xuXG5cdFx0Ly8gQ29udmVydCB0aGUgdmFsdWUgdG8gYSBudW1iZXIgZm9yIG51bWJlciBpbnB1dHMsIGFuZCBmb3IgdGV4dCBmb3IgYmFja3dhcmRzIGNvbXBhYmlsaXR5XG5cdFx0Ly8gYWxsb3dzIHR5cGU9XCJkYXRlXCIgYW5kIG90aGVycyB0byBiZSBjb21wYXJlZCBhcyBzdHJpbmdzXG5cdFx0aWYgKCAvbWlufG1heHxzdGVwLy50ZXN0KCBtZXRob2QgKSAmJiAoIHR5cGUgPT09IG51bGwgfHwgL251bWJlcnxyYW5nZXx0ZXh0Ly50ZXN0KCB0eXBlICkgKSApIHtcblx0XHRcdHZhbHVlID0gTnVtYmVyKCB2YWx1ZSApO1xuXG5cdFx0XHQvLyBTdXBwb3J0IE9wZXJhIE1pbmksIHdoaWNoIHJldHVybnMgTmFOIGZvciB1bmRlZmluZWQgbWlubGVuZ3RoXG5cdFx0XHRpZiAoIGlzTmFOKCB2YWx1ZSApICkge1xuXHRcdFx0XHR2YWx1ZSA9IHVuZGVmaW5lZDtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRpZiAoIHZhbHVlIHx8IHZhbHVlID09PSAwICkge1xuXHRcdFx0cnVsZXNbIG1ldGhvZCBdID0gdmFsdWU7XG5cdFx0fSBlbHNlIGlmICggdHlwZSA9PT0gbWV0aG9kICYmIHR5cGUgIT09IFwicmFuZ2VcIiApIHtcblxuXHRcdFx0Ly8gRXhjZXB0aW9uOiB0aGUganF1ZXJ5IHZhbGlkYXRlICdyYW5nZScgbWV0aG9kXG5cdFx0XHQvLyBkb2VzIG5vdCB0ZXN0IGZvciB0aGUgaHRtbDUgJ3JhbmdlJyB0eXBlXG5cdFx0XHRydWxlc1sgbWV0aG9kIF0gPSB0cnVlO1xuXHRcdH1cblx0fSxcblxuXHRhdHRyaWJ1dGVSdWxlczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHJ1bGVzID0ge30sXG5cdFx0XHQkZWxlbWVudCA9ICQoIGVsZW1lbnQgKSxcblx0XHRcdHR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSxcblx0XHRcdG1ldGhvZCwgdmFsdWU7XG5cblx0XHRmb3IgKCBtZXRob2QgaW4gJC52YWxpZGF0b3IubWV0aG9kcyApIHtcblxuXHRcdFx0Ly8gU3VwcG9ydCBmb3IgPGlucHV0IHJlcXVpcmVkPiBpbiBib3RoIGh0bWw1IGFuZCBvbGRlciBicm93c2Vyc1xuXHRcdFx0aWYgKCBtZXRob2QgPT09IFwicmVxdWlyZWRcIiApIHtcblx0XHRcdFx0dmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSggbWV0aG9kICk7XG5cblx0XHRcdFx0Ly8gU29tZSBicm93c2VycyByZXR1cm4gYW4gZW1wdHkgc3RyaW5nIGZvciB0aGUgcmVxdWlyZWQgYXR0cmlidXRlXG5cdFx0XHRcdC8vIGFuZCBub24tSFRNTDUgYnJvd3NlcnMgbWlnaHQgaGF2ZSByZXF1aXJlZD1cIlwiIG1hcmt1cFxuXHRcdFx0XHRpZiAoIHZhbHVlID09PSBcIlwiICkge1xuXHRcdFx0XHRcdHZhbHVlID0gdHJ1ZTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIEZvcmNlIG5vbi1IVE1MNSBicm93c2VycyB0byByZXR1cm4gYm9vbFxuXHRcdFx0XHR2YWx1ZSA9ICEhdmFsdWU7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR2YWx1ZSA9ICRlbGVtZW50LmF0dHIoIG1ldGhvZCApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUoIHJ1bGVzLCB0eXBlLCBtZXRob2QsIHZhbHVlICk7XG5cdFx0fVxuXG5cdFx0Ly8gJ21heGxlbmd0aCcgbWF5IGJlIHJldHVybmVkIGFzIC0xLCAyMTQ3NDgzNjQ3ICggSUUgKSBhbmQgNTI0Mjg4ICggc2FmYXJpICkgZm9yIHRleHQgaW5wdXRzXG5cdFx0aWYgKCBydWxlcy5tYXhsZW5ndGggJiYgLy0xfDIxNDc0ODM2NDd8NTI0Mjg4Ly50ZXN0KCBydWxlcy5tYXhsZW5ndGggKSApIHtcblx0XHRcdGRlbGV0ZSBydWxlcy5tYXhsZW5ndGg7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJ1bGVzO1xuXHR9LFxuXG5cdGRhdGFSdWxlczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHJ1bGVzID0ge30sXG5cdFx0XHQkZWxlbWVudCA9ICQoIGVsZW1lbnQgKSxcblx0XHRcdHR5cGUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSggXCJ0eXBlXCIgKSxcblx0XHRcdG1ldGhvZCwgdmFsdWU7XG5cblx0XHRmb3IgKCBtZXRob2QgaW4gJC52YWxpZGF0b3IubWV0aG9kcyApIHtcblx0XHRcdHZhbHVlID0gJGVsZW1lbnQuZGF0YSggXCJydWxlXCIgKyBtZXRob2QuY2hhckF0KCAwICkudG9VcHBlckNhc2UoKSArIG1ldGhvZC5zdWJzdHJpbmcoIDEgKS50b0xvd2VyQ2FzZSgpICk7XG5cblx0XHRcdC8vIENhc3QgZW1wdHkgYXR0cmlidXRlcyBsaWtlIGBkYXRhLXJ1bGUtcmVxdWlyZWRgIHRvIGB0cnVlYFxuXHRcdFx0aWYgKCB2YWx1ZSA9PT0gXCJcIiApIHtcblx0XHRcdFx0dmFsdWUgPSB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLm5vcm1hbGl6ZUF0dHJpYnV0ZVJ1bGUoIHJ1bGVzLCB0eXBlLCBtZXRob2QsIHZhbHVlICk7XG5cdFx0fVxuXHRcdHJldHVybiBydWxlcztcblx0fSxcblxuXHRzdGF0aWNSdWxlczogZnVuY3Rpb24oIGVsZW1lbnQgKSB7XG5cdFx0dmFyIHJ1bGVzID0ge30sXG5cdFx0XHR2YWxpZGF0b3IgPSAkLmRhdGEoIGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIiApO1xuXG5cdFx0aWYgKCB2YWxpZGF0b3Iuc2V0dGluZ3MucnVsZXMgKSB7XG5cdFx0XHRydWxlcyA9ICQudmFsaWRhdG9yLm5vcm1hbGl6ZVJ1bGUoIHZhbGlkYXRvci5zZXR0aW5ncy5ydWxlc1sgZWxlbWVudC5uYW1lIF0gKSB8fCB7fTtcblx0XHR9XG5cdFx0cmV0dXJuIHJ1bGVzO1xuXHR9LFxuXG5cdG5vcm1hbGl6ZVJ1bGVzOiBmdW5jdGlvbiggcnVsZXMsIGVsZW1lbnQgKSB7XG5cblx0XHQvLyBIYW5kbGUgZGVwZW5kZW5jeSBjaGVja1xuXHRcdCQuZWFjaCggcnVsZXMsIGZ1bmN0aW9uKCBwcm9wLCB2YWwgKSB7XG5cblx0XHRcdC8vIElnbm9yZSBydWxlIHdoZW4gcGFyYW0gaXMgZXhwbGljaXRseSBmYWxzZSwgZWcuIHJlcXVpcmVkOmZhbHNlXG5cdFx0XHRpZiAoIHZhbCA9PT0gZmFsc2UgKSB7XG5cdFx0XHRcdGRlbGV0ZSBydWxlc1sgcHJvcCBdO1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHRpZiAoIHZhbC5wYXJhbSB8fCB2YWwuZGVwZW5kcyApIHtcblx0XHRcdFx0dmFyIGtlZXBSdWxlID0gdHJ1ZTtcblx0XHRcdFx0c3dpdGNoICggdHlwZW9mIHZhbC5kZXBlbmRzICkge1xuXHRcdFx0XHRjYXNlIFwic3RyaW5nXCI6XG5cdFx0XHRcdFx0a2VlcFJ1bGUgPSAhISQoIHZhbC5kZXBlbmRzLCBlbGVtZW50LmZvcm0gKS5sZW5ndGg7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgXCJmdW5jdGlvblwiOlxuXHRcdFx0XHRcdGtlZXBSdWxlID0gdmFsLmRlcGVuZHMuY2FsbCggZWxlbWVudCwgZWxlbWVudCApO1xuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICgga2VlcFJ1bGUgKSB7XG5cdFx0XHRcdFx0cnVsZXNbIHByb3AgXSA9IHZhbC5wYXJhbSAhPT0gdW5kZWZpbmVkID8gdmFsLnBhcmFtIDogdHJ1ZTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHQkLmRhdGEoIGVsZW1lbnQuZm9ybSwgXCJ2YWxpZGF0b3JcIiApLnJlc2V0RWxlbWVudHMoICQoIGVsZW1lbnQgKSApO1xuXHRcdFx0XHRcdGRlbGV0ZSBydWxlc1sgcHJvcCBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0Ly8gRXZhbHVhdGUgcGFyYW1ldGVyc1xuXHRcdCQuZWFjaCggcnVsZXMsIGZ1bmN0aW9uKCBydWxlLCBwYXJhbWV0ZXIgKSB7XG5cdFx0XHRydWxlc1sgcnVsZSBdID0gJC5pc0Z1bmN0aW9uKCBwYXJhbWV0ZXIgKSAmJiBydWxlICE9PSBcIm5vcm1hbGl6ZXJcIiA/IHBhcmFtZXRlciggZWxlbWVudCApIDogcGFyYW1ldGVyO1xuXHRcdH0gKTtcblxuXHRcdC8vIENsZWFuIG51bWJlciBwYXJhbWV0ZXJzXG5cdFx0JC5lYWNoKCBbIFwibWlubGVuZ3RoXCIsIFwibWF4bGVuZ3RoXCIgXSwgZnVuY3Rpb24oKSB7XG5cdFx0XHRpZiAoIHJ1bGVzWyB0aGlzIF0gKSB7XG5cdFx0XHRcdHJ1bGVzWyB0aGlzIF0gPSBOdW1iZXIoIHJ1bGVzWyB0aGlzIF0gKTtcblx0XHRcdH1cblx0XHR9ICk7XG5cdFx0JC5lYWNoKCBbIFwicmFuZ2VsZW5ndGhcIiwgXCJyYW5nZVwiIF0sIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHBhcnRzO1xuXHRcdFx0aWYgKCBydWxlc1sgdGhpcyBdICkge1xuXHRcdFx0XHRpZiAoICQuaXNBcnJheSggcnVsZXNbIHRoaXMgXSApICkge1xuXHRcdFx0XHRcdHJ1bGVzWyB0aGlzIF0gPSBbIE51bWJlciggcnVsZXNbIHRoaXMgXVsgMCBdICksIE51bWJlciggcnVsZXNbIHRoaXMgXVsgMSBdICkgXTtcblx0XHRcdFx0fSBlbHNlIGlmICggdHlwZW9mIHJ1bGVzWyB0aGlzIF0gPT09IFwic3RyaW5nXCIgKSB7XG5cdFx0XHRcdFx0cGFydHMgPSBydWxlc1sgdGhpcyBdLnJlcGxhY2UoIC9bXFxbXFxdXS9nLCBcIlwiICkuc3BsaXQoIC9bXFxzLF0rLyApO1xuXHRcdFx0XHRcdHJ1bGVzWyB0aGlzIF0gPSBbIE51bWJlciggcGFydHNbIDAgXSApLCBOdW1iZXIoIHBhcnRzWyAxIF0gKSBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSApO1xuXG5cdFx0aWYgKCAkLnZhbGlkYXRvci5hdXRvQ3JlYXRlUmFuZ2VzICkge1xuXG5cdFx0XHQvLyBBdXRvLWNyZWF0ZSByYW5nZXNcblx0XHRcdGlmICggcnVsZXMubWluICE9IG51bGwgJiYgcnVsZXMubWF4ICE9IG51bGwgKSB7XG5cdFx0XHRcdHJ1bGVzLnJhbmdlID0gWyBydWxlcy5taW4sIHJ1bGVzLm1heCBdO1xuXHRcdFx0XHRkZWxldGUgcnVsZXMubWluO1xuXHRcdFx0XHRkZWxldGUgcnVsZXMubWF4O1xuXHRcdFx0fVxuXHRcdFx0aWYgKCBydWxlcy5taW5sZW5ndGggIT0gbnVsbCAmJiBydWxlcy5tYXhsZW5ndGggIT0gbnVsbCApIHtcblx0XHRcdFx0cnVsZXMucmFuZ2VsZW5ndGggPSBbIHJ1bGVzLm1pbmxlbmd0aCwgcnVsZXMubWF4bGVuZ3RoIF07XG5cdFx0XHRcdGRlbGV0ZSBydWxlcy5taW5sZW5ndGg7XG5cdFx0XHRcdGRlbGV0ZSBydWxlcy5tYXhsZW5ndGg7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHJ1bGVzO1xuXHR9LFxuXG5cdC8vIENvbnZlcnRzIGEgc2ltcGxlIHN0cmluZyB0byBhIHtzdHJpbmc6IHRydWV9IHJ1bGUsIGUuZy4sIFwicmVxdWlyZWRcIiB0byB7cmVxdWlyZWQ6dHJ1ZX1cblx0bm9ybWFsaXplUnVsZTogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0aWYgKCB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiApIHtcblx0XHRcdHZhciB0cmFuc2Zvcm1lZCA9IHt9O1xuXHRcdFx0JC5lYWNoKCBkYXRhLnNwbGl0KCAvXFxzLyApLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0dHJhbnNmb3JtZWRbIHRoaXMgXSA9IHRydWU7XG5cdFx0XHR9ICk7XG5cdFx0XHRkYXRhID0gdHJhbnNmb3JtZWQ7XG5cdFx0fVxuXHRcdHJldHVybiBkYXRhO1xuXHR9LFxuXG5cdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvalF1ZXJ5LnZhbGlkYXRvci5hZGRNZXRob2QvXG5cdGFkZE1ldGhvZDogZnVuY3Rpb24oIG5hbWUsIG1ldGhvZCwgbWVzc2FnZSApIHtcblx0XHQkLnZhbGlkYXRvci5tZXRob2RzWyBuYW1lIF0gPSBtZXRob2Q7XG5cdFx0JC52YWxpZGF0b3IubWVzc2FnZXNbIG5hbWUgXSA9IG1lc3NhZ2UgIT09IHVuZGVmaW5lZCA/IG1lc3NhZ2UgOiAkLnZhbGlkYXRvci5tZXNzYWdlc1sgbmFtZSBdO1xuXHRcdGlmICggbWV0aG9kLmxlbmd0aCA8IDMgKSB7XG5cdFx0XHQkLnZhbGlkYXRvci5hZGRDbGFzc1J1bGVzKCBuYW1lLCAkLnZhbGlkYXRvci5ub3JtYWxpemVSdWxlKCBuYW1lICkgKTtcblx0XHR9XG5cdH0sXG5cblx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9qUXVlcnkudmFsaWRhdG9yLm1ldGhvZHMvXG5cdG1ldGhvZHM6IHtcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvcmVxdWlyZWQtbWV0aG9kL1xuXHRcdHJlcXVpcmVkOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXG5cdFx0XHQvLyBDaGVjayBpZiBkZXBlbmRlbmN5IGlzIG1ldFxuXHRcdFx0aWYgKCAhdGhpcy5kZXBlbmQoIHBhcmFtLCBlbGVtZW50ICkgKSB7XG5cdFx0XHRcdHJldHVybiBcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtcblx0XHRcdH1cblx0XHRcdGlmICggZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpID09PSBcInNlbGVjdFwiICkge1xuXG5cdFx0XHRcdC8vIENvdWxkIGJlIGFuIGFycmF5IGZvciBzZWxlY3QtbXVsdGlwbGUgb3IgYSBzdHJpbmcsIGJvdGggYXJlIGZpbmUgdGhpcyB3YXlcblx0XHRcdFx0dmFyIHZhbCA9ICQoIGVsZW1lbnQgKS52YWwoKTtcblx0XHRcdFx0cmV0dXJuIHZhbCAmJiB2YWwubGVuZ3RoID4gMDtcblx0XHRcdH1cblx0XHRcdGlmICggdGhpcy5jaGVja2FibGUoIGVsZW1lbnQgKSApIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuZ2V0TGVuZ3RoKCB2YWx1ZSwgZWxlbWVudCApID4gMDtcblx0XHRcdH1cblx0XHRcdHJldHVybiB2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlLmxlbmd0aCA+IDA7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvZW1haWwtbWV0aG9kL1xuXHRcdGVtYWlsOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cblx0XHRcdC8vIEZyb20gaHR0cHM6Ly9odG1sLnNwZWMud2hhdHdnLm9yZy9tdWx0aXBhZ2UvZm9ybXMuaHRtbCN2YWxpZC1lLW1haWwtYWRkcmVzc1xuXHRcdFx0Ly8gUmV0cmlldmVkIDIwMTQtMDEtMTRcblx0XHRcdC8vIElmIHlvdSBoYXZlIGEgcHJvYmxlbSB3aXRoIHRoaXMgaW1wbGVtZW50YXRpb24sIHJlcG9ydCBhIGJ1ZyBhZ2FpbnN0IHRoZSBhYm92ZSBzcGVjXG5cdFx0XHQvLyBPciB1c2UgY3VzdG9tIG1ldGhvZHMgdG8gaW1wbGVtZW50IHlvdXIgb3duIGVtYWlsIHZhbGlkYXRpb25cblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15bYS16QS1aMC05LiEjJCUmJyorXFwvPT9eX2B7fH1+LV0rQFthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPyg/OlxcLlthLXpBLVowLTldKD86W2EtekEtWjAtOS1dezAsNjF9W2EtekEtWjAtOV0pPykqJC8udGVzdCggdmFsdWUgKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy91cmwtbWV0aG9kL1xuXHRcdHVybDogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXG5cdFx0XHQvLyBDb3B5cmlnaHQgKGMpIDIwMTAtMjAxMyBEaWVnbyBQZXJpbmksIE1JVCBsaWNlbnNlZFxuXHRcdFx0Ly8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vZHBlcmluaS83MjkyOTRcblx0XHRcdC8vIHNlZSBhbHNvIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9kZW1vL3VybC1yZWdleFxuXHRcdFx0Ly8gbW9kaWZpZWQgdG8gYWxsb3cgcHJvdG9jb2wtcmVsYXRpdmUgVVJMc1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAvXig/Oig/Oig/Omh0dHBzP3xmdHApOik/XFwvXFwvKSg/OlxcUysoPzo6XFxTKik/QCk/KD86KD8hKD86MTB8MTI3KSg/OlxcLlxcZHsxLDN9KXszfSkoPyEoPzoxNjlcXC4yNTR8MTkyXFwuMTY4KSg/OlxcLlxcZHsxLDN9KXsyfSkoPyExNzJcXC4oPzoxWzYtOV18MlxcZHwzWzAtMV0pKD86XFwuXFxkezEsM30pezJ9KSg/OlsxLTldXFxkP3wxXFxkXFxkfDJbMDFdXFxkfDIyWzAtM10pKD86XFwuKD86MT9cXGR7MSwyfXwyWzAtNF1cXGR8MjVbMC01XSkpezJ9KD86XFwuKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFx1MDBhMS1cXHVmZmZmMC05XS0qKSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0tKikqW2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rKSooPzpcXC4oPzpbYS16XFx1MDBhMS1cXHVmZmZmXXsyLH0pKS4/KSg/OjpcXGR7Miw1fSk/KD86Wy8/I11cXFMqKT8kL2kudGVzdCggdmFsdWUgKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9kYXRlLW1ldGhvZC9cblx0XHRkYXRlOiAoIGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIGNhbGxlZCA9IGZhbHNlO1xuXG5cdFx0XHRyZXR1cm4gZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50ICkge1xuXHRcdFx0XHRpZiAoICFjYWxsZWQgKSB7XG5cdFx0XHRcdFx0Y2FsbGVkID0gdHJ1ZTtcblx0XHRcdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3MuZGVidWcgJiYgd2luZG93LmNvbnNvbGUgKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oXG5cdFx0XHRcdFx0XHRcdFwiVGhlIGBkYXRlYCBtZXRob2QgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIHZlcnNpb24gJzIuMC4wJy5cXG5cIiArXG5cdFx0XHRcdFx0XHRcdFwiUGxlYXNlIGRvbid0IHVzZSBpdCwgc2luY2UgaXQgcmVsaWVzIG9uIHRoZSBEYXRlIGNvbnN0cnVjdG9yLCB3aGljaFxcblwiICtcblx0XHRcdFx0XHRcdFx0XCJiZWhhdmVzIHZlcnkgZGlmZmVyZW50bHkgYWNyb3NzIGJyb3dzZXJzIGFuZCBsb2NhbGVzLiBVc2UgYGRhdGVJU09gXFxuXCIgK1xuXHRcdFx0XHRcdFx0XHRcImluc3RlYWQgb3Igb25lIG9mIHRoZSBsb2NhbGUgc3BlY2lmaWMgbWV0aG9kcyBpbiBgbG9jYWxpemF0aW9ucy9gXFxuXCIgK1xuXHRcdFx0XHRcdFx0XHRcImFuZCBgYWRkaXRpb25hbC1tZXRob2RzLmpzYC5cIlxuXHRcdFx0XHRcdFx0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8ICEvSW52YWxpZHxOYU4vLnRlc3QoIG5ldyBEYXRlKCB2YWx1ZSApLnRvU3RyaW5nKCkgKTtcblx0XHRcdH07XG5cdFx0fSgpICksXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2RhdGVJU08tbWV0aG9kL1xuXHRcdGRhdGVJU086IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15cXGR7NH1bXFwvXFwtXSgwP1sxLTldfDFbMDEyXSlbXFwvXFwtXSgwP1sxLTldfFsxMl1bMC05XXwzWzAxXSkkLy50ZXN0KCB2YWx1ZSApO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL251bWJlci1tZXRob2QvXG5cdFx0bnVtYmVyOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQgKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IC9eKD86LT9cXGQrfC0/XFxkezEsM30oPzosXFxkezN9KSspPyg/OlxcLlxcZCspPyQvLnRlc3QoIHZhbHVlICk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvZGlnaXRzLW1ldGhvZC9cblx0XHRkaWdpdHM6IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCApIHtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgL15cXGQrJC8udGVzdCggdmFsdWUgKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9taW5sZW5ndGgtbWV0aG9kL1xuXHRcdG1pbmxlbmd0aDogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSApIHtcblx0XHRcdHZhciBsZW5ndGggPSAkLmlzQXJyYXkoIHZhbHVlICkgPyB2YWx1ZS5sZW5ndGggOiB0aGlzLmdldExlbmd0aCggdmFsdWUsIGVsZW1lbnQgKTtcblx0XHRcdHJldHVybiB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgfHwgbGVuZ3RoID49IHBhcmFtO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL21heGxlbmd0aC1tZXRob2QvXG5cdFx0bWF4bGVuZ3RoOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRcdFx0dmFyIGxlbmd0aCA9ICQuaXNBcnJheSggdmFsdWUgKSA/IHZhbHVlLmxlbmd0aCA6IHRoaXMuZ2V0TGVuZ3RoKCB2YWx1ZSwgZWxlbWVudCApO1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCBsZW5ndGggPD0gcGFyYW07XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvcmFuZ2VsZW5ndGgtbWV0aG9kL1xuXHRcdHJhbmdlbGVuZ3RoOiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRcdFx0dmFyIGxlbmd0aCA9ICQuaXNBcnJheSggdmFsdWUgKSA/IHZhbHVlLmxlbmd0aCA6IHRoaXMuZ2V0TGVuZ3RoKCB2YWx1ZSwgZWxlbWVudCApO1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCAoIGxlbmd0aCA+PSBwYXJhbVsgMCBdICYmIGxlbmd0aCA8PSBwYXJhbVsgMSBdICk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvbWluLW1ldGhvZC9cblx0XHRtaW46IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHZhbHVlID49IHBhcmFtO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL21heC1tZXRob2QvXG5cdFx0bWF4OiBmdW5jdGlvbiggdmFsdWUsIGVsZW1lbnQsIHBhcmFtICkge1xuXHRcdFx0cmV0dXJuIHRoaXMub3B0aW9uYWwoIGVsZW1lbnQgKSB8fCB2YWx1ZSA8PSBwYXJhbTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9yYW5nZS1tZXRob2QvXG5cdFx0cmFuZ2U6IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8ICggdmFsdWUgPj0gcGFyYW1bIDAgXSAmJiB2YWx1ZSA8PSBwYXJhbVsgMSBdICk7XG5cdFx0fSxcblxuXHRcdC8vIGh0dHBzOi8vanF1ZXJ5dmFsaWRhdGlvbi5vcmcvc3RlcC1tZXRob2QvXG5cdFx0c3RlcDogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSApIHtcblx0XHRcdHZhciB0eXBlID0gJCggZWxlbWVudCApLmF0dHIoIFwidHlwZVwiICksXG5cdFx0XHRcdGVycm9yTWVzc2FnZSA9IFwiU3RlcCBhdHRyaWJ1dGUgb24gaW5wdXQgdHlwZSBcIiArIHR5cGUgKyBcIiBpcyBub3Qgc3VwcG9ydGVkLlwiLFxuXHRcdFx0XHRzdXBwb3J0ZWRUeXBlcyA9IFsgXCJ0ZXh0XCIsIFwibnVtYmVyXCIsIFwicmFuZ2VcIiBdLFxuXHRcdFx0XHRyZSA9IG5ldyBSZWdFeHAoIFwiXFxcXGJcIiArIHR5cGUgKyBcIlxcXFxiXCIgKSxcblx0XHRcdFx0bm90U3VwcG9ydGVkID0gdHlwZSAmJiAhcmUudGVzdCggc3VwcG9ydGVkVHlwZXMuam9pbigpICksXG5cdFx0XHRcdGRlY2ltYWxQbGFjZXMgPSBmdW5jdGlvbiggbnVtICkge1xuXHRcdFx0XHRcdHZhciBtYXRjaCA9ICggXCJcIiArIG51bSApLm1hdGNoKCAvKD86XFwuKFxcZCspKT8kLyApO1xuXHRcdFx0XHRcdGlmICggIW1hdGNoICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuIDA7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0Ly8gTnVtYmVyIG9mIGRpZ2l0cyByaWdodCBvZiBkZWNpbWFsIHBvaW50LlxuXHRcdFx0XHRcdHJldHVybiBtYXRjaFsgMSBdID8gbWF0Y2hbIDEgXS5sZW5ndGggOiAwO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR0b0ludCA9IGZ1bmN0aW9uKCBudW0gKSB7XG5cdFx0XHRcdFx0cmV0dXJuIE1hdGgucm91bmQoIG51bSAqIE1hdGgucG93KCAxMCwgZGVjaW1hbHMgKSApO1xuXHRcdFx0XHR9LFxuXHRcdFx0XHR2YWxpZCA9IHRydWUsXG5cdFx0XHRcdGRlY2ltYWxzO1xuXG5cdFx0XHQvLyBXb3JrcyBvbmx5IGZvciB0ZXh0LCBudW1iZXIgYW5kIHJhbmdlIGlucHV0IHR5cGVzXG5cdFx0XHQvLyBUT0RPIGZpbmQgYSB3YXkgdG8gc3VwcG9ydCBpbnB1dCB0eXBlcyBkYXRlLCBkYXRldGltZSwgZGF0ZXRpbWUtbG9jYWwsIG1vbnRoLCB0aW1lIGFuZCB3ZWVrXG5cdFx0XHRpZiAoIG5vdFN1cHBvcnRlZCApIHtcblx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKCBlcnJvck1lc3NhZ2UgKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVjaW1hbHMgPSBkZWNpbWFsUGxhY2VzKCBwYXJhbSApO1xuXG5cdFx0XHQvLyBWYWx1ZSBjYW4ndCBoYXZlIHRvbyBtYW55IGRlY2ltYWxzXG5cdFx0XHRpZiAoIGRlY2ltYWxQbGFjZXMoIHZhbHVlICkgPiBkZWNpbWFscyB8fCB0b0ludCggdmFsdWUgKSAlIHRvSW50KCBwYXJhbSApICE9PSAwICkge1xuXHRcdFx0XHR2YWxpZCA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0XHRyZXR1cm4gdGhpcy5vcHRpb25hbCggZWxlbWVudCApIHx8IHZhbGlkO1xuXHRcdH0sXG5cblx0XHQvLyBodHRwczovL2pxdWVyeXZhbGlkYXRpb24ub3JnL2VxdWFsVG8tbWV0aG9kL1xuXHRcdGVxdWFsVG86IGZ1bmN0aW9uKCB2YWx1ZSwgZWxlbWVudCwgcGFyYW0gKSB7XG5cblx0XHRcdC8vIEJpbmQgdG8gdGhlIGJsdXIgZXZlbnQgb2YgdGhlIHRhcmdldCBpbiBvcmRlciB0byByZXZhbGlkYXRlIHdoZW5ldmVyIHRoZSB0YXJnZXQgZmllbGQgaXMgdXBkYXRlZFxuXHRcdFx0dmFyIHRhcmdldCA9ICQoIHBhcmFtICk7XG5cdFx0XHRpZiAoIHRoaXMuc2V0dGluZ3Mub25mb2N1c291dCAmJiB0YXJnZXQubm90KCBcIi52YWxpZGF0ZS1lcXVhbFRvLWJsdXJcIiApLmxlbmd0aCApIHtcblx0XHRcdFx0dGFyZ2V0LmFkZENsYXNzKCBcInZhbGlkYXRlLWVxdWFsVG8tYmx1clwiICkub24oIFwiYmx1ci52YWxpZGF0ZS1lcXVhbFRvXCIsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdCQoIGVsZW1lbnQgKS52YWxpZCgpO1xuXHRcdFx0XHR9ICk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gdmFsdWUgPT09IHRhcmdldC52YWwoKTtcblx0XHR9LFxuXG5cdFx0Ly8gaHR0cHM6Ly9qcXVlcnl2YWxpZGF0aW9uLm9yZy9yZW1vdGUtbWV0aG9kL1xuXHRcdHJlbW90ZTogZnVuY3Rpb24oIHZhbHVlLCBlbGVtZW50LCBwYXJhbSwgbWV0aG9kICkge1xuXHRcdFx0aWYgKCB0aGlzLm9wdGlvbmFsKCBlbGVtZW50ICkgKSB7XG5cdFx0XHRcdHJldHVybiBcImRlcGVuZGVuY3ktbWlzbWF0Y2hcIjtcblx0XHRcdH1cblxuXHRcdFx0bWV0aG9kID0gdHlwZW9mIG1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiBtZXRob2QgfHwgXCJyZW1vdGVcIjtcblxuXHRcdFx0dmFyIHByZXZpb3VzID0gdGhpcy5wcmV2aW91c1ZhbHVlKCBlbGVtZW50LCBtZXRob2QgKSxcblx0XHRcdFx0dmFsaWRhdG9yLCBkYXRhLCBvcHRpb25EYXRhU3RyaW5nO1xuXG5cdFx0XHRpZiAoICF0aGlzLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXSApIHtcblx0XHRcdFx0dGhpcy5zZXR0aW5ncy5tZXNzYWdlc1sgZWxlbWVudC5uYW1lIF0gPSB7fTtcblx0XHRcdH1cblx0XHRcdHByZXZpb3VzLm9yaWdpbmFsTWVzc2FnZSA9IHByZXZpb3VzLm9yaWdpbmFsTWVzc2FnZSB8fCB0aGlzLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXVsgbWV0aG9kIF07XG5cdFx0XHR0aGlzLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXVsgbWV0aG9kIF0gPSBwcmV2aW91cy5tZXNzYWdlO1xuXG5cdFx0XHRwYXJhbSA9IHR5cGVvZiBwYXJhbSA9PT0gXCJzdHJpbmdcIiAmJiB7IHVybDogcGFyYW0gfSB8fCBwYXJhbTtcblx0XHRcdG9wdGlvbkRhdGFTdHJpbmcgPSAkLnBhcmFtKCAkLmV4dGVuZCggeyBkYXRhOiB2YWx1ZSB9LCBwYXJhbS5kYXRhICkgKTtcblx0XHRcdGlmICggcHJldmlvdXMub2xkID09PSBvcHRpb25EYXRhU3RyaW5nICkge1xuXHRcdFx0XHRyZXR1cm4gcHJldmlvdXMudmFsaWQ7XG5cdFx0XHR9XG5cblx0XHRcdHByZXZpb3VzLm9sZCA9IG9wdGlvbkRhdGFTdHJpbmc7XG5cdFx0XHR2YWxpZGF0b3IgPSB0aGlzO1xuXHRcdFx0dGhpcy5zdGFydFJlcXVlc3QoIGVsZW1lbnQgKTtcblx0XHRcdGRhdGEgPSB7fTtcblx0XHRcdGRhdGFbIGVsZW1lbnQubmFtZSBdID0gdmFsdWU7XG5cdFx0XHQkLmFqYXgoICQuZXh0ZW5kKCB0cnVlLCB7XG5cdFx0XHRcdG1vZGU6IFwiYWJvcnRcIixcblx0XHRcdFx0cG9ydDogXCJ2YWxpZGF0ZVwiICsgZWxlbWVudC5uYW1lLFxuXHRcdFx0XHRkYXRhVHlwZTogXCJqc29uXCIsXG5cdFx0XHRcdGRhdGE6IGRhdGEsXG5cdFx0XHRcdGNvbnRleHQ6IHZhbGlkYXRvci5jdXJyZW50Rm9ybSxcblx0XHRcdFx0c3VjY2VzczogZnVuY3Rpb24oIHJlc3BvbnNlICkge1xuXHRcdFx0XHRcdHZhciB2YWxpZCA9IHJlc3BvbnNlID09PSB0cnVlIHx8IHJlc3BvbnNlID09PSBcInRydWVcIixcblx0XHRcdFx0XHRcdGVycm9ycywgbWVzc2FnZSwgc3VibWl0dGVkO1xuXG5cdFx0XHRcdFx0dmFsaWRhdG9yLnNldHRpbmdzLm1lc3NhZ2VzWyBlbGVtZW50Lm5hbWUgXVsgbWV0aG9kIF0gPSBwcmV2aW91cy5vcmlnaW5hbE1lc3NhZ2U7XG5cdFx0XHRcdFx0aWYgKCB2YWxpZCApIHtcblx0XHRcdFx0XHRcdHN1Ym1pdHRlZCA9IHZhbGlkYXRvci5mb3JtU3VibWl0dGVkO1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLnJlc2V0SW50ZXJuYWxzKCk7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3IudG9IaWRlID0gdmFsaWRhdG9yLmVycm9yc0ZvciggZWxlbWVudCApO1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLmZvcm1TdWJtaXR0ZWQgPSBzdWJtaXR0ZWQ7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc3VjY2Vzc0xpc3QucHVzaCggZWxlbWVudCApO1xuXHRcdFx0XHRcdFx0dmFsaWRhdG9yLmludmFsaWRbIGVsZW1lbnQubmFtZSBdID0gZmFsc2U7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc2hvd0Vycm9ycygpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRlcnJvcnMgPSB7fTtcblx0XHRcdFx0XHRcdG1lc3NhZ2UgPSByZXNwb25zZSB8fCB2YWxpZGF0b3IuZGVmYXVsdE1lc3NhZ2UoIGVsZW1lbnQsIHsgbWV0aG9kOiBtZXRob2QsIHBhcmFtZXRlcnM6IHZhbHVlIH0gKTtcblx0XHRcdFx0XHRcdGVycm9yc1sgZWxlbWVudC5uYW1lIF0gPSBwcmV2aW91cy5tZXNzYWdlID0gbWVzc2FnZTtcblx0XHRcdFx0XHRcdHZhbGlkYXRvci5pbnZhbGlkWyBlbGVtZW50Lm5hbWUgXSA9IHRydWU7XG5cdFx0XHRcdFx0XHR2YWxpZGF0b3Iuc2hvd0Vycm9ycyggZXJyb3JzICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHByZXZpb3VzLnZhbGlkID0gdmFsaWQ7XG5cdFx0XHRcdFx0dmFsaWRhdG9yLnN0b3BSZXF1ZXN0KCBlbGVtZW50LCB2YWxpZCApO1xuXHRcdFx0XHR9XG5cdFx0XHR9LCBwYXJhbSApICk7XG5cdFx0XHRyZXR1cm4gXCJwZW5kaW5nXCI7XG5cdFx0fVxuXHR9XG5cbn0gKTtcblxyXG4vLyBBamF4IG1vZGU6IGFib3J0XG4vLyB1c2FnZTogJC5hamF4KHsgbW9kZTogXCJhYm9ydFwiWywgcG9ydDogXCJ1bmlxdWVwb3J0XCJdfSk7XG4vLyBpZiBtb2RlOlwiYWJvcnRcIiBpcyB1c2VkLCB0aGUgcHJldmlvdXMgcmVxdWVzdCBvbiB0aGF0IHBvcnQgKHBvcnQgY2FuIGJlIHVuZGVmaW5lZCkgaXMgYWJvcnRlZCB2aWEgWE1MSHR0cFJlcXVlc3QuYWJvcnQoKVxuXG52YXIgcGVuZGluZ1JlcXVlc3RzID0ge30sXG5cdGFqYXg7XG5cbi8vIFVzZSBhIHByZWZpbHRlciBpZiBhdmFpbGFibGUgKDEuNSspXG5pZiAoICQuYWpheFByZWZpbHRlciApIHtcblx0JC5hamF4UHJlZmlsdGVyKCBmdW5jdGlvbiggc2V0dGluZ3MsIF8sIHhociApIHtcblx0XHR2YXIgcG9ydCA9IHNldHRpbmdzLnBvcnQ7XG5cdFx0aWYgKCBzZXR0aW5ncy5tb2RlID09PSBcImFib3J0XCIgKSB7XG5cdFx0XHRpZiAoIHBlbmRpbmdSZXF1ZXN0c1sgcG9ydCBdICkge1xuXHRcdFx0XHRwZW5kaW5nUmVxdWVzdHNbIHBvcnQgXS5hYm9ydCgpO1xuXHRcdFx0fVxuXHRcdFx0cGVuZGluZ1JlcXVlc3RzWyBwb3J0IF0gPSB4aHI7XG5cdFx0fVxuXHR9ICk7XG59IGVsc2Uge1xuXG5cdC8vIFByb3h5IGFqYXhcblx0YWpheCA9ICQuYWpheDtcblx0JC5hamF4ID0gZnVuY3Rpb24oIHNldHRpbmdzICkge1xuXHRcdHZhciBtb2RlID0gKCBcIm1vZGVcIiBpbiBzZXR0aW5ncyA/IHNldHRpbmdzIDogJC5hamF4U2V0dGluZ3MgKS5tb2RlLFxuXHRcdFx0cG9ydCA9ICggXCJwb3J0XCIgaW4gc2V0dGluZ3MgPyBzZXR0aW5ncyA6ICQuYWpheFNldHRpbmdzICkucG9ydDtcblx0XHRpZiAoIG1vZGUgPT09IFwiYWJvcnRcIiApIHtcblx0XHRcdGlmICggcGVuZGluZ1JlcXVlc3RzWyBwb3J0IF0gKSB7XG5cdFx0XHRcdHBlbmRpbmdSZXF1ZXN0c1sgcG9ydCBdLmFib3J0KCk7XG5cdFx0XHR9XG5cdFx0XHRwZW5kaW5nUmVxdWVzdHNbIHBvcnQgXSA9IGFqYXguYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXHRcdFx0cmV0dXJuIHBlbmRpbmdSZXF1ZXN0c1sgcG9ydCBdO1xuXHRcdH1cblx0XHRyZXR1cm4gYWpheC5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdH07XG59XG5yZXR1cm4gJDtcclxufSkpOyIsInZhciBtYXAgPSB7XG5cdFwiLi9hZlwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYWYuanNcIixcblx0XCIuL2FmLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9hZi5qc1wiLFxuXHRcIi4vYXJcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2FyLmpzXCIsXG5cdFwiLi9hci1kelwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYXItZHouanNcIixcblx0XCIuL2FyLWR6LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9hci1kei5qc1wiLFxuXHRcIi4vYXIta3dcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2FyLWt3LmpzXCIsXG5cdFwiLi9hci1rdy5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYXIta3cuanNcIixcblx0XCIuL2FyLWx5XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9hci1seS5qc1wiLFxuXHRcIi4vYXItbHkuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2FyLWx5LmpzXCIsXG5cdFwiLi9hci1tYVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYXItbWEuanNcIixcblx0XCIuL2FyLW1hLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9hci1tYS5qc1wiLFxuXHRcIi4vYXItc2FcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2FyLXNhLmpzXCIsXG5cdFwiLi9hci1zYS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYXItc2EuanNcIixcblx0XCIuL2FyLXRuXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9hci10bi5qc1wiLFxuXHRcIi4vYXItdG4uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2FyLXRuLmpzXCIsXG5cdFwiLi9hci5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYXIuanNcIixcblx0XCIuL2F6XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9hei5qc1wiLFxuXHRcIi4vYXouanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2F6LmpzXCIsXG5cdFwiLi9iZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYmUuanNcIixcblx0XCIuL2JlLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9iZS5qc1wiLFxuXHRcIi4vYmdcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2JnLmpzXCIsXG5cdFwiLi9iZy5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYmcuanNcIixcblx0XCIuL2JtXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ibS5qc1wiLFxuXHRcIi4vYm0uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2JtLmpzXCIsXG5cdFwiLi9iblwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYm4uanNcIixcblx0XCIuL2JuLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ibi5qc1wiLFxuXHRcIi4vYm9cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2JvLmpzXCIsXG5cdFwiLi9iby5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYm8uanNcIixcblx0XCIuL2JyXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ici5qc1wiLFxuXHRcIi4vYnIuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2JyLmpzXCIsXG5cdFwiLi9ic1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvYnMuanNcIixcblx0XCIuL2JzLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9icy5qc1wiLFxuXHRcIi4vY2FcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2NhLmpzXCIsXG5cdFwiLi9jYS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvY2EuanNcIixcblx0XCIuL2NzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9jcy5qc1wiLFxuXHRcIi4vY3MuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2NzLmpzXCIsXG5cdFwiLi9jdlwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvY3YuanNcIixcblx0XCIuL2N2LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9jdi5qc1wiLFxuXHRcIi4vY3lcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2N5LmpzXCIsXG5cdFwiLi9jeS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvY3kuanNcIixcblx0XCIuL2RhXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9kYS5qc1wiLFxuXHRcIi4vZGEuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2RhLmpzXCIsXG5cdFwiLi9kZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZGUuanNcIixcblx0XCIuL2RlLWF0XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9kZS1hdC5qc1wiLFxuXHRcIi4vZGUtYXQuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2RlLWF0LmpzXCIsXG5cdFwiLi9kZS1jaFwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZGUtY2guanNcIixcblx0XCIuL2RlLWNoLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9kZS1jaC5qc1wiLFxuXHRcIi4vZGUuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2RlLmpzXCIsXG5cdFwiLi9kdlwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZHYuanNcIixcblx0XCIuL2R2LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9kdi5qc1wiLFxuXHRcIi4vZWxcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VsLmpzXCIsXG5cdFwiLi9lbC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZWwuanNcIixcblx0XCIuL2VuLVNHXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lbi1TRy5qc1wiLFxuXHRcIi4vZW4tU0cuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VuLVNHLmpzXCIsXG5cdFwiLi9lbi1hdVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZW4tYXUuanNcIixcblx0XCIuL2VuLWF1LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lbi1hdS5qc1wiLFxuXHRcIi4vZW4tY2FcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VuLWNhLmpzXCIsXG5cdFwiLi9lbi1jYS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZW4tY2EuanNcIixcblx0XCIuL2VuLWdiXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lbi1nYi5qc1wiLFxuXHRcIi4vZW4tZ2IuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VuLWdiLmpzXCIsXG5cdFwiLi9lbi1pZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZW4taWUuanNcIixcblx0XCIuL2VuLWllLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lbi1pZS5qc1wiLFxuXHRcIi4vZW4taWxcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VuLWlsLmpzXCIsXG5cdFwiLi9lbi1pbC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZW4taWwuanNcIixcblx0XCIuL2VuLW56XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lbi1uei5qc1wiLFxuXHRcIi4vZW4tbnouanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VuLW56LmpzXCIsXG5cdFwiLi9lb1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZW8uanNcIixcblx0XCIuL2VvLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lby5qc1wiLFxuXHRcIi4vZXNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VzLmpzXCIsXG5cdFwiLi9lcy1kb1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZXMtZG8uanNcIixcblx0XCIuL2VzLWRvLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lcy1kby5qc1wiLFxuXHRcIi4vZXMtdXNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2VzLXVzLmpzXCIsXG5cdFwiLi9lcy11cy5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZXMtdXMuanNcIixcblx0XCIuL2VzLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9lcy5qc1wiLFxuXHRcIi4vZXRcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2V0LmpzXCIsXG5cdFwiLi9ldC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZXQuanNcIixcblx0XCIuL2V1XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ldS5qc1wiLFxuXHRcIi4vZXUuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2V1LmpzXCIsXG5cdFwiLi9mYVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZmEuanNcIixcblx0XCIuL2ZhLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9mYS5qc1wiLFxuXHRcIi4vZmlcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2ZpLmpzXCIsXG5cdFwiLi9maS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZmkuanNcIixcblx0XCIuL2ZvXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9mby5qc1wiLFxuXHRcIi4vZm8uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2ZvLmpzXCIsXG5cdFwiLi9mclwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZnIuanNcIixcblx0XCIuL2ZyLWNhXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9mci1jYS5qc1wiLFxuXHRcIi4vZnItY2EuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2ZyLWNhLmpzXCIsXG5cdFwiLi9mci1jaFwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZnItY2guanNcIixcblx0XCIuL2ZyLWNoLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9mci1jaC5qc1wiLFxuXHRcIi4vZnIuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2ZyLmpzXCIsXG5cdFwiLi9meVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZnkuanNcIixcblx0XCIuL2Z5LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9meS5qc1wiLFxuXHRcIi4vZ2FcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2dhLmpzXCIsXG5cdFwiLi9nYS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZ2EuanNcIixcblx0XCIuL2dkXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9nZC5qc1wiLFxuXHRcIi4vZ2QuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2dkLmpzXCIsXG5cdFwiLi9nbFwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZ2wuanNcIixcblx0XCIuL2dsLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9nbC5qc1wiLFxuXHRcIi4vZ29tLWxhdG5cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2dvbS1sYXRuLmpzXCIsXG5cdFwiLi9nb20tbGF0bi5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvZ29tLWxhdG4uanNcIixcblx0XCIuL2d1XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ndS5qc1wiLFxuXHRcIi4vZ3UuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2d1LmpzXCIsXG5cdFwiLi9oZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvaGUuanNcIixcblx0XCIuL2hlLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9oZS5qc1wiLFxuXHRcIi4vaGlcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2hpLmpzXCIsXG5cdFwiLi9oaS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvaGkuanNcIixcblx0XCIuL2hyXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9oci5qc1wiLFxuXHRcIi4vaHIuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2hyLmpzXCIsXG5cdFwiLi9odVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvaHUuanNcIixcblx0XCIuL2h1LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9odS5qc1wiLFxuXHRcIi4vaHktYW1cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2h5LWFtLmpzXCIsXG5cdFwiLi9oeS1hbS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvaHktYW0uanNcIixcblx0XCIuL2lkXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9pZC5qc1wiLFxuXHRcIi4vaWQuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2lkLmpzXCIsXG5cdFwiLi9pc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvaXMuanNcIixcblx0XCIuL2lzLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9pcy5qc1wiLFxuXHRcIi4vaXRcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2l0LmpzXCIsXG5cdFwiLi9pdC1jaFwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvaXQtY2guanNcIixcblx0XCIuL2l0LWNoLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9pdC1jaC5qc1wiLFxuXHRcIi4vaXQuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2l0LmpzXCIsXG5cdFwiLi9qYVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvamEuanNcIixcblx0XCIuL2phLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9qYS5qc1wiLFxuXHRcIi4vanZcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2p2LmpzXCIsXG5cdFwiLi9qdi5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvanYuanNcIixcblx0XCIuL2thXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9rYS5qc1wiLFxuXHRcIi4va2EuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2thLmpzXCIsXG5cdFwiLi9ra1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUva2suanNcIixcblx0XCIuL2trLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ray5qc1wiLFxuXHRcIi4va21cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2ttLmpzXCIsXG5cdFwiLi9rbS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUva20uanNcIixcblx0XCIuL2tuXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9rbi5qc1wiLFxuXHRcIi4va24uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2tuLmpzXCIsXG5cdFwiLi9rb1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUva28uanNcIixcblx0XCIuL2tvLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9rby5qc1wiLFxuXHRcIi4va3VcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2t1LmpzXCIsXG5cdFwiLi9rdS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUva3UuanNcIixcblx0XCIuL2t5XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9reS5qc1wiLFxuXHRcIi4va3kuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2t5LmpzXCIsXG5cdFwiLi9sYlwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbGIuanNcIixcblx0XCIuL2xiLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9sYi5qc1wiLFxuXHRcIi4vbG9cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2xvLmpzXCIsXG5cdFwiLi9sby5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbG8uanNcIixcblx0XCIuL2x0XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9sdC5qc1wiLFxuXHRcIi4vbHQuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL2x0LmpzXCIsXG5cdFwiLi9sdlwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbHYuanNcIixcblx0XCIuL2x2LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9sdi5qc1wiLFxuXHRcIi4vbWVcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL21lLmpzXCIsXG5cdFwiLi9tZS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbWUuanNcIixcblx0XCIuL21pXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9taS5qc1wiLFxuXHRcIi4vbWkuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL21pLmpzXCIsXG5cdFwiLi9ta1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbWsuanNcIixcblx0XCIuL21rLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9tay5qc1wiLFxuXHRcIi4vbWxcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL21sLmpzXCIsXG5cdFwiLi9tbC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbWwuanNcIixcblx0XCIuL21uXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9tbi5qc1wiLFxuXHRcIi4vbW4uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL21uLmpzXCIsXG5cdFwiLi9tclwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbXIuanNcIixcblx0XCIuL21yLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9tci5qc1wiLFxuXHRcIi4vbXNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL21zLmpzXCIsXG5cdFwiLi9tcy1teVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbXMtbXkuanNcIixcblx0XCIuL21zLW15LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9tcy1teS5qc1wiLFxuXHRcIi4vbXMuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL21zLmpzXCIsXG5cdFwiLi9tdFwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbXQuanNcIixcblx0XCIuL210LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9tdC5qc1wiLFxuXHRcIi4vbXlcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL215LmpzXCIsXG5cdFwiLi9teS5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbXkuanNcIixcblx0XCIuL25iXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9uYi5qc1wiLFxuXHRcIi4vbmIuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL25iLmpzXCIsXG5cdFwiLi9uZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbmUuanNcIixcblx0XCIuL25lLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9uZS5qc1wiLFxuXHRcIi4vbmxcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL25sLmpzXCIsXG5cdFwiLi9ubC1iZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbmwtYmUuanNcIixcblx0XCIuL25sLWJlLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ubC1iZS5qc1wiLFxuXHRcIi4vbmwuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL25sLmpzXCIsXG5cdFwiLi9ublwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvbm4uanNcIixcblx0XCIuL25uLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ubi5qc1wiLFxuXHRcIi4vcGEtaW5cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3BhLWluLmpzXCIsXG5cdFwiLi9wYS1pbi5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvcGEtaW4uanNcIixcblx0XCIuL3BsXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9wbC5qc1wiLFxuXHRcIi4vcGwuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3BsLmpzXCIsXG5cdFwiLi9wdFwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvcHQuanNcIixcblx0XCIuL3B0LWJyXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9wdC1ici5qc1wiLFxuXHRcIi4vcHQtYnIuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3B0LWJyLmpzXCIsXG5cdFwiLi9wdC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvcHQuanNcIixcblx0XCIuL3JvXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9yby5qc1wiLFxuXHRcIi4vcm8uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3JvLmpzXCIsXG5cdFwiLi9ydVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvcnUuanNcIixcblx0XCIuL3J1LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9ydS5qc1wiLFxuXHRcIi4vc2RcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3NkLmpzXCIsXG5cdFwiLi9zZC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc2QuanNcIixcblx0XCIuL3NlXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zZS5qc1wiLFxuXHRcIi4vc2UuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3NlLmpzXCIsXG5cdFwiLi9zaVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc2kuanNcIixcblx0XCIuL3NpLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zaS5qc1wiLFxuXHRcIi4vc2tcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3NrLmpzXCIsXG5cdFwiLi9zay5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc2suanNcIixcblx0XCIuL3NsXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zbC5qc1wiLFxuXHRcIi4vc2wuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3NsLmpzXCIsXG5cdFwiLi9zcVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc3EuanNcIixcblx0XCIuL3NxLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zcS5qc1wiLFxuXHRcIi4vc3JcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3NyLmpzXCIsXG5cdFwiLi9zci1jeXJsXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zci1jeXJsLmpzXCIsXG5cdFwiLi9zci1jeXJsLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zci1jeXJsLmpzXCIsXG5cdFwiLi9zci5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc3IuanNcIixcblx0XCIuL3NzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zcy5qc1wiLFxuXHRcIi4vc3MuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3NzLmpzXCIsXG5cdFwiLi9zdlwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc3YuanNcIixcblx0XCIuL3N2LmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS9zdi5qc1wiLFxuXHRcIi4vc3dcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3N3LmpzXCIsXG5cdFwiLi9zdy5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvc3cuanNcIixcblx0XCIuL3RhXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90YS5qc1wiLFxuXHRcIi4vdGEuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3RhLmpzXCIsXG5cdFwiLi90ZVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdGUuanNcIixcblx0XCIuL3RlLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90ZS5qc1wiLFxuXHRcIi4vdGV0XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90ZXQuanNcIixcblx0XCIuL3RldC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdGV0LmpzXCIsXG5cdFwiLi90Z1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdGcuanNcIixcblx0XCIuL3RnLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90Zy5qc1wiLFxuXHRcIi4vdGhcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3RoLmpzXCIsXG5cdFwiLi90aC5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdGguanNcIixcblx0XCIuL3RsLXBoXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90bC1waC5qc1wiLFxuXHRcIi4vdGwtcGguanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3RsLXBoLmpzXCIsXG5cdFwiLi90bGhcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3RsaC5qc1wiLFxuXHRcIi4vdGxoLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90bGguanNcIixcblx0XCIuL3RyXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90ci5qc1wiLFxuXHRcIi4vdHIuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3RyLmpzXCIsXG5cdFwiLi90emxcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3R6bC5qc1wiLFxuXHRcIi4vdHpsLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90emwuanNcIixcblx0XCIuL3R6bVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdHptLmpzXCIsXG5cdFwiLi90em0tbGF0blwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdHptLWxhdG4uanNcIixcblx0XCIuL3R6bS1sYXRuLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90em0tbGF0bi5qc1wiLFxuXHRcIi4vdHptLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS90em0uanNcIixcblx0XCIuL3VnLWNuXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS91Zy1jbi5qc1wiLFxuXHRcIi4vdWctY24uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3VnLWNuLmpzXCIsXG5cdFwiLi91a1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdWsuanNcIixcblx0XCIuL3VrLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS91ay5qc1wiLFxuXHRcIi4vdXJcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3VyLmpzXCIsXG5cdFwiLi91ci5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdXIuanNcIixcblx0XCIuL3V6XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS91ei5qc1wiLFxuXHRcIi4vdXotbGF0blwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdXotbGF0bi5qc1wiLFxuXHRcIi4vdXotbGF0bi5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdXotbGF0bi5qc1wiLFxuXHRcIi4vdXouanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3V6LmpzXCIsXG5cdFwiLi92aVwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvdmkuanNcIixcblx0XCIuL3ZpLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS92aS5qc1wiLFxuXHRcIi4veC1wc2V1ZG9cIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3gtcHNldWRvLmpzXCIsXG5cdFwiLi94LXBzZXVkby5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUveC1wc2V1ZG8uanNcIixcblx0XCIuL3lvXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS95by5qc1wiLFxuXHRcIi4veW8uanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3lvLmpzXCIsXG5cdFwiLi96aC1jblwiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvemgtY24uanNcIixcblx0XCIuL3poLWNuLmpzXCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS96aC1jbi5qc1wiLFxuXHRcIi4vemgtaGtcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3poLWhrLmpzXCIsXG5cdFwiLi96aC1oay5qc1wiOiBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUvemgtaGsuanNcIixcblx0XCIuL3poLXR3XCI6IFwiLi9ub2RlX21vZHVsZXMvbW9tZW50L2xvY2FsZS96aC10dy5qc1wiLFxuXHRcIi4vemgtdHcuanNcIjogXCIuL25vZGVfbW9kdWxlcy9tb21lbnQvbG9jYWxlL3poLXR3LmpzXCJcbn07XG5cblxuZnVuY3Rpb24gd2VicGFja0NvbnRleHQocmVxKSB7XG5cdHZhciBpZCA9IHdlYnBhY2tDb250ZXh0UmVzb2x2ZShyZXEpO1xuXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhpZCk7XG59XG5mdW5jdGlvbiB3ZWJwYWNrQ29udGV4dFJlc29sdmUocmVxKSB7XG5cdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8obWFwLCByZXEpKSB7XG5cdFx0dmFyIGUgPSBuZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiICsgcmVxICsgXCInXCIpO1xuXHRcdGUuY29kZSA9ICdNT0RVTEVfTk9UX0ZPVU5EJztcblx0XHR0aHJvdyBlO1xuXHR9XG5cdHJldHVybiBtYXBbcmVxXTtcbn1cbndlYnBhY2tDb250ZXh0LmtleXMgPSBmdW5jdGlvbiB3ZWJwYWNrQ29udGV4dEtleXMoKSB7XG5cdHJldHVybiBPYmplY3Qua2V5cyhtYXApO1xufTtcbndlYnBhY2tDb250ZXh0LnJlc29sdmUgPSB3ZWJwYWNrQ29udGV4dFJlc29sdmU7XG5tb2R1bGUuZXhwb3J0cyA9IHdlYnBhY2tDb250ZXh0O1xud2VicGFja0NvbnRleHQuaWQgPSBcIi4vbm9kZV9tb2R1bGVzL21vbWVudC9sb2NhbGUgc3luYyByZWN1cnNpdmUgXlxcXFwuXFxcXC8uKiRcIjsiLCIoZnVuY3Rpb24oKSB7XG4gIHZhciBBamF4TW9uaXRvciwgQmFyLCBEb2N1bWVudE1vbml0b3IsIEVsZW1lbnRNb25pdG9yLCBFbGVtZW50VHJhY2tlciwgRXZlbnRMYWdNb25pdG9yLCBFdmVudGVkLCBFdmVudHMsIE5vVGFyZ2V0RXJyb3IsIFBhY2UsIFJlcXVlc3RJbnRlcmNlcHQsIFNPVVJDRV9LRVlTLCBTY2FsZXIsIFNvY2tldFJlcXVlc3RUcmFja2VyLCBYSFJSZXF1ZXN0VHJhY2tlciwgYW5pbWF0aW9uLCBhdmdBbXBsaXR1ZGUsIGJhciwgY2FuY2VsQW5pbWF0aW9uLCBjYW5jZWxBbmltYXRpb25GcmFtZSwgZGVmYXVsdE9wdGlvbnMsIGV4dGVuZCwgZXh0ZW5kTmF0aXZlLCBnZXRGcm9tRE9NLCBnZXRJbnRlcmNlcHQsIGhhbmRsZVB1c2hTdGF0ZSwgaWdub3JlU3RhY2ssIGluaXQsIG5vdywgb3B0aW9ucywgcmVxdWVzdEFuaW1hdGlvbkZyYW1lLCByZXN1bHQsIHJ1bkFuaW1hdGlvbiwgc2NhbGVycywgc2hvdWxkSWdub3JlVVJMLCBzaG91bGRUcmFjaywgc291cmNlLCBzb3VyY2VzLCB1bmlTY2FsZXIsIF9XZWJTb2NrZXQsIF9YRG9tYWluUmVxdWVzdCwgX1hNTEh0dHBSZXF1ZXN0LCBfaSwgX2ludGVyY2VwdCwgX2xlbiwgX3B1c2hTdGF0ZSwgX3JlZiwgX3JlZjEsIF9yZXBsYWNlU3RhdGUsXG4gICAgX19zbGljZSA9IFtdLnNsaWNlLFxuICAgIF9faGFzUHJvcCA9IHt9Lmhhc093blByb3BlcnR5LFxuICAgIF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9LFxuICAgIF9faW5kZXhPZiA9IFtdLmluZGV4T2YgfHwgZnVuY3Rpb24oaXRlbSkgeyBmb3IgKHZhciBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7IGlmIChpIGluIHRoaXMgJiYgdGhpc1tpXSA9PT0gaXRlbSkgcmV0dXJuIGk7IH0gcmV0dXJuIC0xOyB9O1xuXG4gIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIGNhdGNodXBUaW1lOiAxMDAsXG4gICAgaW5pdGlhbFJhdGU6IC4wMyxcbiAgICBtaW5UaW1lOiAyNTAsXG4gICAgZ2hvc3RUaW1lOiAxMDAsXG4gICAgbWF4UHJvZ3Jlc3NQZXJGcmFtZTogMjAsXG4gICAgZWFzZUZhY3RvcjogMS4yNSxcbiAgICBzdGFydE9uUGFnZUxvYWQ6IHRydWUsXG4gICAgcmVzdGFydE9uUHVzaFN0YXRlOiB0cnVlLFxuICAgIHJlc3RhcnRPblJlcXVlc3RBZnRlcjogNTAwLFxuICAgIHRhcmdldDogJ2JvZHknLFxuICAgIGVsZW1lbnRzOiB7XG4gICAgICBjaGVja0ludGVydmFsOiAxMDAsXG4gICAgICBzZWxlY3RvcnM6IFsnYm9keSddXG4gICAgfSxcbiAgICBldmVudExhZzoge1xuICAgICAgbWluU2FtcGxlczogMTAsXG4gICAgICBzYW1wbGVDb3VudDogMyxcbiAgICAgIGxhZ1RocmVzaG9sZDogM1xuICAgIH0sXG4gICAgYWpheDoge1xuICAgICAgdHJhY2tNZXRob2RzOiBbJ0dFVCddLFxuICAgICAgdHJhY2tXZWJTb2NrZXRzOiB0cnVlLFxuICAgICAgaWdub3JlVVJMczogW11cbiAgICB9XG4gIH07XG5cbiAgbm93ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIF9yZWY7XG4gICAgcmV0dXJuIChfcmVmID0gdHlwZW9mIHBlcmZvcm1hbmNlICE9PSBcInVuZGVmaW5lZFwiICYmIHBlcmZvcm1hbmNlICE9PSBudWxsID8gdHlwZW9mIHBlcmZvcm1hbmNlLm5vdyA9PT0gXCJmdW5jdGlvblwiID8gcGVyZm9ybWFuY2Uubm93KCkgOiB2b2lkIDAgOiB2b2lkIDApICE9IG51bGwgPyBfcmVmIDogKyhuZXcgRGF0ZSk7XG4gIH07XG5cbiAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zUmVxdWVzdEFuaW1hdGlvbkZyYW1lO1xuXG4gIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZTtcblxuICBpZiAocmVxdWVzdEFuaW1hdGlvbkZyYW1lID09IG51bGwpIHtcbiAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSBmdW5jdGlvbihmbikge1xuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZm4sIDUwKTtcbiAgICB9O1xuICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBjbGVhclRpbWVvdXQoaWQpO1xuICAgIH07XG4gIH1cblxuICBydW5BbmltYXRpb24gPSBmdW5jdGlvbihmbikge1xuICAgIHZhciBsYXN0LCB0aWNrO1xuICAgIGxhc3QgPSBub3coKTtcbiAgICB0aWNrID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZGlmZjtcbiAgICAgIGRpZmYgPSBub3coKSAtIGxhc3Q7XG4gICAgICBpZiAoZGlmZiA+PSAzMykge1xuICAgICAgICBsYXN0ID0gbm93KCk7XG4gICAgICAgIHJldHVybiBmbihkaWZmLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KHRpY2ssIDMzIC0gZGlmZik7XG4gICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gdGljaygpO1xuICB9O1xuXG4gIHJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcmdzLCBrZXksIG9iajtcbiAgICBvYmogPSBhcmd1bWVudHNbMF0sIGtleSA9IGFyZ3VtZW50c1sxXSwgYXJncyA9IDMgPD0gYXJndW1lbnRzLmxlbmd0aCA/IF9fc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpIDogW107XG4gICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIG9ialtrZXldLmFwcGx5KG9iaiwgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvYmpba2V5XTtcbiAgICB9XG4gIH07XG5cbiAgZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGtleSwgb3V0LCBzb3VyY2UsIHNvdXJjZXMsIHZhbCwgX2ksIF9sZW47XG4gICAgb3V0ID0gYXJndW1lbnRzWzBdLCBzb3VyY2VzID0gMiA8PSBhcmd1bWVudHMubGVuZ3RoID8gX19zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkgOiBbXTtcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IHNvdXJjZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcbiAgICAgIHNvdXJjZSA9IHNvdXJjZXNbX2ldO1xuICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICBmb3IgKGtleSBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAoIV9faGFzUHJvcC5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7XG4gICAgICAgICAgdmFsID0gc291cmNlW2tleV07XG4gICAgICAgICAgaWYgKChvdXRba2V5XSAhPSBudWxsKSAmJiB0eXBlb2Ygb3V0W2tleV0gPT09ICdvYmplY3QnICYmICh2YWwgIT0gbnVsbCkgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGV4dGVuZChvdXRba2V5XSwgdmFsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3V0W2tleV0gPSB2YWw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG4gIH07XG5cbiAgYXZnQW1wbGl0dWRlID0gZnVuY3Rpb24oYXJyKSB7XG4gICAgdmFyIGNvdW50LCBzdW0sIHYsIF9pLCBfbGVuO1xuICAgIHN1bSA9IGNvdW50ID0gMDtcbiAgICBmb3IgKF9pID0gMCwgX2xlbiA9IGFyci5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuICAgICAgdiA9IGFycltfaV07XG4gICAgICBzdW0gKz0gTWF0aC5hYnModik7XG4gICAgICBjb3VudCsrO1xuICAgIH1cbiAgICByZXR1cm4gc3VtIC8gY291bnQ7XG4gIH07XG5cbiAgZ2V0RnJvbURPTSA9IGZ1bmN0aW9uKGtleSwganNvbikge1xuICAgIHZhciBkYXRhLCBlLCBlbDtcbiAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgIGtleSA9ICdvcHRpb25zJztcbiAgICB9XG4gICAgaWYgKGpzb24gPT0gbnVsbCkge1xuICAgICAganNvbiA9IHRydWU7XG4gICAgfVxuICAgIGVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIltkYXRhLXBhY2UtXCIgKyBrZXkgKyBcIl1cIik7XG4gICAgaWYgKCFlbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYXRhID0gZWwuZ2V0QXR0cmlidXRlKFwiZGF0YS1wYWNlLVwiICsga2V5KTtcbiAgICBpZiAoIWpzb24pIHtcbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSk7XG4gICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICBlID0gX2Vycm9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUgIT09IG51bGwgPyBjb25zb2xlLmVycm9yKFwiRXJyb3IgcGFyc2luZyBpbmxpbmUgcGFjZSBvcHRpb25zXCIsIGUpIDogdm9pZCAwO1xuICAgIH1cbiAgfTtcblxuICBFdmVudGVkID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50ZWQoKSB7fVxuXG4gICAgRXZlbnRlZC5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudCwgaGFuZGxlciwgY3R4LCBvbmNlKSB7XG4gICAgICB2YXIgX2Jhc2U7XG4gICAgICBpZiAob25jZSA9PSBudWxsKSB7XG4gICAgICAgIG9uY2UgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmJpbmRpbmdzID09IG51bGwpIHtcbiAgICAgICAgdGhpcy5iaW5kaW5ncyA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKChfYmFzZSA9IHRoaXMuYmluZGluZ3MpW2V2ZW50XSA9PSBudWxsKSB7XG4gICAgICAgIF9iYXNlW2V2ZW50XSA9IFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYmluZGluZ3NbZXZlbnRdLnB1c2goe1xuICAgICAgICBoYW5kbGVyOiBoYW5kbGVyLFxuICAgICAgICBjdHg6IGN0eCxcbiAgICAgICAgb25jZTogb25jZVxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIEV2ZW50ZWQucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbihldmVudCwgaGFuZGxlciwgY3R4KSB7XG4gICAgICByZXR1cm4gdGhpcy5vbihldmVudCwgaGFuZGxlciwgY3R4LCB0cnVlKTtcbiAgICB9O1xuXG4gICAgRXZlbnRlZC5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgIHZhciBpLCBfcmVmLCBfcmVzdWx0cztcbiAgICAgIGlmICgoKF9yZWYgPSB0aGlzLmJpbmRpbmdzKSAhPSBudWxsID8gX3JlZltldmVudF0gOiB2b2lkIDApID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKGhhbmRsZXIgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZGVsZXRlIHRoaXMuYmluZGluZ3NbZXZlbnRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5iaW5kaW5nc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKHRoaXMuYmluZGluZ3NbZXZlbnRdW2ldLmhhbmRsZXIgPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgIF9yZXN1bHRzLnB1c2godGhpcy5iaW5kaW5nc1tldmVudF0uc3BsaWNlKGksIDEpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChpKyspO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEV2ZW50ZWQucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzLCBjdHgsIGV2ZW50LCBoYW5kbGVyLCBpLCBvbmNlLCBfcmVmLCBfcmVmMSwgX3Jlc3VsdHM7XG4gICAgICBldmVudCA9IGFyZ3VtZW50c1swXSwgYXJncyA9IDIgPD0gYXJndW1lbnRzLmxlbmd0aCA/IF9fc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpIDogW107XG4gICAgICBpZiAoKF9yZWYgPSB0aGlzLmJpbmRpbmdzKSAhPSBudWxsID8gX3JlZltldmVudF0gOiB2b2lkIDApIHtcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIHdoaWxlIChpIDwgdGhpcy5iaW5kaW5nc1tldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgX3JlZjEgPSB0aGlzLmJpbmRpbmdzW2V2ZW50XVtpXSwgaGFuZGxlciA9IF9yZWYxLmhhbmRsZXIsIGN0eCA9IF9yZWYxLmN0eCwgb25jZSA9IF9yZWYxLm9uY2U7XG4gICAgICAgICAgaGFuZGxlci5hcHBseShjdHggIT0gbnVsbCA/IGN0eCA6IHRoaXMsIGFyZ3MpO1xuICAgICAgICAgIGlmIChvbmNlKSB7XG4gICAgICAgICAgICBfcmVzdWx0cy5wdXNoKHRoaXMuYmluZGluZ3NbZXZlbnRdLnNwbGljZShpLCAxKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIF9yZXN1bHRzLnB1c2goaSsrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9yZXN1bHRzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gRXZlbnRlZDtcblxuICB9KSgpO1xuXG4gIFBhY2UgPSB3aW5kb3cuUGFjZSB8fCB7fTtcblxuICB3aW5kb3cuUGFjZSA9IFBhY2U7XG5cbiAgZXh0ZW5kKFBhY2UsIEV2ZW50ZWQucHJvdG90eXBlKTtcblxuICBvcHRpb25zID0gUGFjZS5vcHRpb25zID0gZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgd2luZG93LnBhY2VPcHRpb25zLCBnZXRGcm9tRE9NKCkpO1xuXG4gIF9yZWYgPSBbJ2FqYXgnLCAnZG9jdW1lbnQnLCAnZXZlbnRMYWcnLCAnZWxlbWVudHMnXTtcbiAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG4gICAgc291cmNlID0gX3JlZltfaV07XG4gICAgaWYgKG9wdGlvbnNbc291cmNlXSA9PT0gdHJ1ZSkge1xuICAgICAgb3B0aW9uc1tzb3VyY2VdID0gZGVmYXVsdE9wdGlvbnNbc291cmNlXTtcbiAgICB9XG4gIH1cblxuICBOb1RhcmdldEVycm9yID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhOb1RhcmdldEVycm9yLCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gTm9UYXJnZXRFcnJvcigpIHtcbiAgICAgIF9yZWYxID0gTm9UYXJnZXRFcnJvci5fX3N1cGVyX18uY29uc3RydWN0b3IuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBfcmVmMTtcbiAgICB9XG5cbiAgICByZXR1cm4gTm9UYXJnZXRFcnJvcjtcblxuICB9KShFcnJvcik7XG5cbiAgQmFyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIEJhcigpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgIH1cblxuICAgIEJhci5wcm90b3R5cGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHRhcmdldEVsZW1lbnQ7XG4gICAgICBpZiAodGhpcy5lbCA9PSBudWxsKSB7XG4gICAgICAgIHRhcmdldEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKG9wdGlvbnMudGFyZ2V0KTtcbiAgICAgICAgaWYgKCF0YXJnZXRFbGVtZW50KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE5vVGFyZ2V0RXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5lbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTmFtZSA9IFwicGFjZSBwYWNlLWFjdGl2ZVwiO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZSA9IGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lLnJlcGxhY2UoL3BhY2UtZG9uZS9nLCAnJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NOYW1lICs9ICcgcGFjZS1ydW5uaW5nJztcbiAgICAgICAgdGhpcy5lbC5pbm5lckhUTUwgPSAnPGRpdiBjbGFzcz1cInBhY2UtcHJvZ3Jlc3NcIj5cXG4gIDxkaXYgY2xhc3M9XCJwYWNlLXByb2dyZXNzLWlubmVyXCI+PC9kaXY+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz1cInBhY2UtYWN0aXZpdHlcIj48L2Rpdj4nO1xuICAgICAgICBpZiAodGFyZ2V0RWxlbWVudC5maXJzdENoaWxkICE9IG51bGwpIHtcbiAgICAgICAgICB0YXJnZXRFbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLmVsLCB0YXJnZXRFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRhcmdldEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5lbCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmVsO1xuICAgIH07XG5cbiAgICBCYXIucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsO1xuICAgICAgZWwgPSB0aGlzLmdldEVsZW1lbnQoKTtcbiAgICAgIGVsLmNsYXNzTmFtZSA9IGVsLmNsYXNzTmFtZS5yZXBsYWNlKCdwYWNlLWFjdGl2ZScsICcnKTtcbiAgICAgIGVsLmNsYXNzTmFtZSArPSAnIHBhY2UtaW5hY3RpdmUnO1xuICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgPSBkb2N1bWVudC5ib2R5LmNsYXNzTmFtZS5yZXBsYWNlKCdwYWNlLXJ1bm5pbmcnLCAnJyk7XG4gICAgICByZXR1cm4gZG9jdW1lbnQuYm9keS5jbGFzc05hbWUgKz0gJyBwYWNlLWRvbmUnO1xuICAgIH07XG5cbiAgICBCYXIucHJvdG90eXBlLnVwZGF0ZSA9IGZ1bmN0aW9uKHByb2cpIHtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBwcm9nO1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyKCk7XG4gICAgfTtcblxuICAgIEJhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhpcy5nZXRFbGVtZW50KCkucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLmdldEVsZW1lbnQoKSk7XG4gICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgTm9UYXJnZXRFcnJvciA9IF9lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLmVsID0gdm9pZCAwO1xuICAgIH07XG5cbiAgICBCYXIucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVsLCBrZXksIHByb2dyZXNzU3RyLCB0cmFuc2Zvcm0sIF9qLCBfbGVuMSwgX3JlZjI7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihvcHRpb25zLnRhcmdldCkgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBlbCA9IHRoaXMuZ2V0RWxlbWVudCgpO1xuICAgICAgdHJhbnNmb3JtID0gXCJ0cmFuc2xhdGUzZChcIiArIHRoaXMucHJvZ3Jlc3MgKyBcIiUsIDAsIDApXCI7XG4gICAgICBfcmVmMiA9IFsnd2Via2l0VHJhbnNmb3JtJywgJ21zVHJhbnNmb3JtJywgJ3RyYW5zZm9ybSddO1xuICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjIubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgIGtleSA9IF9yZWYyW19qXTtcbiAgICAgICAgZWwuY2hpbGRyZW5bMF0uc3R5bGVba2V5XSA9IHRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5sYXN0UmVuZGVyZWRQcm9ncmVzcyB8fCB0aGlzLmxhc3RSZW5kZXJlZFByb2dyZXNzIHwgMCAhPT0gdGhpcy5wcm9ncmVzcyB8IDApIHtcbiAgICAgICAgZWwuY2hpbGRyZW5bMF0uc2V0QXR0cmlidXRlKCdkYXRhLXByb2dyZXNzLXRleHQnLCBcIlwiICsgKHRoaXMucHJvZ3Jlc3MgfCAwKSArIFwiJVwiKTtcbiAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3MgPj0gMTAwKSB7XG4gICAgICAgICAgcHJvZ3Jlc3NTdHIgPSAnOTknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByb2dyZXNzU3RyID0gdGhpcy5wcm9ncmVzcyA8IDEwID8gXCIwXCIgOiBcIlwiO1xuICAgICAgICAgIHByb2dyZXNzU3RyICs9IHRoaXMucHJvZ3Jlc3MgfCAwO1xuICAgICAgICB9XG4gICAgICAgIGVsLmNoaWxkcmVuWzBdLnNldEF0dHJpYnV0ZSgnZGF0YS1wcm9ncmVzcycsIFwiXCIgKyBwcm9ncmVzc1N0cik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5sYXN0UmVuZGVyZWRQcm9ncmVzcyA9IHRoaXMucHJvZ3Jlc3M7XG4gICAgfTtcblxuICAgIEJhci5wcm90b3R5cGUuZG9uZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvZ3Jlc3MgPj0gMTAwO1xuICAgIH07XG5cbiAgICByZXR1cm4gQmFyO1xuXG4gIH0pKCk7XG5cbiAgRXZlbnRzID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIEV2ZW50cygpIHtcbiAgICAgIHRoaXMuYmluZGluZ3MgPSB7fTtcbiAgICB9XG5cbiAgICBFdmVudHMucHJvdG90eXBlLnRyaWdnZXIgPSBmdW5jdGlvbihuYW1lLCB2YWwpIHtcbiAgICAgIHZhciBiaW5kaW5nLCBfaiwgX2xlbjEsIF9yZWYyLCBfcmVzdWx0cztcbiAgICAgIGlmICh0aGlzLmJpbmRpbmdzW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgX3JlZjIgPSB0aGlzLmJpbmRpbmdzW25hbWVdO1xuICAgICAgICBfcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSBfcmVmMi5sZW5ndGg7IF9qIDwgX2xlbjE7IF9qKyspIHtcbiAgICAgICAgICBiaW5kaW5nID0gX3JlZjJbX2pdO1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2goYmluZGluZy5jYWxsKHRoaXMsIHZhbCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgRXZlbnRzLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgICB2YXIgX2Jhc2U7XG4gICAgICBpZiAoKF9iYXNlID0gdGhpcy5iaW5kaW5ncylbbmFtZV0gPT0gbnVsbCkge1xuICAgICAgICBfYmFzZVtuYW1lXSA9IFtdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMuYmluZGluZ3NbbmFtZV0ucHVzaChmbik7XG4gICAgfTtcblxuICAgIHJldHVybiBFdmVudHM7XG5cbiAgfSkoKTtcblxuICBfWE1MSHR0cFJlcXVlc3QgPSB3aW5kb3cuWE1MSHR0cFJlcXVlc3Q7XG5cbiAgX1hEb21haW5SZXF1ZXN0ID0gd2luZG93LlhEb21haW5SZXF1ZXN0O1xuXG4gIF9XZWJTb2NrZXQgPSB3aW5kb3cuV2ViU29ja2V0O1xuXG4gIGV4dGVuZE5hdGl2ZSA9IGZ1bmN0aW9uKHRvLCBmcm9tKSB7XG4gICAgdmFyIGUsIGtleSwgX3Jlc3VsdHM7XG4gICAgX3Jlc3VsdHMgPSBbXTtcbiAgICBmb3IgKGtleSBpbiBmcm9tLnByb3RvdHlwZSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCh0b1trZXldID09IG51bGwpICYmIHR5cGVvZiBmcm9tW2tleV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaChPYmplY3QuZGVmaW5lUHJvcGVydHkodG8sIGtleSwge1xuICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmcm9tLnByb3RvdHlwZVtrZXldO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgX3Jlc3VsdHMucHVzaCh0b1trZXldID0gZnJvbS5wcm90b3R5cGVba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF9yZXN1bHRzLnB1c2godm9pZCAwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICAgIGUgPSBfZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBfcmVzdWx0cztcbiAgfTtcblxuICBpZ25vcmVTdGFjayA9IFtdO1xuXG4gIFBhY2UuaWdub3JlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIGZuLCByZXQ7XG4gICAgZm4gPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBfX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGlnbm9yZVN0YWNrLnVuc2hpZnQoJ2lnbm9yZScpO1xuICAgIHJldCA9IGZuLmFwcGx5KG51bGwsIGFyZ3MpO1xuICAgIGlnbm9yZVN0YWNrLnNoaWZ0KCk7XG4gICAgcmV0dXJuIHJldDtcbiAgfTtcblxuICBQYWNlLnRyYWNrID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFyZ3MsIGZuLCByZXQ7XG4gICAgZm4gPSBhcmd1bWVudHNbMF0sIGFyZ3MgPSAyIDw9IGFyZ3VtZW50cy5sZW5ndGggPyBfX3NsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSA6IFtdO1xuICAgIGlnbm9yZVN0YWNrLnVuc2hpZnQoJ3RyYWNrJyk7XG4gICAgcmV0ID0gZm4uYXBwbHkobnVsbCwgYXJncyk7XG4gICAgaWdub3JlU3RhY2suc2hpZnQoKTtcbiAgICByZXR1cm4gcmV0O1xuICB9O1xuXG4gIHNob3VsZFRyYWNrID0gZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgdmFyIF9yZWYyO1xuICAgIGlmIChtZXRob2QgPT0gbnVsbCkge1xuICAgICAgbWV0aG9kID0gJ0dFVCc7XG4gICAgfVxuICAgIGlmIChpZ25vcmVTdGFja1swXSA9PT0gJ3RyYWNrJykge1xuICAgICAgcmV0dXJuICdmb3JjZSc7XG4gICAgfVxuICAgIGlmICghaWdub3JlU3RhY2subGVuZ3RoICYmIG9wdGlvbnMuYWpheCkge1xuICAgICAgaWYgKG1ldGhvZCA9PT0gJ3NvY2tldCcgJiYgb3B0aW9ucy5hamF4LnRyYWNrV2ViU29ja2V0cykge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSBpZiAoX3JlZjIgPSBtZXRob2QudG9VcHBlckNhc2UoKSwgX19pbmRleE9mLmNhbGwob3B0aW9ucy5hamF4LnRyYWNrTWV0aG9kcywgX3JlZjIpID49IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICBSZXF1ZXN0SW50ZXJjZXB0ID0gKGZ1bmN0aW9uKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhSZXF1ZXN0SW50ZXJjZXB0LCBfc3VwZXIpO1xuXG4gICAgZnVuY3Rpb24gUmVxdWVzdEludGVyY2VwdCgpIHtcbiAgICAgIHZhciBtb25pdG9yWEhSLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgICBSZXF1ZXN0SW50ZXJjZXB0Ll9fc3VwZXJfXy5jb25zdHJ1Y3Rvci5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgbW9uaXRvclhIUiA9IGZ1bmN0aW9uKHJlcSkge1xuICAgICAgICB2YXIgX29wZW47XG4gICAgICAgIF9vcGVuID0gcmVxLm9wZW47XG4gICAgICAgIHJldHVybiByZXEub3BlbiA9IGZ1bmN0aW9uKHR5cGUsIHVybCwgYXN5bmMpIHtcbiAgICAgICAgICBpZiAoc2hvdWxkVHJhY2sodHlwZSkpIHtcbiAgICAgICAgICAgIF90aGlzLnRyaWdnZXIoJ3JlcXVlc3QnLCB7XG4gICAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICByZXF1ZXN0OiByZXFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX29wZW4uYXBwbHkocmVxLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgfTtcbiAgICAgIHdpbmRvdy5YTUxIdHRwUmVxdWVzdCA9IGZ1bmN0aW9uKGZsYWdzKSB7XG4gICAgICAgIHZhciByZXE7XG4gICAgICAgIHJlcSA9IG5ldyBfWE1MSHR0cFJlcXVlc3QoZmxhZ3MpO1xuICAgICAgICBtb25pdG9yWEhSKHJlcSk7XG4gICAgICAgIHJldHVybiByZXE7XG4gICAgICB9O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZXh0ZW5kTmF0aXZlKHdpbmRvdy5YTUxIdHRwUmVxdWVzdCwgX1hNTEh0dHBSZXF1ZXN0KTtcbiAgICAgIH0gY2F0Y2ggKF9lcnJvcikge31cbiAgICAgIGlmIChfWERvbWFpblJlcXVlc3QgIT0gbnVsbCkge1xuICAgICAgICB3aW5kb3cuWERvbWFpblJlcXVlc3QgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgcmVxO1xuICAgICAgICAgIHJlcSA9IG5ldyBfWERvbWFpblJlcXVlc3Q7XG4gICAgICAgICAgbW9uaXRvclhIUihyZXEpO1xuICAgICAgICAgIHJldHVybiByZXE7XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgZXh0ZW5kTmF0aXZlKHdpbmRvdy5YRG9tYWluUmVxdWVzdCwgX1hEb21haW5SZXF1ZXN0KTtcbiAgICAgICAgfSBjYXRjaCAoX2Vycm9yKSB7fVxuICAgICAgfVxuICAgICAgaWYgKChfV2ViU29ja2V0ICE9IG51bGwpICYmIG9wdGlvbnMuYWpheC50cmFja1dlYlNvY2tldHMpIHtcbiAgICAgICAgd2luZG93LldlYlNvY2tldCA9IGZ1bmN0aW9uKHVybCwgcHJvdG9jb2xzKSB7XG4gICAgICAgICAgdmFyIHJlcTtcbiAgICAgICAgICBpZiAocHJvdG9jb2xzICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlcSA9IG5ldyBfV2ViU29ja2V0KHVybCwgcHJvdG9jb2xzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVxID0gbmV3IF9XZWJTb2NrZXQodXJsKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHNob3VsZFRyYWNrKCdzb2NrZXQnKSkge1xuICAgICAgICAgICAgX3RoaXMudHJpZ2dlcigncmVxdWVzdCcsIHtcbiAgICAgICAgICAgICAgdHlwZTogJ3NvY2tldCcsXG4gICAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgICBwcm90b2NvbHM6IHByb3RvY29scyxcbiAgICAgICAgICAgICAgcmVxdWVzdDogcmVxXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlcTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBleHRlbmROYXRpdmUod2luZG93LldlYlNvY2tldCwgX1dlYlNvY2tldCk7XG4gICAgICAgIH0gY2F0Y2ggKF9lcnJvcikge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gUmVxdWVzdEludGVyY2VwdDtcblxuICB9KShFdmVudHMpO1xuXG4gIF9pbnRlcmNlcHQgPSBudWxsO1xuXG4gIGdldEludGVyY2VwdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChfaW50ZXJjZXB0ID09IG51bGwpIHtcbiAgICAgIF9pbnRlcmNlcHQgPSBuZXcgUmVxdWVzdEludGVyY2VwdDtcbiAgICB9XG4gICAgcmV0dXJuIF9pbnRlcmNlcHQ7XG4gIH07XG5cbiAgc2hvdWxkSWdub3JlVVJMID0gZnVuY3Rpb24odXJsKSB7XG4gICAgdmFyIHBhdHRlcm4sIF9qLCBfbGVuMSwgX3JlZjI7XG4gICAgX3JlZjIgPSBvcHRpb25zLmFqYXguaWdub3JlVVJMcztcbiAgICBmb3IgKF9qID0gMCwgX2xlbjEgPSBfcmVmMi5sZW5ndGg7IF9qIDwgX2xlbjE7IF9qKyspIHtcbiAgICAgIHBhdHRlcm4gPSBfcmVmMltfal07XG4gICAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlmICh1cmwuaW5kZXhPZihwYXR0ZXJuKSAhPT0gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHBhdHRlcm4udGVzdCh1cmwpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xuXG4gIGdldEludGVyY2VwdCgpLm9uKCdyZXF1ZXN0JywgZnVuY3Rpb24oX2FyZykge1xuICAgIHZhciBhZnRlciwgYXJncywgcmVxdWVzdCwgdHlwZSwgdXJsO1xuICAgIHR5cGUgPSBfYXJnLnR5cGUsIHJlcXVlc3QgPSBfYXJnLnJlcXVlc3QsIHVybCA9IF9hcmcudXJsO1xuICAgIGlmIChzaG91bGRJZ25vcmVVUkwodXJsKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIVBhY2UucnVubmluZyAmJiAob3B0aW9ucy5yZXN0YXJ0T25SZXF1ZXN0QWZ0ZXIgIT09IGZhbHNlIHx8IHNob3VsZFRyYWNrKHR5cGUpID09PSAnZm9yY2UnKSkge1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGFmdGVyID0gb3B0aW9ucy5yZXN0YXJ0T25SZXF1ZXN0QWZ0ZXIgfHwgMDtcbiAgICAgIGlmICh0eXBlb2YgYWZ0ZXIgPT09ICdib29sZWFuJykge1xuICAgICAgICBhZnRlciA9IDA7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0aWxsQWN0aXZlLCBfaiwgX2xlbjEsIF9yZWYyLCBfcmVmMywgX3Jlc3VsdHM7XG4gICAgICAgIGlmICh0eXBlID09PSAnc29ja2V0Jykge1xuICAgICAgICAgIHN0aWxsQWN0aXZlID0gcmVxdWVzdC5yZWFkeVN0YXRlIDwgMjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGlsbEFjdGl2ZSA9ICgwIDwgKF9yZWYyID0gcmVxdWVzdC5yZWFkeVN0YXRlKSAmJiBfcmVmMiA8IDQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGlsbEFjdGl2ZSkge1xuICAgICAgICAgIFBhY2UucmVzdGFydCgpO1xuICAgICAgICAgIF9yZWYzID0gUGFjZS5zb3VyY2VzO1xuICAgICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjMubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgICAgICBzb3VyY2UgPSBfcmVmM1tfal07XG4gICAgICAgICAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgQWpheE1vbml0b3IpIHtcbiAgICAgICAgICAgICAgc291cmNlLndhdGNoLmFwcGx5KHNvdXJjZSwgYXJncyk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgX3Jlc3VsdHMucHVzaCh2b2lkIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3Jlc3VsdHM7XG4gICAgICAgIH1cbiAgICAgIH0sIGFmdGVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIEFqYXhNb25pdG9yID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIEFqYXhNb25pdG9yKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICAgIGdldEludGVyY2VwdCgpLm9uKCdyZXF1ZXN0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBfdGhpcy53YXRjaC5hcHBseShfdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIEFqYXhNb25pdG9yLnByb3RvdHlwZS53YXRjaCA9IGZ1bmN0aW9uKF9hcmcpIHtcbiAgICAgIHZhciByZXF1ZXN0LCB0cmFja2VyLCB0eXBlLCB1cmw7XG4gICAgICB0eXBlID0gX2FyZy50eXBlLCByZXF1ZXN0ID0gX2FyZy5yZXF1ZXN0LCB1cmwgPSBfYXJnLnVybDtcbiAgICAgIGlmIChzaG91bGRJZ25vcmVVUkwodXJsKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAodHlwZSA9PT0gJ3NvY2tldCcpIHtcbiAgICAgICAgdHJhY2tlciA9IG5ldyBTb2NrZXRSZXF1ZXN0VHJhY2tlcihyZXF1ZXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRyYWNrZXIgPSBuZXcgWEhSUmVxdWVzdFRyYWNrZXIocmVxdWVzdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5lbGVtZW50cy5wdXNoKHRyYWNrZXIpO1xuICAgIH07XG5cbiAgICByZXR1cm4gQWpheE1vbml0b3I7XG5cbiAgfSkoKTtcblxuICBYSFJSZXF1ZXN0VHJhY2tlciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBYSFJSZXF1ZXN0VHJhY2tlcihyZXF1ZXN0KSB7XG4gICAgICB2YXIgZXZlbnQsIHNpemUsIF9qLCBfbGVuMSwgX29ucmVhZHlzdGF0ZWNoYW5nZSwgX3JlZjIsXG4gICAgICAgIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgaWYgKHdpbmRvdy5Qcm9ncmVzc0V2ZW50ICE9IG51bGwpIHtcbiAgICAgICAgc2l6ZSA9IG51bGw7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgICBpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9ncmVzcyA9IDEwMCAqIGV2dC5sb2FkZWQgLyBldnQudG90YWw7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9ncmVzcyA9IF90aGlzLnByb2dyZXNzICsgKDEwMCAtIF90aGlzLnByb2dyZXNzKSAvIDI7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIF9yZWYyID0gWydsb2FkJywgJ2Fib3J0JywgJ3RpbWVvdXQnLCAnZXJyb3InXTtcbiAgICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjIubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgICAgZXZlbnQgPSBfcmVmMltfal07XG4gICAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBfdGhpcy5wcm9ncmVzcyA9IDEwMDtcbiAgICAgICAgICB9LCBmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIF9vbnJlYWR5c3RhdGVjaGFuZ2UgPSByZXF1ZXN0Lm9ucmVhZHlzdGF0ZWNoYW5nZTtcbiAgICAgICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgX3JlZjM7XG4gICAgICAgICAgaWYgKChfcmVmMyA9IHJlcXVlc3QucmVhZHlTdGF0ZSkgPT09IDAgfHwgX3JlZjMgPT09IDQpIHtcbiAgICAgICAgICAgIF90aGlzLnByb2dyZXNzID0gMTAwO1xuICAgICAgICAgIH0gZWxzZSBpZiAocmVxdWVzdC5yZWFkeVN0YXRlID09PSAzKSB7XG4gICAgICAgICAgICBfdGhpcy5wcm9ncmVzcyA9IDUwO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHlwZW9mIF9vbnJlYWR5c3RhdGVjaGFuZ2UgPT09IFwiZnVuY3Rpb25cIiA/IF9vbnJlYWR5c3RhdGVjaGFuZ2UuYXBwbHkobnVsbCwgYXJndW1lbnRzKSA6IHZvaWQgMDtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gWEhSUmVxdWVzdFRyYWNrZXI7XG5cbiAgfSkoKTtcblxuICBTb2NrZXRSZXF1ZXN0VHJhY2tlciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBTb2NrZXRSZXF1ZXN0VHJhY2tlcihyZXF1ZXN0KSB7XG4gICAgICB2YXIgZXZlbnQsIF9qLCBfbGVuMSwgX3JlZjIsXG4gICAgICAgIF90aGlzID0gdGhpcztcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgX3JlZjIgPSBbJ2Vycm9yJywgJ29wZW4nXTtcbiAgICAgIGZvciAoX2ogPSAwLCBfbGVuMSA9IF9yZWYyLmxlbmd0aDsgX2ogPCBfbGVuMTsgX2orKykge1xuICAgICAgICBldmVudCA9IF9yZWYyW19qXTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucHJvZ3Jlc3MgPSAxMDA7XG4gICAgICAgIH0sIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gU29ja2V0UmVxdWVzdFRyYWNrZXI7XG5cbiAgfSkoKTtcblxuICBFbGVtZW50TW9uaXRvciA9IChmdW5jdGlvbigpIHtcbiAgICBmdW5jdGlvbiBFbGVtZW50TW9uaXRvcihvcHRpb25zKSB7XG4gICAgICB2YXIgc2VsZWN0b3IsIF9qLCBfbGVuMSwgX3JlZjI7XG4gICAgICBpZiAob3B0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMgPSB7fTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZWxlbWVudHMgPSBbXTtcbiAgICAgIGlmIChvcHRpb25zLnNlbGVjdG9ycyA9PSBudWxsKSB7XG4gICAgICAgIG9wdGlvbnMuc2VsZWN0b3JzID0gW107XG4gICAgICB9XG4gICAgICBfcmVmMiA9IG9wdGlvbnMuc2VsZWN0b3JzO1xuICAgICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjIubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICAgIHNlbGVjdG9yID0gX3JlZjJbX2pdO1xuICAgICAgICB0aGlzLmVsZW1lbnRzLnB1c2gobmV3IEVsZW1lbnRUcmFja2VyKHNlbGVjdG9yKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIEVsZW1lbnRNb25pdG9yO1xuXG4gIH0pKCk7XG5cbiAgRWxlbWVudFRyYWNrZXIgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gRWxlbWVudFRyYWNrZXIoc2VsZWN0b3IpIHtcbiAgICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSAwO1xuICAgICAgdGhpcy5jaGVjaygpO1xuICAgIH1cblxuICAgIEVsZW1lbnRUcmFja2VyLnByb3RvdHlwZS5jaGVjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuY2hlY2soKTtcbiAgICAgICAgfSksIG9wdGlvbnMuZWxlbWVudHMuY2hlY2tJbnRlcnZhbCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIEVsZW1lbnRUcmFja2VyLnByb3RvdHlwZS5kb25lID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9ncmVzcyA9IDEwMDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIEVsZW1lbnRUcmFja2VyO1xuXG4gIH0pKCk7XG5cbiAgRG9jdW1lbnRNb25pdG9yID0gKGZ1bmN0aW9uKCkge1xuICAgIERvY3VtZW50TW9uaXRvci5wcm90b3R5cGUuc3RhdGVzID0ge1xuICAgICAgbG9hZGluZzogMCxcbiAgICAgIGludGVyYWN0aXZlOiA1MCxcbiAgICAgIGNvbXBsZXRlOiAxMDBcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gRG9jdW1lbnRNb25pdG9yKCkge1xuICAgICAgdmFyIF9vbnJlYWR5c3RhdGVjaGFuZ2UsIF9yZWYyLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLnByb2dyZXNzID0gKF9yZWYyID0gdGhpcy5zdGF0ZXNbZG9jdW1lbnQucmVhZHlTdGF0ZV0pICE9IG51bGwgPyBfcmVmMiA6IDEwMDtcbiAgICAgIF9vbnJlYWR5c3RhdGVjaGFuZ2UgPSBkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2U7XG4gICAgICBkb2N1bWVudC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKF90aGlzLnN0YXRlc1tkb2N1bWVudC5yZWFkeVN0YXRlXSAhPSBudWxsKSB7XG4gICAgICAgICAgX3RoaXMucHJvZ3Jlc3MgPSBfdGhpcy5zdGF0ZXNbZG9jdW1lbnQucmVhZHlTdGF0ZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHR5cGVvZiBfb25yZWFkeXN0YXRlY2hhbmdlID09PSBcImZ1bmN0aW9uXCIgPyBfb25yZWFkeXN0YXRlY2hhbmdlLmFwcGx5KG51bGwsIGFyZ3VtZW50cykgOiB2b2lkIDA7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHJldHVybiBEb2N1bWVudE1vbml0b3I7XG5cbiAgfSkoKTtcblxuICBFdmVudExhZ01vbml0b3IgPSAoZnVuY3Rpb24oKSB7XG4gICAgZnVuY3Rpb24gRXZlbnRMYWdNb25pdG9yKCkge1xuICAgICAgdmFyIGF2ZywgaW50ZXJ2YWwsIGxhc3QsIHBvaW50cywgc2FtcGxlcyxcbiAgICAgICAgX3RoaXMgPSB0aGlzO1xuICAgICAgdGhpcy5wcm9ncmVzcyA9IDA7XG4gICAgICBhdmcgPSAwO1xuICAgICAgc2FtcGxlcyA9IFtdO1xuICAgICAgcG9pbnRzID0gMDtcbiAgICAgIGxhc3QgPSBub3coKTtcbiAgICAgIGludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBkaWZmO1xuICAgICAgICBkaWZmID0gbm93KCkgLSBsYXN0IC0gNTA7XG4gICAgICAgIGxhc3QgPSBub3coKTtcbiAgICAgICAgc2FtcGxlcy5wdXNoKGRpZmYpO1xuICAgICAgICBpZiAoc2FtcGxlcy5sZW5ndGggPiBvcHRpb25zLmV2ZW50TGFnLnNhbXBsZUNvdW50KSB7XG4gICAgICAgICAgc2FtcGxlcy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIGF2ZyA9IGF2Z0FtcGxpdHVkZShzYW1wbGVzKTtcbiAgICAgICAgaWYgKCsrcG9pbnRzID49IG9wdGlvbnMuZXZlbnRMYWcubWluU2FtcGxlcyAmJiBhdmcgPCBvcHRpb25zLmV2ZW50TGFnLmxhZ1RocmVzaG9sZCkge1xuICAgICAgICAgIF90aGlzLnByb2dyZXNzID0gMTAwO1xuICAgICAgICAgIHJldHVybiBjbGVhckludGVydmFsKGludGVydmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gX3RoaXMucHJvZ3Jlc3MgPSAxMDAgKiAoMyAvIChhdmcgKyAzKSk7XG4gICAgICAgIH1cbiAgICAgIH0sIDUwKTtcbiAgICB9XG5cbiAgICByZXR1cm4gRXZlbnRMYWdNb25pdG9yO1xuXG4gIH0pKCk7XG5cbiAgU2NhbGVyID0gKGZ1bmN0aW9uKCkge1xuICAgIGZ1bmN0aW9uIFNjYWxlcihzb3VyY2UpIHtcbiAgICAgIHRoaXMuc291cmNlID0gc291cmNlO1xuICAgICAgdGhpcy5sYXN0ID0gdGhpcy5zaW5jZUxhc3RVcGRhdGUgPSAwO1xuICAgICAgdGhpcy5yYXRlID0gb3B0aW9ucy5pbml0aWFsUmF0ZTtcbiAgICAgIHRoaXMuY2F0Y2h1cCA9IDA7XG4gICAgICB0aGlzLnByb2dyZXNzID0gdGhpcy5sYXN0UHJvZ3Jlc3MgPSAwO1xuICAgICAgaWYgKHRoaXMuc291cmNlICE9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wcm9ncmVzcyA9IHJlc3VsdCh0aGlzLnNvdXJjZSwgJ3Byb2dyZXNzJyk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgU2NhbGVyLnByb3RvdHlwZS50aWNrID0gZnVuY3Rpb24oZnJhbWVUaW1lLCB2YWwpIHtcbiAgICAgIHZhciBzY2FsaW5nO1xuICAgICAgaWYgKHZhbCA9PSBudWxsKSB7XG4gICAgICAgIHZhbCA9IHJlc3VsdCh0aGlzLnNvdXJjZSwgJ3Byb2dyZXNzJyk7XG4gICAgICB9XG4gICAgICBpZiAodmFsID49IDEwMCkge1xuICAgICAgICB0aGlzLmRvbmUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHZhbCA9PT0gdGhpcy5sYXN0KSB7XG4gICAgICAgIHRoaXMuc2luY2VMYXN0VXBkYXRlICs9IGZyYW1lVGltZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnNpbmNlTGFzdFVwZGF0ZSkge1xuICAgICAgICAgIHRoaXMucmF0ZSA9ICh2YWwgLSB0aGlzLmxhc3QpIC8gdGhpcy5zaW5jZUxhc3RVcGRhdGU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jYXRjaHVwID0gKHZhbCAtIHRoaXMucHJvZ3Jlc3MpIC8gb3B0aW9ucy5jYXRjaHVwVGltZTtcbiAgICAgICAgdGhpcy5zaW5jZUxhc3RVcGRhdGUgPSAwO1xuICAgICAgICB0aGlzLmxhc3QgPSB2YWw7XG4gICAgICB9XG4gICAgICBpZiAodmFsID4gdGhpcy5wcm9ncmVzcykge1xuICAgICAgICB0aGlzLnByb2dyZXNzICs9IHRoaXMuY2F0Y2h1cCAqIGZyYW1lVGltZTtcbiAgICAgIH1cbiAgICAgIHNjYWxpbmcgPSAxIC0gTWF0aC5wb3codGhpcy5wcm9ncmVzcyAvIDEwMCwgb3B0aW9ucy5lYXNlRmFjdG9yKTtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgKz0gc2NhbGluZyAqIHRoaXMucmF0ZSAqIGZyYW1lVGltZTtcbiAgICAgIHRoaXMucHJvZ3Jlc3MgPSBNYXRoLm1pbih0aGlzLmxhc3RQcm9ncmVzcyArIG9wdGlvbnMubWF4UHJvZ3Jlc3NQZXJGcmFtZSwgdGhpcy5wcm9ncmVzcyk7XG4gICAgICB0aGlzLnByb2dyZXNzID0gTWF0aC5tYXgoMCwgdGhpcy5wcm9ncmVzcyk7XG4gICAgICB0aGlzLnByb2dyZXNzID0gTWF0aC5taW4oMTAwLCB0aGlzLnByb2dyZXNzKTtcbiAgICAgIHRoaXMubGFzdFByb2dyZXNzID0gdGhpcy5wcm9ncmVzcztcbiAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzO1xuICAgIH07XG5cbiAgICByZXR1cm4gU2NhbGVyO1xuXG4gIH0pKCk7XG5cbiAgc291cmNlcyA9IG51bGw7XG5cbiAgc2NhbGVycyA9IG51bGw7XG5cbiAgYmFyID0gbnVsbDtcblxuICB1bmlTY2FsZXIgPSBudWxsO1xuXG4gIGFuaW1hdGlvbiA9IG51bGw7XG5cbiAgY2FuY2VsQW5pbWF0aW9uID0gbnVsbDtcblxuICBQYWNlLnJ1bm5pbmcgPSBmYWxzZTtcblxuICBoYW5kbGVQdXNoU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAob3B0aW9ucy5yZXN0YXJ0T25QdXNoU3RhdGUpIHtcbiAgICAgIHJldHVybiBQYWNlLnJlc3RhcnQoKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSAhPSBudWxsKSB7XG4gICAgX3B1c2hTdGF0ZSA9IHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZTtcbiAgICB3aW5kb3cuaGlzdG9yeS5wdXNoU3RhdGUgPSBmdW5jdGlvbigpIHtcbiAgICAgIGhhbmRsZVB1c2hTdGF0ZSgpO1xuICAgICAgcmV0dXJuIF9wdXNoU3RhdGUuYXBwbHkod2luZG93Lmhpc3RvcnksIGFyZ3VtZW50cyk7XG4gICAgfTtcbiAgfVxuXG4gIGlmICh3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGUgIT0gbnVsbCkge1xuICAgIF9yZXBsYWNlU3RhdGUgPSB3aW5kb3cuaGlzdG9yeS5yZXBsYWNlU3RhdGU7XG4gICAgd2luZG93Lmhpc3RvcnkucmVwbGFjZVN0YXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICBoYW5kbGVQdXNoU3RhdGUoKTtcbiAgICAgIHJldHVybiBfcmVwbGFjZVN0YXRlLmFwcGx5KHdpbmRvdy5oaXN0b3J5LCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBTT1VSQ0VfS0VZUyA9IHtcbiAgICBhamF4OiBBamF4TW9uaXRvcixcbiAgICBlbGVtZW50czogRWxlbWVudE1vbml0b3IsXG4gICAgZG9jdW1lbnQ6IERvY3VtZW50TW9uaXRvcixcbiAgICBldmVudExhZzogRXZlbnRMYWdNb25pdG9yXG4gIH07XG5cbiAgKGluaXQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgdHlwZSwgX2osIF9rLCBfbGVuMSwgX2xlbjIsIF9yZWYyLCBfcmVmMywgX3JlZjQ7XG4gICAgUGFjZS5zb3VyY2VzID0gc291cmNlcyA9IFtdO1xuICAgIF9yZWYyID0gWydhamF4JywgJ2VsZW1lbnRzJywgJ2RvY3VtZW50JywgJ2V2ZW50TGFnJ107XG4gICAgZm9yIChfaiA9IDAsIF9sZW4xID0gX3JlZjIubGVuZ3RoOyBfaiA8IF9sZW4xOyBfaisrKSB7XG4gICAgICB0eXBlID0gX3JlZjJbX2pdO1xuICAgICAgaWYgKG9wdGlvbnNbdHlwZV0gIT09IGZhbHNlKSB7XG4gICAgICAgIHNvdXJjZXMucHVzaChuZXcgU09VUkNFX0tFWVNbdHlwZV0ob3B0aW9uc1t0eXBlXSkpO1xuICAgICAgfVxuICAgIH1cbiAgICBfcmVmNCA9IChfcmVmMyA9IG9wdGlvbnMuZXh0cmFTb3VyY2VzKSAhPSBudWxsID8gX3JlZjMgOiBbXTtcbiAgICBmb3IgKF9rID0gMCwgX2xlbjIgPSBfcmVmNC5sZW5ndGg7IF9rIDwgX2xlbjI7IF9rKyspIHtcbiAgICAgIHNvdXJjZSA9IF9yZWY0W19rXTtcbiAgICAgIHNvdXJjZXMucHVzaChuZXcgc291cmNlKG9wdGlvbnMpKTtcbiAgICB9XG4gICAgUGFjZS5iYXIgPSBiYXIgPSBuZXcgQmFyO1xuICAgIHNjYWxlcnMgPSBbXTtcbiAgICByZXR1cm4gdW5pU2NhbGVyID0gbmV3IFNjYWxlcjtcbiAgfSkoKTtcblxuICBQYWNlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICBQYWNlLnRyaWdnZXIoJ3N0b3AnKTtcbiAgICBQYWNlLnJ1bm5pbmcgPSBmYWxzZTtcbiAgICBiYXIuZGVzdHJveSgpO1xuICAgIGNhbmNlbEFuaW1hdGlvbiA9IHRydWU7XG4gICAgaWYgKGFuaW1hdGlvbiAhPSBudWxsKSB7XG4gICAgICBpZiAodHlwZW9mIGNhbmNlbEFuaW1hdGlvbkZyYW1lID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uKTtcbiAgICAgIH1cbiAgICAgIGFuaW1hdGlvbiA9IG51bGw7XG4gICAgfVxuICAgIHJldHVybiBpbml0KCk7XG4gIH07XG5cbiAgUGFjZS5yZXN0YXJ0ID0gZnVuY3Rpb24oKSB7XG4gICAgUGFjZS50cmlnZ2VyKCdyZXN0YXJ0Jyk7XG4gICAgUGFjZS5zdG9wKCk7XG4gICAgcmV0dXJuIFBhY2Uuc3RhcnQoKTtcbiAgfTtcblxuICBQYWNlLmdvID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0YXJ0O1xuICAgIFBhY2UucnVubmluZyA9IHRydWU7XG4gICAgYmFyLnJlbmRlcigpO1xuICAgIHN0YXJ0ID0gbm93KCk7XG4gICAgY2FuY2VsQW5pbWF0aW9uID0gZmFsc2U7XG4gICAgcmV0dXJuIGFuaW1hdGlvbiA9IHJ1bkFuaW1hdGlvbihmdW5jdGlvbihmcmFtZVRpbWUsIGVucXVldWVOZXh0RnJhbWUpIHtcbiAgICAgIHZhciBhdmcsIGNvdW50LCBkb25lLCBlbGVtZW50LCBlbGVtZW50cywgaSwgaiwgcmVtYWluaW5nLCBzY2FsZXIsIHNjYWxlckxpc3QsIHN1bSwgX2osIF9rLCBfbGVuMSwgX2xlbjIsIF9yZWYyO1xuICAgICAgcmVtYWluaW5nID0gMTAwIC0gYmFyLnByb2dyZXNzO1xuICAgICAgY291bnQgPSBzdW0gPSAwO1xuICAgICAgZG9uZSA9IHRydWU7XG4gICAgICBmb3IgKGkgPSBfaiA9IDAsIF9sZW4xID0gc291cmNlcy5sZW5ndGg7IF9qIDwgX2xlbjE7IGkgPSArK19qKSB7XG4gICAgICAgIHNvdXJjZSA9IHNvdXJjZXNbaV07XG4gICAgICAgIHNjYWxlckxpc3QgPSBzY2FsZXJzW2ldICE9IG51bGwgPyBzY2FsZXJzW2ldIDogc2NhbGVyc1tpXSA9IFtdO1xuICAgICAgICBlbGVtZW50cyA9IChfcmVmMiA9IHNvdXJjZS5lbGVtZW50cykgIT0gbnVsbCA/IF9yZWYyIDogW3NvdXJjZV07XG4gICAgICAgIGZvciAoaiA9IF9rID0gMCwgX2xlbjIgPSBlbGVtZW50cy5sZW5ndGg7IF9rIDwgX2xlbjI7IGogPSArK19rKSB7XG4gICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRzW2pdO1xuICAgICAgICAgIHNjYWxlciA9IHNjYWxlckxpc3Rbal0gIT0gbnVsbCA/IHNjYWxlckxpc3Rbal0gOiBzY2FsZXJMaXN0W2pdID0gbmV3IFNjYWxlcihlbGVtZW50KTtcbiAgICAgICAgICBkb25lICY9IHNjYWxlci5kb25lO1xuICAgICAgICAgIGlmIChzY2FsZXIuZG9uZSkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvdW50Kys7XG4gICAgICAgICAgc3VtICs9IHNjYWxlci50aWNrKGZyYW1lVGltZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF2ZyA9IHN1bSAvIGNvdW50O1xuICAgICAgYmFyLnVwZGF0ZSh1bmlTY2FsZXIudGljayhmcmFtZVRpbWUsIGF2ZykpO1xuICAgICAgaWYgKGJhci5kb25lKCkgfHwgZG9uZSB8fCBjYW5jZWxBbmltYXRpb24pIHtcbiAgICAgICAgYmFyLnVwZGF0ZSgxMDApO1xuICAgICAgICBQYWNlLnRyaWdnZXIoJ2RvbmUnKTtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYmFyLmZpbmlzaCgpO1xuICAgICAgICAgIFBhY2UucnVubmluZyA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBQYWNlLnRyaWdnZXIoJ2hpZGUnKTtcbiAgICAgICAgfSwgTWF0aC5tYXgob3B0aW9ucy5naG9zdFRpbWUsIE1hdGgubWF4KG9wdGlvbnMubWluVGltZSAtIChub3coKSAtIHN0YXJ0KSwgMCkpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBlbnF1ZXVlTmV4dEZyYW1lKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG5cbiAgUGFjZS5zdGFydCA9IGZ1bmN0aW9uKF9vcHRpb25zKSB7XG4gICAgZXh0ZW5kKG9wdGlvbnMsIF9vcHRpb25zKTtcbiAgICBQYWNlLnJ1bm5pbmcgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBiYXIucmVuZGVyKCk7XG4gICAgfSBjYXRjaCAoX2Vycm9yKSB7XG4gICAgICBOb1RhcmdldEVycm9yID0gX2Vycm9yO1xuICAgIH1cbiAgICBpZiAoIWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wYWNlJykpIHtcbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KFBhY2Uuc3RhcnQsIDUwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUGFjZS50cmlnZ2VyKCdzdGFydCcpO1xuICAgICAgcmV0dXJuIFBhY2UuZ28oKTtcbiAgICB9XG4gIH07XG5cbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgIGRlZmluZShbJ3BhY2UnXSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gUGFjZTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IFBhY2U7XG4gIH0gZWxzZSB7XG4gICAgaWYgKG9wdGlvbnMuc3RhcnRPblBhZ2VMb2FkKSB7XG4gICAgICBQYWNlLnN0YXJ0KCk7XG4gICAgfVxuICB9XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIvKiFcbiAqIHBlcmZlY3Qtc2Nyb2xsYmFyIHYxLjQuMFxuICogKGMpIDIwMTggSHl1bmplIEp1blxuICogQGxpY2Vuc2UgTUlUXG4gKi9cbmZ1bmN0aW9uIGdldChlbGVtZW50KSB7XG4gIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpO1xufVxuXG5mdW5jdGlvbiBzZXQoZWxlbWVudCwgb2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdudW1iZXInKSB7XG4gICAgICB2YWwgPSB2YWwgKyBcInB4XCI7XG4gICAgfVxuICAgIGVsZW1lbnQuc3R5bGVba2V5XSA9IHZhbDtcbiAgfVxuICByZXR1cm4gZWxlbWVudDtcbn1cblxuZnVuY3Rpb24gZGl2KGNsYXNzTmFtZSkge1xuICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGRpdi5jbGFzc05hbWUgPSBjbGFzc05hbWU7XG4gIHJldHVybiBkaXY7XG59XG5cbnZhciBlbE1hdGNoZXMgPVxuICB0eXBlb2YgRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgKEVsZW1lbnQucHJvdG90eXBlLm1hdGNoZXMgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tb3pNYXRjaGVzU2VsZWN0b3IgfHxcbiAgICBFbGVtZW50LnByb3RvdHlwZS5tc01hdGNoZXNTZWxlY3Rvcik7XG5cbmZ1bmN0aW9uIG1hdGNoZXMoZWxlbWVudCwgcXVlcnkpIHtcbiAgaWYgKCFlbE1hdGNoZXMpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGVsZW1lbnQgbWF0Y2hpbmcgbWV0aG9kIHN1cHBvcnRlZCcpO1xuICB9XG5cbiAgcmV0dXJuIGVsTWF0Y2hlcy5jYWxsKGVsZW1lbnQsIHF1ZXJ5KTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlKGVsZW1lbnQpIHtcbiAgaWYgKGVsZW1lbnQucmVtb3ZlKSB7XG4gICAgZWxlbWVudC5yZW1vdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoZWxlbWVudC5wYXJlbnROb2RlKSB7XG4gICAgICBlbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZWxlbWVudCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHF1ZXJ5Q2hpbGRyZW4oZWxlbWVudCwgc2VsZWN0b3IpIHtcbiAgcmV0dXJuIEFycmF5LnByb3RvdHlwZS5maWx0ZXIuY2FsbChlbGVtZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQpIHsgcmV0dXJuIG1hdGNoZXMoY2hpbGQsIHNlbGVjdG9yKTsgfVxuICApO1xufVxuXG52YXIgY2xzID0ge1xuICBtYWluOiAncHMnLFxuICBlbGVtZW50OiB7XG4gICAgdGh1bWI6IGZ1bmN0aW9uICh4KSB7IHJldHVybiAoXCJwc19fdGh1bWItXCIgKyB4KTsgfSxcbiAgICByYWlsOiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gKFwicHNfX3JhaWwtXCIgKyB4KTsgfSxcbiAgICBjb25zdW1pbmc6ICdwc19fY2hpbGQtLWNvbnN1bWUnLFxuICB9LFxuICBzdGF0ZToge1xuICAgIGZvY3VzOiAncHMtLWZvY3VzJyxcbiAgICBjbGlja2luZzogJ3BzLS1jbGlja2luZycsXG4gICAgYWN0aXZlOiBmdW5jdGlvbiAoeCkgeyByZXR1cm4gKFwicHMtLWFjdGl2ZS1cIiArIHgpOyB9LFxuICAgIHNjcm9sbGluZzogZnVuY3Rpb24gKHgpIHsgcmV0dXJuIChcInBzLS1zY3JvbGxpbmctXCIgKyB4KTsgfSxcbiAgfSxcbn07XG5cbi8qXG4gKiBIZWxwZXIgbWV0aG9kc1xuICovXG52YXIgc2Nyb2xsaW5nQ2xhc3NUaW1lb3V0ID0geyB4OiBudWxsLCB5OiBudWxsIH07XG5cbmZ1bmN0aW9uIGFkZFNjcm9sbGluZ0NsYXNzKGksIHgpIHtcbiAgdmFyIGNsYXNzTGlzdCA9IGkuZWxlbWVudC5jbGFzc0xpc3Q7XG4gIHZhciBjbGFzc05hbWUgPSBjbHMuc3RhdGUuc2Nyb2xsaW5nKHgpO1xuXG4gIGlmIChjbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkge1xuICAgIGNsZWFyVGltZW91dChzY3JvbGxpbmdDbGFzc1RpbWVvdXRbeF0pO1xuICB9IGVsc2Uge1xuICAgIGNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZW1vdmVTY3JvbGxpbmdDbGFzcyhpLCB4KSB7XG4gIHNjcm9sbGluZ0NsYXNzVGltZW91dFt4XSA9IHNldFRpbWVvdXQoXG4gICAgZnVuY3Rpb24gKCkgeyByZXR1cm4gaS5pc0FsaXZlICYmIGkuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNscy5zdGF0ZS5zY3JvbGxpbmcoeCkpOyB9LFxuICAgIGkuc2V0dGluZ3Muc2Nyb2xsaW5nVGhyZXNob2xkXG4gICk7XG59XG5cbmZ1bmN0aW9uIHNldFNjcm9sbGluZ0NsYXNzSW5zdGFudGx5KGksIHgpIHtcbiAgYWRkU2Nyb2xsaW5nQ2xhc3MoaSwgeCk7XG4gIHJlbW92ZVNjcm9sbGluZ0NsYXNzKGksIHgpO1xufVxuXG52YXIgRXZlbnRFbGVtZW50ID0gZnVuY3Rpb24gRXZlbnRFbGVtZW50KGVsZW1lbnQpIHtcbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcbiAgdGhpcy5oYW5kbGVycyA9IHt9O1xufTtcblxudmFyIHByb3RvdHlwZUFjY2Vzc29ycyA9IHsgaXNFbXB0eTogeyBjb25maWd1cmFibGU6IHRydWUgfSB9O1xuXG5FdmVudEVsZW1lbnQucHJvdG90eXBlLmJpbmQgPSBmdW5jdGlvbiBiaW5kIChldmVudE5hbWUsIGhhbmRsZXIpIHtcbiAgaWYgKHR5cGVvZiB0aGlzLmhhbmRsZXJzW2V2ZW50TmFtZV0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdID0gW107XG4gIH1cbiAgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdLnB1c2goaGFuZGxlcik7XG4gIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbGVtZW50LnByb3RvdHlwZS51bmJpbmQgPSBmdW5jdGlvbiB1bmJpbmQgKGV2ZW50TmFtZSwgdGFyZ2V0KSB7XG4gICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdID0gdGhpcy5oYW5kbGVyc1tldmVudE5hbWVdLmZpbHRlcihmdW5jdGlvbiAoaGFuZGxlcikge1xuICAgIGlmICh0YXJnZXQgJiYgaGFuZGxlciAhPT0gdGFyZ2V0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdGhpcyQxLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufTtcblxuRXZlbnRFbGVtZW50LnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbiB1bmJpbmRBbGwgKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIGZvciAodmFyIG5hbWUgaW4gdGhpcyQxLmhhbmRsZXJzKSB7XG4gICAgdGhpcyQxLnVuYmluZChuYW1lKTtcbiAgfVxufTtcblxucHJvdG90eXBlQWNjZXNzb3JzLmlzRW1wdHkuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzKS5ldmVyeShcbiAgICBmdW5jdGlvbiAoa2V5KSB7IHJldHVybiB0aGlzJDEuaGFuZGxlcnNba2V5XS5sZW5ndGggPT09IDA7IH1cbiAgKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKCBFdmVudEVsZW1lbnQucHJvdG90eXBlLCBwcm90b3R5cGVBY2Nlc3NvcnMgKTtcblxudmFyIEV2ZW50TWFuYWdlciA9IGZ1bmN0aW9uIEV2ZW50TWFuYWdlcigpIHtcbiAgdGhpcy5ldmVudEVsZW1lbnRzID0gW107XG59O1xuXG5FdmVudE1hbmFnZXIucHJvdG90eXBlLmV2ZW50RWxlbWVudCA9IGZ1bmN0aW9uIGV2ZW50RWxlbWVudCAoZWxlbWVudCkge1xuICB2YXIgZWUgPSB0aGlzLmV2ZW50RWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uIChlZSkgeyByZXR1cm4gZWUuZWxlbWVudCA9PT0gZWxlbWVudDsgfSlbMF07XG4gIGlmICghZWUpIHtcbiAgICBlZSA9IG5ldyBFdmVudEVsZW1lbnQoZWxlbWVudCk7XG4gICAgdGhpcy5ldmVudEVsZW1lbnRzLnB1c2goZWUpO1xuICB9XG4gIHJldHVybiBlZTtcbn07XG5cbkV2ZW50TWFuYWdlci5wcm90b3R5cGUuYmluZCA9IGZ1bmN0aW9uIGJpbmQgKGVsZW1lbnQsIGV2ZW50TmFtZSwgaGFuZGxlcikge1xuICB0aGlzLmV2ZW50RWxlbWVudChlbGVtZW50KS5iaW5kKGV2ZW50TmFtZSwgaGFuZGxlcik7XG59O1xuXG5FdmVudE1hbmFnZXIucHJvdG90eXBlLnVuYmluZCA9IGZ1bmN0aW9uIHVuYmluZCAoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gIHZhciBlZSA9IHRoaXMuZXZlbnRFbGVtZW50KGVsZW1lbnQpO1xuICBlZS51bmJpbmQoZXZlbnROYW1lLCBoYW5kbGVyKTtcblxuICBpZiAoZWUuaXNFbXB0eSkge1xuICAgIC8vIHJlbW92ZVxuICAgIHRoaXMuZXZlbnRFbGVtZW50cy5zcGxpY2UodGhpcy5ldmVudEVsZW1lbnRzLmluZGV4T2YoZWUpLCAxKTtcbiAgfVxufTtcblxuRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS51bmJpbmRBbGwgPSBmdW5jdGlvbiB1bmJpbmRBbGwgKCkge1xuICB0aGlzLmV2ZW50RWxlbWVudHMuZm9yRWFjaChmdW5jdGlvbiAoZSkgeyByZXR1cm4gZS51bmJpbmRBbGwoKTsgfSk7XG4gIHRoaXMuZXZlbnRFbGVtZW50cyA9IFtdO1xufTtcblxuRXZlbnRNYW5hZ2VyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSAoZWxlbWVudCwgZXZlbnROYW1lLCBoYW5kbGVyKSB7XG4gIHZhciBlZSA9IHRoaXMuZXZlbnRFbGVtZW50KGVsZW1lbnQpO1xuICB2YXIgb25jZUhhbmRsZXIgPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgZWUudW5iaW5kKGV2ZW50TmFtZSwgb25jZUhhbmRsZXIpO1xuICAgIGhhbmRsZXIoZXZ0KTtcbiAgfTtcbiAgZWUuYmluZChldmVudE5hbWUsIG9uY2VIYW5kbGVyKTtcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZUV2ZW50KG5hbWUpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cuQ3VzdG9tRXZlbnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gbmV3IEN1c3RvbUV2ZW50KG5hbWUpO1xuICB9IGVsc2Uge1xuICAgIHZhciBldnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnQ3VzdG9tRXZlbnQnKTtcbiAgICBldnQuaW5pdEN1c3RvbUV2ZW50KG5hbWUsIGZhbHNlLCBmYWxzZSwgdW5kZWZpbmVkKTtcbiAgICByZXR1cm4gZXZ0O1xuICB9XG59XG5cbnZhciBwcm9jZXNzU2Nyb2xsRGlmZiA9IGZ1bmN0aW9uKFxuICBpLFxuICBheGlzLFxuICBkaWZmLFxuICB1c2VTY3JvbGxpbmdDbGFzcyxcbiAgZm9yY2VGaXJlUmVhY2hFdmVudFxuKSB7XG4gIGlmICggdXNlU2Nyb2xsaW5nQ2xhc3MgPT09IHZvaWQgMCApIHVzZVNjcm9sbGluZ0NsYXNzID0gdHJ1ZTtcbiAgaWYgKCBmb3JjZUZpcmVSZWFjaEV2ZW50ID09PSB2b2lkIDAgKSBmb3JjZUZpcmVSZWFjaEV2ZW50ID0gZmFsc2U7XG5cbiAgdmFyIGZpZWxkcztcbiAgaWYgKGF4aXMgPT09ICd0b3AnKSB7XG4gICAgZmllbGRzID0gW1xuICAgICAgJ2NvbnRlbnRIZWlnaHQnLFxuICAgICAgJ2NvbnRhaW5lckhlaWdodCcsXG4gICAgICAnc2Nyb2xsVG9wJyxcbiAgICAgICd5JyxcbiAgICAgICd1cCcsXG4gICAgICAnZG93bicgXTtcbiAgfSBlbHNlIGlmIChheGlzID09PSAnbGVmdCcpIHtcbiAgICBmaWVsZHMgPSBbXG4gICAgICAnY29udGVudFdpZHRoJyxcbiAgICAgICdjb250YWluZXJXaWR0aCcsXG4gICAgICAnc2Nyb2xsTGVmdCcsXG4gICAgICAneCcsXG4gICAgICAnbGVmdCcsXG4gICAgICAncmlnaHQnIF07XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdBIHByb3BlciBheGlzIHNob3VsZCBiZSBwcm92aWRlZCcpO1xuICB9XG5cbiAgcHJvY2Vzc1Njcm9sbERpZmYkMShpLCBkaWZmLCBmaWVsZHMsIHVzZVNjcm9sbGluZ0NsYXNzLCBmb3JjZUZpcmVSZWFjaEV2ZW50KTtcbn07XG5cbmZ1bmN0aW9uIHByb2Nlc3NTY3JvbGxEaWZmJDEoXG4gIGksXG4gIGRpZmYsXG4gIHJlZixcbiAgdXNlU2Nyb2xsaW5nQ2xhc3MsXG4gIGZvcmNlRmlyZVJlYWNoRXZlbnRcbikge1xuICB2YXIgY29udGVudEhlaWdodCA9IHJlZlswXTtcbiAgdmFyIGNvbnRhaW5lckhlaWdodCA9IHJlZlsxXTtcbiAgdmFyIHNjcm9sbFRvcCA9IHJlZlsyXTtcbiAgdmFyIHkgPSByZWZbM107XG4gIHZhciB1cCA9IHJlZls0XTtcbiAgdmFyIGRvd24gPSByZWZbNV07XG4gIGlmICggdXNlU2Nyb2xsaW5nQ2xhc3MgPT09IHZvaWQgMCApIHVzZVNjcm9sbGluZ0NsYXNzID0gdHJ1ZTtcbiAgaWYgKCBmb3JjZUZpcmVSZWFjaEV2ZW50ID09PSB2b2lkIDAgKSBmb3JjZUZpcmVSZWFjaEV2ZW50ID0gZmFsc2U7XG5cbiAgdmFyIGVsZW1lbnQgPSBpLmVsZW1lbnQ7XG5cbiAgLy8gcmVzZXQgcmVhY2hcbiAgaS5yZWFjaFt5XSA9IG51bGw7XG5cbiAgLy8gMSBmb3Igc3VicGl4ZWwgcm91bmRpbmdcbiAgaWYgKGVsZW1lbnRbc2Nyb2xsVG9wXSA8IDEpIHtcbiAgICBpLnJlYWNoW3ldID0gJ3N0YXJ0JztcbiAgfVxuXG4gIC8vIDEgZm9yIHN1YnBpeGVsIHJvdW5kaW5nXG4gIGlmIChlbGVtZW50W3Njcm9sbFRvcF0gPiBpW2NvbnRlbnRIZWlnaHRdIC0gaVtjb250YWluZXJIZWlnaHRdIC0gMSkge1xuICAgIGkucmVhY2hbeV0gPSAnZW5kJztcbiAgfVxuXG4gIGlmIChkaWZmKSB7XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KChcInBzLXNjcm9sbC1cIiArIHkpKSk7XG5cbiAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgIGVsZW1lbnQuZGlzcGF0Y2hFdmVudChjcmVhdGVFdmVudCgoXCJwcy1zY3JvbGwtXCIgKyB1cCkpKTtcbiAgICB9IGVsc2UgaWYgKGRpZmYgPiAwKSB7XG4gICAgICBlbGVtZW50LmRpc3BhdGNoRXZlbnQoY3JlYXRlRXZlbnQoKFwicHMtc2Nyb2xsLVwiICsgZG93bikpKTtcbiAgICB9XG5cbiAgICBpZiAodXNlU2Nyb2xsaW5nQ2xhc3MpIHtcbiAgICAgIHNldFNjcm9sbGluZ0NsYXNzSW5zdGFudGx5KGksIHkpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChpLnJlYWNoW3ldICYmIChkaWZmIHx8IGZvcmNlRmlyZVJlYWNoRXZlbnQpKSB7XG4gICAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGNyZWF0ZUV2ZW50KChcInBzLVwiICsgeSArIFwiLXJlYWNoLVwiICsgKGkucmVhY2hbeV0pKSkpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHRvSW50KHgpIHtcbiAgcmV0dXJuIHBhcnNlSW50KHgsIDEwKSB8fCAwO1xufVxuXG5mdW5jdGlvbiBpc0VkaXRhYmxlKGVsKSB7XG4gIHJldHVybiAoXG4gICAgbWF0Y2hlcyhlbCwgJ2lucHV0LFtjb250ZW50ZWRpdGFibGVdJykgfHxcbiAgICBtYXRjaGVzKGVsLCAnc2VsZWN0LFtjb250ZW50ZWRpdGFibGVdJykgfHxcbiAgICBtYXRjaGVzKGVsLCAndGV4dGFyZWEsW2NvbnRlbnRlZGl0YWJsZV0nKSB8fFxuICAgIG1hdGNoZXMoZWwsICdidXR0b24sW2NvbnRlbnRlZGl0YWJsZV0nKVxuICApO1xufVxuXG5mdW5jdGlvbiBvdXRlcldpZHRoKGVsZW1lbnQpIHtcbiAgdmFyIHN0eWxlcyA9IGdldChlbGVtZW50KTtcbiAgcmV0dXJuIChcbiAgICB0b0ludChzdHlsZXMud2lkdGgpICtcbiAgICB0b0ludChzdHlsZXMucGFkZGluZ0xlZnQpICtcbiAgICB0b0ludChzdHlsZXMucGFkZGluZ1JpZ2h0KSArXG4gICAgdG9JbnQoc3R5bGVzLmJvcmRlckxlZnRXaWR0aCkgK1xuICAgIHRvSW50KHN0eWxlcy5ib3JkZXJSaWdodFdpZHRoKVxuICApO1xufVxuXG52YXIgZW52ID0ge1xuICBpc1dlYktpdDpcbiAgICB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmXG4gICAgJ1dlYmtpdEFwcGVhcmFuY2UnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZSxcbiAgc3VwcG9ydHNUb3VjaDpcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICgnb250b3VjaHN0YXJ0JyBpbiB3aW5kb3cgfHxcbiAgICAgICh3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIHdpbmRvdy5Eb2N1bWVudFRvdWNoKSksXG4gIHN1cHBvcnRzSWVQb2ludGVyOlxuICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci5tc01heFRvdWNoUG9pbnRzLFxuICBpc0Nocm9tZTpcbiAgICB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIC9DaHJvbWUvaS50ZXN0KG5hdmlnYXRvciAmJiBuYXZpZ2F0b3IudXNlckFnZW50KSxcbn07XG5cbnZhciB1cGRhdGVHZW9tZXRyeSA9IGZ1bmN0aW9uKGkpIHtcbiAgdmFyIGVsZW1lbnQgPSBpLmVsZW1lbnQ7XG4gIHZhciByb3VuZGVkU2Nyb2xsVG9wID0gTWF0aC5mbG9vcihlbGVtZW50LnNjcm9sbFRvcCk7XG5cbiAgaS5jb250YWluZXJXaWR0aCA9IGVsZW1lbnQuY2xpZW50V2lkdGg7XG4gIGkuY29udGFpbmVySGVpZ2h0ID0gZWxlbWVudC5jbGllbnRIZWlnaHQ7XG4gIGkuY29udGVudFdpZHRoID0gZWxlbWVudC5zY3JvbGxXaWR0aDtcbiAgaS5jb250ZW50SGVpZ2h0ID0gZWxlbWVudC5zY3JvbGxIZWlnaHQ7XG5cbiAgaWYgKCFlbGVtZW50LmNvbnRhaW5zKGkuc2Nyb2xsYmFyWFJhaWwpKSB7XG4gICAgLy8gY2xlYW4gdXAgYW5kIGFwcGVuZFxuICAgIHF1ZXJ5Q2hpbGRyZW4oZWxlbWVudCwgY2xzLmVsZW1lbnQucmFpbCgneCcpKS5mb3JFYWNoKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gcmVtb3ZlKGVsKTsgfVxuICAgICk7XG4gICAgZWxlbWVudC5hcHBlbmRDaGlsZChpLnNjcm9sbGJhclhSYWlsKTtcbiAgfVxuICBpZiAoIWVsZW1lbnQuY29udGFpbnMoaS5zY3JvbGxiYXJZUmFpbCkpIHtcbiAgICAvLyBjbGVhbiB1cCBhbmQgYXBwZW5kXG4gICAgcXVlcnlDaGlsZHJlbihlbGVtZW50LCBjbHMuZWxlbWVudC5yYWlsKCd5JykpLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7IHJldHVybiByZW1vdmUoZWwpOyB9XG4gICAgKTtcbiAgICBlbGVtZW50LmFwcGVuZENoaWxkKGkuc2Nyb2xsYmFyWVJhaWwpO1xuICB9XG5cbiAgaWYgKFxuICAgICFpLnNldHRpbmdzLnN1cHByZXNzU2Nyb2xsWCAmJlxuICAgIGkuY29udGFpbmVyV2lkdGggKyBpLnNldHRpbmdzLnNjcm9sbFhNYXJnaW5PZmZzZXQgPCBpLmNvbnRlbnRXaWR0aFxuICApIHtcbiAgICBpLnNjcm9sbGJhclhBY3RpdmUgPSB0cnVlO1xuICAgIGkucmFpbFhXaWR0aCA9IGkuY29udGFpbmVyV2lkdGggLSBpLnJhaWxYTWFyZ2luV2lkdGg7XG4gICAgaS5yYWlsWFJhdGlvID0gaS5jb250YWluZXJXaWR0aCAvIGkucmFpbFhXaWR0aDtcbiAgICBpLnNjcm9sbGJhclhXaWR0aCA9IGdldFRodW1iU2l6ZShcbiAgICAgIGksXG4gICAgICB0b0ludChpLnJhaWxYV2lkdGggKiBpLmNvbnRhaW5lcldpZHRoIC8gaS5jb250ZW50V2lkdGgpXG4gICAgKTtcbiAgICBpLnNjcm9sbGJhclhMZWZ0ID0gdG9JbnQoXG4gICAgICAoaS5uZWdhdGl2ZVNjcm9sbEFkanVzdG1lbnQgKyBlbGVtZW50LnNjcm9sbExlZnQpICpcbiAgICAgICAgKGkucmFpbFhXaWR0aCAtIGkuc2Nyb2xsYmFyWFdpZHRoKSAvXG4gICAgICAgIChpLmNvbnRlbnRXaWR0aCAtIGkuY29udGFpbmVyV2lkdGgpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBpLnNjcm9sbGJhclhBY3RpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChcbiAgICAhaS5zZXR0aW5ncy5zdXBwcmVzc1Njcm9sbFkgJiZcbiAgICBpLmNvbnRhaW5lckhlaWdodCArIGkuc2V0dGluZ3Muc2Nyb2xsWU1hcmdpbk9mZnNldCA8IGkuY29udGVudEhlaWdodFxuICApIHtcbiAgICBpLnNjcm9sbGJhcllBY3RpdmUgPSB0cnVlO1xuICAgIGkucmFpbFlIZWlnaHQgPSBpLmNvbnRhaW5lckhlaWdodCAtIGkucmFpbFlNYXJnaW5IZWlnaHQ7XG4gICAgaS5yYWlsWVJhdGlvID0gaS5jb250YWluZXJIZWlnaHQgLyBpLnJhaWxZSGVpZ2h0O1xuICAgIGkuc2Nyb2xsYmFyWUhlaWdodCA9IGdldFRodW1iU2l6ZShcbiAgICAgIGksXG4gICAgICB0b0ludChpLnJhaWxZSGVpZ2h0ICogaS5jb250YWluZXJIZWlnaHQgLyBpLmNvbnRlbnRIZWlnaHQpXG4gICAgKTtcbiAgICBpLnNjcm9sbGJhcllUb3AgPSB0b0ludChcbiAgICAgIHJvdW5kZWRTY3JvbGxUb3AgKlxuICAgICAgICAoaS5yYWlsWUhlaWdodCAtIGkuc2Nyb2xsYmFyWUhlaWdodCkgL1xuICAgICAgICAoaS5jb250ZW50SGVpZ2h0IC0gaS5jb250YWluZXJIZWlnaHQpXG4gICAgKTtcbiAgfSBlbHNlIHtcbiAgICBpLnNjcm9sbGJhcllBY3RpdmUgPSBmYWxzZTtcbiAgfVxuXG4gIGlmIChpLnNjcm9sbGJhclhMZWZ0ID49IGkucmFpbFhXaWR0aCAtIGkuc2Nyb2xsYmFyWFdpZHRoKSB7XG4gICAgaS5zY3JvbGxiYXJYTGVmdCA9IGkucmFpbFhXaWR0aCAtIGkuc2Nyb2xsYmFyWFdpZHRoO1xuICB9XG4gIGlmIChpLnNjcm9sbGJhcllUb3AgPj0gaS5yYWlsWUhlaWdodCAtIGkuc2Nyb2xsYmFyWUhlaWdodCkge1xuICAgIGkuc2Nyb2xsYmFyWVRvcCA9IGkucmFpbFlIZWlnaHQgLSBpLnNjcm9sbGJhcllIZWlnaHQ7XG4gIH1cblxuICB1cGRhdGVDc3MoZWxlbWVudCwgaSk7XG5cbiAgaWYgKGkuc2Nyb2xsYmFyWEFjdGl2ZSkge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbHMuc3RhdGUuYWN0aXZlKCd4JykpO1xuICB9IGVsc2Uge1xuICAgIGVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjbHMuc3RhdGUuYWN0aXZlKCd4JykpO1xuICAgIGkuc2Nyb2xsYmFyWFdpZHRoID0gMDtcbiAgICBpLnNjcm9sbGJhclhMZWZ0ID0gMDtcbiAgICBlbGVtZW50LnNjcm9sbExlZnQgPSAwO1xuICB9XG4gIGlmIChpLnNjcm9sbGJhcllBY3RpdmUpIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xzLnN0YXRlLmFjdGl2ZSgneScpKTtcbiAgfSBlbHNlIHtcbiAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xzLnN0YXRlLmFjdGl2ZSgneScpKTtcbiAgICBpLnNjcm9sbGJhcllIZWlnaHQgPSAwO1xuICAgIGkuc2Nyb2xsYmFyWVRvcCA9IDA7XG4gICAgZWxlbWVudC5zY3JvbGxUb3AgPSAwO1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRUaHVtYlNpemUoaSwgdGh1bWJTaXplKSB7XG4gIGlmIChpLnNldHRpbmdzLm1pblNjcm9sbGJhckxlbmd0aCkge1xuICAgIHRodW1iU2l6ZSA9IE1hdGgubWF4KHRodW1iU2l6ZSwgaS5zZXR0aW5ncy5taW5TY3JvbGxiYXJMZW5ndGgpO1xuICB9XG4gIGlmIChpLnNldHRpbmdzLm1heFNjcm9sbGJhckxlbmd0aCkge1xuICAgIHRodW1iU2l6ZSA9IE1hdGgubWluKHRodW1iU2l6ZSwgaS5zZXR0aW5ncy5tYXhTY3JvbGxiYXJMZW5ndGgpO1xuICB9XG4gIHJldHVybiB0aHVtYlNpemU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUNzcyhlbGVtZW50LCBpKSB7XG4gIHZhciB4UmFpbE9mZnNldCA9IHsgd2lkdGg6IGkucmFpbFhXaWR0aCB9O1xuICB2YXIgcm91bmRlZFNjcm9sbFRvcCA9IE1hdGguZmxvb3IoZWxlbWVudC5zY3JvbGxUb3ApO1xuXG4gIGlmIChpLmlzUnRsKSB7XG4gICAgeFJhaWxPZmZzZXQubGVmdCA9XG4gICAgICBpLm5lZ2F0aXZlU2Nyb2xsQWRqdXN0bWVudCArXG4gICAgICBlbGVtZW50LnNjcm9sbExlZnQgK1xuICAgICAgaS5jb250YWluZXJXaWR0aCAtXG4gICAgICBpLmNvbnRlbnRXaWR0aDtcbiAgfSBlbHNlIHtcbiAgICB4UmFpbE9mZnNldC5sZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0O1xuICB9XG4gIGlmIChpLmlzU2Nyb2xsYmFyWFVzaW5nQm90dG9tKSB7XG4gICAgeFJhaWxPZmZzZXQuYm90dG9tID0gaS5zY3JvbGxiYXJYQm90dG9tIC0gcm91bmRlZFNjcm9sbFRvcDtcbiAgfSBlbHNlIHtcbiAgICB4UmFpbE9mZnNldC50b3AgPSBpLnNjcm9sbGJhclhUb3AgKyByb3VuZGVkU2Nyb2xsVG9wO1xuICB9XG4gIHNldChpLnNjcm9sbGJhclhSYWlsLCB4UmFpbE9mZnNldCk7XG5cbiAgdmFyIHlSYWlsT2Zmc2V0ID0geyB0b3A6IHJvdW5kZWRTY3JvbGxUb3AsIGhlaWdodDogaS5yYWlsWUhlaWdodCB9O1xuICBpZiAoaS5pc1Njcm9sbGJhcllVc2luZ1JpZ2h0KSB7XG4gICAgaWYgKGkuaXNSdGwpIHtcbiAgICAgIHlSYWlsT2Zmc2V0LnJpZ2h0ID1cbiAgICAgICAgaS5jb250ZW50V2lkdGggLVxuICAgICAgICAoaS5uZWdhdGl2ZVNjcm9sbEFkanVzdG1lbnQgKyBlbGVtZW50LnNjcm9sbExlZnQpIC1cbiAgICAgICAgaS5zY3JvbGxiYXJZUmlnaHQgLVxuICAgICAgICBpLnNjcm9sbGJhcllPdXRlcldpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB5UmFpbE9mZnNldC5yaWdodCA9IGkuc2Nyb2xsYmFyWVJpZ2h0IC0gZWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoaS5pc1J0bCkge1xuICAgICAgeVJhaWxPZmZzZXQubGVmdCA9XG4gICAgICAgIGkubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ICtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0ICtcbiAgICAgICAgaS5jb250YWluZXJXaWR0aCAqIDIgLVxuICAgICAgICBpLmNvbnRlbnRXaWR0aCAtXG4gICAgICAgIGkuc2Nyb2xsYmFyWUxlZnQgLVxuICAgICAgICBpLnNjcm9sbGJhcllPdXRlcldpZHRoO1xuICAgIH0gZWxzZSB7XG4gICAgICB5UmFpbE9mZnNldC5sZWZ0ID0gaS5zY3JvbGxiYXJZTGVmdCArIGVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICB9XG4gIH1cbiAgc2V0KGkuc2Nyb2xsYmFyWVJhaWwsIHlSYWlsT2Zmc2V0KTtcblxuICBzZXQoaS5zY3JvbGxiYXJYLCB7XG4gICAgbGVmdDogaS5zY3JvbGxiYXJYTGVmdCxcbiAgICB3aWR0aDogaS5zY3JvbGxiYXJYV2lkdGggLSBpLnJhaWxCb3JkZXJYV2lkdGgsXG4gIH0pO1xuICBzZXQoaS5zY3JvbGxiYXJZLCB7XG4gICAgdG9wOiBpLnNjcm9sbGJhcllUb3AsXG4gICAgaGVpZ2h0OiBpLnNjcm9sbGJhcllIZWlnaHQgLSBpLnJhaWxCb3JkZXJZV2lkdGgsXG4gIH0pO1xufVxuXG52YXIgY2xpY2tSYWlsID0gZnVuY3Rpb24oaSkge1xuICBpLmV2ZW50LmJpbmQoaS5zY3JvbGxiYXJZLCAnbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pO1xuICBpLmV2ZW50LmJpbmQoaS5zY3JvbGxiYXJZUmFpbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHBvc2l0aW9uVG9wID1cbiAgICAgIGUucGFnZVkgLVxuICAgICAgd2luZG93LnBhZ2VZT2Zmc2V0IC1cbiAgICAgIGkuc2Nyb2xsYmFyWVJhaWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgIHZhciBkaXJlY3Rpb24gPSBwb3NpdGlvblRvcCA+IGkuc2Nyb2xsYmFyWVRvcCA/IDEgOiAtMTtcblxuICAgIGkuZWxlbWVudC5zY3JvbGxUb3AgKz0gZGlyZWN0aW9uICogaS5jb250YWluZXJIZWlnaHQ7XG4gICAgdXBkYXRlR2VvbWV0cnkoaSk7XG5cbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcblxuICBpLmV2ZW50LmJpbmQoaS5zY3JvbGxiYXJYLCAnbW91c2Vkb3duJywgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGUuc3RvcFByb3BhZ2F0aW9uKCk7IH0pO1xuICBpLmV2ZW50LmJpbmQoaS5zY3JvbGxiYXJYUmFpbCwgJ21vdXNlZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHBvc2l0aW9uTGVmdCA9XG4gICAgICBlLnBhZ2VYIC1cbiAgICAgIHdpbmRvdy5wYWdlWE9mZnNldCAtXG4gICAgICBpLnNjcm9sbGJhclhSYWlsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7XG4gICAgdmFyIGRpcmVjdGlvbiA9IHBvc2l0aW9uTGVmdCA+IGkuc2Nyb2xsYmFyWExlZnQgPyAxIDogLTE7XG5cbiAgICBpLmVsZW1lbnQuc2Nyb2xsTGVmdCArPSBkaXJlY3Rpb24gKiBpLmNvbnRhaW5lcldpZHRoO1xuICAgIHVwZGF0ZUdlb21ldHJ5KGkpO1xuXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG59O1xuXG52YXIgZHJhZ1RodW1iID0gZnVuY3Rpb24oaSkge1xuICBiaW5kTW91c2VTY3JvbGxIYW5kbGVyKGksIFtcbiAgICAnY29udGFpbmVyV2lkdGgnLFxuICAgICdjb250ZW50V2lkdGgnLFxuICAgICdwYWdlWCcsXG4gICAgJ3JhaWxYV2lkdGgnLFxuICAgICdzY3JvbGxiYXJYJyxcbiAgICAnc2Nyb2xsYmFyWFdpZHRoJyxcbiAgICAnc2Nyb2xsTGVmdCcsXG4gICAgJ3gnLFxuICAgICdzY3JvbGxiYXJYUmFpbCcgXSk7XG4gIGJpbmRNb3VzZVNjcm9sbEhhbmRsZXIoaSwgW1xuICAgICdjb250YWluZXJIZWlnaHQnLFxuICAgICdjb250ZW50SGVpZ2h0JyxcbiAgICAncGFnZVknLFxuICAgICdyYWlsWUhlaWdodCcsXG4gICAgJ3Njcm9sbGJhclknLFxuICAgICdzY3JvbGxiYXJZSGVpZ2h0JyxcbiAgICAnc2Nyb2xsVG9wJyxcbiAgICAneScsXG4gICAgJ3Njcm9sbGJhcllSYWlsJyBdKTtcbn07XG5cbmZ1bmN0aW9uIGJpbmRNb3VzZVNjcm9sbEhhbmRsZXIoXG4gIGksXG4gIHJlZlxuKSB7XG4gIHZhciBjb250YWluZXJIZWlnaHQgPSByZWZbMF07XG4gIHZhciBjb250ZW50SGVpZ2h0ID0gcmVmWzFdO1xuICB2YXIgcGFnZVkgPSByZWZbMl07XG4gIHZhciByYWlsWUhlaWdodCA9IHJlZlszXTtcbiAgdmFyIHNjcm9sbGJhclkgPSByZWZbNF07XG4gIHZhciBzY3JvbGxiYXJZSGVpZ2h0ID0gcmVmWzVdO1xuICB2YXIgc2Nyb2xsVG9wID0gcmVmWzZdO1xuICB2YXIgeSA9IHJlZls3XTtcbiAgdmFyIHNjcm9sbGJhcllSYWlsID0gcmVmWzhdO1xuXG4gIHZhciBlbGVtZW50ID0gaS5lbGVtZW50O1xuXG4gIHZhciBzdGFydGluZ1Njcm9sbFRvcCA9IG51bGw7XG4gIHZhciBzdGFydGluZ01vdXNlUGFnZVkgPSBudWxsO1xuICB2YXIgc2Nyb2xsQnkgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIG1vdXNlTW92ZUhhbmRsZXIoZSkge1xuICAgIGVsZW1lbnRbc2Nyb2xsVG9wXSA9XG4gICAgICBzdGFydGluZ1Njcm9sbFRvcCArIHNjcm9sbEJ5ICogKGVbcGFnZVldIC0gc3RhcnRpbmdNb3VzZVBhZ2VZKTtcbiAgICBhZGRTY3JvbGxpbmdDbGFzcyhpLCB5KTtcbiAgICB1cGRhdGVHZW9tZXRyeShpKTtcblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbW91c2VVcEhhbmRsZXIoKSB7XG4gICAgcmVtb3ZlU2Nyb2xsaW5nQ2xhc3MoaSwgeSk7XG4gICAgaVtzY3JvbGxiYXJZUmFpbF0uY2xhc3NMaXN0LnJlbW92ZShjbHMuc3RhdGUuY2xpY2tpbmcpO1xuICAgIGkuZXZlbnQudW5iaW5kKGkub3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIG1vdXNlTW92ZUhhbmRsZXIpO1xuICB9XG5cbiAgaS5ldmVudC5iaW5kKGlbc2Nyb2xsYmFyWV0sICdtb3VzZWRvd24nLCBmdW5jdGlvbiAoZSkge1xuICAgIHN0YXJ0aW5nU2Nyb2xsVG9wID0gZWxlbWVudFtzY3JvbGxUb3BdO1xuICAgIHN0YXJ0aW5nTW91c2VQYWdlWSA9IGVbcGFnZVldO1xuICAgIHNjcm9sbEJ5ID1cbiAgICAgIChpW2NvbnRlbnRIZWlnaHRdIC0gaVtjb250YWluZXJIZWlnaHRdKSAvXG4gICAgICAoaVtyYWlsWUhlaWdodF0gLSBpW3Njcm9sbGJhcllIZWlnaHRdKTtcblxuICAgIGkuZXZlbnQuYmluZChpLm93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCBtb3VzZU1vdmVIYW5kbGVyKTtcbiAgICBpLmV2ZW50Lm9uY2UoaS5vd25lckRvY3VtZW50LCAnbW91c2V1cCcsIG1vdXNlVXBIYW5kbGVyKTtcblxuICAgIGlbc2Nyb2xsYmFyWVJhaWxdLmNsYXNzTGlzdC5hZGQoY2xzLnN0YXRlLmNsaWNraW5nKTtcblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICB9KTtcbn1cblxudmFyIGtleWJvYXJkID0gZnVuY3Rpb24oaSkge1xuICB2YXIgZWxlbWVudCA9IGkuZWxlbWVudDtcblxuICB2YXIgZWxlbWVudEhvdmVyZWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXRjaGVzKGVsZW1lbnQsICc6aG92ZXInKTsgfTtcbiAgdmFyIHNjcm9sbGJhckZvY3VzZWQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXRjaGVzKGkuc2Nyb2xsYmFyWCwgJzpmb2N1cycpIHx8IG1hdGNoZXMoaS5zY3JvbGxiYXJZLCAnOmZvY3VzJyk7IH07XG5cbiAgZnVuY3Rpb24gc2hvdWxkUHJldmVudERlZmF1bHQoZGVsdGFYLCBkZWx0YVkpIHtcbiAgICB2YXIgc2Nyb2xsVG9wID0gTWF0aC5mbG9vcihlbGVtZW50LnNjcm9sbFRvcCk7XG4gICAgaWYgKGRlbHRhWCA9PT0gMCkge1xuICAgICAgaWYgKCFpLnNjcm9sbGJhcllBY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKFxuICAgICAgICAoc2Nyb2xsVG9wID09PSAwICYmIGRlbHRhWSA+IDApIHx8XG4gICAgICAgIChzY3JvbGxUb3AgPj0gaS5jb250ZW50SGVpZ2h0IC0gaS5jb250YWluZXJIZWlnaHQgJiYgZGVsdGFZIDwgMClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gIWkuc2V0dGluZ3Mud2hlZWxQcm9wYWdhdGlvbjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsTGVmdCA9IGVsZW1lbnQuc2Nyb2xsTGVmdDtcbiAgICBpZiAoZGVsdGFZID09PSAwKSB7XG4gICAgICBpZiAoIWkuc2Nyb2xsYmFyWEFjdGl2ZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIChzY3JvbGxMZWZ0ID09PSAwICYmIGRlbHRhWCA8IDApIHx8XG4gICAgICAgIChzY3JvbGxMZWZ0ID49IGkuY29udGVudFdpZHRoIC0gaS5jb250YWluZXJXaWR0aCAmJiBkZWx0YVggPiAwKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiAhaS5zZXR0aW5ncy53aGVlbFByb3BhZ2F0aW9uO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGkuZXZlbnQuYmluZChpLm93bmVyRG9jdW1lbnQsICdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoXG4gICAgICAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQgJiYgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgfHxcbiAgICAgIGUuZGVmYXVsdFByZXZlbnRlZFxuICAgICkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICghZWxlbWVudEhvdmVyZWQoKSAmJiAhc2Nyb2xsYmFyRm9jdXNlZCgpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGFjdGl2ZUVsZW1lbnQgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50XG4gICAgICA/IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnRcbiAgICAgIDogaS5vd25lckRvY3VtZW50LmFjdGl2ZUVsZW1lbnQ7XG4gICAgaWYgKGFjdGl2ZUVsZW1lbnQpIHtcbiAgICAgIGlmIChhY3RpdmVFbGVtZW50LnRhZ05hbWUgPT09ICdJRlJBTUUnKSB7XG4gICAgICAgIGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50LmNvbnRlbnREb2N1bWVudC5hY3RpdmVFbGVtZW50O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gZ28gZGVlcGVyIGlmIGVsZW1lbnQgaXMgYSB3ZWJjb21wb25lbnRcbiAgICAgICAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdCkge1xuICAgICAgICAgIGFjdGl2ZUVsZW1lbnQgPSBhY3RpdmVFbGVtZW50LnNoYWRvd1Jvb3QuYWN0aXZlRWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGlzRWRpdGFibGUoYWN0aXZlRWxlbWVudCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkZWx0YVggPSAwO1xuICAgIHZhciBkZWx0YVkgPSAwO1xuXG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDM3OiAvLyBsZWZ0XG4gICAgICAgIGlmIChlLm1ldGFLZXkpIHtcbiAgICAgICAgICBkZWx0YVggPSAtaS5jb250ZW50V2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcbiAgICAgICAgICBkZWx0YVggPSAtaS5jb250YWluZXJXaWR0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWx0YVggPSAtMzA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM4OiAvLyB1cFxuICAgICAgICBpZiAoZS5tZXRhS2V5KSB7XG4gICAgICAgICAgZGVsdGFZID0gaS5jb250ZW50SGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGUuYWx0S2V5KSB7XG4gICAgICAgICAgZGVsdGFZID0gaS5jb250YWluZXJIZWlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGVsdGFZID0gMzA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OiAvLyByaWdodFxuICAgICAgICBpZiAoZS5tZXRhS2V5KSB7XG4gICAgICAgICAgZGVsdGFYID0gaS5jb250ZW50V2lkdGg7XG4gICAgICAgIH0gZWxzZSBpZiAoZS5hbHRLZXkpIHtcbiAgICAgICAgICBkZWx0YVggPSBpLmNvbnRhaW5lcldpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbHRhWCA9IDMwO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSA0MDogLy8gZG93blxuICAgICAgICBpZiAoZS5tZXRhS2V5KSB7XG4gICAgICAgICAgZGVsdGFZID0gLWkuY29udGVudEhlaWdodDtcbiAgICAgICAgfSBlbHNlIGlmIChlLmFsdEtleSkge1xuICAgICAgICAgIGRlbHRhWSA9IC1pLmNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWx0YVkgPSAtMzA7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDMyOiAvLyBzcGFjZSBiYXJcbiAgICAgICAgaWYgKGUuc2hpZnRLZXkpIHtcbiAgICAgICAgICBkZWx0YVkgPSBpLmNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWx0YVkgPSAtaS5jb250YWluZXJIZWlnaHQ7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDMzOiAvLyBwYWdlIHVwXG4gICAgICAgIGRlbHRhWSA9IGkuY29udGFpbmVySGVpZ2h0O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgMzQ6IC8vIHBhZ2UgZG93blxuICAgICAgICBkZWx0YVkgPSAtaS5jb250YWluZXJIZWlnaHQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzNjogLy8gaG9tZVxuICAgICAgICBkZWx0YVkgPSBpLmNvbnRlbnRIZWlnaHQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzNTogLy8gZW5kXG4gICAgICAgIGRlbHRhWSA9IC1pLmNvbnRlbnRIZWlnaHQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpLnNldHRpbmdzLnN1cHByZXNzU2Nyb2xsWCAmJiBkZWx0YVggIT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGkuc2V0dGluZ3Muc3VwcHJlc3NTY3JvbGxZICYmIGRlbHRhWSAhPT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuc2Nyb2xsVG9wIC09IGRlbHRhWTtcbiAgICBlbGVtZW50LnNjcm9sbExlZnQgKz0gZGVsdGFYO1xuICAgIHVwZGF0ZUdlb21ldHJ5KGkpO1xuXG4gICAgaWYgKHNob3VsZFByZXZlbnREZWZhdWx0KGRlbHRhWCwgZGVsdGFZKSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgd2hlZWwgPSBmdW5jdGlvbihpKSB7XG4gIHZhciBlbGVtZW50ID0gaS5lbGVtZW50O1xuXG4gIGZ1bmN0aW9uIHNob3VsZFByZXZlbnREZWZhdWx0KGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgdmFyIHJvdW5kZWRTY3JvbGxUb3AgPSBNYXRoLmZsb29yKGVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgICB2YXIgaXNUb3AgPSBlbGVtZW50LnNjcm9sbFRvcCA9PT0gMDtcbiAgICB2YXIgaXNCb3R0b20gPVxuICAgICAgcm91bmRlZFNjcm9sbFRvcCArIGVsZW1lbnQub2Zmc2V0SGVpZ2h0ID09PSBlbGVtZW50LnNjcm9sbEhlaWdodDtcbiAgICB2YXIgaXNMZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0ID09PSAwO1xuICAgIHZhciBpc1JpZ2h0ID1cbiAgICAgIGVsZW1lbnQuc2Nyb2xsTGVmdCArIGVsZW1lbnQub2Zmc2V0V2lkdGggPT09IGVsZW1lbnQuc2Nyb2xsV2lkdGg7XG5cbiAgICB2YXIgaGl0c0JvdW5kO1xuXG4gICAgLy8gcGljayBheGlzIHdpdGggcHJpbWFyeSBkaXJlY3Rpb25cbiAgICBpZiAoTWF0aC5hYnMoZGVsdGFZKSA+IE1hdGguYWJzKGRlbHRhWCkpIHtcbiAgICAgIGhpdHNCb3VuZCA9IGlzVG9wIHx8IGlzQm90dG9tO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaXRzQm91bmQgPSBpc0xlZnQgfHwgaXNSaWdodDtcbiAgICB9XG5cbiAgICByZXR1cm4gaGl0c0JvdW5kID8gIWkuc2V0dGluZ3Mud2hlZWxQcm9wYWdhdGlvbiA6IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREZWx0YUZyb21FdmVudChlKSB7XG4gICAgdmFyIGRlbHRhWCA9IGUuZGVsdGFYO1xuICAgIHZhciBkZWx0YVkgPSAtMSAqIGUuZGVsdGFZO1xuXG4gICAgaWYgKHR5cGVvZiBkZWx0YVggPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBkZWx0YVkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBPUyBYIFNhZmFyaVxuICAgICAgZGVsdGFYID0gLTEgKiBlLndoZWVsRGVsdGFYIC8gNjtcbiAgICAgIGRlbHRhWSA9IGUud2hlZWxEZWx0YVkgLyA2O1xuICAgIH1cblxuICAgIGlmIChlLmRlbHRhTW9kZSAmJiBlLmRlbHRhTW9kZSA9PT0gMSkge1xuICAgICAgLy8gRmlyZWZveCBpbiBkZWx0YU1vZGUgMTogTGluZSBzY3JvbGxpbmdcbiAgICAgIGRlbHRhWCAqPSAxMDtcbiAgICAgIGRlbHRhWSAqPSAxMDtcbiAgICB9XG5cbiAgICBpZiAoZGVsdGFYICE9PSBkZWx0YVggJiYgZGVsdGFZICE9PSBkZWx0YVkgLyogTmFOIGNoZWNrcyAqLykge1xuICAgICAgLy8gSUUgaW4gc29tZSBtb3VzZSBkcml2ZXJzXG4gICAgICBkZWx0YVggPSAwO1xuICAgICAgZGVsdGFZID0gZS53aGVlbERlbHRhO1xuICAgIH1cblxuICAgIGlmIChlLnNoaWZ0S2V5KSB7XG4gICAgICAvLyByZXZlcnNlIGF4aXMgd2l0aCBzaGlmdCBrZXlcbiAgICAgIHJldHVybiBbLWRlbHRhWSwgLWRlbHRhWF07XG4gICAgfVxuICAgIHJldHVybiBbZGVsdGFYLCBkZWx0YVldO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkQmVDb25zdW1lZEJ5Q2hpbGQodGFyZ2V0LCBkZWx0YVgsIGRlbHRhWSkge1xuICAgIC8vIEZJWE1FOiB0aGlzIGlzIGEgd29ya2Fyb3VuZCBmb3IgPHNlbGVjdD4gaXNzdWUgaW4gRkYgYW5kIElFICM1NzFcbiAgICBpZiAoIWVudi5pc1dlYktpdCAmJiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlbGVjdDpmb2N1cycpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoIWVsZW1lbnQuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBjdXJzb3IgPSB0YXJnZXQ7XG5cbiAgICB3aGlsZSAoY3Vyc29yICYmIGN1cnNvciAhPT0gZWxlbWVudCkge1xuICAgICAgaWYgKGN1cnNvci5jbGFzc0xpc3QuY29udGFpbnMoY2xzLmVsZW1lbnQuY29uc3VtaW5nKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlID0gZ2V0KGN1cnNvcik7XG4gICAgICB2YXIgb3ZlcmZsb3cgPSBbc3R5bGUub3ZlcmZsb3csIHN0eWxlLm92ZXJmbG93WCwgc3R5bGUub3ZlcmZsb3dZXS5qb2luKFxuICAgICAgICAnJ1xuICAgICAgKTtcblxuICAgICAgLy8gaWYgc2Nyb2xsYWJsZVxuICAgICAgaWYgKG92ZXJmbG93Lm1hdGNoKC8oc2Nyb2xsfGF1dG8pLykpIHtcbiAgICAgICAgdmFyIG1heFNjcm9sbFRvcCA9IGN1cnNvci5zY3JvbGxIZWlnaHQgLSBjdXJzb3IuY2xpZW50SGVpZ2h0O1xuICAgICAgICBpZiAobWF4U2Nyb2xsVG9wID4gMCkge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICEoY3Vyc29yLnNjcm9sbFRvcCA9PT0gMCAmJiBkZWx0YVkgPiAwKSAmJlxuICAgICAgICAgICAgIShjdXJzb3Iuc2Nyb2xsVG9wID09PSBtYXhTY3JvbGxUb3AgJiYgZGVsdGFZIDwgMClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgbWF4U2Nyb2xsTGVmdCA9IGN1cnNvci5zY3JvbGxXaWR0aCAtIGN1cnNvci5jbGllbnRXaWR0aDtcbiAgICAgICAgaWYgKG1heFNjcm9sbExlZnQgPiAwKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIShjdXJzb3Iuc2Nyb2xsTGVmdCA9PT0gMCAmJiBkZWx0YVggPCAwKSAmJlxuICAgICAgICAgICAgIShjdXJzb3Iuc2Nyb2xsTGVmdCA9PT0gbWF4U2Nyb2xsTGVmdCAmJiBkZWx0YVggPiAwKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGN1cnNvciA9IGN1cnNvci5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdXNld2hlZWxIYW5kbGVyKGUpIHtcbiAgICB2YXIgcmVmID0gZ2V0RGVsdGFGcm9tRXZlbnQoZSk7XG4gICAgdmFyIGRlbHRhWCA9IHJlZlswXTtcbiAgICB2YXIgZGVsdGFZID0gcmVmWzFdO1xuXG4gICAgaWYgKHNob3VsZEJlQ29uc3VtZWRCeUNoaWxkKGUudGFyZ2V0LCBkZWx0YVgsIGRlbHRhWSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkUHJldmVudCA9IGZhbHNlO1xuICAgIGlmICghaS5zZXR0aW5ncy51c2VCb3RoV2hlZWxBeGVzKSB7XG4gICAgICAvLyBkZWx0YVggd2lsbCBvbmx5IGJlIHVzZWQgZm9yIGhvcml6b250YWwgc2Nyb2xsaW5nIGFuZCBkZWx0YVkgd2lsbFxuICAgICAgLy8gb25seSBiZSB1c2VkIGZvciB2ZXJ0aWNhbCBzY3JvbGxpbmcgLSB0aGlzIGlzIHRoZSBkZWZhdWx0XG4gICAgICBlbGVtZW50LnNjcm9sbFRvcCAtPSBkZWx0YVkgKiBpLnNldHRpbmdzLndoZWVsU3BlZWQ7XG4gICAgICBlbGVtZW50LnNjcm9sbExlZnQgKz0gZGVsdGFYICogaS5zZXR0aW5ncy53aGVlbFNwZWVkO1xuICAgIH0gZWxzZSBpZiAoaS5zY3JvbGxiYXJZQWN0aXZlICYmICFpLnNjcm9sbGJhclhBY3RpdmUpIHtcbiAgICAgIC8vIG9ubHkgdmVydGljYWwgc2Nyb2xsYmFyIGlzIGFjdGl2ZSBhbmQgdXNlQm90aFdoZWVsQXhlcyBvcHRpb24gaXNcbiAgICAgIC8vIGFjdGl2ZSwgc28gbGV0J3Mgc2Nyb2xsIHZlcnRpY2FsIGJhciB1c2luZyBib3RoIG1vdXNlIHdoZWVsIGF4ZXNcbiAgICAgIGlmIChkZWx0YVkpIHtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgLT0gZGVsdGFZICogaS5zZXR0aW5ncy53aGVlbFNwZWVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxUb3AgKz0gZGVsdGFYICogaS5zZXR0aW5ncy53aGVlbFNwZWVkO1xuICAgICAgfVxuICAgICAgc2hvdWxkUHJldmVudCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChpLnNjcm9sbGJhclhBY3RpdmUgJiYgIWkuc2Nyb2xsYmFyWUFjdGl2ZSkge1xuICAgICAgLy8gdXNlQm90aFdoZWVsQXhlcyBhbmQgb25seSBob3Jpem9udGFsIGJhciBpcyBhY3RpdmUsIHNvIHVzZSBib3RoXG4gICAgICAvLyB3aGVlbCBheGVzIGZvciBob3Jpem9udGFsIGJhclxuICAgICAgaWYgKGRlbHRhWCkge1xuICAgICAgICBlbGVtZW50LnNjcm9sbExlZnQgKz0gZGVsdGFYICogaS5zZXR0aW5ncy53aGVlbFNwZWVkO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5zY3JvbGxMZWZ0IC09IGRlbHRhWSAqIGkuc2V0dGluZ3Mud2hlZWxTcGVlZDtcbiAgICAgIH1cbiAgICAgIHNob3VsZFByZXZlbnQgPSB0cnVlO1xuICAgIH1cblxuICAgIHVwZGF0ZUdlb21ldHJ5KGkpO1xuXG4gICAgc2hvdWxkUHJldmVudCA9IHNob3VsZFByZXZlbnQgfHwgc2hvdWxkUHJldmVudERlZmF1bHQoZGVsdGFYLCBkZWx0YVkpO1xuICAgIGlmIChzaG91bGRQcmV2ZW50ICYmICFlLmN0cmxLZXkpIHtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB3aW5kb3cub253aGVlbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpLmV2ZW50LmJpbmQoZWxlbWVudCwgJ3doZWVsJywgbW91c2V3aGVlbEhhbmRsZXIpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiB3aW5kb3cub25tb3VzZXdoZWVsICE9PSAndW5kZWZpbmVkJykge1xuICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAnbW91c2V3aGVlbCcsIG1vdXNld2hlZWxIYW5kbGVyKTtcbiAgfVxufTtcblxudmFyIHRvdWNoID0gZnVuY3Rpb24oaSkge1xuICBpZiAoIWVudi5zdXBwb3J0c1RvdWNoICYmICFlbnYuc3VwcG9ydHNJZVBvaW50ZXIpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IGkuZWxlbWVudDtcblxuICBmdW5jdGlvbiBzaG91bGRQcmV2ZW50KGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgdmFyIHNjcm9sbFRvcCA9IE1hdGguZmxvb3IoZWxlbWVudC5zY3JvbGxUb3ApO1xuICAgIHZhciBzY3JvbGxMZWZ0ID0gZWxlbWVudC5zY3JvbGxMZWZ0O1xuICAgIHZhciBtYWduaXR1ZGVYID0gTWF0aC5hYnMoZGVsdGFYKTtcbiAgICB2YXIgbWFnbml0dWRlWSA9IE1hdGguYWJzKGRlbHRhWSk7XG5cbiAgICBpZiAobWFnbml0dWRlWSA+IG1hZ25pdHVkZVgpIHtcbiAgICAgIC8vIHVzZXIgaXMgcGVyaGFwcyB0cnlpbmcgdG8gc3dpcGUgdXAvZG93biB0aGUgcGFnZVxuXG4gICAgICBpZiAoXG4gICAgICAgIChkZWx0YVkgPCAwICYmIHNjcm9sbFRvcCA9PT0gaS5jb250ZW50SGVpZ2h0IC0gaS5jb250YWluZXJIZWlnaHQpIHx8XG4gICAgICAgIChkZWx0YVkgPiAwICYmIHNjcm9sbFRvcCA9PT0gMClcbiAgICAgICkge1xuICAgICAgICAvLyBzZXQgcHJldmVudCBmb3IgbW9iaWxlIENocm9tZSByZWZyZXNoXG4gICAgICAgIHJldHVybiB3aW5kb3cuc2Nyb2xsWSA9PT0gMCAmJiBkZWx0YVkgPiAwICYmIGVudi5pc0Nocm9tZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKG1hZ25pdHVkZVggPiBtYWduaXR1ZGVZKSB7XG4gICAgICAvLyB1c2VyIGlzIHBlcmhhcHMgdHJ5aW5nIHRvIHN3aXBlIGxlZnQvcmlnaHQgYWNyb3NzIHRoZSBwYWdlXG5cbiAgICAgIGlmIChcbiAgICAgICAgKGRlbHRhWCA8IDAgJiYgc2Nyb2xsTGVmdCA9PT0gaS5jb250ZW50V2lkdGggLSBpLmNvbnRhaW5lcldpZHRoKSB8fFxuICAgICAgICAoZGVsdGFYID4gMCAmJiBzY3JvbGxMZWZ0ID09PSAwKVxuICAgICAgKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlUb3VjaE1vdmUoZGlmZmVyZW5jZVgsIGRpZmZlcmVuY2VZKSB7XG4gICAgZWxlbWVudC5zY3JvbGxUb3AgLT0gZGlmZmVyZW5jZVk7XG4gICAgZWxlbWVudC5zY3JvbGxMZWZ0IC09IGRpZmZlcmVuY2VYO1xuXG4gICAgdXBkYXRlR2VvbWV0cnkoaSk7XG4gIH1cblxuICB2YXIgc3RhcnRPZmZzZXQgPSB7fTtcbiAgdmFyIHN0YXJ0VGltZSA9IDA7XG4gIHZhciBzcGVlZCA9IHt9O1xuICB2YXIgZWFzaW5nTG9vcCA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZ2V0VG91Y2goZSkge1xuICAgIGlmIChlLnRhcmdldFRvdWNoZXMpIHtcbiAgICAgIHJldHVybiBlLnRhcmdldFRvdWNoZXNbMF07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIE1heWJlIElFIHBvaW50ZXJcbiAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNob3VsZEhhbmRsZShlKSB7XG4gICAgaWYgKGUucG9pbnRlclR5cGUgJiYgZS5wb2ludGVyVHlwZSA9PT0gJ3BlbicgJiYgZS5idXR0b25zID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChlLnRhcmdldFRvdWNoZXMgJiYgZS50YXJnZXRUb3VjaGVzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGUucG9pbnRlclR5cGUgJiZcbiAgICAgIGUucG9pbnRlclR5cGUgIT09ICdtb3VzZScgJiZcbiAgICAgIGUucG9pbnRlclR5cGUgIT09IGUuTVNQT0lOVEVSX1RZUEVfTU9VU0VcbiAgICApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB0b3VjaFN0YXJ0KGUpIHtcbiAgICBpZiAoIXNob3VsZEhhbmRsZShlKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB0b3VjaCA9IGdldFRvdWNoKGUpO1xuXG4gICAgc3RhcnRPZmZzZXQucGFnZVggPSB0b3VjaC5wYWdlWDtcbiAgICBzdGFydE9mZnNldC5wYWdlWSA9IHRvdWNoLnBhZ2VZO1xuXG4gICAgc3RhcnRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cbiAgICBpZiAoZWFzaW5nTG9vcCAhPT0gbnVsbCkge1xuICAgICAgY2xlYXJJbnRlcnZhbChlYXNpbmdMb29wKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzaG91bGRCZUNvbnN1bWVkQnlDaGlsZCh0YXJnZXQsIGRlbHRhWCwgZGVsdGFZKSB7XG4gICAgaWYgKCFlbGVtZW50LmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgY3Vyc29yID0gdGFyZ2V0O1xuXG4gICAgd2hpbGUgKGN1cnNvciAmJiBjdXJzb3IgIT09IGVsZW1lbnQpIHtcbiAgICAgIGlmIChjdXJzb3IuY2xhc3NMaXN0LmNvbnRhaW5zKGNscy5lbGVtZW50LmNvbnN1bWluZykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBzdHlsZSA9IGdldChjdXJzb3IpO1xuICAgICAgdmFyIG92ZXJmbG93ID0gW3N0eWxlLm92ZXJmbG93LCBzdHlsZS5vdmVyZmxvd1gsIHN0eWxlLm92ZXJmbG93WV0uam9pbihcbiAgICAgICAgJydcbiAgICAgICk7XG5cbiAgICAgIC8vIGlmIHNjcm9sbGFibGVcbiAgICAgIGlmIChvdmVyZmxvdy5tYXRjaCgvKHNjcm9sbHxhdXRvKS8pKSB7XG4gICAgICAgIHZhciBtYXhTY3JvbGxUb3AgPSBjdXJzb3Iuc2Nyb2xsSGVpZ2h0IC0gY3Vyc29yLmNsaWVudEhlaWdodDtcbiAgICAgICAgaWYgKG1heFNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhKGN1cnNvci5zY3JvbGxUb3AgPT09IDAgJiYgZGVsdGFZID4gMCkgJiZcbiAgICAgICAgICAgICEoY3Vyc29yLnNjcm9sbFRvcCA9PT0gbWF4U2Nyb2xsVG9wICYmIGRlbHRhWSA8IDApXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1heFNjcm9sbExlZnQgPSBjdXJzb3Iuc2Nyb2xsTGVmdCAtIGN1cnNvci5jbGllbnRXaWR0aDtcbiAgICAgICAgaWYgKG1heFNjcm9sbExlZnQgPiAwKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIShjdXJzb3Iuc2Nyb2xsTGVmdCA9PT0gMCAmJiBkZWx0YVggPCAwKSAmJlxuICAgICAgICAgICAgIShjdXJzb3Iuc2Nyb2xsTGVmdCA9PT0gbWF4U2Nyb2xsTGVmdCAmJiBkZWx0YVggPiAwKVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGN1cnNvciA9IGN1cnNvci5wYXJlbnROb2RlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvdWNoTW92ZShlKSB7XG4gICAgaWYgKHNob3VsZEhhbmRsZShlKSkge1xuICAgICAgdmFyIHRvdWNoID0gZ2V0VG91Y2goZSk7XG5cbiAgICAgIHZhciBjdXJyZW50T2Zmc2V0ID0geyBwYWdlWDogdG91Y2gucGFnZVgsIHBhZ2VZOiB0b3VjaC5wYWdlWSB9O1xuXG4gICAgICB2YXIgZGlmZmVyZW5jZVggPSBjdXJyZW50T2Zmc2V0LnBhZ2VYIC0gc3RhcnRPZmZzZXQucGFnZVg7XG4gICAgICB2YXIgZGlmZmVyZW5jZVkgPSBjdXJyZW50T2Zmc2V0LnBhZ2VZIC0gc3RhcnRPZmZzZXQucGFnZVk7XG5cbiAgICAgIGlmIChzaG91bGRCZUNvbnN1bWVkQnlDaGlsZChlLnRhcmdldCwgZGlmZmVyZW5jZVgsIGRpZmZlcmVuY2VZKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwcGx5VG91Y2hNb3ZlKGRpZmZlcmVuY2VYLCBkaWZmZXJlbmNlWSk7XG4gICAgICBzdGFydE9mZnNldCA9IGN1cnJlbnRPZmZzZXQ7XG5cbiAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXG4gICAgICB2YXIgdGltZUdhcCA9IGN1cnJlbnRUaW1lIC0gc3RhcnRUaW1lO1xuICAgICAgaWYgKHRpbWVHYXAgPiAwKSB7XG4gICAgICAgIHNwZWVkLnggPSBkaWZmZXJlbmNlWCAvIHRpbWVHYXA7XG4gICAgICAgIHNwZWVkLnkgPSBkaWZmZXJlbmNlWSAvIHRpbWVHYXA7XG4gICAgICAgIHN0YXJ0VGltZSA9IGN1cnJlbnRUaW1lO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2hvdWxkUHJldmVudChkaWZmZXJlbmNlWCwgZGlmZmVyZW5jZVkpKSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdG91Y2hFbmQoKSB7XG4gICAgaWYgKGkuc2V0dGluZ3Muc3dpcGVFYXNpbmcpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwoZWFzaW5nTG9vcCk7XG4gICAgICBlYXNpbmdMb29wID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChpLmlzSW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGVhc2luZ0xvb3ApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghc3BlZWQueCAmJiAhc3BlZWQueSkge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoZWFzaW5nTG9vcCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKE1hdGguYWJzKHNwZWVkLngpIDwgMC4wMSAmJiBNYXRoLmFicyhzcGVlZC55KSA8IDAuMDEpIHtcbiAgICAgICAgICBjbGVhckludGVydmFsKGVhc2luZ0xvb3ApO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGFwcGx5VG91Y2hNb3ZlKHNwZWVkLnggKiAzMCwgc3BlZWQueSAqIDMwKTtcblxuICAgICAgICBzcGVlZC54ICo9IDAuODtcbiAgICAgICAgc3BlZWQueSAqPSAwLjg7XG4gICAgICB9LCAxMCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKGVudi5zdXBwb3J0c1RvdWNoKSB7XG4gICAgaS5ldmVudC5iaW5kKGVsZW1lbnQsICd0b3VjaHN0YXJ0JywgdG91Y2hTdGFydCk7XG4gICAgaS5ldmVudC5iaW5kKGVsZW1lbnQsICd0b3VjaG1vdmUnLCB0b3VjaE1vdmUpO1xuICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAndG91Y2hlbmQnLCB0b3VjaEVuZCk7XG4gIH0gZWxzZSBpZiAoZW52LnN1cHBvcnRzSWVQb2ludGVyKSB7XG4gICAgaWYgKHdpbmRvdy5Qb2ludGVyRXZlbnQpIHtcbiAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAncG9pbnRlcmRvd24nLCB0b3VjaFN0YXJ0KTtcbiAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAncG9pbnRlcm1vdmUnLCB0b3VjaE1vdmUpO1xuICAgICAgaS5ldmVudC5iaW5kKGVsZW1lbnQsICdwb2ludGVydXAnLCB0b3VjaEVuZCk7XG4gICAgfSBlbHNlIGlmICh3aW5kb3cuTVNQb2ludGVyRXZlbnQpIHtcbiAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAnTVNQb2ludGVyRG93bicsIHRvdWNoU3RhcnQpO1xuICAgICAgaS5ldmVudC5iaW5kKGVsZW1lbnQsICdNU1BvaW50ZXJNb3ZlJywgdG91Y2hNb3ZlKTtcbiAgICAgIGkuZXZlbnQuYmluZChlbGVtZW50LCAnTVNQb2ludGVyVXAnLCB0b3VjaEVuZCk7XG4gICAgfVxuICB9XG59O1xuXG52YXIgZGVmYXVsdFNldHRpbmdzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gKHtcbiAgaGFuZGxlcnM6IFsnY2xpY2stcmFpbCcsICdkcmFnLXRodW1iJywgJ2tleWJvYXJkJywgJ3doZWVsJywgJ3RvdWNoJ10sXG4gIG1heFNjcm9sbGJhckxlbmd0aDogbnVsbCxcbiAgbWluU2Nyb2xsYmFyTGVuZ3RoOiBudWxsLFxuICBzY3JvbGxpbmdUaHJlc2hvbGQ6IDEwMDAsXG4gIHNjcm9sbFhNYXJnaW5PZmZzZXQ6IDAsXG4gIHNjcm9sbFlNYXJnaW5PZmZzZXQ6IDAsXG4gIHN1cHByZXNzU2Nyb2xsWDogZmFsc2UsXG4gIHN1cHByZXNzU2Nyb2xsWTogZmFsc2UsXG4gIHN3aXBlRWFzaW5nOiB0cnVlLFxuICB1c2VCb3RoV2hlZWxBeGVzOiBmYWxzZSxcbiAgd2hlZWxQcm9wYWdhdGlvbjogdHJ1ZSxcbiAgd2hlZWxTcGVlZDogMSxcbn0pOyB9O1xuXG52YXIgaGFuZGxlcnMgPSB7XG4gICdjbGljay1yYWlsJzogY2xpY2tSYWlsLFxuICAnZHJhZy10aHVtYic6IGRyYWdUaHVtYixcbiAga2V5Ym9hcmQ6IGtleWJvYXJkLFxuICB3aGVlbDogd2hlZWwsXG4gIHRvdWNoOiB0b3VjaCxcbn07XG5cbnZhciBQZXJmZWN0U2Nyb2xsYmFyID0gZnVuY3Rpb24gUGVyZmVjdFNjcm9sbGJhcihlbGVtZW50LCB1c2VyU2V0dGluZ3MpIHtcbiAgdmFyIHRoaXMkMSA9IHRoaXM7XG4gIGlmICggdXNlclNldHRpbmdzID09PSB2b2lkIDAgKSB1c2VyU2V0dGluZ3MgPSB7fTtcblxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgZWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZWxlbWVudCk7XG4gIH1cblxuICBpZiAoIWVsZW1lbnQgfHwgIWVsZW1lbnQubm9kZU5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIGVsZW1lbnQgaXMgc3BlY2lmaWVkIHRvIGluaXRpYWxpemUgUGVyZmVjdFNjcm9sbGJhcicpO1xuICB9XG5cbiAgdGhpcy5lbGVtZW50ID0gZWxlbWVudDtcblxuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoY2xzLm1haW4pO1xuXG4gIHRoaXMuc2V0dGluZ3MgPSBkZWZhdWx0U2V0dGluZ3MoKTtcbiAgZm9yICh2YXIga2V5IGluIHVzZXJTZXR0aW5ncykge1xuICAgIHRoaXMkMS5zZXR0aW5nc1trZXldID0gdXNlclNldHRpbmdzW2tleV07XG4gIH1cblxuICB0aGlzLmNvbnRhaW5lcldpZHRoID0gbnVsbDtcbiAgdGhpcy5jb250YWluZXJIZWlnaHQgPSBudWxsO1xuICB0aGlzLmNvbnRlbnRXaWR0aCA9IG51bGw7XG4gIHRoaXMuY29udGVudEhlaWdodCA9IG51bGw7XG5cbiAgdmFyIGZvY3VzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QuYWRkKGNscy5zdGF0ZS5mb2N1cyk7IH07XG4gIHZhciBibHVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNscy5zdGF0ZS5mb2N1cyk7IH07XG5cbiAgdGhpcy5pc1J0bCA9IGdldChlbGVtZW50KS5kaXJlY3Rpb24gPT09ICdydGwnO1xuICB0aGlzLmlzTmVnYXRpdmVTY3JvbGwgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcmlnaW5hbFNjcm9sbExlZnQgPSBlbGVtZW50LnNjcm9sbExlZnQ7XG4gICAgdmFyIHJlc3VsdCA9IG51bGw7XG4gICAgZWxlbWVudC5zY3JvbGxMZWZ0ID0gLTE7XG4gICAgcmVzdWx0ID0gZWxlbWVudC5zY3JvbGxMZWZ0IDwgMDtcbiAgICBlbGVtZW50LnNjcm9sbExlZnQgPSBvcmlnaW5hbFNjcm9sbExlZnQ7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSkoKTtcbiAgdGhpcy5uZWdhdGl2ZVNjcm9sbEFkanVzdG1lbnQgPSB0aGlzLmlzTmVnYXRpdmVTY3JvbGxcbiAgICA/IGVsZW1lbnQuc2Nyb2xsV2lkdGggLSBlbGVtZW50LmNsaWVudFdpZHRoXG4gICAgOiAwO1xuICB0aGlzLmV2ZW50ID0gbmV3IEV2ZW50TWFuYWdlcigpO1xuICB0aGlzLm93bmVyRG9jdW1lbnQgPSBlbGVtZW50Lm93bmVyRG9jdW1lbnQgfHwgZG9jdW1lbnQ7XG5cbiAgdGhpcy5zY3JvbGxiYXJYUmFpbCA9IGRpdihjbHMuZWxlbWVudC5yYWlsKCd4JykpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsYmFyWFJhaWwpO1xuICB0aGlzLnNjcm9sbGJhclggPSBkaXYoY2xzLmVsZW1lbnQudGh1bWIoJ3gnKSk7XG4gIHRoaXMuc2Nyb2xsYmFyWFJhaWwuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxiYXJYKTtcbiAgdGhpcy5zY3JvbGxiYXJYLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgdGhpcy5ldmVudC5iaW5kKHRoaXMuc2Nyb2xsYmFyWCwgJ2ZvY3VzJywgZm9jdXMpO1xuICB0aGlzLmV2ZW50LmJpbmQodGhpcy5zY3JvbGxiYXJYLCAnYmx1cicsIGJsdXIpO1xuICB0aGlzLnNjcm9sbGJhclhBY3RpdmUgPSBudWxsO1xuICB0aGlzLnNjcm9sbGJhclhXaWR0aCA9IG51bGw7XG4gIHRoaXMuc2Nyb2xsYmFyWExlZnQgPSBudWxsO1xuICB2YXIgcmFpbFhTdHlsZSA9IGdldCh0aGlzLnNjcm9sbGJhclhSYWlsKTtcbiAgdGhpcy5zY3JvbGxiYXJYQm90dG9tID0gcGFyc2VJbnQocmFpbFhTdHlsZS5ib3R0b20sIDEwKTtcbiAgaWYgKGlzTmFOKHRoaXMuc2Nyb2xsYmFyWEJvdHRvbSkpIHtcbiAgICB0aGlzLmlzU2Nyb2xsYmFyWFVzaW5nQm90dG9tID0gZmFsc2U7XG4gICAgdGhpcy5zY3JvbGxiYXJYVG9wID0gdG9JbnQocmFpbFhTdHlsZS50b3ApO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuaXNTY3JvbGxiYXJYVXNpbmdCb3R0b20gPSB0cnVlO1xuICB9XG4gIHRoaXMucmFpbEJvcmRlclhXaWR0aCA9XG4gICAgdG9JbnQocmFpbFhTdHlsZS5ib3JkZXJMZWZ0V2lkdGgpICsgdG9JbnQocmFpbFhTdHlsZS5ib3JkZXJSaWdodFdpZHRoKTtcbiAgLy8gU2V0IHJhaWwgdG8gZGlzcGxheTpibG9jayB0byBjYWxjdWxhdGUgbWFyZ2luc1xuICBzZXQodGhpcy5zY3JvbGxiYXJYUmFpbCwgeyBkaXNwbGF5OiAnYmxvY2snIH0pO1xuICB0aGlzLnJhaWxYTWFyZ2luV2lkdGggPVxuICAgIHRvSW50KHJhaWxYU3R5bGUubWFyZ2luTGVmdCkgKyB0b0ludChyYWlsWFN0eWxlLm1hcmdpblJpZ2h0KTtcbiAgc2V0KHRoaXMuc2Nyb2xsYmFyWFJhaWwsIHsgZGlzcGxheTogJycgfSk7XG4gIHRoaXMucmFpbFhXaWR0aCA9IG51bGw7XG4gIHRoaXMucmFpbFhSYXRpbyA9IG51bGw7XG5cbiAgdGhpcy5zY3JvbGxiYXJZUmFpbCA9IGRpdihjbHMuZWxlbWVudC5yYWlsKCd5JykpO1xuICBlbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuc2Nyb2xsYmFyWVJhaWwpO1xuICB0aGlzLnNjcm9sbGJhclkgPSBkaXYoY2xzLmVsZW1lbnQudGh1bWIoJ3knKSk7XG4gIHRoaXMuc2Nyb2xsYmFyWVJhaWwuYXBwZW5kQ2hpbGQodGhpcy5zY3JvbGxiYXJZKTtcbiAgdGhpcy5zY3JvbGxiYXJZLnNldEF0dHJpYnV0ZSgndGFiaW5kZXgnLCAwKTtcbiAgdGhpcy5ldmVudC5iaW5kKHRoaXMuc2Nyb2xsYmFyWSwgJ2ZvY3VzJywgZm9jdXMpO1xuICB0aGlzLmV2ZW50LmJpbmQodGhpcy5zY3JvbGxiYXJZLCAnYmx1cicsIGJsdXIpO1xuICB0aGlzLnNjcm9sbGJhcllBY3RpdmUgPSBudWxsO1xuICB0aGlzLnNjcm9sbGJhcllIZWlnaHQgPSBudWxsO1xuICB0aGlzLnNjcm9sbGJhcllUb3AgPSBudWxsO1xuICB2YXIgcmFpbFlTdHlsZSA9IGdldCh0aGlzLnNjcm9sbGJhcllSYWlsKTtcbiAgdGhpcy5zY3JvbGxiYXJZUmlnaHQgPSBwYXJzZUludChyYWlsWVN0eWxlLnJpZ2h0LCAxMCk7XG4gIGlmIChpc05hTih0aGlzLnNjcm9sbGJhcllSaWdodCkpIHtcbiAgICB0aGlzLmlzU2Nyb2xsYmFyWVVzaW5nUmlnaHQgPSBmYWxzZTtcbiAgICB0aGlzLnNjcm9sbGJhcllMZWZ0ID0gdG9JbnQocmFpbFlTdHlsZS5sZWZ0KTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmlzU2Nyb2xsYmFyWVVzaW5nUmlnaHQgPSB0cnVlO1xuICB9XG4gIHRoaXMuc2Nyb2xsYmFyWU91dGVyV2lkdGggPSB0aGlzLmlzUnRsID8gb3V0ZXJXaWR0aCh0aGlzLnNjcm9sbGJhclkpIDogbnVsbDtcbiAgdGhpcy5yYWlsQm9yZGVyWVdpZHRoID1cbiAgICB0b0ludChyYWlsWVN0eWxlLmJvcmRlclRvcFdpZHRoKSArIHRvSW50KHJhaWxZU3R5bGUuYm9yZGVyQm90dG9tV2lkdGgpO1xuICBzZXQodGhpcy5zY3JvbGxiYXJZUmFpbCwgeyBkaXNwbGF5OiAnYmxvY2snIH0pO1xuICB0aGlzLnJhaWxZTWFyZ2luSGVpZ2h0ID1cbiAgICB0b0ludChyYWlsWVN0eWxlLm1hcmdpblRvcCkgKyB0b0ludChyYWlsWVN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gIHNldCh0aGlzLnNjcm9sbGJhcllSYWlsLCB7IGRpc3BsYXk6ICcnIH0pO1xuICB0aGlzLnJhaWxZSGVpZ2h0ID0gbnVsbDtcbiAgdGhpcy5yYWlsWVJhdGlvID0gbnVsbDtcblxuICB0aGlzLnJlYWNoID0ge1xuICAgIHg6XG4gICAgICBlbGVtZW50LnNjcm9sbExlZnQgPD0gMFxuICAgICAgICA/ICdzdGFydCdcbiAgICAgICAgOiBlbGVtZW50LnNjcm9sbExlZnQgPj0gdGhpcy5jb250ZW50V2lkdGggLSB0aGlzLmNvbnRhaW5lcldpZHRoXG4gICAgICAgICAgPyAnZW5kJ1xuICAgICAgICAgIDogbnVsbCxcbiAgICB5OlxuICAgICAgZWxlbWVudC5zY3JvbGxUb3AgPD0gMFxuICAgICAgICA/ICdzdGFydCdcbiAgICAgICAgOiBlbGVtZW50LnNjcm9sbFRvcCA+PSB0aGlzLmNvbnRlbnRIZWlnaHQgLSB0aGlzLmNvbnRhaW5lckhlaWdodFxuICAgICAgICAgID8gJ2VuZCdcbiAgICAgICAgICA6IG51bGwsXG4gIH07XG5cbiAgdGhpcy5pc0FsaXZlID0gdHJ1ZTtcblxuICB0aGlzLnNldHRpbmdzLmhhbmRsZXJzLmZvckVhY2goZnVuY3Rpb24gKGhhbmRsZXJOYW1lKSB7IHJldHVybiBoYW5kbGVyc1toYW5kbGVyTmFtZV0odGhpcyQxKTsgfSk7XG5cbiAgdGhpcy5sYXN0U2Nyb2xsVG9wID0gTWF0aC5mbG9vcihlbGVtZW50LnNjcm9sbFRvcCk7IC8vIGZvciBvblNjcm9sbCBvbmx5XG4gIHRoaXMubGFzdFNjcm9sbExlZnQgPSBlbGVtZW50LnNjcm9sbExlZnQ7IC8vIGZvciBvblNjcm9sbCBvbmx5XG4gIHRoaXMuZXZlbnQuYmluZCh0aGlzLmVsZW1lbnQsICdzY3JvbGwnLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gdGhpcyQxLm9uU2Nyb2xsKGUpOyB9KTtcbiAgdXBkYXRlR2VvbWV0cnkodGhpcyk7XG59O1xuXG5QZXJmZWN0U2Nyb2xsYmFyLnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiB1cGRhdGUgKCkge1xuICBpZiAoIXRoaXMuaXNBbGl2ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFJlY2FsY3VhdGUgbmVnYXRpdmUgc2Nyb2xsTGVmdCBhZGp1c3RtZW50XG4gIHRoaXMubmVnYXRpdmVTY3JvbGxBZGp1c3RtZW50ID0gdGhpcy5pc05lZ2F0aXZlU2Nyb2xsXG4gICAgPyB0aGlzLmVsZW1lbnQuc2Nyb2xsV2lkdGggLSB0aGlzLmVsZW1lbnQuY2xpZW50V2lkdGhcbiAgICA6IDA7XG5cbiAgLy8gUmVjYWxjdWxhdGUgcmFpbCBtYXJnaW5zXG4gIHNldCh0aGlzLnNjcm9sbGJhclhSYWlsLCB7IGRpc3BsYXk6ICdibG9jaycgfSk7XG4gIHNldCh0aGlzLnNjcm9sbGJhcllSYWlsLCB7IGRpc3BsYXk6ICdibG9jaycgfSk7XG4gIHRoaXMucmFpbFhNYXJnaW5XaWR0aCA9XG4gICAgdG9JbnQoZ2V0KHRoaXMuc2Nyb2xsYmFyWFJhaWwpLm1hcmdpbkxlZnQpICtcbiAgICB0b0ludChnZXQodGhpcy5zY3JvbGxiYXJYUmFpbCkubWFyZ2luUmlnaHQpO1xuICB0aGlzLnJhaWxZTWFyZ2luSGVpZ2h0ID1cbiAgICB0b0ludChnZXQodGhpcy5zY3JvbGxiYXJZUmFpbCkubWFyZ2luVG9wKSArXG4gICAgdG9JbnQoZ2V0KHRoaXMuc2Nyb2xsYmFyWVJhaWwpLm1hcmdpbkJvdHRvbSk7XG5cbiAgLy8gSGlkZSBzY3JvbGxiYXJzIG5vdCB0byBhZmZlY3Qgc2Nyb2xsV2lkdGggYW5kIHNjcm9sbEhlaWdodFxuICBzZXQodGhpcy5zY3JvbGxiYXJYUmFpbCwgeyBkaXNwbGF5OiAnbm9uZScgfSk7XG4gIHNldCh0aGlzLnNjcm9sbGJhcllSYWlsLCB7IGRpc3BsYXk6ICdub25lJyB9KTtcblxuICB1cGRhdGVHZW9tZXRyeSh0aGlzKTtcblxuICBwcm9jZXNzU2Nyb2xsRGlmZih0aGlzLCAndG9wJywgMCwgZmFsc2UsIHRydWUpO1xuICBwcm9jZXNzU2Nyb2xsRGlmZih0aGlzLCAnbGVmdCcsIDAsIGZhbHNlLCB0cnVlKTtcblxuICBzZXQodGhpcy5zY3JvbGxiYXJYUmFpbCwgeyBkaXNwbGF5OiAnJyB9KTtcbiAgc2V0KHRoaXMuc2Nyb2xsYmFyWVJhaWwsIHsgZGlzcGxheTogJycgfSk7XG59O1xuXG5QZXJmZWN0U2Nyb2xsYmFyLnByb3RvdHlwZS5vblNjcm9sbCA9IGZ1bmN0aW9uIG9uU2Nyb2xsIChlKSB7XG4gIGlmICghdGhpcy5pc0FsaXZlKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdXBkYXRlR2VvbWV0cnkodGhpcyk7XG4gIHByb2Nlc3NTY3JvbGxEaWZmKHRoaXMsICd0b3AnLCB0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wIC0gdGhpcy5sYXN0U2Nyb2xsVG9wKTtcbiAgcHJvY2Vzc1Njcm9sbERpZmYoXG4gICAgdGhpcyxcbiAgICAnbGVmdCcsXG4gICAgdGhpcy5lbGVtZW50LnNjcm9sbExlZnQgLSB0aGlzLmxhc3RTY3JvbGxMZWZ0XG4gICk7XG5cbiAgdGhpcy5sYXN0U2Nyb2xsVG9wID0gTWF0aC5mbG9vcih0aGlzLmVsZW1lbnQuc2Nyb2xsVG9wKTtcbiAgdGhpcy5sYXN0U2Nyb2xsTGVmdCA9IHRoaXMuZWxlbWVudC5zY3JvbGxMZWZ0O1xufTtcblxuUGVyZmVjdFNjcm9sbGJhci5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uIGRlc3Ryb3kgKCkge1xuICBpZiAoIXRoaXMuaXNBbGl2ZSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHRoaXMuZXZlbnQudW5iaW5kQWxsKCk7XG4gIHJlbW92ZSh0aGlzLnNjcm9sbGJhclgpO1xuICByZW1vdmUodGhpcy5zY3JvbGxiYXJZKTtcbiAgcmVtb3ZlKHRoaXMuc2Nyb2xsYmFyWFJhaWwpO1xuICByZW1vdmUodGhpcy5zY3JvbGxiYXJZUmFpbCk7XG4gIHRoaXMucmVtb3ZlUHNDbGFzc2VzKCk7XG5cbiAgLy8gdW5zZXQgZWxlbWVudHNcbiAgdGhpcy5lbGVtZW50ID0gbnVsbDtcbiAgdGhpcy5zY3JvbGxiYXJYID0gbnVsbDtcbiAgdGhpcy5zY3JvbGxiYXJZID0gbnVsbDtcbiAgdGhpcy5zY3JvbGxiYXJYUmFpbCA9IG51bGw7XG4gIHRoaXMuc2Nyb2xsYmFyWVJhaWwgPSBudWxsO1xuXG4gIHRoaXMuaXNBbGl2ZSA9IGZhbHNlO1xufTtcblxuUGVyZmVjdFNjcm9sbGJhci5wcm90b3R5cGUucmVtb3ZlUHNDbGFzc2VzID0gZnVuY3Rpb24gcmVtb3ZlUHNDbGFzc2VzICgpIHtcbiAgdGhpcy5lbGVtZW50LmNsYXNzTmFtZSA9IHRoaXMuZWxlbWVudC5jbGFzc05hbWVcbiAgICAuc3BsaXQoJyAnKVxuICAgIC5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuICFuYW1lLm1hdGNoKC9ecHMoWy1fXS4rfCkkLyk7IH0pXG4gICAgLmpvaW4oJyAnKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFBlcmZlY3RTY3JvbGxiYXI7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihtb2R1bGUpIHtcblx0aWYgKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XG5cdFx0bW9kdWxlLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKCkge307XG5cdFx0bW9kdWxlLnBhdGhzID0gW107XG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XG5cdFx0aWYgKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xuXHR9XG5cdHJldHVybiBtb2R1bGU7XG59O1xuIiwiLy8gTG9hZGVkIGFmdGVyIENvcmVVSSBhcHAuanNcblxuIiwiaW1wb3J0ICdAY29yZXVpL2NvcmV1aSdcblxuXG4iLCIvKipcbiAqIEZpcnN0IHdlIHdpbGwgbG9hZCBhbGwgb2YgdGhpcyBwcm9qZWN0J3MgSmF2YVNjcmlwdCBkZXBlbmRlbmNpZXMgd2hpY2hcbiAqIGluY2x1ZGVzIFZ1ZSBhbmQgb3RoZXIgbGlicmFyaWVzLiBJdCBpcyBhIGdyZWF0IHN0YXJ0aW5nIHBvaW50IHdoZW5cbiAqIGJ1aWxkaW5nIHJvYnVzdCwgcG93ZXJmdWwgd2ViIGFwcGxpY2F0aW9ucyB1c2luZyBWdWUgYW5kIExhcmF2ZWwuXG4gKi9cblxuLy8gTG9hZGVkIGJlZm9yZSBDb3JlVUkgYXBwLmpzXG5pbXBvcnQgJy4uL2Jvb3RzdHJhcCc7XG5pbXBvcnQgJ3BhY2UnO1xuaW1wb3J0ICcuLi9wbHVnaW5zJztcblxuaW1wb3J0ICdqcXVlcnknXG5cbmltcG9ydCAnbW9tZW50L21vbWVudCdcbmltcG9ydCAnZGF0ZXJhbmdlcGlja2VyJ1xuaW1wb3J0ICcuLi9kYXRlcmFuaydcblxuaW1wb3J0ICdqcXVlcnktdmFsaWRhdGlvbidcblxuLy8gaW1wb3J0ICdqcXVlcnktbG9hZGluZy9kaXN0L2pxdWVyeS5sb2FkaW5nJ1xuXG5cblxuXG5cbiIsImltcG9ydCBDbGFzc2ljRWRpdG9yIGZyb20gJ0Bja2VkaXRvci9ja2VkaXRvcjUtYnVpbGQtY2xhc3NpYyc7XG5cbi8vIE9yIHVzaW5nIHRoZSBDb21tb25KUyB2ZXJzaW9uOlxuLy8gY29uc3QgQ2xhc3NpY0VkaXRvciA9IHJlcXVpcmUoICdAY2tlZGl0b3IvY2tlZGl0b3I1LWJ1aWxkLWNsYXNzaWMnICk7XG5cbiQoZnVuY3Rpb24gKCkge1xuICAgIGlmICgkKCcuZWRpdG9yJykubGVuZ3RoID4gMCkge1xuICAgICAgICBDbGFzc2ljRWRpdG9yXG4gICAgICAgICAgICAuY3JlYXRlKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lZGl0b3InKSwge1xuICAgICAgICAgICAgICAgIGNrZmluZGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIHVwbG9hZFVybDogJy9ja2ZpbmRlci9jb25uZWN0b3I/Y29tbWFuZD1RdWlja1VwbG9hZCZ0eXBlPUZpbGVzJnJlc3BvbnNlVHlwZT1qc29uJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihlZGl0b3IgPT4ge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5lZGl0b3IgPSBlZGl0b3I7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnIuc3RhY2spO1xuICAgICAgICAgICAgfSk7XG5cbiAgICB9XG5cbn0pXG4iLCIvKipcbiAqIFRoaXMgYm9vdHN0cmFwIGZpbGUgaXMgdXNlZCBmb3IgYm90aCBmcm9udGVuZCBhbmQgYmFja2VuZFxuICovXG5cbmltcG9ydCBfIGZyb20gJ2xvZGFzaCdcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcydcbmltcG9ydCBTd2FsIGZyb20gJ3N3ZWV0YWxlcnQyJztcblxuaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCAncG9wcGVyLmpzJzsgLy8gUmVxdWlyZWQgZm9yIEJTNFxuaW1wb3J0ICdib290c3RyYXAnO1xuXG5cblxuXG4vKipcbiAqIFdlJ2xsIGxvYWQgalF1ZXJ5IGFuZCB0aGUgQm9vdHN0cmFwIGpRdWVyeSBwbHVnaW4gd2hpY2ggcHJvdmlkZXMgc3VwcG9ydFxuICogZm9yIEphdmFTY3JpcHQgYmFzZWQgQm9vdHN0cmFwIGZlYXR1cmVzIHN1Y2ggYXMgbW9kYWxzIGFuZCB0YWJzLiBUaGlzXG4gKiBjb2RlIG1heSBiZSBtb2RpZmllZCB0byBmaXQgdGhlIHNwZWNpZmljIG5lZWRzIG9mIHlvdXIgYXBwbGljYXRpb24uXG4gKi9cblxud2luZG93LiQgPSB3aW5kb3cualF1ZXJ5ID0gJDtcbndpbmRvdy5Td2FsID0gU3dhbDtcbndpbmRvdy5fID0gXzsgLy8gTG9kYXNoXG5cbi8qKlxuICogV2UnbGwgbG9hZCB0aGUgYXhpb3MgSFRUUCBsaWJyYXJ5IHdoaWNoIGFsbG93cyB1cyB0byBlYXNpbHkgaXNzdWUgcmVxdWVzdHNcbiAqIHRvIG91ciBMYXJhdmVsIGJhY2stZW5kLiBUaGlzIGxpYnJhcnkgYXV0b21hdGljYWxseSBoYW5kbGVzIHNlbmRpbmcgdGhlXG4gKiBDU1JGIHRva2VuIGFzIGEgaGVhZGVyIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgXCJYU1JGXCIgdG9rZW4gY29va2llLlxuICovXG5cbndpbmRvdy5heGlvcyA9IGF4aW9zO1xud2luZG93LmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLVJlcXVlc3RlZC1XaXRoJ10gPSAnWE1MSHR0cFJlcXVlc3QnO1xuXG4vKipcbiAqIE5leHQgd2Ugd2lsbCByZWdpc3RlciB0aGUgQ1NSRiBUb2tlbiBhcyBhIGNvbW1vbiBoZWFkZXIgd2l0aCBBeGlvcyBzbyB0aGF0XG4gKiBhbGwgb3V0Z29pbmcgSFRUUCByZXF1ZXN0cyBhdXRvbWF0aWNhbGx5IGhhdmUgaXQgYXR0YWNoZWQuIFRoaXMgaXMganVzdFxuICogYSBzaW1wbGUgY29udmVuaWVuY2Ugc28gd2UgZG9uJ3QgaGF2ZSB0byBhdHRhY2ggZXZlcnkgdG9rZW4gbWFudWFsbHkuXG4gKi9cblxuY29uc3QgdG9rZW4gPSBkb2N1bWVudC5oZWFkLnF1ZXJ5U2VsZWN0b3IoJ21ldGFbbmFtZT1cImNzcmYtdG9rZW5cIl0nKTtcblxuaWYgKHRva2VuKSB7XG4gICAgd2luZG93LmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydYLUNTUkYtVE9LRU4nXSA9IHRva2VuLmNvbnRlbnQ7XG59IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0NTUkYgdG9rZW4gbm90IGZvdW5kOiBodHRwczovL2xhcmF2ZWwuY29tL2RvY3MvY3NyZiNjc3JmLXgtY3NyZi10b2tlbicpO1xufVxuXG4vKipcbiAqIEVjaG8gZXhwb3NlcyBhbiBleHByZXNzaXZlIEFQSSBmb3Igc3Vic2NyaWJpbmcgdG8gY2hhbm5lbHMgYW5kIGxpc3RlbmluZ1xuICogZm9yIGV2ZW50cyB0aGF0IGFyZSBicm9hZGNhc3QgYnkgTGFyYXZlbC4gRWNobyBhbmQgZXZlbnQgYnJvYWRjYXN0aW5nXG4gKiBhbGxvd3MgeW91ciB0ZWFtIHRvIGVhc2lseSBidWlsZCByb2J1c3QgcmVhbC10aW1lIHdlYiBhcHBsaWNhdGlvbnMuXG4gKi9cblxuLy8gaW1wb3J0IEVjaG8gZnJvbSAnbGFyYXZlbC1lY2hvJ1xuXG4vLyB3aW5kb3cuUHVzaGVyID0gcmVxdWlyZSgncHVzaGVyLWpzJyk7XG5cbi8vIHdpbmRvdy5FY2hvID0gbmV3IEVjaG8oe1xuLy8gICAgIGJyb2FkY2FzdGVyOiAncHVzaGVyJyxcbi8vICAgICBrZXk6IHByb2Nlc3MuZW52Lk1JWF9QVVNIRVJfQVBQX0tFWVxuLy8gICAgIGNsdXN0ZXI6IHByb2Nlc3MuZW52Lk1JWF9QVVNIRVJfQVBQX0NMVVNURVIsXG4vLyAgICAgZW5jcnlwdGVkOiB0cnVlXG4vLyB9KTtcbiIsIiQoZnVuY3Rpb24oKSB7XG4gICAgJCgnLmRhdGV0aW1lJykuZGF0ZXJhbmdlcGlja2VyKHtcbiAgICAgICAgc2luZ2xlRGF0ZVBpY2tlcjogdHJ1ZSxcbiAgICAgICAgc2hvd0Ryb3Bkb3duczogdHJ1ZSxcbiAgICAgICAgbWluWWVhcjogMTkwMSxcbiAgICAgICAgbWF4WWVhcjogMjAzMFxuICAgIH0pXG59KTsiLCIvKipcbiAqIEFsbG93cyB5b3UgdG8gYWRkIGRhdGEtbWV0aG9kPVwiTUVUSE9EIHRvIGxpbmtzIHRvIGF1dG9tYXRpY2FsbHkgaW5qZWN0IGEgZm9ybVxuICogd2l0aCB0aGUgbWV0aG9kIG9uIGNsaWNrXG4gKlxuICogRXhhbXBsZTogPGEgaHJlZj1cInt7cm91dGUoJ2N1c3RvbWVycy5kZXN0cm95JywgJGN1c3RvbWVyLT5pZCl9fVwiXG4gKiBkYXRhLW1ldGhvZD1cImRlbGV0ZVwiIG5hbWU9XCJkZWxldGVfaXRlbVwiPkRlbGV0ZTwvYT5cbiAqXG4gKiBJbmplY3RzIGEgZm9ybSB3aXRoIHRoYXQncyBmaXJlZCBvbiBjbGljayBvZiB0aGUgbGluayB3aXRoIGEgREVMRVRFIHJlcXVlc3QuXG4gKiBHb29kIGJlY2F1c2UgeW91IGRvbid0IGhhdmUgdG8gZGlydHkgeW91ciBIVE1MIHdpdGggZGVsZXRlIGZvcm1zIGV2ZXJ5d2hlcmUuXG4gKi9cbmZ1bmN0aW9uIGFkZERlbGV0ZUZvcm1zKCkge1xuICAgICQoJ1tkYXRhLW1ldGhvZF0nKS5hcHBlbmQoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoISQodGhpcykuZmluZCgnZm9ybScpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBcIlxcbjxmb3JtIGFjdGlvbj0nXCIgKyAkKHRoaXMpLmF0dHIoJ2hyZWYnKSArIFwiJyBtZXRob2Q9J1BPU1QnIG5hbWU9J2RlbGV0ZV9pdGVtJyBzdHlsZT0nZGlzcGxheTpub25lJz5cXG5cIiArXG4gICAgICAgICAgICAgICAgXCI8aW5wdXQgdHlwZT0naGlkZGVuJyBuYW1lPSdfbWV0aG9kJyB2YWx1ZT0nXCIgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtbWV0aG9kJykgKyBcIic+XFxuXCIgK1xuICAgICAgICAgICAgICAgIFwiPGlucHV0IHR5cGU9J2hpZGRlbicgbmFtZT0nX3Rva2VuJyB2YWx1ZT0nXCIgKyAkKCdtZXRhW25hbWU9XCJjc3JmLXRva2VuXCJdJykuYXR0cignY29udGVudCcpICsgXCInPlxcblwiICtcbiAgICAgICAgICAgICAgICAnPC9mb3JtPlxcbic7XG4gICAgICAgIH0gZWxzZSB7IHJldHVybiAnJyB9XG4gICAgfSlcbiAgICAgICAgLmF0dHIoJ2hyZWYnLCAnIycpXG4gICAgICAgIC5hdHRyKCdzdHlsZScsICdjdXJzb3I6cG9pbnRlcjsnKVxuICAgICAgICAuYXR0cignb25jbGljaycsICckKHRoaXMpLmZpbmQoXCJmb3JtXCIpLnN1Ym1pdCgpOycpO1xufVxuXG4vKipcbiAqIFBsYWNlIGFueSBqUXVlcnkvaGVscGVyIHBsdWdpbnMgaW4gaGVyZS5cbiAqL1xuJChmdW5jdGlvbiAoKSB7XG4gICAgLyoqXG4gICAgICogQWRkIHRoZSBkYXRhLW1ldGhvZD1cImRlbGV0ZVwiIGZvcm1zIHRvIGFsbCBkZWxldGUgbGlua3NcbiAgICAgKi9cbiAgICBhZGREZWxldGVGb3JtcygpO1xuXG4gICAgLy8gLyoqXG4gICAgLy8gICogRGlzYWJsZSBhbGwgc3VibWl0IGJ1dHRvbnMgb25jZSBjbGlja2VkXG4gICAgLy8gICovXG4gICAgLy8gJCgnZm9ybScpLnN1Ym1pdChmdW5jdGlvbiAoKSB7XG4gICAgLy8gICAgICQodGhpcykuZmluZCgnaW5wdXRbdHlwZT1cInN1Ym1pdFwiXScpLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XG4gICAgLy8gICAgICQodGhpcykuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgIC8vICAgICByZXR1cm4gdHJ1ZTtcbiAgICAvLyB9KTtcblxuICAgIC8qKlxuICAgICAqIEdlbmVyaWMgY29uZmlybSBmb3JtIGRlbGV0ZSB1c2luZyBTd2VldCBBbGVydFxuICAgICAqL1xuICAgICQoJ2JvZHknKS5vbignc3VibWl0JywgJ2Zvcm1bbmFtZT1kZWxldGVfaXRlbV0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgY29uc3QgZm9ybSA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGxpbmsgPSAkKCdhW2RhdGEtbWV0aG9kPVwiZGVsZXRlXCJdJyk7XG4gICAgICAgIGNvbnN0IGNhbmNlbCA9IChsaW5rLmF0dHIoJ2RhdGEtdHJhbnMtYnV0dG9uLWNhbmNlbCcpKSA/IGxpbmsuYXR0cignZGF0YS10cmFucy1idXR0b24tY2FuY2VsJykgOiAnQ2FuY2VsJztcbiAgICAgICAgY29uc3QgY29uZmlybSA9IChsaW5rLmF0dHIoJ2RhdGEtdHJhbnMtYnV0dG9uLWNvbmZpcm0nKSkgPyBsaW5rLmF0dHIoJ2RhdGEtdHJhbnMtYnV0dG9uLWNvbmZpcm0nKSA6ICdZZXMsIGRlbGV0ZSc7XG4gICAgICAgIGNvbnN0IHRpdGxlID0gKGxpbmsuYXR0cignZGF0YS10cmFucy10aXRsZScpKSA/IGxpbmsuYXR0cignZGF0YS10cmFucy10aXRsZScpIDogJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGUgdGhpcyBpdGVtPyc7XG5cbiAgICAgICAgU3dhbC5maXJlKHtcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcbiAgICAgICAgICAgIHNob3dDYW5jZWxCdXR0b246IHRydWUsXG4gICAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogY29uZmlybSxcbiAgICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6IGNhbmNlbCxcbiAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJ1xuICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIHJlc3VsdC52YWx1ZSAmJiBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICB9KTtcbiAgICB9KS5vbignY2xpY2snLCAnYVtuYW1lPWNvbmZpcm1faXRlbV0nLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvKipcbiAgICAgICAgICogR2VuZXJpYyAnYXJlIHlvdSBzdXJlJyBjb25maXJtIGJveFxuICAgICAgICAgKi9cbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGNvbnN0IGxpbmsgPSAkKHRoaXMpO1xuICAgICAgICBjb25zdCB0aXRsZSA9IChsaW5rLmF0dHIoJ2RhdGEtdHJhbnMtdGl0bGUnKSkgPyBsaW5rLmF0dHIoJ2RhdGEtdHJhbnMtdGl0bGUnKSA6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZG8gdGhpcz8nO1xuICAgICAgICBjb25zdCBjYW5jZWwgPSAobGluay5hdHRyKCdkYXRhLXRyYW5zLWJ1dHRvbi1jYW5jZWwnKSkgPyBsaW5rLmF0dHIoJ2RhdGEtdHJhbnMtYnV0dG9uLWNhbmNlbCcpIDogJ0NhbmNlbCc7XG4gICAgICAgIGNvbnN0IGNvbmZpcm0gPSAobGluay5hdHRyKCdkYXRhLXRyYW5zLWJ1dHRvbi1jb25maXJtJykpID8gbGluay5hdHRyKCdkYXRhLXRyYW5zLWJ1dHRvbi1jb25maXJtJykgOiAnQ29udGludWUnO1xuXG4gICAgICAgIFN3YWwuZmlyZSh7XG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXG4gICAgICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6IGNvbmZpcm0sXG4gICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiBjYW5jZWwsXG4gICAgICAgICAgICB0eXBlOiAnaW5mbydcbiAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICByZXN1bHQudmFsdWUgJiYgd2luZG93LmxvY2F0aW9uLmFzc2lnbihsaW5rLmF0dHIoJ2hyZWYnKSk7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcbn0pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==